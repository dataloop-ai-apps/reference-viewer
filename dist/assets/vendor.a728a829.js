var ln=Object.defineProperty;var cn=(t,e,n)=>e in t?ln(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nt=(t,e,n)=>(cn(t,typeof e!="symbol"?e+"":e,n),n),pe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var I=(t,e,n)=>(pe(t,e,"read from private field"),n?n.call(t):e.get(t)),lt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},_t=(t,e,n,s)=>(pe(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),oe=(t,e,n,s)=>({set _(i){_t(t,e,i,n)},get _(){return I(t,e,s)}}),ht=(t,e,n)=>(pe(t,e,"access private method"),n);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty$1.call(t,e),isArray=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction=t=>typeof t=="function",isString=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject=t=>t!==null&&typeof t=="object",isPromise=t=>(isObject(t)||isFunction(t))&&isFunction(t.then)&&isFunction(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},def=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber=t=>{const e=isString(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(t){if(isArray(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=isString(s)?parseStringStyle(s):normalizeStyle(s);if(i)for(const l in i)e[l]=i[l]}return e}else if(isString(t)||isObject(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const s=n.split(propertyDelimiterRE);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function normalizeClass(t){let e="";if(isString(t))e=t;else if(isArray(t))for(let n=0;n<t.length;n++){const s=normalizeClass(t[n]);s&&(e+=s+" ")}else if(isObject(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const isRef$1=t=>!!(t&&t.__v_isRef===!0),toDisplayString=t=>isString(t)?t:t==null?"":isArray(t)||isObject(t)&&(t.toString===objectToString||!isFunction(t.toString))?isRef$1(t)?toDisplayString(t.value):JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>isRef$1(e)?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],l)=>(n[stringifySymbol(s,l)+" =>"]=i,n),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>stringifySymbol(n))}:isSymbol(e)?stringifySymbol(e):isObject(e)&&!isArray(e)&&!isPlainObject(e)?String(e):e,stringifySymbol=(t,e="")=>{var n;return isSymbol(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const e=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=e,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)removeSub(e);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(t,e=!1){if(t.flags|=8,e){t.next=batchedComputed,batchedComputed=t;return}t.next=batchedSub,batchedSub=t}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let e=batchedComputed;for(batchedComputed=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;batchedSub;){let e=batchedSub;for(batchedSub=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function prepareDeps(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cleanupDeps(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),removeSub(s),removeDep(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function isDirty(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(refreshComputed(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function refreshComputed(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===globalVersion))return;t.globalVersion=globalVersion;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!isDirty(t)){t.flags&=-3;return}const n=activeSub,s=shouldTrack;activeSub=t,shouldTrack=!0;try{prepareDeps(t);const i=t.fn(t._value);(e.version===0||hasChanged(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{activeSub=n,shouldTrack=s,cleanupDeps(t),t.flags&=-3}}function removeSub(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)removeSub(l,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function cleanupEffect(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=activeSub;activeSub=void 0;try{e()}finally{activeSub=n}}}let globalVersion=0;class Link{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=s)}return n}trigger(e){this.version++,globalVersion++,this.notify(e)}notify(e){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)addSub(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(t,e,n){if(shouldTrack&&activeSub){let s=targetMap.get(t);s||targetMap.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new Dep),i.map=s,i.key=n),i.track()}}function trigger(t,e,n,s,i,l){const f=targetMap.get(t);if(!f){globalVersion++;return}const M=v=>{v&&v.trigger()};if(startBatch(),e==="clear")f.forEach(M);else{const v=isArray(t),w=v&&isIntegerKey(n);if(v&&n==="length"){const c=Number(s);f.forEach((R,O)=>{(O==="length"||O===ARRAY_ITERATE_KEY||!isSymbol(O)&&O>=c)&&M(R)})}else switch((n!==void 0||f.has(void 0))&&M(f.get(n)),w&&M(f.get(ARRAY_ITERATE_KEY)),e){case"add":v?w&&M(f.get("length")):(M(f.get(ITERATE_KEY)),isMap(t)&&M(f.get(MAP_KEY_ITERATE_KEY)));break;case"delete":v||(M(f.get(ITERATE_KEY)),isMap(t)&&M(f.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&M(f.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(t){const e=toRaw(t);return e===t?e:(track(e,"iterate",ARRAY_ITERATE_KEY),isShallow(t)?e:e.map(toReactive))}function shallowReadArray(t){return track(t=toRaw(t),"iterate",ARRAY_ITERATE_KEY),t}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...t){return reactiveReadArray(this).concat(...t.map(e=>isArray(e)?reactiveReadArray(e):e))},entries(){return iterator(this,"entries",t=>(t[1]=toReactive(t[1]),t))},every(t,e){return apply(this,"every",t,e,void 0,arguments)},filter(t,e){return apply(this,"filter",t,e,n=>n.map(toReactive),arguments)},find(t,e){return apply(this,"find",t,e,toReactive,arguments)},findIndex(t,e){return apply(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return apply(this,"findLast",t,e,toReactive,arguments)},findLastIndex(t,e){return apply(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return apply(this,"forEach",t,e,void 0,arguments)},includes(...t){return searchProxy(this,"includes",t)},indexOf(...t){return searchProxy(this,"indexOf",t)},join(t){return reactiveReadArray(this).join(t)},lastIndexOf(...t){return searchProxy(this,"lastIndexOf",t)},map(t,e){return apply(this,"map",t,e,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...t){return noTracking(this,"push",t)},reduce(t,...e){return reduce(this,"reduce",t,e)},reduceRight(t,...e){return reduce(this,"reduceRight",t,e)},shift(){return noTracking(this,"shift")},some(t,e){return apply(this,"some",t,e,void 0,arguments)},splice(...t){return noTracking(this,"splice",t)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(t){return reactiveReadArray(this).toSorted(t)},toSpliced(...t){return reactiveReadArray(this).toSpliced(...t)},unshift(...t){return noTracking(this,"unshift",t)},values(){return iterator(this,"values",toReactive)}};function iterator(t,e,n){const s=shallowReadArray(t),i=s[e]();return s!==t&&!isShallow(t)&&(i._next=i.next,i.next=()=>{const l=i._next();return l.value&&(l.value=n(l.value)),l}),i}const arrayProto=Array.prototype;function apply(t,e,n,s,i,l){const f=shallowReadArray(t),M=f!==t&&!isShallow(t),v=f[e];if(v!==arrayProto[e]){const R=v.apply(t,l);return M?toReactive(R):R}let w=n;f!==t&&(M?w=function(R,O){return n.call(this,toReactive(R),O,t)}:n.length>2&&(w=function(R,O){return n.call(this,R,O,t)}));const c=v.call(f,w,s);return M&&i?i(c):c}function reduce(t,e,n,s){const i=shallowReadArray(t);let l=n;return i!==t&&(isShallow(t)?n.length>3&&(l=function(f,M,v){return n.call(this,f,M,v,t)}):l=function(f,M,v){return n.call(this,f,toReactive(M),v,t)}),i[e](l,...s)}function searchProxy(t,e,n){const s=toRaw(t);track(s,"iterate",ARRAY_ITERATE_KEY);const i=s[e](...n);return(i===-1||i===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),s[e](...n)):i}function noTracking(t,e,n=[]){pauseTracking(),startBatch();const s=toRaw(t)[e].apply(t,n);return endBatch(),resetTracking(),s}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol));function hasOwnProperty(t){isSymbol(t)||(t=String(t));const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}class BaseReactiveHandler{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return l;if(n==="__v_raw")return s===(i?l?shallowReadonlyMap:readonlyMap:l?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const f=isArray(e);if(!i){let v;if(f&&(v=arrayInstrumentations[n]))return v;if(n==="hasOwnProperty")return hasOwnProperty}const M=Reflect.get(e,n,isRef(e)?e:s);return(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(i||track(e,"get",n),l)?M:isRef(M)?f&&isIntegerKey(n)?M:M.value:isObject(M)?i?readonly(M):reactive(M):M}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,n,s,i){let l=e[n];if(!this._isShallow){const v=isReadonly(l);if(!isShallow(s)&&!isReadonly(s)&&(l=toRaw(l),s=toRaw(s)),!isArray(e)&&isRef(l)&&!isRef(s))return v?!1:(l.value=s,!0)}const f=isArray(e)&&isIntegerKey(n)?Number(n)<e.length:hasOwn(e,n),M=Reflect.set(e,n,s,isRef(e)?e:i);return e===toRaw(i)&&(f?hasChanged(s,l)&&trigger(e,"set",n,s):trigger(e,"add",n,s)),M}deleteProperty(e,n){const s=hasOwn(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&trigger(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(e,"has",n),s}ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function createIterableMethod(t,e,n){return function(...s){const i=this.__v_raw,l=toRaw(i),f=isMap(l),M=t==="entries"||t===Symbol.iterator&&f,v=t==="keys"&&f,w=i[t](...s),c=n?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",v?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:R,done:O}=w.next();return O?{value:R,done:O}:{value:M?[c(R[0]),c(R[1])]:c(R),done:O}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function createInstrumentations(t,e){const n={get(i){const l=this.__v_raw,f=toRaw(l),M=toRaw(i);t||(hasChanged(i,M)&&track(f,"get",i),track(f,"get",M));const{has:v}=getProto(f),w=e?toShallow:t?toReadonly:toReactive;if(v.call(f,i))return w(l.get(i));if(v.call(f,M))return w(l.get(M));l!==f&&l.get(i)},get size(){const i=this.__v_raw;return!t&&track(toRaw(i),"iterate",ITERATE_KEY),Reflect.get(i,"size",i)},has(i){const l=this.__v_raw,f=toRaw(l),M=toRaw(i);return t||(hasChanged(i,M)&&track(f,"has",i),track(f,"has",M)),i===M?l.has(i):l.has(i)||l.has(M)},forEach(i,l){const f=this,M=f.__v_raw,v=toRaw(M),w=e?toShallow:t?toReadonly:toReactive;return!t&&track(v,"iterate",ITERATE_KEY),M.forEach((c,R)=>i.call(l,w(c),w(R),f))}};return extend(n,t?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(i){!e&&!isShallow(i)&&!isReadonly(i)&&(i=toRaw(i));const l=toRaw(this);return getProto(l).has.call(l,i)||(l.add(i),trigger(l,"add",i,i)),this},set(i,l){!e&&!isShallow(l)&&!isReadonly(l)&&(l=toRaw(l));const f=toRaw(this),{has:M,get:v}=getProto(f);let w=M.call(f,i);w||(i=toRaw(i),w=M.call(f,i));const c=v.call(f,i);return f.set(i,l),w?hasChanged(l,c)&&trigger(f,"set",i,l):trigger(f,"add",i,l),this},delete(i){const l=toRaw(this),{has:f,get:M}=getProto(l);let v=f.call(l,i);v||(i=toRaw(i),v=f.call(l,i)),M&&M.call(l,i);const w=l.delete(i);return v&&trigger(l,"delete",i,void 0),w},clear(){const i=toRaw(this),l=i.size!==0,f=i.clear();return l&&trigger(i,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=createIterableMethod(i,t,e)}),n}function createInstrumentationGetter(t,e){const n=createInstrumentations(t,e);return(s,i,l)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(hasOwn(n,i)&&i in s?n:s,i,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,n,s,i){if(!isObject(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=i.get(t);if(l)return l;const f=getTargetType(t);if(f===0)return t;const M=new Proxy(t,f===2?s:n);return i.set(t,M),M}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return t?!!t.__v_raw:!1}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return!hasOwn(t,"__v_skip")&&Object.isExtensible(t)&&def(t,"__v_skip",!0),t}const toReactive=t=>isObject(t)?reactive(t):t,toReadonly=t=>isObject(t)?readonly(t):t;function isRef(t){return t?t.__v_isRef===!0:!1}function ref(t){return createRef(t,!1)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:toRaw(e),this._value=n?e:toReactive(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||isShallow(e)||isReadonly(e);e=s?e:toRaw(e),hasChanged(e,n)&&(this._rawValue=e,this._value=s?e:toReactive(e),this.dep.trigger())}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,n)=>e==="__v_raw"?t:unref(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return isRef(i)&&!isRef(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const e=this.dep.track();return refreshComputed(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function computed$1(t,e,n=!1){let s,i;return isFunction(t)?s=t:(s=t.get,i=t.set),new ComputedRefImpl(s,i,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(t,e=!1,n=activeWatcher){if(n){let s=cleanupMap.get(n);s||cleanupMap.set(n,s=[]),s.push(t)}}function watch$1(t,e,n=EMPTY_OBJ){const{immediate:s,deep:i,once:l,scheduler:f,augmentJob:M,call:v}=n,w=C=>i?C:isShallow(C)||i===!1||i===0?traverse(C,1):traverse(C);let c,R,O,D,E=!1,S=!1;if(isRef(t)?(R=()=>t.value,E=isShallow(t)):isReactive(t)?(R=()=>w(t),E=!0):isArray(t)?(S=!0,E=t.some(C=>isReactive(C)||isShallow(C)),R=()=>t.map(C=>{if(isRef(C))return C.value;if(isReactive(C))return w(C);if(isFunction(C))return v?v(C,2):C()})):isFunction(t)?e?R=v?()=>v(t,2):t:R=()=>{if(O){pauseTracking();try{O()}finally{resetTracking()}}const C=activeWatcher;activeWatcher=c;try{return v?v(t,3,[D]):t(D)}finally{activeWatcher=C}}:R=NOOP,e&&i){const C=R,o=i===!0?1/0:i;R=()=>traverse(C(),o)}const b=getCurrentScope(),F=()=>{c.stop(),b&&b.active&&remove(b.effects,c)};if(l&&e){const C=e;e=(...o)=>{C(...o),F()}}let L=S?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const N=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(e){const o=c.run();if(i||E||(S?o.some((u,_)=>hasChanged(u,L[_])):hasChanged(o,L))){O&&O();const u=activeWatcher;activeWatcher=c;try{const _=[o,L===INITIAL_WATCHER_VALUE?void 0:S&&L[0]===INITIAL_WATCHER_VALUE?[]:L,D];v?v(e,3,_):e(..._),L=o}finally{activeWatcher=u}}}else c.run()};return M&&M(N),c=new ReactiveEffect(R),c.scheduler=f?()=>f(N,!1):N,D=C=>onWatcherCleanup(C,!1,c),O=c.onStop=()=>{const C=cleanupMap.get(c);if(C){if(v)v(C,4);else for(const o of C)o();cleanupMap.delete(c)}},e?s?N(!0):L=c.run():f?f(N.bind(null,!0),!0):c.run(),F.pause=c.pause.bind(c),F.resume=c.resume.bind(c),F.stop=F,F}function traverse(t,e=1/0,n){if(e<=0||!isObject(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,isRef(t))traverse(t.value,e,n);else if(isArray(t))for(let s=0;s<t.length;s++)traverse(t[s],e,n);else if(isSet(t)||isMap(t))t.forEach(s=>{traverse(s,e,n)});else if(isPlainObject(t)){for(const s in t)traverse(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&traverse(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(t,...e){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,s=n&&n.appContext.config.warnHandler,i=getComponentTrace();if(s)callWithErrorHandling(s,n,11,[t+e.map(l=>{var f,M;return(M=(f=l.toString)==null?void 0:f.call(l))!=null?M:JSON.stringify(l)}).join(""),n&&n.proxy,i.map(({vnode:l})=>`at <${formatComponentName(n,l.type)}>`).join(`
`),i]);else{const l=[`[Vue warn]: ${t}`,...e];i.length&&l.push(`
`,...formatTrace(i)),console.warn(...l)}resetTracking(),isWarning=!1}function getComponentTrace(){let t=stack[stack.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const s=t.component&&t.component.parent;t=s&&s.vnode}return e}function formatTrace(t){const e=[];return t.forEach((n,s)=>{e.push(...s===0?[]:[`
`],...formatTraceEntry(n))}),e}function formatTraceEntry({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",s=t.component?t.component.parent==null:!1,i=` at <${formatComponentName(t.component,t.type,s)}`,l=">"+n;return t.props?[i,...formatProps(t.props),l]:[i+l]}function formatProps(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(s=>{e.push(...formatProp(s,t[s]))}),n.length>3&&e.push(" ..."),e}function formatProp(t,e,n){return isString(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:isRef(e)?(e=formatProp(t,toRaw(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):isFunction(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),n?e:[`${t}=`,e])}function callWithErrorHandling(t,e,n,s){try{return s?t(...s):t()}catch(i){handleError(i,e,n)}}function callWithAsyncErrorHandling(t,e,n,s){if(isFunction(t)){const i=callWithErrorHandling(t,e,n,s);return i&&isPromise(i)&&i.catch(l=>{handleError(l,e,n)}),i}if(isArray(t)){const i=[];for(let l=0;l<t.length;l++)i.push(callWithAsyncErrorHandling(t[l],e,n,s));return i}}function handleError(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:f}=e&&e.appContext.config||EMPTY_OBJ;if(e){let M=e.parent;const v=e.proxy,w=`https://vuejs.org/error-reference/#runtime-${n}`;for(;M;){const c=M.ec;if(c){for(let R=0;R<c.length;R++)if(c[R](t,v,w)===!1)return}M=M.parent}if(l){pauseTracking(),callWithErrorHandling(l,null,10,[t,v,w]),resetTracking();return}}logError(t,n,i,s,f)}function logError(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,n=queue.length;for(;e<n;){const s=e+n>>>1,i=queue[s],l=getId(i);l<t||l===t&&i.flags&2?e=s+1:n=s}return e}function queueJob(t){if(!(t.flags&1)){const e=getId(t),n=queue[queue.length-1];!n||!(t.flags&2)&&e>=getId(n)?queue.push(t):queue.splice(findInsertionIndex(e),0,t),t.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(t){isArray(t)?pendingPostFlushCbs.push(...t):activePostFlushCbs&&t.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,t):t.flags&1||(pendingPostFlushCbs.push(t),t.flags|=1),queueFlush()}function flushPreFlushCbs(t,e,n=flushIndex+1){for(;n<queue.length;n++){const s=queue[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;queue.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort((n,s)=>getId(n)-getId(s));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?t.flags&2?-1:1/0:t.id;function flushJobs(t){const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),callWithErrorHandling(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&(n.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function withCtx(t,e=currentRenderingInstance,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(e);let f;try{f=t(...i)}finally{setCurrentRenderingInstance(l),s._d&&setBlockTracking(1)}return f};return s._n=!0,s._c=!0,s._d=!0,s}function withDirectives(t,e){if(currentRenderingInstance===null)return t;const n=getComponentPublicInstance(currentRenderingInstance),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[l,f,M,v=EMPTY_OBJ]=e[i];l&&(isFunction(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(f),s.push({dir:l,instance:n,value:f,oldValue:void 0,arg:M,modifiers:v}))}return t}function invokeDirectiveHook(t,e,n,s){const i=t.dirs,l=e&&e.dirs;for(let f=0;f<i.length;f++){const M=i[f];l&&(M.oldValue=l[f].value);let v=M.dir[s];v&&(pauseTracking(),callWithAsyncErrorHandling(v,n,8,[t.el,M,t,e]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=t=>t.__isTeleport,leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=t=>{const e=t.subTree;return e.component?recursiveGetSubtree(e.component):e},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const n=getCurrentInstance(),s=useTransitionState();return()=>{const i=e.default&&getTransitionRawChildren(e.default(),!0);if(!i||!i.length)return;const l=findNonCommentChild(i),f=toRaw(t),{mode:M}=f;if(s.isLeaving)return emptyPlaceholder(l);const v=getInnerChild$1(l);if(!v)return emptyPlaceholder(l);let w=resolveTransitionHooks(v,f,s,n,R=>w=R);v.type!==Comment&&setTransitionHooks(v,w);let c=n.subTree&&getInnerChild$1(n.subTree);if(c&&c.type!==Comment&&!isSameVNodeType(v,c)&&recursiveGetSubtree(n).type!==Comment){let R=resolveTransitionHooks(c,f,s,n);if(setTransitionHooks(c,R),M==="out-in"&&v.type!==Comment)return s.isLeaving=!0,R.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete R.afterLeave,c=void 0},emptyPlaceholder(l);M==="in-out"&&v.type!==Comment?R.delayLeave=(O,D,E)=>{const S=getLeavingNodesForType(s,c);S[String(c.key)]=c,O[leaveCbKey]=()=>{D(),O[leaveCbKey]=void 0,delete w.delayedLeave,c=void 0},w.delayedLeave=()=>{E(),delete w.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return l}}};function findNonCommentChild(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Comment){e=n;break}}return e}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function resolveTransitionHooks(t,e,n,s,i){const{appear:l,mode:f,persisted:M=!1,onBeforeEnter:v,onEnter:w,onAfterEnter:c,onEnterCancelled:R,onBeforeLeave:O,onLeave:D,onAfterLeave:E,onLeaveCancelled:S,onBeforeAppear:b,onAppear:F,onAfterAppear:L,onAppearCancelled:N}=e,C=String(t.key),o=getLeavingNodesForType(n,t),u=(y,B)=>{y&&callWithAsyncErrorHandling(y,s,9,B)},_=(y,B)=>{const g=B[1];u(y,B),isArray(y)?y.every(j=>j.length<=1)&&g():y.length<=1&&g()},d={mode:f,persisted:M,beforeEnter(y){let B=v;if(!n.isMounted)if(l)B=b||v;else return;y[leaveCbKey]&&y[leaveCbKey](!0);const g=o[C];g&&isSameVNodeType(t,g)&&g.el[leaveCbKey]&&g.el[leaveCbKey](),u(B,[y])},enter(y){let B=w,g=c,j=R;if(!n.isMounted)if(l)B=F||w,g=L||c,j=N||R;else return;let X=!1;const st=y[enterCbKey]=at=>{X||(X=!0,at?u(j,[y]):u(g,[y]),d.delayedLeave&&d.delayedLeave(),y[enterCbKey]=void 0)};B?_(B,[y,st]):st()},leave(y,B){const g=String(t.key);if(y[enterCbKey]&&y[enterCbKey](!0),n.isUnmounting)return B();u(O,[y]);let j=!1;const X=y[leaveCbKey]=st=>{j||(j=!0,B(),st?u(S,[y]):u(E,[y]),y[leaveCbKey]=void 0,o[g]===t&&delete o[g])};o[g]=t,D?_(D,[y,X]):X()},clone(y){const B=resolveTransitionHooks(y,e,n,s,i);return i&&i(B),B}};return d}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getInnerChild$1(t){if(!isKeepAlive(t))return isTeleport(t.type)&&t.children?findNonCommentChild(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&isFunction(n.default))return n.default()}}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?(t.transition=e,setTransitionHooks(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,n){let s=[],i=0;for(let l=0;l<t.length;l++){let f=t[l];const M=n==null?f.key:String(n)+String(f.key!=null?f.key:l);f.type===Fragment?(f.patchFlag&128&&i++,s=s.concat(getTransitionRawChildren(f.children,e,M))):(e||f.type!==Comment)&&s.push(M!=null?cloneVNode(f,{key:M}):f)}if(i>1)for(let l=0;l<s.length;l++)s[l].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(t,e){return isFunction(t)?(()=>extend({name:t.name},e,{setup:t}))():t}function markAsyncBoundary(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function setRef(t,e,n,s,i=!1){if(isArray(t)){t.forEach((E,S)=>setRef(E,e&&(isArray(e)?e[S]:e),n,s,i));return}if(isAsyncWrapper(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&setRef(t,e,n,s.component.subTree);return}const l=s.shapeFlag&4?getComponentPublicInstance(s.component):s.el,f=i?null:l,{i:M,r:v}=t,w=e&&e.r,c=M.refs===EMPTY_OBJ?M.refs={}:M.refs,R=M.setupState,O=toRaw(R),D=R===EMPTY_OBJ?()=>!1:E=>hasOwn(O,E);if(w!=null&&w!==v&&(isString(w)?(c[w]=null,D(w)&&(R[w]=null)):isRef(w)&&(w.value=null)),isFunction(v))callWithErrorHandling(v,M,12,[f,c]);else{const E=isString(v),S=isRef(v);if(E||S){const b=()=>{if(t.f){const F=E?D(v)?R[v]:c[v]:v.value;i?isArray(F)&&remove(F,l):isArray(F)?F.includes(l)||F.push(l):E?(c[v]=[l],D(v)&&(R[v]=c[v])):(v.value=[l],t.k&&(c[t.k]=v.value))}else E?(c[v]=f,D(v)&&(R[v]=f)):S&&(v.value=f,t.k&&(c[t.k]=f))};f?(b.id=-1,queuePostRenderEffect(b,n)):b()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,n=currentInstance){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(injectHook(e,s,n),n){let i=n.parent;for(;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(s,e,n,i),i=i.parent}}function injectToKeepAliveRoot(t,e,n,s){const i=injectHook(e,t,s,!0);onUnmounted(()=>{remove(s[e],i)},n)}function injectHook(t,e,n=currentInstance,s=!1){if(n){const i=n[t]||(n[t]=[]),l=e.__weh||(e.__weh=(...f)=>{pauseTracking();const M=setCurrentInstance(n),v=callWithAsyncErrorHandling(e,n,t,f);return M(),resetTracking(),v});return s?i.unshift(l):i.push(l),l}}const createHook=t=>(e,n=currentInstance)=>{(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...s)=>e(...s),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(t,e,n,s){let i;const l=n&&n[s],f=isArray(t);if(f||isString(t)){const M=f&&isReactive(t);let v=!1;M&&(v=!isShallow(t),t=shallowReadArray(t)),i=new Array(t.length);for(let w=0,c=t.length;w<c;w++)i[w]=e(v?toReactive(t[w]):t[w],w,void 0,l&&l[w])}else if(typeof t=="number"){i=new Array(t);for(let M=0;M<t;M++)i[M]=e(M+1,M,void 0,l&&l[M])}else if(isObject(t))if(t[Symbol.iterator])i=Array.from(t,(M,v)=>e(M,v,void 0,l&&l[v]));else{const M=Object.keys(t);i=new Array(M.length);for(let v=0,w=M.length;v<w;v++){const c=M[v];i[v]=e(t[c],c,v,l&&l[v])}}else i=[];return n&&(n[s]=i),i}const getPublicInstance=t=>t?isStatefulComponent(t)?getComponentPublicInstance(t):getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>{queueJob(t.update)}),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:l,accessCache:f,type:M,appContext:v}=t;let w;if(e[0]!=="$"){const D=f[e];if(D!==void 0)switch(D){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return l[e]}else{if(hasSetupBinding(s,e))return f[e]=1,s[e];if(i!==EMPTY_OBJ&&hasOwn(i,e))return f[e]=2,i[e];if((w=t.propsOptions[0])&&hasOwn(w,e))return f[e]=3,l[e];if(n!==EMPTY_OBJ&&hasOwn(n,e))return f[e]=4,n[e];shouldCacheAccess&&(f[e]=0)}}const c=publicPropertiesMap[e];let R,O;if(c)return e==="$attrs"&&track(t.attrs,"get",""),c(t);if((R=M.__cssModules)&&(R=R[e]))return R;if(n!==EMPTY_OBJ&&hasOwn(n,e))return f[e]=4,n[e];if(O=v.config.globalProperties,hasOwn(O,e))return O[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:l}=t;return hasSetupBinding(i,e)?(i[e]=n,!0):s!==EMPTY_OBJ&&hasOwn(s,e)?(s[e]=n,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:l}},f){let M;return!!n[f]||t!==EMPTY_OBJ&&hasOwn(t,f)||hasSetupBinding(e,f)||(M=l[0])&&hasOwn(M,f)||hasOwn(s,f)||hasOwn(publicPropertiesMap,f)||hasOwn(i.config.globalProperties,f)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:hasOwn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function normalizePropsOrEmits(t){return isArray(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function withAsyncContext(t){const e=getCurrentInstance();let n=t();return unsetCurrentInstance(),isPromise(n)&&(n=n.catch(s=>{throw setCurrentInstance(e),s})),[n,()=>setCurrentInstance(e)]}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),n=t.proxy,s=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:i,computed:l,methods:f,watch:M,provide:v,inject:w,created:c,beforeMount:R,mounted:O,beforeUpdate:D,updated:E,activated:S,deactivated:b,beforeDestroy:F,beforeUnmount:L,destroyed:N,unmounted:C,render:o,renderTracked:u,renderTriggered:_,errorCaptured:d,serverPrefetch:y,expose:B,inheritAttrs:g,components:j,directives:X,filters:st}=e;if(w&&resolveInjections(w,s,null),f)for(const dt in f){const ut=f[dt];isFunction(ut)&&(s[dt]=ut.bind(n))}if(i){const dt=i.call(n,n);isObject(dt)&&(t.data=reactive(dt))}if(shouldCacheAccess=!0,l)for(const dt in l){const ut=l[dt],gt=isFunction(ut)?ut.bind(n,n):isFunction(ut.get)?ut.get.bind(n,n):NOOP,vt=!isFunction(ut)&&isFunction(ut.set)?ut.set.bind(n):NOOP,Ct=computed({get:gt,set:vt});Object.defineProperty(s,dt,{enumerable:!0,configurable:!0,get:()=>Ct.value,set:xt=>Ct.value=xt})}if(M)for(const dt in M)createWatcher(M[dt],s,n,dt);if(v){const dt=isFunction(v)?v.call(n):v;Reflect.ownKeys(dt).forEach(ut=>{provide(ut,dt[ut])})}c&&callHook$1(c,t,"c");function ot(dt,ut){isArray(ut)?ut.forEach(gt=>dt(gt.bind(n))):ut&&dt(ut.bind(n))}if(ot(onBeforeMount,R),ot(onMounted,O),ot(onBeforeUpdate,D),ot(onUpdated,E),ot(onActivated,S),ot(onDeactivated,b),ot(onErrorCaptured,d),ot(onRenderTracked,u),ot(onRenderTriggered,_),ot(onBeforeUnmount,L),ot(onUnmounted,C),ot(onServerPrefetch,y),isArray(B))if(B.length){const dt=t.exposed||(t.exposed={});B.forEach(ut=>{Object.defineProperty(dt,ut,{get:()=>n[ut],set:gt=>n[ut]=gt})})}else t.exposed||(t.exposed={});o&&t.render===NOOP&&(t.render=o),g!=null&&(t.inheritAttrs=g),j&&(t.components=j),X&&(t.directives=X),y&&markAsyncBoundary(t)}function resolveInjections(t,e,n=NOOP){isArray(t)&&(t=normalizeInject(t));for(const s in t){const i=t[s];let l;isObject(i)?"default"in i?l=inject(i.from||s,i.default,!0):l=inject(i.from||s):l=inject(i),isRef(l)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:f=>l.value=f}):e[s]=l}}function callHook$1(t,e,n){callWithAsyncErrorHandling(isArray(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function createWatcher(t,e,n,s){let i=s.includes(".")?createPathGetter(n,s):()=>n[s];if(isString(t)){const l=e[t];isFunction(l)&&watch(i,l)}else if(isFunction(t))watch(i,t.bind(n));else if(isObject(t))if(isArray(t))t.forEach(l=>createWatcher(l,e,n,s));else{const l=isFunction(t.handler)?t.handler.bind(n):e[t.handler];isFunction(l)&&watch(i,l,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:l,config:{optionMergeStrategies:f}}=t.appContext,M=l.get(e);let v;return M?v=M:!i.length&&!n&&!s?v=e:(v={},i.length&&i.forEach(w=>mergeOptions(v,w,f,!0)),mergeOptions(v,e,f)),isObject(e)&&l.set(e,v),v}function mergeOptions(t,e,n,s=!1){const{mixins:i,extends:l}=e;l&&mergeOptions(t,l,n,!0),i&&i.forEach(f=>mergeOptions(t,f,n,!0));for(const f in e)if(!(s&&f==="expose")){const M=internalOptionMergeStrats[f]||n&&n[f];t[f]=M?M(t[f],e[f]):e[f]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction(t)?t.call(this,this):t,isFunction(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray(t)&&isArray(e)?[...new Set([...t,...e])]:extend(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e!=null?e:{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const n=extend(Object.create(null),t);for(const s in e)n[s]=mergeAsArray(t[s],e[s]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(s,i=null){isFunction(s)||(s=extend({},s)),i!=null&&!isObject(i)&&(i=null);const l=createAppContext(),f=new WeakSet,M=[];let v=!1;const w=l.app={_uid:uid$1++,_component:s,_props:i,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(c){},use(c,...R){return f.has(c)||(c&&isFunction(c.install)?(f.add(c),c.install(w,...R)):isFunction(c)&&(f.add(c),c(w,...R))),w},mixin(c){return l.mixins.includes(c)||l.mixins.push(c),w},component(c,R){return R?(l.components[c]=R,w):l.components[c]},directive(c,R){return R?(l.directives[c]=R,w):l.directives[c]},mount(c,R,O){if(!v){const D=w._ceVNode||createVNode(s,i);return D.appContext=l,O===!0?O="svg":O===!1&&(O=void 0),R&&e?e(D,c):t(D,c,O),v=!0,w._container=c,c.__vue_app__=w,getComponentPublicInstance(D.component)}},onUnmount(c){M.push(c)},unmount(){v&&(callWithAsyncErrorHandling(M,w._instance,16),t(null,w._container),delete w._container.__vue_app__)},provide(c,R){return l.provides[c]=R,w},runWithContext(c){const R=currentApp;currentApp=w;try{return c()}finally{currentApp=R}}};return w}}let currentApp=null;function provide(t,e){if(currentInstance){let n=currentInstance.provides;const s=currentInstance.parent&&currentInstance.parent.provides;s===n&&(n=currentInstance.provides=Object.create(s)),n[t]=e}}function inject(t,e,n=!1){const s=currentInstance||currentRenderingInstance;if(s||currentApp){const i=currentApp?currentApp._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&isFunction(e)?e.call(s&&s.proxy):e}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=t=>Object.getPrototypeOf(t)===internalObjectProto;function initProps(t,e,n,s=!1){const i={},l=createInternalObject();t.propsDefaults=Object.create(null),setFullProps(t,e,i,l);for(const f in t.propsOptions[0])f in i||(i[f]=void 0);n?t.props=s?i:shallowReactive(i):t.type.props?t.props=i:t.props=l,t.attrs=l}function updateProps(t,e,n,s){const{props:i,attrs:l,vnode:{patchFlag:f}}=t,M=toRaw(i),[v]=t.propsOptions;let w=!1;if((s||f>0)&&!(f&16)){if(f&8){const c=t.vnode.dynamicProps;for(let R=0;R<c.length;R++){let O=c[R];if(isEmitListener(t.emitsOptions,O))continue;const D=e[O];if(v)if(hasOwn(l,O))D!==l[O]&&(l[O]=D,w=!0);else{const E=camelize(O);i[E]=resolvePropValue(v,M,E,D,t,!1)}else D!==l[O]&&(l[O]=D,w=!0)}}}else{setFullProps(t,e,i,l)&&(w=!0);let c;for(const R in M)(!e||!hasOwn(e,R)&&((c=hyphenate(R))===R||!hasOwn(e,c)))&&(v?n&&(n[R]!==void 0||n[c]!==void 0)&&(i[R]=resolvePropValue(v,M,R,void 0,t,!0)):delete i[R]);if(l!==M)for(const R in l)(!e||!hasOwn(e,R)&&!0)&&(delete l[R],w=!0)}w&&trigger(t.attrs,"set","")}function setFullProps(t,e,n,s){const[i,l]=t.propsOptions;let f=!1,M;if(e)for(let v in e){if(isReservedProp(v))continue;const w=e[v];let c;i&&hasOwn(i,c=camelize(v))?!l||!l.includes(c)?n[c]=w:(M||(M={}))[c]=w:isEmitListener(t.emitsOptions,v)||(!(v in s)||w!==s[v])&&(s[v]=w,f=!0)}if(l){const v=toRaw(n),w=M||EMPTY_OBJ;for(let c=0;c<l.length;c++){const R=l[c];n[R]=resolvePropValue(i,v,R,w[R],t,!hasOwn(w,R))}}return f}function resolvePropValue(t,e,n,s,i,l){const f=t[n];if(f!=null){const M=hasOwn(f,"default");if(M&&s===void 0){const v=f.default;if(f.type!==Function&&!f.skipFactory&&isFunction(v)){const{propsDefaults:w}=i;if(n in w)s=w[n];else{const c=setCurrentInstance(i);s=w[n]=v.call(null,e),c()}}else s=v;i.ce&&i.ce._setProp(n,s)}f[0]&&(l&&!M?s=!1:f[1]&&(s===""||s===hyphenate(n))&&(s=!0))}return s}const mixinPropsCache=new WeakMap;function normalizePropsOptions(t,e,n=!1){const s=n?mixinPropsCache:e.propsCache,i=s.get(t);if(i)return i;const l=t.props,f={},M=[];let v=!1;if(!isFunction(t)){const c=R=>{v=!0;const[O,D]=normalizePropsOptions(R,e,!0);extend(f,O),D&&M.push(...D)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!l&&!v)return isObject(t)&&s.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray(l))for(let c=0;c<l.length;c++){const R=camelize(l[c]);validatePropName(R)&&(f[R]=EMPTY_OBJ)}else if(l)for(const c in l){const R=camelize(c);if(validatePropName(R)){const O=l[c],D=f[R]=isArray(O)||isFunction(O)?{type:O}:extend({},O),E=D.type;let S=!1,b=!0;if(isArray(E))for(let F=0;F<E.length;++F){const L=E[F],N=isFunction(L)&&L.name;if(N==="Boolean"){S=!0;break}else N==="String"&&(b=!1)}else S=isFunction(E)&&E.name==="Boolean";D[0]=S,D[1]=b,(S||hasOwn(D,"default"))&&M.push(R)}}const w=[f,M];return isObject(t)&&s.set(t,w),w}function validatePropName(t){return t[0]!=="$"&&!isReservedProp(t)}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot=(t,e,n)=>{if(e._n)return e;const s=withCtx((...i)=>normalizeSlotValue(e(...i)),n);return s._c=!1,s},normalizeObjectSlots=(t,e,n)=>{const s=t._ctx;for(const i in t){if(isInternalKey(i))continue;const l=t[i];if(isFunction(l))e[i]=normalizeSlot(i,l,s);else if(l!=null){const f=normalizeSlotValue(l);e[i]=()=>f}}},normalizeVNodeSlots=(t,e)=>{const n=normalizeSlotValue(e);t.slots.default=()=>n},assignSlots=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},initSlots=(t,e,n)=>{const s=t.slots=createInternalObject();if(t.vnode.shapeFlag&32){const i=e._;i?(assignSlots(s,e,n),n&&def(s,"_",i,!0)):normalizeObjectSlots(e,s)}else e&&normalizeVNodeSlots(t,e)},updateSlots=(t,e,n)=>{const{vnode:s,slots:i}=t;let l=!0,f=EMPTY_OBJ;if(s.shapeFlag&32){const M=e._;M?n&&M===1?l=!1:assignSlots(i,e,n):(l=!e.$stable,normalizeObjectSlots(e,i)),f=e}else e&&(normalizeVNodeSlots(t,e),f={default:1});if(l)for(const M in i)!isInternalKey(M)&&f[M]==null&&delete i[M]};function initFeatureFlags(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(getGlobalThis().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){initFeatureFlags();const n=getGlobalThis();n.__VUE__=!0;const{insert:s,remove:i,patchProp:l,createElement:f,createText:M,createComment:v,setText:w,setElementText:c,parentNode:R,nextSibling:O,setScopeId:D=NOOP,insertStaticContent:E}=t,S=(m,r,a,A=null,T=null,P=null,V=void 0,J=null,$=!!r.dynamicChildren)=>{if(m===r)return;m&&!isSameVNodeType(m,r)&&(A=H(m),xt(m,T,P,!0),m=null),r.patchFlag===-2&&($=!1,r.dynamicChildren=null);const{type:Y,ref:rt,shapeFlag:et}=r;switch(Y){case Text:b(m,r,a,A);break;case Comment:F(m,r,a,A);break;case Static:m==null&&L(r,a,A,V);break;case Fragment:j(m,r,a,A,T,P,V,J,$);break;default:et&1?o(m,r,a,A,T,P,V,J,$):et&6?X(m,r,a,A,T,P,V,J,$):(et&64||et&128)&&Y.process(m,r,a,A,T,P,V,J,$,Z)}rt!=null&&T&&setRef(rt,m&&m.ref,P,r||m,!r)},b=(m,r,a,A)=>{if(m==null)s(r.el=M(r.children),a,A);else{const T=r.el=m.el;r.children!==m.children&&w(T,r.children)}},F=(m,r,a,A)=>{m==null?s(r.el=v(r.children||""),a,A):r.el=m.el},L=(m,r,a,A)=>{[m.el,m.anchor]=E(m.children,r,a,A,m.el,m.anchor)},N=({el:m,anchor:r},a,A)=>{let T;for(;m&&m!==r;)T=O(m),s(m,a,A),m=T;s(r,a,A)},C=({el:m,anchor:r})=>{let a;for(;m&&m!==r;)a=O(m),i(m),m=a;i(r)},o=(m,r,a,A,T,P,V,J,$)=>{r.type==="svg"?V="svg":r.type==="math"&&(V="mathml"),m==null?u(r,a,A,T,P,V,J,$):y(m,r,T,P,V,J,$)},u=(m,r,a,A,T,P,V,J)=>{let $,Y;const{props:rt,shapeFlag:et,transition:it,dirs:ct}=m;if($=m.el=f(m.type,P,rt&&rt.is,rt),et&8?c($,m.children):et&16&&d(m.children,$,null,A,T,resolveChildrenNamespace(m,P),V,J),ct&&invokeDirectiveHook(m,null,A,"created"),_($,m,m.scopeId,V,A),rt){for(const St in rt)St!=="value"&&!isReservedProp(St)&&l($,St,null,rt[St],P,A);"value"in rt&&l($,"value",null,rt.value,P),(Y=rt.onVnodeBeforeMount)&&invokeVNodeHook(Y,A,m)}ct&&invokeDirectiveHook(m,null,A,"beforeMount");const ft=needTransition(T,it);ft&&it.beforeEnter($),s($,r,a),((Y=rt&&rt.onVnodeMounted)||ft||ct)&&queuePostRenderEffect(()=>{Y&&invokeVNodeHook(Y,A,m),ft&&it.enter($),ct&&invokeDirectiveHook(m,null,A,"mounted")},T)},_=(m,r,a,A,T)=>{if(a&&D(m,a),A)for(let P=0;P<A.length;P++)D(m,A[P]);if(T){let P=T.subTree;if(r===P||isSuspense(P.type)&&(P.ssContent===r||P.ssFallback===r)){const V=T.vnode;_(m,V,V.scopeId,V.slotScopeIds,T.parent)}}},d=(m,r,a,A,T,P,V,J,$=0)=>{for(let Y=$;Y<m.length;Y++){const rt=m[Y]=J?cloneIfMounted(m[Y]):normalizeVNode(m[Y]);S(null,rt,r,a,A,T,P,V,J)}},y=(m,r,a,A,T,P,V)=>{const J=r.el=m.el;let{patchFlag:$,dynamicChildren:Y,dirs:rt}=r;$|=m.patchFlag&16;const et=m.props||EMPTY_OBJ,it=r.props||EMPTY_OBJ;let ct;if(a&&toggleRecurse(a,!1),(ct=it.onVnodeBeforeUpdate)&&invokeVNodeHook(ct,a,r,m),rt&&invokeDirectiveHook(r,m,a,"beforeUpdate"),a&&toggleRecurse(a,!0),(et.innerHTML&&it.innerHTML==null||et.textContent&&it.textContent==null)&&c(J,""),Y?B(m.dynamicChildren,Y,J,a,A,resolveChildrenNamespace(r,T),P):V||ut(m,r,J,null,a,A,resolveChildrenNamespace(r,T),P,!1),$>0){if($&16)g(J,et,it,a,T);else if($&2&&et.class!==it.class&&l(J,"class",null,it.class,T),$&4&&l(J,"style",et.style,it.style,T),$&8){const ft=r.dynamicProps;for(let St=0;St<ft.length;St++){const bt=ft[St],wt=et[bt],nt=it[bt];(nt!==wt||bt==="value")&&l(J,bt,wt,nt,T,a)}}$&1&&m.children!==r.children&&c(J,r.children)}else!V&&Y==null&&g(J,et,it,a,T);((ct=it.onVnodeUpdated)||rt)&&queuePostRenderEffect(()=>{ct&&invokeVNodeHook(ct,a,r,m),rt&&invokeDirectiveHook(r,m,a,"updated")},A)},B=(m,r,a,A,T,P,V)=>{for(let J=0;J<r.length;J++){const $=m[J],Y=r[J],rt=$.el&&($.type===Fragment||!isSameVNodeType($,Y)||$.shapeFlag&70)?R($.el):a;S($,Y,rt,null,A,T,P,V,!0)}},g=(m,r,a,A,T)=>{if(r!==a){if(r!==EMPTY_OBJ)for(const P in r)!isReservedProp(P)&&!(P in a)&&l(m,P,r[P],null,T,A);for(const P in a){if(isReservedProp(P))continue;const V=a[P],J=r[P];V!==J&&P!=="value"&&l(m,P,J,V,T,A)}"value"in a&&l(m,"value",r.value,a.value,T)}},j=(m,r,a,A,T,P,V,J,$)=>{const Y=r.el=m?m.el:M(""),rt=r.anchor=m?m.anchor:M("");let{patchFlag:et,dynamicChildren:it,slotScopeIds:ct}=r;ct&&(J=J?J.concat(ct):ct),m==null?(s(Y,a,A),s(rt,a,A),d(r.children||[],a,rt,T,P,V,J,$)):et>0&&et&64&&it&&m.dynamicChildren?(B(m.dynamicChildren,it,a,T,P,V,J),(r.key!=null||T&&r===T.subTree)&&traverseStaticChildren(m,r,!0)):ut(m,r,a,rt,T,P,V,J,$)},X=(m,r,a,A,T,P,V,J,$)=>{r.slotScopeIds=J,m==null?r.shapeFlag&512?T.ctx.activate(r,a,A,V,$):st(r,a,A,T,P,V,$):at(m,r,$)},st=(m,r,a,A,T,P,V)=>{const J=m.component=createComponentInstance(m,A,T);if(isKeepAlive(m)&&(J.ctx.renderer=Z),setupComponent(J,!1,V),J.asyncDep){if(T&&T.registerDep(J,ot,V),!m.el){const $=J.subTree=createVNode(Comment);F(null,$,r,a)}}else ot(J,m,r,a,T,P,V)},at=(m,r,a)=>{const A=r.component=m.component;if(shouldUpdateComponent(m,r,a))if(A.asyncDep&&!A.asyncResolved){dt(A,r,a);return}else A.next=r,A.update();else r.el=m.el,A.vnode=r},ot=(m,r,a,A,T,P,V)=>{const J=()=>{if(m.isMounted){let{next:et,bu:it,u:ct,parent:ft,vnode:St}=m;{const Et=locateNonHydratedAsyncRoot(m);if(Et){et&&(et.el=St.el,dt(m,et,V)),Et.asyncDep.then(()=>{m.isUnmounted||J()});return}}let bt=et,wt;toggleRecurse(m,!1),et?(et.el=St.el,dt(m,et,V)):et=St,it&&invokeArrayFns(it),(wt=et.props&&et.props.onVnodeBeforeUpdate)&&invokeVNodeHook(wt,ft,et,St),toggleRecurse(m,!0);const nt=renderComponentRoot(m),At=m.subTree;m.subTree=nt,S(At,nt,R(At.el),H(At),m,T,P),et.el=nt.el,bt===null&&updateHOCHostEl(m,nt.el),ct&&queuePostRenderEffect(ct,T),(wt=et.props&&et.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(wt,ft,et,St),T)}else{let et;const{el:it,props:ct}=r,{bm:ft,m:St,parent:bt,root:wt,type:nt}=m,At=isAsyncWrapper(r);if(toggleRecurse(m,!1),ft&&invokeArrayFns(ft),!At&&(et=ct&&ct.onVnodeBeforeMount)&&invokeVNodeHook(et,bt,r),toggleRecurse(m,!0),it&&q){const Et=()=>{m.subTree=renderComponentRoot(m),q(it,m.subTree,m,T,null)};At&&nt.__asyncHydrate?nt.__asyncHydrate(it,m,Et):Et()}else{wt.ce&&wt.ce._injectChildStyle(nt);const Et=m.subTree=renderComponentRoot(m);S(null,Et,a,A,m,T,P),r.el=Et.el}if(St&&queuePostRenderEffect(St,T),!At&&(et=ct&&ct.onVnodeMounted)){const Et=r;queuePostRenderEffect(()=>invokeVNodeHook(et,bt,Et),T)}(r.shapeFlag&256||bt&&isAsyncWrapper(bt.vnode)&&bt.vnode.shapeFlag&256)&&m.a&&queuePostRenderEffect(m.a,T),m.isMounted=!0,r=a=A=null}};m.scope.on();const $=m.effect=new ReactiveEffect(J);m.scope.off();const Y=m.update=$.run.bind($),rt=m.job=$.runIfDirty.bind($);rt.i=m,rt.id=m.uid,$.scheduler=()=>queueJob(rt),toggleRecurse(m,!0),Y()},dt=(m,r,a)=>{r.component=m;const A=m.vnode.props;m.vnode=r,m.next=null,updateProps(m,r.props,A,a),updateSlots(m,r.children,a),pauseTracking(),flushPreFlushCbs(m),resetTracking()},ut=(m,r,a,A,T,P,V,J,$=!1)=>{const Y=m&&m.children,rt=m?m.shapeFlag:0,et=r.children,{patchFlag:it,shapeFlag:ct}=r;if(it>0){if(it&128){vt(Y,et,a,A,T,P,V,J,$);return}else if(it&256){gt(Y,et,a,A,T,P,V,J,$);return}}ct&8?(rt&16&&k(Y,T,P),et!==Y&&c(a,et)):rt&16?ct&16?vt(Y,et,a,A,T,P,V,J,$):k(Y,T,P,!0):(rt&8&&c(a,""),ct&16&&d(et,a,A,T,P,V,J,$))},gt=(m,r,a,A,T,P,V,J,$)=>{m=m||EMPTY_ARR,r=r||EMPTY_ARR;const Y=m.length,rt=r.length,et=Math.min(Y,rt);let it;for(it=0;it<et;it++){const ct=r[it]=$?cloneIfMounted(r[it]):normalizeVNode(r[it]);S(m[it],ct,a,null,T,P,V,J,$)}Y>rt?k(m,T,P,!0,!1,et):d(r,a,A,T,P,V,J,$,et)},vt=(m,r,a,A,T,P,V,J,$)=>{let Y=0;const rt=r.length;let et=m.length-1,it=rt-1;for(;Y<=et&&Y<=it;){const ct=m[Y],ft=r[Y]=$?cloneIfMounted(r[Y]):normalizeVNode(r[Y]);if(isSameVNodeType(ct,ft))S(ct,ft,a,null,T,P,V,J,$);else break;Y++}for(;Y<=et&&Y<=it;){const ct=m[et],ft=r[it]=$?cloneIfMounted(r[it]):normalizeVNode(r[it]);if(isSameVNodeType(ct,ft))S(ct,ft,a,null,T,P,V,J,$);else break;et--,it--}if(Y>et){if(Y<=it){const ct=it+1,ft=ct<rt?r[ct].el:A;for(;Y<=it;)S(null,r[Y]=$?cloneIfMounted(r[Y]):normalizeVNode(r[Y]),a,ft,T,P,V,J,$),Y++}}else if(Y>it)for(;Y<=et;)xt(m[Y],T,P,!0),Y++;else{const ct=Y,ft=Y,St=new Map;for(Y=ft;Y<=it;Y++){const U=r[Y]=$?cloneIfMounted(r[Y]):normalizeVNode(r[Y]);U.key!=null&&St.set(U.key,Y)}let bt,wt=0;const nt=it-ft+1;let At=!1,Et=0;const Ot=new Array(nt);for(Y=0;Y<nt;Y++)Ot[Y]=0;for(Y=ct;Y<=et;Y++){const U=m[Y];if(wt>=nt){xt(U,T,P,!0);continue}let W;if(U.key!=null)W=St.get(U.key);else for(bt=ft;bt<=it;bt++)if(Ot[bt-ft]===0&&isSameVNodeType(U,r[bt])){W=bt;break}W===void 0?xt(U,T,P,!0):(Ot[W-ft]=Y+1,W>=Et?Et=W:At=!0,S(U,r[W],a,null,T,P,V,J,$),wt++)}const mt=At?getSequence(Ot):EMPTY_ARR;for(bt=mt.length-1,Y=nt-1;Y>=0;Y--){const U=ft+Y,W=r[U],pt=U+1<rt?r[U+1].el:A;Ot[Y]===0?S(null,W,a,pt,T,P,V,J,$):At&&(bt<0||Y!==mt[bt]?Ct(W,a,pt,2):bt--)}}},Ct=(m,r,a,A,T=null)=>{const{el:P,type:V,transition:J,children:$,shapeFlag:Y}=m;if(Y&6){Ct(m.component.subTree,r,a,A);return}if(Y&128){m.suspense.move(r,a,A);return}if(Y&64){V.move(m,r,a,Z);return}if(V===Fragment){s(P,r,a);for(let et=0;et<$.length;et++)Ct($[et],r,a,A);s(m.anchor,r,a);return}if(V===Static){N(m,r,a);return}if(A!==2&&Y&1&&J)if(A===0)J.beforeEnter(P),s(P,r,a),queuePostRenderEffect(()=>J.enter(P),T);else{const{leave:et,delayLeave:it,afterLeave:ct}=J,ft=()=>s(P,r,a),St=()=>{et(P,()=>{ft(),ct&&ct()})};it?it(P,ft,St):St()}else s(P,r,a)},xt=(m,r,a,A=!1,T=!1)=>{const{type:P,props:V,ref:J,children:$,dynamicChildren:Y,shapeFlag:rt,patchFlag:et,dirs:it,cacheIndex:ct}=m;if(et===-2&&(T=!1),J!=null&&setRef(J,null,a,m,!0),ct!=null&&(r.renderCache[ct]=void 0),rt&256){r.ctx.deactivate(m);return}const ft=rt&1&&it,St=!isAsyncWrapper(m);let bt;if(St&&(bt=V&&V.onVnodeBeforeUnmount)&&invokeVNodeHook(bt,r,m),rt&6)x(m.component,a,A);else{if(rt&128){m.suspense.unmount(a,A);return}ft&&invokeDirectiveHook(m,null,r,"beforeUnmount"),rt&64?m.type.remove(m,r,a,Z,A):Y&&!Y.hasOnce&&(P!==Fragment||et>0&&et&64)?k(Y,r,a,!1,!0):(P===Fragment&&et&384||!T&&rt&16)&&k($,r,a),A&&Tt(m)}(St&&(bt=V&&V.onVnodeUnmounted)||ft)&&queuePostRenderEffect(()=>{bt&&invokeVNodeHook(bt,r,m),ft&&invokeDirectiveHook(m,null,r,"unmounted")},a)},Tt=m=>{const{type:r,el:a,anchor:A,transition:T}=m;if(r===Fragment){Q(a,A);return}if(r===Static){C(m);return}const P=()=>{i(a),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(m.shapeFlag&1&&T&&!T.persisted){const{leave:V,delayLeave:J}=T,$=()=>V(a,P);J?J(m.el,P,$):$()}else P()},Q=(m,r)=>{let a;for(;m!==r;)a=O(m),i(m),m=a;i(r)},x=(m,r,a)=>{const{bum:A,scope:T,job:P,subTree:V,um:J,m:$,a:Y}=m;invalidateMount($),invalidateMount(Y),A&&invokeArrayFns(A),T.stop(),P&&(P.flags|=8,xt(V,m,r,a)),J&&queuePostRenderEffect(J,r),queuePostRenderEffect(()=>{m.isUnmounted=!0},r),r&&r.pendingBranch&&!r.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===r.pendingId&&(r.deps--,r.deps===0&&r.resolve())},k=(m,r,a,A=!1,T=!1,P=0)=>{for(let V=P;V<m.length;V++)xt(m[V],r,a,A,T)},H=m=>{if(m.shapeFlag&6)return H(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const r=O(m.anchor||m.el),a=r&&r[TeleportEndKey];return a?O(a):r};let K=!1;const z=(m,r,a)=>{m==null?r._vnode&&xt(r._vnode,null,null,!0):S(r._vnode||null,m,r,null,null,null,a),r._vnode=m,K||(K=!0,flushPreFlushCbs(),flushPostFlushCbs(),K=!1)},Z={p:S,um:xt,m:Ct,r:Tt,mt:st,mc:d,pc:ut,pbc:B,n:H,o:t};let G,q;return e&&([G,q]=e(Z)),{render:z,hydrate:G,createApp:createAppAPI(z,G)}}function resolveChildrenNamespace({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function toggleRecurse({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function needTransition(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(t,e,n=!1){const s=t.children,i=e.children;if(isArray(s)&&isArray(i))for(let l=0;l<s.length;l++){const f=s[l];let M=i[l];M.shapeFlag&1&&!M.dynamicChildren&&((M.patchFlag<=0||M.patchFlag===32)&&(M=i[l]=cloneIfMounted(i[l]),M.el=f.el),!n&&M.patchFlag!==-2&&traverseStaticChildren(f,M)),M.type===Text&&(M.el=f.el)}}function getSequence(t){const e=t.slice(),n=[0];let s,i,l,f,M;const v=t.length;for(s=0;s<v;s++){const w=t[s];if(w!==0){if(i=n[n.length-1],t[i]<w){e[s]=i,n.push(s);continue}for(l=0,f=n.length-1;l<f;)M=l+f>>1,t[n[M]]<w?l=M+1:f=M;w<t[n[l]]&&(l>0&&(e[s]=n[l-1]),n[l]=s)}}for(l=n.length,f=n[l-1];l-- >0;)n[l]=f,f=e[f];return n}function locateNonHydratedAsyncRoot(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:locateNonHydratedAsyncRoot(e)}function invalidateMount(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(t,e,n){return doWatch(t,e,n)}function doWatch(t,e,n=EMPTY_OBJ){const{immediate:s,deep:i,flush:l,once:f}=n,M=extend({},n),v=e&&s||!e&&l!=="post";let w;if(isInSSRComponentSetup){if(l==="sync"){const D=useSSRContext();w=D.__watcherHandles||(D.__watcherHandles=[])}else if(!v){const D=()=>{};return D.stop=NOOP,D.resume=NOOP,D.pause=NOOP,D}}const c=currentInstance;M.call=(D,E,S)=>callWithAsyncErrorHandling(D,c,E,S);let R=!1;l==="post"?M.scheduler=D=>{queuePostRenderEffect(D,c&&c.suspense)}:l!=="sync"&&(R=!0,M.scheduler=(D,E)=>{E?D():queueJob(D)}),M.augmentJob=D=>{e&&(D.flags|=4),R&&(D.flags|=2,c&&(D.id=c.uid,D.i=c))};const O=watch$1(t,e,M);return isInSSRComponentSetup&&(w?w.push(O):v&&O()),O}function instanceWatch(t,e,n){const s=this.proxy,i=isString(t)?t.includes(".")?createPathGetter(s,t):()=>s[t]:t.bind(s,s);let l;isFunction(e)?l=e:(l=e.handler,n=e);const f=setCurrentInstance(this),M=doWatch(i,l.bind(s),n);return f(),M}function createPathGetter(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const getModelModifiers=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${camelize(e)}Modifiers`]||t[`${hyphenate(e)}Modifiers`];function emit(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||EMPTY_OBJ;let i=n;const l=e.startsWith("update:"),f=l&&getModelModifiers(s,e.slice(7));f&&(f.trim&&(i=n.map(c=>isString(c)?c.trim():c)),f.number&&(i=n.map(looseToNumber)));let M,v=s[M=toHandlerKey(e)]||s[M=toHandlerKey(camelize(e))];!v&&l&&(v=s[M=toHandlerKey(hyphenate(e))]),v&&callWithAsyncErrorHandling(v,t,6,i);const w=s[M+"Once"];if(w){if(!t.emitted)t.emitted={};else if(t.emitted[M])return;t.emitted[M]=!0,callWithAsyncErrorHandling(w,t,6,i)}}function normalizeEmitsOptions(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const l=t.emits;let f={},M=!1;if(!isFunction(t)){const v=w=>{const c=normalizeEmitsOptions(w,e,!0);c&&(M=!0,extend(f,c))};!n&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}return!l&&!M?(isObject(t)&&s.set(t,null),null):(isArray(l)?l.forEach(v=>f[v]=null):extend(f,l),isObject(t)&&s.set(t,f),f)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[l],slots:f,attrs:M,emit:v,render:w,renderCache:c,props:R,data:O,setupState:D,ctx:E,inheritAttrs:S}=t,b=setCurrentRenderingInstance(t);let F,L;try{if(n.shapeFlag&4){const C=i||s,o=C;F=normalizeVNode(w.call(o,C,c,R,D,O,E)),L=M}else{const C=e;F=normalizeVNode(C.length>1?C(R,{attrs:M,slots:f,emit:v}):C(R,null)),L=e.props?M:getFunctionalFallthrough(M)}}catch(C){blockStack.length=0,handleError(C,t,1),F=createVNode(Comment)}let N=F;if(L&&S!==!1){const C=Object.keys(L),{shapeFlag:o}=N;C.length&&o&7&&(l&&C.some(isModelListener)&&(L=filterModelListeners(L,l)),N=cloneVNode(N,L,!1,!0))}return n.dirs&&(N=cloneVNode(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(N,n.transition),F=N,setCurrentRenderingInstance(b),F}function filterSingleRoot(t,e=!0){let n;for(let s=0;s<t.length;s++){const i=t[s];if(isVNode(i)){if(i.type!==Comment||i.children==="v-if"){if(n)return;n=i}}else return}return n}const getFunctionalFallthrough=t=>{let e;for(const n in t)(n==="class"||n==="style"||isOn(n))&&((e||(e={}))[n]=t[n]);return e},filterModelListeners=(t,e)=>{const n={};for(const s in t)(!isModelListener(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function shouldUpdateComponent(t,e,n){const{props:s,children:i,component:l}=t,{props:f,children:M,patchFlag:v}=e,w=l.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&v>=0){if(v&1024)return!0;if(v&16)return s?hasPropsChanged(s,f,w):!!f;if(v&8){const c=e.dynamicProps;for(let R=0;R<c.length;R++){const O=c[R];if(f[O]!==s[O]&&!isEmitListener(w,O))return!0}}}else return(i||M)&&(!M||!M.$stable)?!0:s===f?!1:s?f?hasPropsChanged(s,f,w):!0:!!f;return!1}function hasPropsChanged(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const l=s[i];if(e[l]!==t[l]&&!isEmitListener(n,l))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const isSuspense=t=>t.__isSuspense;let suspenseId=0;const SuspenseImpl={name:"Suspense",__isSuspense:!0,process(t,e,n,s,i,l,f,M,v,w){if(t==null)mountSuspense(e,n,s,i,l,f,M,v,w);else{if(l&&l.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}patchSuspense(t,e,n,s,i,f,M,v,w)}},hydrate:hydrateSuspense,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(t,e){const n=t.props&&t.props[e];isFunction(n)&&n()}function mountSuspense(t,e,n,s,i,l,f,M,v){const{p:w,o:{createElement:c}}=v,R=c("div"),O=t.suspense=createSuspenseBoundary(t,i,s,e,R,n,l,f,M,v);w(null,O.pendingBranch=t.ssContent,R,null,s,O,l,f),O.deps>0?(triggerEvent(t,"onPending"),triggerEvent(t,"onFallback"),w(null,t.ssFallback,e,n,s,null,l,f),setActiveBranch(O,t.ssFallback)):O.resolve(!1,!0)}function patchSuspense(t,e,n,s,i,l,f,M,{p:v,um:w,o:{createElement:c}}){const R=e.suspense=t.suspense;R.vnode=e,e.el=t.el;const O=e.ssContent,D=e.ssFallback,{activeBranch:E,pendingBranch:S,isInFallback:b,isHydrating:F}=R;if(S)R.pendingBranch=O,isSameVNodeType(O,S)?(v(S,O,R.hiddenContainer,null,i,R,l,f,M),R.deps<=0?R.resolve():b&&(F||(v(E,D,n,s,i,null,l,f,M),setActiveBranch(R,D)))):(R.pendingId=suspenseId++,F?(R.isHydrating=!1,R.activeBranch=S):w(S,i,R),R.deps=0,R.effects.length=0,R.hiddenContainer=c("div"),b?(v(null,O,R.hiddenContainer,null,i,R,l,f,M),R.deps<=0?R.resolve():(v(E,D,n,s,i,null,l,f,M),setActiveBranch(R,D))):E&&isSameVNodeType(O,E)?(v(E,O,n,s,i,R,l,f,M),R.resolve(!0)):(v(null,O,R.hiddenContainer,null,i,R,l,f,M),R.deps<=0&&R.resolve()));else if(E&&isSameVNodeType(O,E))v(E,O,n,s,i,R,l,f,M),setActiveBranch(R,O);else if(triggerEvent(e,"onPending"),R.pendingBranch=O,O.shapeFlag&512?R.pendingId=O.component.suspenseId:R.pendingId=suspenseId++,v(null,O,R.hiddenContainer,null,i,R,l,f,M),R.deps<=0)R.resolve();else{const{timeout:L,pendingId:N}=R;L>0?setTimeout(()=>{R.pendingId===N&&R.fallback(D)},L):L===0&&R.fallback(D)}}function createSuspenseBoundary(t,e,n,s,i,l,f,M,v,w,c=!1){const{p:R,m:O,um:D,n:E,o:{parentNode:S,remove:b}}=w;let F;const L=isVNodeSuspensible(t);L&&e&&e.pendingBranch&&(F=e.pendingId,e.deps++);const N=t.props?toNumber(t.props.timeout):void 0,C=l,o={vnode:t,parent:e,parentComponent:n,namespace:f,container:s,hiddenContainer:i,deps:0,pendingId:suspenseId++,timeout:typeof N=="number"?N:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(u=!1,_=!1){const{vnode:d,activeBranch:y,pendingBranch:B,pendingId:g,effects:j,parentComponent:X,container:st}=o;let at=!1;o.isHydrating?o.isHydrating=!1:u||(at=y&&B.transition&&B.transition.mode==="out-in",at&&(y.transition.afterLeave=()=>{g===o.pendingId&&(O(B,st,l===C?E(y):l,0),queuePostFlushCb(j))}),y&&(S(y.el)===st&&(l=E(y)),D(y,X,o,!0)),at||O(B,st,l,0)),setActiveBranch(o,B),o.pendingBranch=null,o.isInFallback=!1;let ot=o.parent,dt=!1;for(;ot;){if(ot.pendingBranch){ot.effects.push(...j),dt=!0;break}ot=ot.parent}!dt&&!at&&queuePostFlushCb(j),o.effects=[],L&&e&&e.pendingBranch&&F===e.pendingId&&(e.deps--,e.deps===0&&!_&&e.resolve()),triggerEvent(d,"onResolve")},fallback(u){if(!o.pendingBranch)return;const{vnode:_,activeBranch:d,parentComponent:y,container:B,namespace:g}=o;triggerEvent(_,"onFallback");const j=E(d),X=()=>{!o.isInFallback||(R(null,u,B,j,y,null,g,M,v),setActiveBranch(o,u))},st=u.transition&&u.transition.mode==="out-in";st&&(d.transition.afterLeave=X),o.isInFallback=!0,D(d,y,null,!0),st||X()},move(u,_,d){o.activeBranch&&O(o.activeBranch,u,_,d),o.container=u},next(){return o.activeBranch&&E(o.activeBranch)},registerDep(u,_,d){const y=!!o.pendingBranch;y&&o.deps++;const B=u.vnode.el;u.asyncDep.catch(g=>{handleError(g,u,0)}).then(g=>{if(u.isUnmounted||o.isUnmounted||o.pendingId!==u.suspenseId)return;u.asyncResolved=!0;const{vnode:j}=u;handleSetupResult(u,g,!1),B&&(j.el=B);const X=!B&&u.subTree.el;_(u,j,S(B||u.subTree.el),B?null:E(u.subTree),o,f,d),X&&b(X),updateHOCHostEl(u,j.el),y&&--o.deps===0&&o.resolve()})},unmount(u,_){o.isUnmounted=!0,o.activeBranch&&D(o.activeBranch,n,u,_),o.pendingBranch&&D(o.pendingBranch,n,u,_)}};return o}function hydrateSuspense(t,e,n,s,i,l,f,M,v){const w=e.suspense=createSuspenseBoundary(e,s,n,t.parentNode,document.createElement("div"),null,i,l,f,M,!0),c=v(t,w.pendingBranch=e.ssContent,n,w,l,f);return w.deps===0&&w.resolve(!1,!0),c}function normalizeSuspenseChildren(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=normalizeSuspenseSlot(s?n.default:n),t.ssFallback=s?normalizeSuspenseSlot(n.fallback):createVNode(Comment)}function normalizeSuspenseSlot(t){let e;if(isFunction(t)){const n=isBlockTreeEnabled&&t._c;n&&(t._d=!1,openBlock()),t=t(),n&&(t._d=!0,e=currentBlock,closeBlock())}return isArray(t)&&(t=filterSingleRoot(t)),t=normalizeVNode(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function setActiveBranch(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,s&&s.subTree===n&&(s.vnode.el=i,updateHOCHostEl(s,i))}function isVNodeSuspensible(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t,e=!1){isBlockTreeEnabled+=t,t<0&&currentBlock&&e&&(currentBlock.hasOnce=!0)}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,n,s,i,l){return setupBlock(createBaseVNode(t,e,n,s,i,l,!0))}function createBlock(t,e,n,s,i){return setupBlock(createVNode(t,e,n,s,i,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?isString(t)||isRef(t)||isFunction(t)?{i:currentRenderingInstance,r:t,k:e,f:!!n}:t:null);function createBaseVNode(t,e=null,n=null,s=0,i=null,l=t===Fragment?0:1,f=!1,M=!1){const v={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return M?(normalizeChildren(v,n),l&128&&t.normalize(v)):n&&(v.shapeFlag|=isString(n)?8:16),isBlockTreeEnabled>0&&!f&&currentBlock&&(v.patchFlag>0||l&6)&&v.patchFlag!==32&&currentBlock.push(v),v}const createVNode=_createVNode;function _createVNode(t,e=null,n=null,s=0,i=null,l=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const M=cloneVNode(t,e,!0);return n&&normalizeChildren(M,n),isBlockTreeEnabled>0&&!l&&currentBlock&&(M.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=M:currentBlock.push(M)),M.patchFlag=-2,M}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:M,style:v}=e;M&&!isString(M)&&(e.class=normalizeClass(M)),isObject(v)&&(isProxy(v)&&!isArray(v)&&(v=extend({},v)),e.style=normalizeStyle(v))}const f=isString(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject(t)?4:isFunction(t)?2:0;return createBaseVNode(t,e,n,s,i,f,l,!0)}function guardReactiveProps(t){return t?isProxy(t)||isInternalObject(t)?extend({},t):t:null}function cloneVNode(t,e,n=!1,s=!1){const{props:i,ref:l,patchFlag:f,children:M,transition:v}=t,w=e?mergeProps(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:w,key:w&&normalizeKey(w),ref:e&&e.ref?n&&l?isArray(l)?l.concat(normalizeRef(e)):[l,normalizeRef(e)]:normalizeRef(e):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:M,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?f===-1?16:f|16:f,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:v,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return v&&s&&setTransitionHooks(c,v.clone(c)),c}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray(t)?createVNode(Fragment,null,t.slice()):isVNode(t)?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(isArray(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),normalizeChildren(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!isInternalObject(e)?e._ctx=currentRenderingInstance:i===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},n=32):(e=String(e),s&64?(n=16,e=[createTextVNode(e)]):n=8);t.children=e,t.shapeFlag|=n}function mergeProps(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=normalizeClass([e.class,s.class]));else if(i==="style")e.style=normalizeStyle([e.style,s.style]);else if(isOn(i)){const l=e[i],f=s[i];f&&l!==f&&!(isArray(l)&&l.includes(f))&&(e[i]=l?[].concat(l,f):f)}else i!==""&&(e[i]=s[i])}return e}function invokeVNodeHook(t,e,n,s=null){callWithAsyncErrorHandling(t,e,7,[n,s])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||emptyAppContext,l={uid:uid++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(s,i),emitsOptions:normalizeEmitsOptions(s,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:s.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=emit.bind(null,l),t.ce&&t.ce(l),l}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const t=getGlobalThis(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),l=>{i.length>1?i.forEach(f=>f(l)):i[0](l)}};internalSetCurrentInstance=e("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=e("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=t=>{const e=currentInstance;return internalSetCurrentInstance(t),t.scope.on(),()=>{t.scope.off(),internalSetCurrentInstance(e)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1,n=!1){e&&setInSSRSetupState(e);const{props:s,children:i}=t.vnode,l=isStatefulComponent(t);initProps(t,s,l,e),initSlots(t,i,n);const f=l?setupStatefulComponent(t,e):void 0;return e&&setInSSRSetupState(!1),f}function setupStatefulComponent(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,PublicInstanceProxyHandlers);const{setup:s}=n;if(s){pauseTracking();const i=t.setupContext=s.length>1?createSetupContext(t):null,l=setCurrentInstance(t),f=callWithErrorHandling(s,t,0,[t.props,i]),M=isPromise(f);if(resetTracking(),l(),(M||t.sp)&&!isAsyncWrapper(t)&&markAsyncBoundary(t),M){if(f.then(unsetCurrentInstance,unsetCurrentInstance),e)return f.then(v=>{handleSetupResult(t,v,e)}).catch(v=>{handleError(v,t,0)});t.asyncDep=f}else handleSetupResult(t,f,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,n){isFunction(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,n)}let compile;function finishComponentSetup(t,e,n){const s=t.type;if(!t.render){if(!e&&compile&&!s.render){const i=s.template||resolveMergedOptions(t).template;if(i){const{isCustomElement:l,compilerOptions:f}=t.appContext.config,{delimiters:M,compilerOptions:v}=s,w=extend(extend({isCustomElement:l,delimiters:M},f),v);s.render=compile(i,w)}}t.render=s.render||NOOP}{const i=setCurrentInstance(t);pauseTracking();try{applyOptions(t)}finally{resetTracking(),i()}}}const attrsProxyHandlers={get(t,e){return track(t,"get",""),t[e]}};function createSetupContext(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,attrsProxyHandlers),slots:t.slots,emit:t.emit,expose:e}}function getComponentPublicInstance(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](t)},has(e,n){return n in e||n in publicPropertiesMap}})):t.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=t=>t.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(t,e=!0){return isFunction(t)?t.displayName||t.name:t.name||e&&t.__name}function formatComponentName(t,e,n=!1){let s=getComponentName(e);if(!s&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(s=i[1])}if(!s&&t&&t.parent){const i=l=>{for(const f in l)if(l[f]===e)return f};s=i(t.components||t.parent.type.components)||i(t.appContext.components)}return s?classify(s):n?"App":"Anonymous"}function isClassComponent(t){return isFunction(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h(t,e,n){const s=arguments.length;return s===2?isObject(e)&&!isArray(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&isVNode(n)&&(n=[n]),createVNode(t,e,n))}const version="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:t=>t})}catch{}const unsafeToTrustedHTML=policy?t=>policy.createHTML(t):t=>t,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?doc.createElementNS(svgNS,t):e==="mathml"?doc.createElementNS(mathmlNS,t):n?doc.createElement(t,{is:n}):doc.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,l){const f=n?n.previousSibling:e.lastChild;if(i&&(i===l||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===l||!(i=i.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const M=templateContainer.content;if(s==="svg"||s==="mathml"){const v=M.firstChild;for(;v.firstChild;)M.appendChild(v.firstChild);M.removeChild(v)}e.insertBefore(M,n)}return[f?f.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=t=>(t.displayName="Transition",t.props=TransitionPropsValidators,t),Transition=decorate$1((t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e)),callHook=(t,e=[])=>{isArray(t)?t.forEach(n=>n(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const j in t)j in DOMTransitionPropsValidators||(e[j]=t[j]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:l=`${n}-enter-from`,enterActiveClass:f=`${n}-enter-active`,enterToClass:M=`${n}-enter-to`,appearFromClass:v=l,appearActiveClass:w=f,appearToClass:c=M,leaveFromClass:R=`${n}-leave-from`,leaveActiveClass:O=`${n}-leave-active`,leaveToClass:D=`${n}-leave-to`}=t,E=normalizeDuration(i),S=E&&E[0],b=E&&E[1],{onBeforeEnter:F,onEnter:L,onEnterCancelled:N,onLeave:C,onLeaveCancelled:o,onBeforeAppear:u=F,onAppear:_=L,onAppearCancelled:d=N}=e,y=(j,X,st,at)=>{j._enterCancelled=at,removeTransitionClass(j,X?c:M),removeTransitionClass(j,X?w:f),st&&st()},B=(j,X)=>{j._isLeaving=!1,removeTransitionClass(j,R),removeTransitionClass(j,D),removeTransitionClass(j,O),X&&X()},g=j=>(X,st)=>{const at=j?_:L,ot=()=>y(X,j,st);callHook(at,[X,ot]),nextFrame(()=>{removeTransitionClass(X,j?v:l),addTransitionClass(X,j?c:M),hasExplicitCallback(at)||whenTransitionEnds(X,s,S,ot)})};return extend(e,{onBeforeEnter(j){callHook(F,[j]),addTransitionClass(j,l),addTransitionClass(j,f)},onBeforeAppear(j){callHook(u,[j]),addTransitionClass(j,v),addTransitionClass(j,w)},onEnter:g(!1),onAppear:g(!0),onLeave(j,X){j._isLeaving=!0;const st=()=>B(j,X);addTransitionClass(j,R),j._enterCancelled?(addTransitionClass(j,O),forceReflow()):(forceReflow(),addTransitionClass(j,O)),nextFrame(()=>{!j._isLeaving||(removeTransitionClass(j,R),addTransitionClass(j,D),hasExplicitCallback(C)||whenTransitionEnds(j,s,b,st))}),callHook(C,[j,st])},onEnterCancelled(j){y(j,!1,void 0,!0),callHook(N,[j])},onAppearCancelled(j){y(j,!0,void 0,!0),callHook(d,[j])},onLeaveCancelled(j){B(j),callHook(o,[j])}})}function normalizeDuration(t){if(t==null)return null;if(isObject(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[vtcKey]||(t[vtcKey]=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[vtcKey];n&&(n.delete(e),n.size||(t[vtcKey]=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,n,s){const i=t._endId=++endId,l=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(l,n);const{type:f,timeout:M,propCount:v}=getTransitionInfo(t,e);if(!f)return s();const w=f+"end";let c=0;const R=()=>{t.removeEventListener(w,O),l()},O=D=>{D.target===t&&++c>=v&&R()};setTimeout(()=>{c<v&&R()},M+1),t.addEventListener(w,O)}function getTransitionInfo(t,e){const n=window.getComputedStyle(t),s=E=>(n[E]||"").split(", "),i=s(`${TRANSITION}Delay`),l=s(`${TRANSITION}Duration`),f=getTimeout(i,l),M=s(`${ANIMATION}Delay`),v=s(`${ANIMATION}Duration`),w=getTimeout(M,v);let c=null,R=0,O=0;e===TRANSITION?f>0&&(c=TRANSITION,R=f,O=l.length):e===ANIMATION?w>0&&(c=ANIMATION,R=w,O=v.length):(R=Math.max(f,w),c=R>0?f>w?TRANSITION:ANIMATION:null,O=c?c===TRANSITION?l.length:v.length:0);const D=c===TRANSITION&&/\b(transform|all)(,|$)/.test(s(`${TRANSITION}Property`).toString());return{type:c,timeout:R,propCount:O,hasTransform:D}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>toMs(n)+toMs(t[s])))}function toMs(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(t,e,n){const s=t[vtcKey];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(t,{value:e},{transition:n}){t[vShowOriginalDisplay]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),setDisplay(t,!0),s.enter(t)):s.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t[vShowOriginalDisplay]:"none",t[vShowHidden]=!e}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(t,e,n){const s=t.style,i=isString(n);let l=!1;if(n&&!i){if(e)if(isString(e))for(const f of e.split(";")){const M=f.slice(0,f.indexOf(":")).trim();n[M]==null&&setStyle(s,M,"")}else for(const f in e)n[f]==null&&setStyle(s,f,"");for(const f in n)f==="display"&&(l=!0),setStyle(s,f,n[f])}else if(i){if(e!==n){const f=s[CSS_VAR_TEXT];f&&(n+=";"+f),s.cssText=n,l=displayRE.test(n)}}else e&&t.removeAttribute("style");vShowOriginalDisplay in t&&(t[vShowOriginalDisplay]=l?s.display:"",t[vShowHidden]&&(s.display="none"))}const importantRE=/\s*!important$/;function setStyle(t,e,n){if(isArray(n))n.forEach(s=>setStyle(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=autoPrefix(t,e);importantRE.test(n)?t.setProperty(hyphenate(s),n.replace(importantRE,""),"important"):t[s]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const n=prefixCache[e];if(n)return n;let s=camelize(e);if(s!=="filter"&&s in t)return prefixCache[e]=s;s=capitalize(s);for(let i=0;i<prefixes.length;i++){const l=prefixes[i]+s;if(l in t)return prefixCache[e]=l}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,n,s,i,l=isSpecialBooleanAttr(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,n):n==null||l&&!includeBooleanAttr(n)?t.removeAttribute(e):t.setAttribute(e,l?"":isSymbol(n)?String(n):n)}function patchDOMProp(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?unsafeToTrustedHTML(n):n);return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const M=l==="OPTION"?t.getAttribute("value")||"":t.value,v=n==null?t.type==="checkbox"?"on":"":String(n);(M!==v||!("_value"in t))&&(t.value=v),n==null&&t.removeAttribute(e),t._value=n;return}let f=!1;if(n===""||n==null){const M=typeof t[e];M==="boolean"?n=includeBooleanAttr(n):n==null&&M==="string"?(n="",f=!0):M==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(i||e)}function addEventListener(t,e,n,s){t.addEventListener(e,n,s)}function removeEventListener(t,e,n,s){t.removeEventListener(e,n,s)}const veiKey=Symbol("_vei");function patchEvent(t,e,n,s,i=null){const l=t[veiKey]||(t[veiKey]={}),f=l[e];if(s&&f)f.value=s;else{const[M,v]=parseName(e);if(s){const w=l[e]=createInvoker(s,i);addEventListener(t,M,w,v)}else f&&(removeEventListener(t,M,f,v),l[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let s;for(;s=t.match(optionsModifierRE);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(s,n.value),e,5,[s])};return n.value=t,n.attached=getNow(),n}function patchStopImmediatePropagation(t,e){if(isArray(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const isNativeOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,patchProp=(t,e,n,s,i,l)=>{const f=i==="svg";e==="class"?patchClass(t,s,f):e==="style"?patchStyle(t,n,s):isOn(e)?isModelListener(e)||patchEvent(t,e,n,s,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,s,f))?(patchDOMProp(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&patchAttr(t,e,s,f,l,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!isString(s))?patchDOMProp(t,camelize(e),s,l,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),patchAttr(t,e,s,f))};function shouldSetAsProp(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&isNativeOn(e)&&isFunction(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return isNativeOn(e)&&isString(n)?!1:e in t}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray(e)?n=>invokeArrayFns(e,n):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[assignKey]=getModelAssigner(i);const l=s||i.props&&i.props.type==="number";addEventListener(t,e?"change":"input",f=>{if(f.target.composing)return;let M=t.value;n&&(M=M.trim()),l&&(M=looseToNumber(M)),t[assignKey](M)}),n&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:l}},f){if(t[assignKey]=getModelAssigner(f),t.composing)return;const M=(l||t.type==="number")&&!/^0\d/.test(t.value)?looseToNumber(t.value):t.value,v=e==null?"":e;M!==v&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===v)||(t.value=v))}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(n=>t[`${n}Key`]&&!e.includes(n))},withModifiers=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...l)=>{for(let f=0;f<e.length;f++){const M=modifierGuards[e[f]];if(M&&M(i,e))return}return t(i,...l)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const l=hyphenate(i.key);if(e.some(f=>f===l||keyNames[f]===l))return t(i)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=normalizeContainer(s);if(!i)return;const l=e._component;!isFunction(l)&&!l.render&&!l.template&&(l.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const f=n(i,!1,resolveRootNamespace(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),f},e};function resolveRootNamespace(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function normalizeContainer(t){return isString(t)?document.querySelector(t):t}function getAugmentedNamespace(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(e,n){module.exports=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{var Ot;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Ct,e.bytesToString=m,e.createValidAbsoluteUrl=Tt,e.getModificationDate=bt,e.getVerbosityLevel=dt,e.info=ut,e.isArrayBuffer=ft,e.isArrayEqual=St,e.normalizeUnicode=Et,e.objectFromMap=T,e.objectSize=A,e.setVerbosityLevel=ot,e.shadow=Q,e.string32=a,e.stringToBytes=r,e.stringToPDFString=et,e.stringToUTF8String=it,e.unreachable=vt,e.utf8StringToString=ct,e.warn=gt;const n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;const s=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=s;const i=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=i;const l=1.35;e.LINE_FACTOR=l;const f=.35;e.LINE_DESCENT_FACTOR=f;const M=f/l;e.BASELINE_FACTOR=M;const v={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=v;const w={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=w;const c="pdfjs_internal_editor_";e.AnnotationEditorPrefix=c;const R={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=R;const O={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=O;const D={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=D;const E={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=E;const S={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=S;const b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=b;const F={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=F;const L={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=L;const N={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=N;const C={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=C;const o={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=o;const u={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=u;const _={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=_;const d={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=d;const y={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=y;const B={O:"PageOpen",C:"PageClose"};e.PageActionEventType=B;const g={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=g;const j={NONE:0,BINARY:1};e.CMapCompressionType=j;const X={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=X;const st={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=st;let at=g.WARNINGS;function ot(mt){Number.isInteger(mt)&&(at=mt)}function dt(){return at}function ut(mt){at>=g.INFOS&&console.log(`Info: ${mt}`)}function gt(mt){at>=g.WARNINGS&&console.log(`Warning: ${mt}`)}function vt(mt){throw new Error(mt)}function Ct(mt,U){mt||vt(U)}function xt(mt){switch(mt==null?void 0:mt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Tt(mt,U=null,W=null){if(!mt)return null;try{if(W&&typeof mt=="string"){if(W.addDefaultProtocol&&mt.startsWith("www.")){const yt=mt.match(/\./g);(yt==null?void 0:yt.length)>=2&&(mt=`http://${mt}`)}if(W.tryConvertEncoding)try{mt=it(mt)}catch{}}const pt=U?new URL(mt,U):new URL(mt);if(xt(pt))return pt}catch{}return null}function Q(mt,U,W,pt=!1){return Object.defineProperty(mt,U,{value:W,enumerable:!pt,configurable:!0,writable:!1}),W}const x=function(){function U(W,pt){this.constructor===U&&vt("Cannot initialize BaseException."),this.message=W,this.name=pt}return U.prototype=new Error,U.constructor=U,U}();e.BaseException=x;class k extends x{constructor(U,W){super(U,"PasswordException"),this.code=W}}e.PasswordException=k;class H extends x{constructor(U,W){super(U,"UnknownErrorException"),this.details=W}}e.UnknownErrorException=H;class K extends x{constructor(U){super(U,"InvalidPDFException")}}e.InvalidPDFException=K;class z extends x{constructor(U){super(U,"MissingPDFException")}}e.MissingPDFException=z;class Z extends x{constructor(U,W){super(U,"UnexpectedResponseException"),this.status=W}}e.UnexpectedResponseException=Z;class G extends x{constructor(U){super(U,"FormatError")}}e.FormatError=G;class q extends x{constructor(U){super(U,"AbortException")}}e.AbortException=q;function m(mt){(typeof mt!="object"||(mt==null?void 0:mt.length)===void 0)&&vt("Invalid argument for bytesToString");const U=mt.length,W=8192;if(U<W)return String.fromCharCode.apply(null,mt);const pt=[];for(let yt=0;yt<U;yt+=W){const Pt=Math.min(yt+W,U),kt=mt.subarray(yt,Pt);pt.push(String.fromCharCode.apply(null,kt))}return pt.join("")}function r(mt){typeof mt!="string"&&vt("Invalid argument for stringToBytes");const U=mt.length,W=new Uint8Array(U);for(let pt=0;pt<U;++pt)W[pt]=mt.charCodeAt(pt)&255;return W}function a(mt){return String.fromCharCode(mt>>24&255,mt>>16&255,mt>>8&255,mt&255)}function A(mt){return Object.keys(mt).length}function T(mt){const U=Object.create(null);for(const[W,pt]of mt)U[W]=pt;return U}function P(){const mt=new Uint8Array(4);return mt[0]=1,new Uint32Array(mt.buffer,0,1)[0]===1}function V(){try{return new Function(""),!0}catch{return!1}}class J{static get isLittleEndian(){return Q(this,"isLittleEndian",P())}static get isEvalSupported(){return Q(this,"isEvalSupported",V())}static get isOffscreenCanvasSupported(){return Q(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Q(this,"platform",{isWin:!1,isMac:!1}):Q(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}e.FeatureTest=J;const $=[...Array(256).keys()].map(mt=>mt.toString(16).padStart(2,"0"));class Y{static makeHexColor(U,W,pt){return`#${$[U]}${$[W]}${$[pt]}`}static scaleMinMax(U,W){let pt;U[0]?(U[0]<0&&(pt=W[0],W[0]=W[1],W[1]=pt),W[0]*=U[0],W[1]*=U[0],U[3]<0&&(pt=W[2],W[2]=W[3],W[3]=pt),W[2]*=U[3],W[3]*=U[3]):(pt=W[0],W[0]=W[2],W[2]=pt,pt=W[1],W[1]=W[3],W[3]=pt,U[1]<0&&(pt=W[2],W[2]=W[3],W[3]=pt),W[2]*=U[1],W[3]*=U[1],U[2]<0&&(pt=W[0],W[0]=W[1],W[1]=pt),W[0]*=U[2],W[1]*=U[2]),W[0]+=U[4],W[1]+=U[4],W[2]+=U[5],W[3]+=U[5]}static transform(U,W){return[U[0]*W[0]+U[2]*W[1],U[1]*W[0]+U[3]*W[1],U[0]*W[2]+U[2]*W[3],U[1]*W[2]+U[3]*W[3],U[0]*W[4]+U[2]*W[5]+U[4],U[1]*W[4]+U[3]*W[5]+U[5]]}static applyTransform(U,W){const pt=U[0]*W[0]+U[1]*W[2]+W[4],yt=U[0]*W[1]+U[1]*W[3]+W[5];return[pt,yt]}static applyInverseTransform(U,W){const pt=W[0]*W[3]-W[1]*W[2],yt=(U[0]*W[3]-U[1]*W[2]+W[2]*W[5]-W[4]*W[3])/pt,Pt=(-U[0]*W[1]+U[1]*W[0]+W[4]*W[1]-W[5]*W[0])/pt;return[yt,Pt]}static getAxialAlignedBoundingBox(U,W){const pt=Y.applyTransform(U,W),yt=Y.applyTransform(U.slice(2,4),W),Pt=Y.applyTransform([U[0],U[3]],W),kt=Y.applyTransform([U[2],U[1]],W);return[Math.min(pt[0],yt[0],Pt[0],kt[0]),Math.min(pt[1],yt[1],Pt[1],kt[1]),Math.max(pt[0],yt[0],Pt[0],kt[0]),Math.max(pt[1],yt[1],Pt[1],kt[1])]}static inverseTransform(U){const W=U[0]*U[3]-U[1]*U[2];return[U[3]/W,-U[1]/W,-U[2]/W,U[0]/W,(U[2]*U[5]-U[4]*U[3])/W,(U[4]*U[1]-U[5]*U[0])/W]}static singularValueDecompose2dScale(U){const W=[U[0],U[2],U[1],U[3]],pt=U[0]*W[0]+U[1]*W[2],yt=U[0]*W[1]+U[1]*W[3],Pt=U[2]*W[0]+U[3]*W[2],kt=U[2]*W[1]+U[3]*W[3],Mt=(pt+kt)/2,Ft=Math.sqrt((pt+kt)**2-4*(pt*kt-Pt*yt))/2,Dt=Mt+Ft||1,Rt=Mt-Ft||1;return[Math.sqrt(Dt),Math.sqrt(Rt)]}static normalizeRect(U){const W=U.slice(0);return U[0]>U[2]&&(W[0]=U[2],W[2]=U[0]),U[1]>U[3]&&(W[1]=U[3],W[3]=U[1]),W}static intersect(U,W){const pt=Math.max(Math.min(U[0],U[2]),Math.min(W[0],W[2])),yt=Math.min(Math.max(U[0],U[2]),Math.max(W[0],W[2]));if(pt>yt)return null;const Pt=Math.max(Math.min(U[1],U[3]),Math.min(W[1],W[3])),kt=Math.min(Math.max(U[1],U[3]),Math.max(W[1],W[3]));return Pt>kt?null:[pt,Pt,yt,kt]}static bezierBoundingBox(U,W,pt,yt,Pt,kt,Mt,Ft){const Dt=[],Rt=[[],[]];let jt,Lt,Bt,It,Vt,Wt,qt,$t;for(let Yt=0;Yt<2;++Yt){if(Yt===0?(Lt=6*U-12*pt+6*Pt,jt=-3*U+9*pt-9*Pt+3*Mt,Bt=3*pt-3*U):(Lt=6*W-12*yt+6*kt,jt=-3*W+9*yt-9*kt+3*Ft,Bt=3*yt-3*W),Math.abs(jt)<1e-12){if(Math.abs(Lt)<1e-12)continue;It=-Bt/Lt,0<It&&It<1&&Dt.push(It);continue}qt=Lt*Lt-4*Bt*jt,$t=Math.sqrt(qt),!(qt<0)&&(Vt=(-Lt+$t)/(2*jt),0<Vt&&Vt<1&&Dt.push(Vt),Wt=(-Lt-$t)/(2*jt),0<Wt&&Wt<1&&Dt.push(Wt))}let Ht=Dt.length,Ut;const zt=Ht;for(;Ht--;)It=Dt[Ht],Ut=1-It,Rt[0][Ht]=Ut*Ut*Ut*U+3*Ut*Ut*It*pt+3*Ut*It*It*Pt+It*It*It*Mt,Rt[1][Ht]=Ut*Ut*Ut*W+3*Ut*Ut*It*yt+3*Ut*It*It*kt+It*It*It*Ft;return Rt[0][zt]=U,Rt[1][zt]=W,Rt[0][zt+1]=Mt,Rt[1][zt+1]=Ft,Rt[0].length=Rt[1].length=zt+2,[Math.min(...Rt[0]),Math.min(...Rt[1]),Math.max(...Rt[0]),Math.max(...Rt[1])]}}e.Util=Y;const rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function et(mt){if(mt[0]>="\xEF"){let W;if(mt[0]==="\xFE"&&mt[1]==="\xFF"?W="utf-16be":mt[0]==="\xFF"&&mt[1]==="\xFE"?W="utf-16le":mt[0]==="\xEF"&&mt[1]==="\xBB"&&mt[2]==="\xBF"&&(W="utf-8"),W)try{const pt=new TextDecoder(W,{fatal:!0}),yt=r(mt);return pt.decode(yt)}catch(pt){gt(`stringToPDFString: "${pt}".`)}}const U=[];for(let W=0,pt=mt.length;W<pt;W++){const yt=rt[mt.charCodeAt(W)];U.push(yt?String.fromCharCode(yt):mt.charAt(W))}return U.join("")}function it(mt){return decodeURIComponent(escape(mt))}function ct(mt){return unescape(encodeURIComponent(mt))}function ft(mt){return typeof mt=="object"&&(mt==null?void 0:mt.byteLength)!==void 0}function St(mt,U){if(mt.length!==U.length)return!1;for(let W=0,pt=mt.length;W<pt;W++)if(mt[W]!==U[W])return!1;return!0}function bt(mt=new Date){return[mt.getUTCFullYear().toString(),(mt.getUTCMonth()+1).toString().padStart(2,"0"),mt.getUTCDate().toString().padStart(2,"0"),mt.getUTCHours().toString().padStart(2,"0"),mt.getUTCMinutes().toString().padStart(2,"0"),mt.getUTCSeconds().toString().padStart(2,"0")].join("")}class wt{constructor(){lt(this,Ot,!1);this.promise=new Promise((U,W)=>{this.resolve=pt=>{_t(this,Ot,!0),U(pt)},this.reject=pt=>{_t(this,Ot,!0),W(pt)}})}get settled(){return I(this,Ot)}}Ot=new WeakMap,e.PromiseCapability=wt;let nt=null,At=null;function Et(mt){return nt||(nt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,At=new Map([["\uFB05","\u017Ft"]])),mt.replaceAll(nt,(U,W,pt)=>W?W.normalize("NFKC"):At.get(pt))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,n,s,i,Zt,f,le,v,w,c,R,O,D,E,S,ge,F,L,me,C,o;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:_,NodeCMapReaderFactory:d,NodeFilterFactory:y,NodeStandardFontDataFactory:B}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=_,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=d,exports.DefaultFilterFactory=DefaultFilterFactory=y,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=B}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:_}=__w_pdfjs_require__(21);createPDFNetworkStream=d=>new _(d)}else{const{PDFNetworkStream:_}=__w_pdfjs_require__(24),{PDFFetchStream:d}=__w_pdfjs_require__(25);createPDFNetworkStream=y=>(0,_display_utils.isValidFetchUrl)(y.url)?new d(y):new _(y)}function getDocument(_){var ft,St;if(typeof _=="string"||_ instanceof URL?_={url:_}:(0,_util.isArrayBuffer)(_)&&(_={data:_}),typeof _!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_.url&&!_.data&&!_.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const d=new PDFDocumentLoadingTask,{docId:y}=d,B=_.url?getUrlProp(_.url):null,g=_.data?getDataProp(_.data):null,j=_.httpHeaders||null,X=_.withCredentials===!0,st=(ft=_.password)!=null?ft:null,at=_.range instanceof PDFDataRangeTransport?_.range:null,ot=Number.isInteger(_.rangeChunkSize)&&_.rangeChunkSize>0?_.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let dt=_.worker instanceof PDFWorker?_.worker:null;const ut=_.verbosity,gt=typeof _.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(_.docBaseUrl)?_.docBaseUrl:null,vt=typeof _.cMapUrl=="string"?_.cMapUrl:null,Ct=_.cMapPacked!==!1,xt=_.CMapReaderFactory||DefaultCMapReaderFactory,Tt=typeof _.standardFontDataUrl=="string"?_.standardFontDataUrl:null,Q=_.StandardFontDataFactory||DefaultStandardFontDataFactory,x=_.stopAtErrors!==!0,k=Number.isInteger(_.maxImageSize)&&_.maxImageSize>-1?_.maxImageSize:-1,H=_.isEvalSupported!==!1,K=typeof _.isOffscreenCanvasSupported=="boolean"?_.isOffscreenCanvasSupported:!_is_node.isNodeJS,z=Number.isInteger(_.canvasMaxAreaInBytes)?_.canvasMaxAreaInBytes:-1,Z=typeof _.disableFontFace=="boolean"?_.disableFontFace:_is_node.isNodeJS,G=_.fontExtraProperties===!0,q=_.enableXfa===!0,m=_.ownerDocument||globalThis.document,r=_.disableRange===!0,a=_.disableStream===!0,A=_.disableAutoFetch===!0,T=_.pdfBug===!0,P=at?at.length:(St=_.length)!=null?St:NaN,V=typeof _.useSystemFonts=="boolean"?_.useSystemFonts:!_is_node.isNodeJS&&!Z,J=typeof _.useWorkerFetch=="boolean"?_.useWorkerFetch:xt===_display_utils.DOMCMapReaderFactory&&Q===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(vt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Tt,document.baseURI),$=_.canvasFactory||new DefaultCanvasFactory({ownerDocument:m}),Y=_.filterFactory||new DefaultFilterFactory({docId:y,ownerDocument:m}),rt=null;(0,_util.setVerbosityLevel)(ut);const et={canvasFactory:$,filterFactory:Y};if(J||(et.cMapReaderFactory=new xt({baseUrl:vt,isCompressed:Ct}),et.standardFontDataFactory=new Q({baseUrl:Tt})),!dt){const bt={verbosity:ut,port:_worker_options.GlobalWorkerOptions.workerPort};dt=bt.port?PDFWorker.fromPort(bt):new PDFWorker(bt),d._worker=dt}const it={docId:y,apiVersion:"3.6.172",data:g,password:st,disableAutoFetch:A,rangeChunkSize:ot,length:P,docBaseUrl:gt,enableXfa:q,evaluatorOptions:{maxImageSize:k,disableFontFace:Z,ignoreErrors:x,isEvalSupported:H,isOffscreenCanvasSupported:K,canvasMaxAreaInBytes:z,fontExtraProperties:G,useSystemFonts:V,cMapUrl:J?vt:null,standardFontDataUrl:J?Tt:null}},ct={ignoreErrors:x,isEvalSupported:H,disableFontFace:Z,fontExtraProperties:G,enableXfa:q,ownerDocument:m,disableAutoFetch:A,pdfBug:T,styleElement:rt};return dt.promise.then(function(){if(d.destroyed)throw new Error("Loading aborted");const bt=_fetchDocument(dt,it),wt=new Promise(function(nt){let At;at?At=new _transport_stream.PDFDataTransportStream({length:P,initialData:at.initialData,progressiveDone:at.progressiveDone,contentDispositionFilename:at.contentDispositionFilename,disableRange:r,disableStream:a},at):g||(At=createPDFNetworkStream({url:B,length:P,httpHeaders:j,withCredentials:X,rangeChunkSize:ot,disableRange:r,disableStream:a})),nt(At)});return Promise.all([bt,wt]).then(function([nt,At]){if(d.destroyed)throw new Error("Loading aborted");const Et=new _message_handler.MessageHandler(y,nt,dt.port),Ot=new WorkerTransport(Et,d,At,ct,et);d._transport=Ot,Et.send("Ready",null)})}).catch(d._capability.reject),d}async function _fetchDocument(_,d){if(_.destroyed)throw new Error("Worker was destroyed");const y=await _.messageHandler.sendWithPromise("GetDocRequest",d,d.data?[d.data.buffer]:null);if(_.destroyed)throw new Error("Worker was destroyed");return y}function getUrlProp(_){if(_ instanceof URL)return _.href;try{return new URL(_,window.location).href}catch{if(_is_node.isNodeJS&&typeof _=="string")return _}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_){if(_is_node.isNodeJS&&typeof Buffer<"u"&&_ instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(_);if(_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength)return _;if(typeof _=="string")return(0,_util.stringToBytes)(_);if(typeof _=="object"&&!isNaN(_==null?void 0:_.length)||(0,_util.isArrayBuffer)(_))return new Uint8Array(_);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${oe(e,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var d;this.destroyed=!0,await((d=this._transport)==null?void 0:d.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=e;t=new WeakMap,lt(PDFDocumentLoadingTask,t,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(d,y,B=!1,g=null){this.length=d,this.initialData=y,this.progressiveDone=B,this.contentDispositionFilename=g,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(d){this._rangeListeners.push(d)}addProgressListener(d){this._progressListeners.push(d)}addProgressiveReadListener(d){this._progressiveReadListeners.push(d)}addProgressiveDoneListener(d){this._progressiveDoneListeners.push(d)}onDataRange(d,y){for(const B of this._rangeListeners)B(d,y)}onDataProgress(d,y){this._readyCapability.promise.then(()=>{for(const B of this._progressListeners)B(d,y)})}onDataProgressiveRead(d){this._readyCapability.promise.then(()=>{for(const y of this._progressiveReadListeners)y(d)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const d of this._progressiveDoneListeners)d()})}transportReady(){this._readyCapability.resolve()}requestDataRange(d,y){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(d,y){this._pdfInfo=d,this._transport=y}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(d){return this._transport.getPage(d)}getPageIndex(d){return this._transport.getPageIndex(d)}getDestinations(){return this._transport.getDestinations()}getDestination(d){return this._transport.getDestination(d)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(d=!1){return this._transport.startCleanup(d||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(d,y,B,g=!1){lt(this,i);lt(this,f);lt(this,n,null);lt(this,s,!1);this._pageIndex=d,this._pageInfo=y,this._transport=B,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=B.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:d,rotation:y=this.rotate,offsetX:B=0,offsetY:g=0,dontFlip:j=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:d,rotation:y,offsetX:B,offsetY:g,dontFlip:j})}getAnnotations({intent:d="display"}={}){const y=this._transport.getRenderingIntent(d);return this._transport.getAnnotations(this._pageIndex,y.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var d;return((d=this._transport._htmlForXfa)==null?void 0:d.children[this._pageIndex])||null}render({canvasContext:d,viewport:y,intent:B="display",annotationMode:g=_util.AnnotationMode.ENABLE,transform:j=null,background:X=null,optionalContentConfigPromise:st=null,annotationCanvasMap:at=null,pageColors:ot=null,printAnnotationStorage:dt=null}){var Q,x,k;if((Q=arguments[0])!=null&&Q.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");(x=this._stats)==null||x.time("Overall");const ut=this._transport.getRenderingIntent(B,g,dt);_t(this,s,!1),ht(this,f,le).call(this),st||(st=this._transport.getOptionalContentConfig());let gt=this._intentStates.get(ut.cacheKey);gt||(gt=Object.create(null),this._intentStates.set(ut.cacheKey,gt)),gt.streamReaderCancelTimeout&&(clearTimeout(gt.streamReaderCancelTimeout),gt.streamReaderCancelTimeout=null);const vt=!!(ut.renderingIntent&_util.RenderingIntentFlag.PRINT);gt.displayReadyCapability||(gt.displayReadyCapability=new _util.PromiseCapability,gt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(ut));const Ct=H=>{var K,z;gt.renderTasks.delete(xt),(this._maybeCleanupAfterRender||vt)&&_t(this,s,!0),ht(this,i,Zt).call(this,!vt),H?(xt.capability.reject(H),this._abortOperatorList({intentState:gt,reason:H instanceof Error?H:new Error(H)})):xt.capability.resolve(),(K=this._stats)==null||K.timeEnd("Rendering"),(z=this._stats)==null||z.timeEnd("Overall")},xt=new InternalRenderTask({callback:Ct,params:{canvasContext:d,viewport:y,transform:j,background:X},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:at,operatorList:gt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!vt,pdfBug:this._pdfBug,pageColors:ot});(gt.renderTasks||(gt.renderTasks=new Set)).add(xt);const Tt=xt.task;return Promise.all([gt.displayReadyCapability.promise,st]).then(([H,K])=>{var z;if(I(this,s)){Ct();return}(z=this._stats)==null||z.time("Rendering"),xt.initializeGraphics({transparency:H,optionalContentConfig:K}),xt.operatorListChanged()}).catch(Ct),Tt}getOperatorList({intent:d="display",annotationMode:y=_util.AnnotationMode.ENABLE,printAnnotationStorage:B=null}={}){var at;function g(){X.operatorList.lastChunk&&(X.opListReadCapability.resolve(X.operatorList),X.renderTasks.delete(st))}const j=this._transport.getRenderingIntent(d,y,B,!0);let X=this._intentStates.get(j.cacheKey);X||(X=Object.create(null),this._intentStates.set(j.cacheKey,X));let st;return X.opListReadCapability||(st=Object.create(null),st.operatorListChanged=g,X.opListReadCapability=new _util.PromiseCapability,(X.renderTasks||(X.renderTasks=new Set)).add(st),X.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(at=this._stats)==null||at.time("Page Request"),this._pumpOperatorList(j)),X.opListReadCapability.promise}streamTextContent({includeMarkedContent:d=!1,disableNormalization:y=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:d===!0,disableNormalization:y===!0},{highWaterMark:100,size(g){return g.items.length}})}getTextContent(d={}){if(this._transport._htmlForXfa)return this.getXfa().then(B=>_xfa_text.XfaText.textContent(B));const y=this.streamTextContent(d);return new Promise(function(B,g){function j(){X.read().then(function({value:at,done:ot}){if(ot){B(st);return}Object.assign(st.styles,at.styles),st.items.push(...at.items),j()},g)}const X=y.getReader(),st={items:[],styles:Object.create(null)};j()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const d=[];for(const y of this._intentStates.values())if(this._abortOperatorList({intentState:y,reason:new Error("Page was destroyed."),force:!0}),!y.opListReadCapability)for(const B of y.renderTasks)d.push(B.completed),B.cancel();return this.objs.clear(),_t(this,s,!1),ht(this,f,le).call(this),Promise.all(d)}cleanup(d=!1){_t(this,s,!0);const y=ht(this,i,Zt).call(this,!1);return d&&y&&this._stats&&(this._stats=new _display_utils.StatTimer),y}_startRenderPage(d,y){var g,j;const B=this._intentStates.get(y);!B||((g=this._stats)==null||g.timeEnd("Page Request"),(j=B.displayReadyCapability)==null||j.resolve(d))}_renderPageChunk(d,y){for(let B=0,g=d.length;B<g;B++)y.operatorList.fnArray.push(d.fnArray[B]),y.operatorList.argsArray.push(d.argsArray[B]);y.operatorList.lastChunk=d.lastChunk,y.operatorList.separateAnnots=d.separateAnnots;for(const B of y.renderTasks)B.operatorListChanged();d.lastChunk&&ht(this,i,Zt).call(this,!0)}_pumpOperatorList({renderingIntent:d,cacheKey:y,annotationStorageMap:B}){const j=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:d,cacheKey:y,annotationStorage:B}).getReader(),X=this._intentStates.get(y);X.streamReader=j;const st=()=>{j.read().then(({value:at,done:ot})=>{if(ot){X.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(at,X),st())},at=>{if(X.streamReader=null,!this._transport.destroyed){if(X.operatorList){X.operatorList.lastChunk=!0;for(const ot of X.renderTasks)ot.operatorListChanged();ht(this,i,Zt).call(this,!0)}if(X.displayReadyCapability)X.displayReadyCapability.reject(at);else if(X.opListReadCapability)X.opListReadCapability.reject(at);else throw at}})};st()}_abortOperatorList({intentState:d,reason:y,force:B=!1}){if(!!d.streamReader){if(d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null),!B){if(d.renderTasks.size>0)return;if(y instanceof _display_utils.RenderingCancelledException){let g=RENDERING_CANCELLED_TIMEOUT;y.extraDelay>0&&y.extraDelay<1e3&&(g+=y.extraDelay),d.streamReaderCancelTimeout=setTimeout(()=>{d.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:d,reason:y,force:!0})},g);return}}if(d.streamReader.cancel(new _util.AbortException(y.message)).catch(()=>{}),d.streamReader=null,!this._transport.destroyed){for(const[g,j]of this._intentStates)if(j===d){this._intentStates.delete(g);break}this.cleanup()}}}get stats(){return this._stats}}n=new WeakMap,s=new WeakMap,i=new WeakSet,Zt=function(d=!1){if(ht(this,f,le).call(this),!I(this,s))return!1;if(d)return _t(this,n,setTimeout(()=>{_t(this,n,null),ht(this,i,Zt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:y,operatorList:B}of this._intentStates.values())if(y.size>0||!B.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_t(this,s,!1),!0},f=new WeakSet,le=function(){I(this,n)&&(clearTimeout(I(this,n)),_t(this,n,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){lt(this,v,new Set);lt(this,w,Promise.resolve())}postMessage(d,y){const B={data:structuredClone(d,y?{transfer:y}:null)};I(this,w).then(()=>{for(const g of I(this,v))g.call(this,B)})}addEventListener(d,y){I(this,v).add(y)}removeEventListener(d,y){I(this,v).delete(y)}terminate(){I(this,v).clear()}}v=new WeakMap,w=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const _=(c=document==null?void 0:document.currentScript)==null?void 0:c.src;_&&(PDFWorkerUtil.fallbackWorkerSrc=_.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(_,d){let y;try{if(y=new URL(_),!y.origin||y.origin==="null")return!1}catch{return!1}const B=new URL(d,y);return y.origin===B.origin},PDFWorkerUtil.createCDNWrapper=function(_){const d=`importScripts("${_}");`;return URL.createObjectURL(new Blob([d]))}}const _PDFWorker=class{constructor({name:_=null,port:d=null,verbosity:y=(0,_util.getVerbosityLevel)()}={}){if(d&&I(_PDFWorker,R).has(d))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=_,this.destroyed=!1,this.verbosity=y,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,d){I(_PDFWorker,R).set(d,this),this._initializeFromPort(d);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(_){this._port=_,this._messageHandler=new _message_handler.MessageHandler("main","worker",_),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:_}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,_)||(_=PDFWorkerUtil.createCDNWrapper(new URL(_,window.location).href));const d=new Worker(_),y=new _message_handler.MessageHandler("main","worker",d),B=()=>{d.removeEventListener("error",g),y.destroy(),d.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},g=()=>{this._webWorker||B()};d.addEventListener("error",g),y.on("test",X=>{if(d.removeEventListener("error",g),this.destroyed){B();return}X?(this._messageHandler=y,this._port=d,this._webWorker=d,this._readyCapability.resolve(),y.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),y.destroy(),d.terminate())}),y.on("ready",X=>{if(d.removeEventListener("error",g),this.destroyed){B();return}try{j()}catch{this._setupFakeWorker()}});const j=()=>{const X=new Uint8Array;y.send("test",X,[X.buffer])};j();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(_=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const d=new LoopbackPort;this._port=d;const y=`fake${PDFWorkerUtil.fakeWorkerId++}`,B=new _message_handler.MessageHandler(y+"_worker",y,d);_.setup(B,d);const g=new _message_handler.MessageHandler(y,y+"_worker",d);this._messageHandler=g,this._readyCapability.resolve(),g.send("configure",{verbosity:this.verbosity})}).catch(_=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${_.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),I(_PDFWorker,R).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(_){if(!(_!=null&&_.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return I(this,R).has(_.port)?I(this,R).get(_.port):new _PDFWorker(_)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var _;try{return((_=globalThis.pdfjsWorker)==null?void 0:_.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;R=new WeakMap,lt(PDFWorker,R,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(d,y,B,g,j){lt(this,S);lt(this,O,new Map);lt(this,D,new Map);lt(this,E,new Map);this.messageHandler=d,this.loadingTask=y,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:g.ownerDocument,styleElement:g.styleElement}),this._params=g,this.canvasFactory=j.canvasFactory,this.filterFactory=j.filterFactory,this.cMapReaderFactory=j.cMapReaderFactory,this.standardFontDataFactory=j.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=B,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(d,y=_util.AnnotationMode.ENABLE,B=null,g=!1){let j=_util.RenderingIntentFlag.DISPLAY,X=null;switch(d){case"any":j=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":j=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${d}`)}switch(y){case _util.AnnotationMode.DISABLE:j+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:j+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:j+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,X=(j&_util.RenderingIntentFlag.PRINT&&B instanceof _annotation_storage.PrintAnnotationStorage?B:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${y}`)}return g&&(j+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:j,cacheKey:`${j}_${_annotation_storage.AnnotationStorage.getHash(X)}`,annotationStorageMap:X}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const d=[];for(const B of I(this,D).values())d.push(B._destroy());I(this,D).clear(),I(this,E).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const y=this.messageHandler.sendWithPromise("Terminate",null);return d.push(y),Promise.all(d).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),I(this,O).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:d,loadingTask:y}=this;d.on("GetReader",(B,g)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=j=>{this._lastProgress={loaded:j.loaded,total:j.total}},g.onPull=()=>{this._fullReader.read().then(function({value:j,done:X}){if(X){g.close();return}(0,_util.assert)(j instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(j),1,[j])}).catch(j=>{g.error(j)})},g.onCancel=j=>{this._fullReader.cancel(j),g.ready.catch(X=>{if(!this.destroyed)throw X})}}),d.on("ReaderHeadersReady",B=>{const g=new _util.PromiseCapability,j=this._fullReader;return j.headersReady.then(()=>{var X;(!j.isStreamingSupported||!j.isRangeSupported)&&(this._lastProgress&&((X=y.onProgress)==null||X.call(y,this._lastProgress)),j.onProgress=st=>{var at;(at=y.onProgress)==null||at.call(y,{loaded:st.loaded,total:st.total})}),g.resolve({isStreamingSupported:j.isStreamingSupported,isRangeSupported:j.isRangeSupported,contentLength:j.contentLength})},g.reject),g.promise}),d.on("GetRangeReader",(B,g)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const j=this._networkStream.getRangeReader(B.begin,B.end);if(!j){g.close();return}g.onPull=()=>{j.read().then(function({value:X,done:st}){if(st){g.close();return}(0,_util.assert)(X instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(X),1,[X])}).catch(X=>{g.error(X)})},g.onCancel=X=>{j.cancel(X),g.ready.catch(st=>{if(!this.destroyed)throw st})}}),d.on("GetDoc",({pdfInfo:B})=>{this._numPages=B.numPages,this._htmlForXfa=B.htmlForXfa,delete B.htmlForXfa,y._capability.resolve(new PDFDocumentProxy(B,this))}),d.on("DocException",function(B){let g;switch(B.name){case"PasswordException":g=new _util.PasswordException(B.message,B.code);break;case"InvalidPDFException":g=new _util.InvalidPDFException(B.message);break;case"MissingPDFException":g=new _util.MissingPDFException(B.message);break;case"UnexpectedResponseException":g=new _util.UnexpectedResponseException(B.message,B.status);break;case"UnknownErrorException":g=new _util.UnknownErrorException(B.message,B.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}y._capability.reject(g)}),d.on("PasswordRequest",B=>{if(this._passwordCapability=new _util.PromiseCapability,y.onPassword){const g=j=>{j instanceof Error?this._passwordCapability.reject(j):this._passwordCapability.resolve({password:j})};try{y.onPassword(g,B.code)}catch(j){this._passwordCapability.reject(j)}}else this._passwordCapability.reject(new _util.PasswordException(B.message,B.code));return this._passwordCapability.promise}),d.on("DataLoaded",B=>{var g;(g=y.onProgress)==null||g.call(y,{loaded:B.length,total:B.length}),this.downloadInfoCapability.resolve(B)}),d.on("StartRenderPage",B=>{if(this.destroyed)return;I(this,D).get(B.pageIndex)._startRenderPage(B.transparency,B.cacheKey)}),d.on("commonobj",([B,g,j])=>{var X;if(!this.destroyed&&!this.commonObjs.has(B))switch(g){case"Font":const st=this._params;if("error"in j){const dt=j.error;(0,_util.warn)(`Error during font loading: ${dt}`),this.commonObjs.resolve(B,dt);break}const at=st.pdfBug&&((X=globalThis.FontInspector)==null?void 0:X.enabled)?(dt,ut)=>globalThis.FontInspector.fontAdded(dt,ut):null,ot=new _font_loader.FontFaceObject(j,{isEvalSupported:st.isEvalSupported,disableFontFace:st.disableFontFace,ignoreErrors:st.ignoreErrors,inspectFont:at});this.fontLoader.bind(ot).catch(dt=>d.sendWithPromise("FontFallback",{id:B})).finally(()=>{!st.fontExtraProperties&&ot.data&&(ot.data=null),this.commonObjs.resolve(B,ot)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(B,j);break;default:throw new Error(`Got unknown common object type ${g}`)}}),d.on("obj",([B,g,j,X])=>{var at;if(this.destroyed)return;const st=I(this,D).get(g);if(!st.objs.has(B))switch(j){case"Image":if(st.objs.resolve(B,X),X){let ot;if(X.bitmap){const{width:dt,height:ut}=X;ot=dt*ut*4}else ot=((at=X.data)==null?void 0:at.length)||0;ot>_util.MAX_IMAGE_SIZE_TO_CACHE&&(st._maybeCleanupAfterRender=!0)}break;case"Pattern":st.objs.resolve(B,X);break;default:throw new Error(`Got unknown object type ${j}`)}}),d.on("DocProgress",B=>{var g;this.destroyed||(g=y.onProgress)==null||g.call(y,{loaded:B.loaded,total:B.total})}),d.on("FetchBuiltInCMap",B=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(B):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),d.on("FetchStandardFontData",B=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(B):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var d,y;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(y=(d=this._fullReader)==null?void 0:d.filename)!=null?y:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(d){if(!Number.isInteger(d)||d<=0||d>this._numPages)return Promise.reject(new Error("Invalid page request."));const y=d-1,B=I(this,E).get(y);if(B)return B;const g=this.messageHandler.sendWithPromise("GetPage",{pageIndex:y}).then(j=>{if(this.destroyed)throw new Error("Transport destroyed");const X=new PDFPageProxy(y,j,this,this._params.pdfBug);return I(this,D).set(y,X),X});return I(this,E).set(y,g),g}getPageIndex(d){return typeof d!="object"||d===null||!Number.isInteger(d.num)||d.num<0||!Number.isInteger(d.gen)||d.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:d.num,gen:d.gen})}getAnnotations(d,y){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:d,intent:y})}getFieldObjects(){return ht(this,S,ge).call(this,"GetFieldObjects")}hasJSActions(){return ht(this,S,ge).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(d){return typeof d!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:d})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(d){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:d})}getStructTree(d){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:d})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(d=>new _optional_content_config.OptionalContentConfig(d))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const d="GetMetadata",y=I(this,O).get(d);if(y)return y;const B=this.messageHandler.sendWithPromise(d,null).then(g=>{var j,X,st,at;return{info:g[0],metadata:g[1]?new _metadata.Metadata(g[1]):null,contentDispositionFilename:(X=(j=this._fullReader)==null?void 0:j.filename)!=null?X:null,contentLength:(at=(st=this._fullReader)==null?void 0:st.contentLength)!=null?at:null}});return I(this,O).set(d,B),B}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(d=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const y of I(this,D).values())if(!y.cleanup())throw new Error(`startCleanup: Page ${y.pageNumber} is currently rendering.`);this.commonObjs.clear(),d||this.fontLoader.clear(),I(this,O).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:d,enableXfa:y}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:d,enableXfa:y})}}O=new WeakMap,D=new WeakMap,E=new WeakMap,S=new WeakSet,ge=function(d,y=null){const B=I(this,O).get(d);if(B)return B;const g=this.messageHandler.sendWithPromise(d,y);return I(this,O).set(d,g),g};class PDFObjects{constructor(){lt(this,L);lt(this,F,Object.create(null))}get(d,y=null){if(y){const g=ht(this,L,me).call(this,d);return g.capability.promise.then(()=>y(g.data)),null}const B=I(this,F)[d];if(!(B!=null&&B.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${d}.`);return B.data}has(d){const y=I(this,F)[d];return(y==null?void 0:y.capability.settled)||!1}resolve(d,y=null){const B=ht(this,L,me).call(this,d);B.data=y,B.capability.resolve()}clear(){var d;for(const y in I(this,F)){const{data:B}=I(this,F)[y];(d=B==null?void 0:B.bitmap)==null||d.close()}_t(this,F,Object.create(null))}}F=new WeakMap,L=new WeakSet,me=function(d){const y=I(this,F)[d];return y||(I(this,F)[d]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(d){lt(this,C,null);_t(this,C,d),this.onContinue=null}get promise(){return I(this,C).capability.promise}cancel(d=0){I(this,C).cancel(null,d)}get separateAnnots(){const{separateAnnots:d}=I(this,C).operatorList;if(!d)return!1;const{annotationCanvasMap:y}=I(this,C);return d.form||d.canvas&&(y==null?void 0:y.size)>0}}C=new WeakMap,exports.RenderTask=RenderTask;const u=class{constructor({callback:d,params:y,objs:B,commonObjs:g,annotationCanvasMap:j,operatorList:X,pageIndex:st,canvasFactory:at,filterFactory:ot,useRequestAnimationFrame:dt=!1,pdfBug:ut=!1,pageColors:gt=null}){this.callback=d,this.params=y,this.objs=B,this.commonObjs=g,this.annotationCanvasMap=j,this.operatorListIdx=null,this.operatorList=X,this._pageIndex=st,this.canvasFactory=at,this.filterFactory=ot,this._pdfBug=ut,this.pageColors=gt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=dt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=y.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:d=!1,optionalContentConfig:y}){var st,at;if(this.cancelled)return;if(this._canvas){if(I(u,o).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");I(u,o).add(this._canvas)}this._pdfBug&&((st=globalThis.StepperManager)==null?void 0:st.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:B,viewport:g,transform:j,background:X}=this.params;this.gfx=new _canvas.CanvasGraphics(B,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:y},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:j,viewport:g,transparency:d,background:X}),this.operatorListIdx=0,this.graphicsReady=!0,(at=this.graphicsReadyCallback)==null||at.call(this)}cancel(d=null,y=0){var B;this.running=!1,this.cancelled=!0,(B=this.gfx)==null||B.endDrawing(),this._canvas&&I(u,o).delete(this._canvas),this.callback(d||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",y))}operatorListChanged(){var d;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(d=this.stepper)==null||d.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&I(u,o).delete(this._canvas),this.callback())))}};let InternalRenderTask=u;o=new WeakMap,lt(InternalRenderTask,o,new WeakSet);const version="3.6.172";exports.version=version;const build="4d3dfe254";exports.build=build},(t,e,n)=>{var v,w,c,Ne,O;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var s=n(1),i=n(4),l=n(8);class f{constructor(){lt(this,c);lt(this,v,!1);lt(this,w,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(E,S){const b=I(this,w).get(E);return b===void 0?S:Object.assign(S,b)}getRawValue(E){return I(this,w).get(E)}remove(E){if(I(this,w).delete(E),I(this,w).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const S of I(this,w).values())if(S instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(E,S){const b=I(this,w).get(E);let F=!1;if(b!==void 0)for(const[L,N]of Object.entries(S))b[L]!==N&&(F=!0,b[L]=N);else F=!0,I(this,w).set(E,S);F&&ht(this,c,Ne).call(this),S instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(S.constructor._type)}has(E){return I(this,w).has(E)}getAll(){return I(this,w).size>0?(0,s.objectFromMap)(I(this,w)):null}setAll(E){for(const[S,b]of Object.entries(E))this.setValue(S,b)}get size(){return I(this,w).size}resetModified(){I(this,v)&&(_t(this,v,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new M(this)}get serializable(){if(I(this,w).size===0)return null;const E=new Map;for(const[S,b]of I(this,w)){const F=b instanceof i.AnnotationEditor?b.serialize():b;F&&E.set(S,F)}return E}static getHash(E){if(!E)return"";const S=new l.MurmurHash3_64;for(const[b,F]of E)S.update(`${b}:${JSON.stringify(F)}`);return S.hexdigest()}}v=new WeakMap,w=new WeakMap,c=new WeakSet,Ne=function(){I(this,v)||(_t(this,v,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=f;class M extends f{constructor(S){super();lt(this,O,null);_t(this,O,structuredClone(S.serializable))}get print(){(0,s.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return I(this,O)}}O=new WeakMap,e.PrintAnnotationStorage=M},(t,e,n)=>{var f,M,v,w,c,R;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var s=n(5),i=n(1);const O=class{constructor(E){lt(this,f,this.focusin.bind(this));lt(this,M,this.focusout.bind(this));lt(this,v,!1);lt(this,w,!1);lt(this,c,!1);Nt(this,"_uiManager",null);lt(this,R,O._zIndex++);this.constructor===O&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=E.parent,this.id=E.id,this.width=this.height=null,this.pageIndex=E.parent.pageIndex,this.name=E.name,this.div=null,this._uiManager=E.uiManager;const{rotation:S,rawDims:{pageWidth:b,pageHeight:F,pageX:L,pageY:N}}=this.parent.viewport;this.rotation=S,this.pageRotation=(360+S-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[b,F],this.pageTranslation=[L,N];const[C,o]=this.parentDimensions;this.x=E.x/C,this.y=E.y/o,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(E){this._uiManager.addCommands(E)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=I(this,R)}setParent(E){E!==null&&(this.pageIndex=E.pageIndex,this.pageDimensions=E.pageDimensions),this.parent=E}focusin(E){I(this,v)?_t(this,v,!1):this.parent.setSelected(this)}focusout(E){var b;if(!this.isAttachedToDOM)return;const S=E.relatedTarget;S!=null&&S.closest(`#${this.id}`)||(E.preventDefault(),(b=this.parent)!=null&&b.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(E){const S=this.parent.div.getBoundingClientRect();this.startX=E.clientX-S.x,this.startY=E.clientY-S.y,E.dataTransfer.setData("text/plain",this.id),E.dataTransfer.effectAllowed="move"}setAt(E,S,b,F){const[L,N]=this.parentDimensions;[b,F]=this.screenToPageTranslation(b,F),this.x=(E+b)/L,this.y=(S+F)/N,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(E,S){const[b,F]=this.parentDimensions;[E,S]=this.screenToPageTranslation(E,S),this.x+=E/b,this.y+=S/F,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(E,S){switch(this.parentRotation){case 90:return[S,-E];case 180:return[-E,-S];case 270:return[-S,E];default:return[E,S]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:E}=this._uiManager.viewParameters,[S,b]=this.pageDimensions;return[S*E,b*E]}setDims(E,S){const[b,F]=this.parentDimensions;this.div.style.width=`${100*E/b}%`,this.div.style.height=`${100*S/F}%`}fixDims(){const{style:E}=this.div,{height:S,width:b}=E,F=b.endsWith("%"),L=S.endsWith("%");if(F&&L)return;const[N,C]=this.parentDimensions;F||(E.width=`${100*parseFloat(b)/N}%`),L||(E.height=`${100*parseFloat(S)/C}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",I(this,f)),this.div.addEventListener("focusout",I(this,M));const[E,S]=this.getInitialTranslation();return this.translate(E,S),(0,s.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(E){const{isMac:S}=i.FeatureTest.platform;if(E.button!==0||E.ctrlKey&&S){E.preventDefault();return}E.ctrlKey&&!S||E.shiftKey||E.metaKey&&S?this.parent.toggleSelected(this):this.parent.setSelected(this),_t(this,v,!0)}getRect(E,S){const b=this.parentScale,[F,L]=this.pageDimensions,[N,C]=this.pageTranslation,o=E/b,u=S/b,_=this.x*F,d=this.y*L,y=this.width*F,B=this.height*L;switch(this.rotation){case 0:return[_+o+N,L-d-u-B+C,_+o+y+N,L-d-u+C];case 90:return[_+u+N,L-d+o+C,_+u+B+N,L-d+o+y+C];case 180:return[_-o-y+N,L-d+u+C,_-o+N,L-d+u+B+C];case 270:return[_-u-B+N,L-d-o-y+C,_-u+N,L-d-o+C];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(E,S){const[b,F,L,N]=E,C=L-b,o=N-F;switch(this.rotation){case 0:return[b,S-N,C,o];case 90:return[b,S-F,o,C];case 180:return[L,S-F,C,o];case 270:return[L,S-N,o,C];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_t(this,c,!0)}disableEditMode(){_t(this,c,!1)}isInEditMode(){return I(this,c)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var E;(E=this.div)==null||E.addEventListener("focusin",I(this,f))}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(E,S,b){const F=new this.prototype.constructor({parent:S,id:S.getNextId(),uiManager:b});F.rotation=E.rotation;const[L,N]=F.pageDimensions,[C,o,u,_]=F.getRectInCurrentCoords(E.rect,N);return F.x=C/L,F.y=o/N,F.width=u/L,F.height=_/N,F}remove(){this.div.removeEventListener("focusin",I(this,f)),this.div.removeEventListener("focusout",I(this,M)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var E;(E=this.div)==null||E.classList.add("selectedEditor")}unselect(){var E;(E=this.div)==null||E.classList.remove("selectedEditor")}updateParams(E,S){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return I(this,w)}set isEditing(E){_t(this,w,E),E?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let l=O;f=new WeakMap,M=new WeakMap,v=new WeakMap,w=new WeakMap,c=new WeakMap,R=new WeakMap,Nt(l,"_colorManager",new s.ColorManager),Nt(l,"_zIndex",1),e.AnnotationEditor=l},(t,e,n)=>{var O,D,E,S,b,F,Be,C,o,u,_,d,y,B,g,j,X,st,at,ot,dt,ut,gt,vt,Ct,xt,Tt,Q,x,k,H,je,z,be,G,He,m,Ue,a,Gt,T,se,V,Ve,$,We,rt,_e,it,ie,ft,Ae;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=l,e.opacityToHex=f;var s=n(1),i=n(6);function l(wt,nt,At){for(const Et of At)nt.addEventListener(Et,wt[Et].bind(wt))}function f(wt){return Math.round(Math.min(255,Math.max(1,255*wt))).toString(16).padStart(2,"0")}class M{constructor(){lt(this,O,0)}getId(){return`${s.AnnotationEditorPrefix}${oe(this,O)._++}`}}O=new WeakMap;class v{constructor(nt=128){lt(this,D,[]);lt(this,E,!1);lt(this,S,void 0);lt(this,b,-1);_t(this,S,nt)}add({cmd:nt,undo:At,mustExec:Et,type:Ot=NaN,overwriteIfSameType:mt=!1,keepUndo:U=!1}){if(Et&&nt(),I(this,E))return;const W={cmd:nt,undo:At,type:Ot};if(I(this,b)===-1){I(this,D).length>0&&(I(this,D).length=0),_t(this,b,0),I(this,D).push(W);return}if(mt&&I(this,D)[I(this,b)].type===Ot){U&&(W.undo=I(this,D)[I(this,b)].undo),I(this,D)[I(this,b)]=W;return}const pt=I(this,b)+1;pt===I(this,S)?I(this,D).splice(0,1):(_t(this,b,pt),pt<I(this,D).length&&I(this,D).splice(pt)),I(this,D).push(W)}undo(){I(this,b)!==-1&&(_t(this,E,!0),I(this,D)[I(this,b)].undo(),_t(this,E,!1),_t(this,b,I(this,b)-1))}redo(){I(this,b)<I(this,D).length-1&&(_t(this,b,I(this,b)+1),_t(this,E,!0),I(this,D)[I(this,b)].cmd(),_t(this,E,!1))}hasSomethingToUndo(){return I(this,b)!==-1}hasSomethingToRedo(){return I(this,b)<I(this,D).length-1}destroy(){_t(this,D,null)}}D=new WeakMap,E=new WeakMap,S=new WeakMap,b=new WeakMap,e.CommandManager=v;class w{constructor(nt){lt(this,F);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:At}=s.FeatureTest.platform;for(const[Et,Ot]of nt)for(const mt of Et){const U=mt.startsWith("mac+");At&&U?(this.callbacks.set(mt.slice(4),Ot),this.allKeys.add(mt.split("+").at(-1))):!At&&!U&&(this.callbacks.set(mt,Ot),this.allKeys.add(mt.split("+").at(-1)))}}exec(nt,At){if(!this.allKeys.has(At.key))return;const Et=this.callbacks.get(ht(this,F,Be).call(this,At));!Et||(Et.bind(nt)(),At.stopPropagation(),At.preventDefault())}}F=new WeakSet,Be=function(nt){nt.altKey&&this.buffer.push("alt"),nt.ctrlKey&&this.buffer.push("ctrl"),nt.metaKey&&this.buffer.push("meta"),nt.shiftKey&&this.buffer.push("shift"),this.buffer.push(nt.key);const At=this.buffer.join("+");return this.buffer.length=0,At},e.KeyboardManager=w;const N=class{get _colors(){const nt=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(nt),(0,s.shadow)(this,"_colors",nt)}convert(nt){const At=(0,i.getRGB)(nt);if(!window.matchMedia("(forced-colors: active)").matches)return At;for(const[Et,Ot]of this._colors)if(Ot.every((mt,U)=>mt===At[U]))return N._colorsMapping.get(Et);return At}getHexCode(nt){const At=this._colors.get(nt);return At?s.Util.makeHexColor(...At):nt}};let c=N;Nt(c,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),e.ColorManager=c;const bt=class{constructor(nt,At,Et){lt(this,H);lt(this,z);lt(this,G);lt(this,m);lt(this,a);lt(this,T);lt(this,V);lt(this,$);lt(this,rt);lt(this,it);lt(this,ft);lt(this,C,null);lt(this,o,new Map);lt(this,u,new Map);lt(this,_,null);lt(this,d,new v);lt(this,y,0);lt(this,B,null);lt(this,g,new Set);lt(this,j,null);lt(this,X,new M);lt(this,st,!1);lt(this,at,s.AnnotationEditorType.NONE);lt(this,ot,new Set);lt(this,dt,this.copy.bind(this));lt(this,ut,this.cut.bind(this));lt(this,gt,this.paste.bind(this));lt(this,vt,this.keydown.bind(this));lt(this,Ct,this.onEditingAction.bind(this));lt(this,xt,this.onPageChanging.bind(this));lt(this,Tt,this.onScaleChanging.bind(this));lt(this,Q,this.onRotationChanging.bind(this));lt(this,x,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});lt(this,k,null);_t(this,k,nt),_t(this,j,At),I(this,j)._on("editingaction",I(this,Ct)),I(this,j)._on("pagechanging",I(this,xt)),I(this,j)._on("scalechanging",I(this,Tt)),I(this,j)._on("rotationchanging",I(this,Q)),_t(this,_,Et),this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ht(this,z,be).call(this),I(this,j)._off("editingaction",I(this,Ct)),I(this,j)._off("pagechanging",I(this,xt)),I(this,j)._off("scalechanging",I(this,Tt)),I(this,j)._off("rotationchanging",I(this,Q));for(const nt of I(this,u).values())nt.destroy();I(this,u).clear(),I(this,o).clear(),I(this,g).clear(),_t(this,C,null),I(this,ot).clear(),I(this,d).destroy()}onPageChanging({pageNumber:nt}){_t(this,y,nt-1)}focusMainContainer(){I(this,k).focus()}addShouldRescale(nt){I(this,g).add(nt)}removeShouldRescale(nt){I(this,g).delete(nt)}onScaleChanging({scale:nt}){this.commitOrRemove(),this.viewParameters.realScale=nt*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const At of I(this,g))At.onScaleChanging()}onRotationChanging({pagesRotation:nt}){this.commitOrRemove(),this.viewParameters.rotation=nt}addToAnnotationStorage(nt){!nt.isEmpty()&&I(this,_)&&!I(this,_).has(nt.id)&&I(this,_).setValue(nt.id,nt)}copy(nt){if(nt.preventDefault(),I(this,C)&&I(this,C).commitOrRemove(),!this.hasSelection)return;const At=[];for(const Et of I(this,ot))Et.isEmpty()||At.push(Et.serialize());At.length!==0&&nt.clipboardData.setData("application/pdfjs",JSON.stringify(At))}cut(nt){this.copy(nt),this.delete()}paste(nt){nt.preventDefault();let At=nt.clipboardData.getData("application/pdfjs");if(!At)return;try{At=JSON.parse(At)}catch(Ot){(0,s.warn)(`paste: "${Ot.message}".`);return}if(!Array.isArray(At))return;this.unselectAll();const Et=I(this,u).get(I(this,y));try{const Ot=[];for(const W of At){const pt=Et.deserialize(W);if(!pt)return;Ot.push(pt)}const mt=()=>{for(const W of Ot)ht(this,rt,_e).call(this,W);ht(this,ft,Ae).call(this,Ot)},U=()=>{for(const W of Ot)W.remove()};this.addCommands({cmd:mt,undo:U,mustExec:!0})}catch(Ot){(0,s.warn)(`paste: "${Ot.message}".`)}}keydown(nt){var At;(At=this.getActive())!=null&&At.shouldGetKeyboardEvents()||bt._keyboardManager.exec(this,nt)}onEditingAction(nt){["undo","redo","delete","selectAll"].includes(nt.name)&&this[nt.name]()}setEditingState(nt){nt?(ht(this,H,je).call(this),ht(this,G,He).call(this),ht(this,a,Gt).call(this,{isEditing:I(this,at)!==s.AnnotationEditorType.NONE,isEmpty:ht(this,it,ie).call(this),hasSomethingToUndo:I(this,d).hasSomethingToUndo(),hasSomethingToRedo:I(this,d).hasSomethingToRedo(),hasSelectedEditor:!1})):(ht(this,z,be).call(this),ht(this,m,Ue).call(this),ht(this,a,Gt).call(this,{isEditing:!1}))}registerEditorTypes(nt){if(!I(this,B)){_t(this,B,nt);for(const At of I(this,B))ht(this,T,se).call(this,At.defaultPropertiesToUpdate)}}getId(){return I(this,X).getId()}get currentLayer(){return I(this,u).get(I(this,y))}get currentPageIndex(){return I(this,y)}addLayer(nt){I(this,u).set(nt.pageIndex,nt),I(this,st)?nt.enable():nt.disable()}removeLayer(nt){I(this,u).delete(nt.pageIndex)}updateMode(nt){if(_t(this,at,nt),nt===s.AnnotationEditorType.NONE)this.setEditingState(!1),ht(this,$,We).call(this);else{this.setEditingState(!0),ht(this,V,Ve).call(this);for(const At of I(this,u).values())At.updateMode(nt)}}updateToolbar(nt){nt!==I(this,at)&&I(this,j).dispatch("switchannotationeditormode",{source:this,mode:nt})}updateParams(nt,At){if(!!I(this,B)){for(const Et of I(this,ot))Et.updateParams(nt,At);for(const Et of I(this,B))Et.updateDefaultParams(nt,At)}}getEditors(nt){const At=[];for(const Et of I(this,o).values())Et.pageIndex===nt&&At.push(Et);return At}getEditor(nt){return I(this,o).get(nt)}addEditor(nt){I(this,o).set(nt.id,nt)}removeEditor(nt){var At;I(this,o).delete(nt.id),this.unselect(nt),(At=I(this,_))==null||At.remove(nt.id)}setActiveEditor(nt){I(this,C)!==nt&&(_t(this,C,nt),nt&&ht(this,T,se).call(this,nt.propertiesToUpdate))}toggleSelected(nt){if(I(this,ot).has(nt)){I(this,ot).delete(nt),nt.unselect(),ht(this,a,Gt).call(this,{hasSelectedEditor:this.hasSelection});return}I(this,ot).add(nt),nt.select(),ht(this,T,se).call(this,nt.propertiesToUpdate),ht(this,a,Gt).call(this,{hasSelectedEditor:!0})}setSelected(nt){for(const At of I(this,ot))At!==nt&&At.unselect();I(this,ot).clear(),I(this,ot).add(nt),nt.select(),ht(this,T,se).call(this,nt.propertiesToUpdate),ht(this,a,Gt).call(this,{hasSelectedEditor:!0})}isSelected(nt){return I(this,ot).has(nt)}unselect(nt){nt.unselect(),I(this,ot).delete(nt),ht(this,a,Gt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return I(this,ot).size!==0}undo(){I(this,d).undo(),ht(this,a,Gt).call(this,{hasSomethingToUndo:I(this,d).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ht(this,it,ie).call(this)})}redo(){I(this,d).redo(),ht(this,a,Gt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:I(this,d).hasSomethingToRedo(),isEmpty:ht(this,it,ie).call(this)})}addCommands(nt){I(this,d).add(nt),ht(this,a,Gt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ht(this,it,ie).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const nt=[...I(this,ot)],At=()=>{for(const Ot of nt)Ot.remove()},Et=()=>{for(const Ot of nt)ht(this,rt,_e).call(this,Ot)};this.addCommands({cmd:At,undo:Et,mustExec:!0})}commitOrRemove(){var nt;(nt=I(this,C))==null||nt.commitOrRemove()}selectAll(){for(const nt of I(this,ot))nt.commit();ht(this,ft,Ae).call(this,I(this,o).values())}unselectAll(){if(I(this,C)){I(this,C).commitOrRemove();return}if(I(this,ot).size!==0){for(const nt of I(this,ot))nt.unselect();I(this,ot).clear(),ht(this,a,Gt).call(this,{hasSelectedEditor:!1})}}isActive(nt){return I(this,C)===nt}getActive(){return I(this,C)}getMode(){return I(this,at)}};let R=bt;C=new WeakMap,o=new WeakMap,u=new WeakMap,_=new WeakMap,d=new WeakMap,y=new WeakMap,B=new WeakMap,g=new WeakMap,j=new WeakMap,X=new WeakMap,st=new WeakMap,at=new WeakMap,ot=new WeakMap,dt=new WeakMap,ut=new WeakMap,gt=new WeakMap,vt=new WeakMap,Ct=new WeakMap,xt=new WeakMap,Tt=new WeakMap,Q=new WeakMap,x=new WeakMap,k=new WeakMap,H=new WeakSet,je=function(){I(this,k).addEventListener("keydown",I(this,vt))},z=new WeakSet,be=function(){I(this,k).removeEventListener("keydown",I(this,vt))},G=new WeakSet,He=function(){document.addEventListener("copy",I(this,dt)),document.addEventListener("cut",I(this,ut)),document.addEventListener("paste",I(this,gt))},m=new WeakSet,Ue=function(){document.removeEventListener("copy",I(this,dt)),document.removeEventListener("cut",I(this,ut)),document.removeEventListener("paste",I(this,gt))},a=new WeakSet,Gt=function(nt){Object.entries(nt).some(([Et,Ot])=>I(this,x)[Et]!==Ot)&&I(this,j).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(I(this,x),nt)})},T=new WeakSet,se=function(nt){I(this,j).dispatch("annotationeditorparamschanged",{source:this,details:nt})},V=new WeakSet,Ve=function(){if(!I(this,st)){_t(this,st,!0);for(const nt of I(this,u).values())nt.enable()}},$=new WeakSet,We=function(){if(this.unselectAll(),I(this,st)){_t(this,st,!1);for(const nt of I(this,u).values())nt.disable()}},rt=new WeakSet,_e=function(nt){const At=I(this,u).get(nt.pageIndex);At?At.addOrRebuild(nt):this.addEditor(nt)},it=new WeakSet,ie=function(){if(I(this,o).size===0)return!0;if(I(this,o).size===1)for(const nt of I(this,o).values())return nt.isEmpty();return!1},ft=new WeakSet,Ae=function(nt){I(this,ot).clear();for(const At of nt)At.isEmpty()||(I(this,ot).add(At),At.select());ht(this,a,Gt).call(this,{hasSelectedEditor:!0})},Nt(R,"_keyboardManager",new w([[["ctrl+a","mac+meta+a"],bt.prototype.selectAll],[["ctrl+z","mac+meta+z"],bt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],bt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],bt.prototype.delete],[["Escape","mac+Escape"],bt.prototype.unselectAll]])),e.AnnotationEditorUIManager=R},(t,e,n)=>{var dt,ut,gt,vt,Ct,xt,Tt,Q,x,te,H,Jt,z,Kt;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=_,e.getColorValues=j,e.getCurrentTransform=X,e.getCurrentTransformInverse=st,e.getFilenameFromUrl=L,e.getPdfFilenameFromUrl=N,e.getRGB=g,e.getXfaPageViewport=B,e.isDataScheme=b,e.isPdfFile=F,e.isValidFetchUrl=o,e.loadScript=u,e.setLayerDimensions=at;var s=n(7),i=n(1);const l="http://www.w3.org/2000/svg",f="pdfjs_internal_id_";e.AnnotationPrefix=f;const ot=class{};let M=ot;Nt(M,"CSS",96),Nt(M,"PDF",72),Nt(M,"PDF_TO_CSS_UNITS",ot.CSS/ot.PDF),e.PixelsPerInch=M;class v extends s.BaseFilterFactory{constructor({docId:m,ownerDocument:r=globalThis.document}={}){super();lt(this,x);lt(this,H);lt(this,z);lt(this,dt,void 0);lt(this,ut,void 0);lt(this,gt,void 0);lt(this,vt,void 0);lt(this,Ct,void 0);lt(this,xt,void 0);lt(this,Tt,void 0);lt(this,Q,0);_t(this,gt,m),_t(this,vt,r)}addFilter(m){if(!m)return"none";let r=I(this,x,te).get(m);if(r)return r;let a,A,T,P;if(m.length===1){const rt=m[0],et=new Array(256);for(let it=0;it<256;it++)et[it]=rt[it]/255;P=a=A=T=et.join(",")}else{const[rt,et,it]=m,ct=new Array(256),ft=new Array(256),St=new Array(256);for(let bt=0;bt<256;bt++)ct[bt]=rt[bt]/255,ft[bt]=et[bt]/255,St[bt]=it[bt]/255;a=ct.join(","),A=ft.join(","),T=St.join(","),P=`${a}${A}${T}`}if(r=I(this,x,te).get(P),r)return I(this,x,te).set(m,r),r;const V=`g_${I(this,gt)}_transfer_map_${oe(this,Q)._++}`,J=`url(#${V})`;I(this,x,te).set(m,J),I(this,x,te).set(P,J);const $=I(this,vt).createElementNS(l,"filter",l);$.setAttribute("id",V),$.setAttribute("color-interpolation-filters","sRGB");const Y=I(this,vt).createElementNS(l,"feComponentTransfer");return $.append(Y),ht(this,z,Kt).call(this,Y,"feFuncR",a),ht(this,z,Kt).call(this,Y,"feFuncG",A),ht(this,z,Kt).call(this,Y,"feFuncB",T),I(this,H,Jt).append($),J}addHCMFilter(m,r){var it;const a=`${m}-${r}`;if(I(this,xt)===a)return I(this,Tt);if(_t(this,xt,a),_t(this,Tt,"none"),(it=I(this,Ct))==null||it.remove(),!m||!r)return I(this,Tt);I(this,H,Jt).style.color=m,m=getComputedStyle(I(this,H,Jt)).getPropertyValue("color");const A=g(m);m=i.Util.makeHexColor(...A),I(this,H,Jt).style.color=r,r=getComputedStyle(I(this,H,Jt)).getPropertyValue("color");const T=g(r);if(r=i.Util.makeHexColor(...T),I(this,H,Jt).style.color="",m==="#000000"&&r==="#ffffff"||m===r)return I(this,Tt);const P=new Array(256);for(let ct=0;ct<=255;ct++){const ft=ct/255;P[ct]=ft<=.03928?ft/12.92:((ft+.055)/1.055)**2.4}const V=P.join(","),J=`g_${I(this,gt)}_hcm_filter`,$=_t(this,Ct,I(this,vt).createElementNS(l,"filter",l));$.setAttribute("id",J),$.setAttribute("color-interpolation-filters","sRGB");let Y=I(this,vt).createElementNS(l,"feComponentTransfer");$.append(Y),ht(this,z,Kt).call(this,Y,"feFuncR",V),ht(this,z,Kt).call(this,Y,"feFuncG",V),ht(this,z,Kt).call(this,Y,"feFuncB",V);const rt=I(this,vt).createElementNS(l,"feColorMatrix");rt.setAttribute("type","matrix"),rt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),$.append(rt),Y=I(this,vt).createElementNS(l,"feComponentTransfer"),$.append(Y);const et=(ct,ft)=>{const St=A[ct]/255,bt=T[ct]/255,wt=new Array(ft+1);for(let nt=0;nt<=ft;nt++)wt[nt]=St+nt/ft*(bt-St);return wt.join(",")};return ht(this,z,Kt).call(this,Y,"feFuncR",et(0,5)),ht(this,z,Kt).call(this,Y,"feFuncG",et(1,5)),ht(this,z,Kt).call(this,Y,"feFuncB",et(2,5)),I(this,H,Jt).append($),_t(this,Tt,`url(#${J})`),I(this,Tt)}destroy(m=!1){m&&I(this,Tt)||(I(this,ut)&&(I(this,ut).parentNode.parentNode.remove(),_t(this,ut,null)),I(this,dt)&&(I(this,dt).clear(),_t(this,dt,null)),_t(this,Q,0))}}dt=new WeakMap,ut=new WeakMap,gt=new WeakMap,vt=new WeakMap,Ct=new WeakMap,xt=new WeakMap,Tt=new WeakMap,Q=new WeakMap,x=new WeakSet,te=function(){return I(this,dt)||_t(this,dt,new Map)},H=new WeakSet,Jt=function(){if(!I(this,ut)){const m=I(this,vt).createElement("div"),{style:r}=m;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const a=I(this,vt).createElementNS(l,"svg");a.setAttribute("width",0),a.setAttribute("height",0),_t(this,ut,I(this,vt).createElementNS(l,"defs")),m.append(a),a.append(I(this,ut)),I(this,vt).body.append(m)}return I(this,ut)},z=new WeakSet,Kt=function(m,r,a){const A=I(this,vt).createElementNS(l,r);A.setAttribute("type","discrete"),A.setAttribute("tableValues",a),m.append(A)},e.DOMFilterFactory=v;class w extends s.BaseCanvasFactory{constructor({ownerDocument:q=globalThis.document}={}){super(),this._document=q}_createCanvas(q,m){const r=this._document.createElement("canvas");return r.width=q,r.height=m,r}}e.DOMCanvasFactory=w;async function c(G,q=!1){if(o(G,document.baseURI)){const m=await fetch(G);if(!m.ok)throw new Error(m.statusText);return q?new Uint8Array(await m.arrayBuffer()):(0,i.stringToBytes)(await m.text())}return new Promise((m,r)=>{const a=new XMLHttpRequest;a.open("GET",G,!0),q&&(a.responseType="arraybuffer"),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){let A;if(q&&a.response?A=new Uint8Array(a.response):!q&&a.responseText&&(A=(0,i.stringToBytes)(a.responseText)),A){m(A);return}}r(new Error(a.statusText))}},a.send(null)})}class R extends s.BaseCMapReaderFactory{_fetchData(q,m){return c(q,this.isCompressed).then(r=>({cMapData:r,compressionType:m}))}}e.DOMCMapReaderFactory=R;class O extends s.BaseStandardFontDataFactory{_fetchData(q){return c(q,!0)}}e.DOMStandardFontDataFactory=O;class D extends s.BaseSVGFactory{_createSVG(q){return document.createElementNS(l,q)}}e.DOMSVGFactory=D;class E{constructor({viewBox:q,scale:m,rotation:r,offsetX:a=0,offsetY:A=0,dontFlip:T=!1}){this.viewBox=q,this.scale=m,this.rotation=r,this.offsetX=a,this.offsetY=A;const P=(q[2]+q[0])/2,V=(q[3]+q[1])/2;let J,$,Y,rt;switch(r%=360,r<0&&(r+=360),r){case 180:J=-1,$=0,Y=0,rt=1;break;case 90:J=0,$=1,Y=1,rt=0;break;case 270:J=0,$=-1,Y=-1,rt=0;break;case 0:J=1,$=0,Y=0,rt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}T&&(Y=-Y,rt=-rt);let et,it,ct,ft;J===0?(et=Math.abs(V-q[1])*m+a,it=Math.abs(P-q[0])*m+A,ct=(q[3]-q[1])*m,ft=(q[2]-q[0])*m):(et=Math.abs(P-q[0])*m+a,it=Math.abs(V-q[1])*m+A,ct=(q[2]-q[0])*m,ft=(q[3]-q[1])*m),this.transform=[J*m,$*m,Y*m,rt*m,et-J*m*P-Y*m*V,it-$*m*P-rt*m*V],this.width=ct,this.height=ft}get rawDims(){const{viewBox:q}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:q[2]-q[0],pageHeight:q[3]-q[1],pageX:q[0],pageY:q[1]})}clone({scale:q=this.scale,rotation:m=this.rotation,offsetX:r=this.offsetX,offsetY:a=this.offsetY,dontFlip:A=!1}={}){return new E({viewBox:this.viewBox.slice(),scale:q,rotation:m,offsetX:r,offsetY:a,dontFlip:A})}convertToViewportPoint(q,m){return i.Util.applyTransform([q,m],this.transform)}convertToViewportRectangle(q){const m=i.Util.applyTransform([q[0],q[1]],this.transform),r=i.Util.applyTransform([q[2],q[3]],this.transform);return[m[0],m[1],r[0],r[1]]}convertToPdfPoint(q,m){return i.Util.applyInverseTransform([q,m],this.transform)}}e.PageViewport=E;class S extends i.BaseException{constructor(q,m,r=0){super(q,"RenderingCancelledException"),this.type=m,this.extraDelay=r}}e.RenderingCancelledException=S;function b(G){const q=G.length;let m=0;for(;m<q&&G[m].trim()==="";)m++;return G.substring(m,m+5).toLowerCase()==="data:"}function F(G){return typeof G=="string"&&/\.pdf$/i.test(G)}function L(G,q=!1){return q||([G]=G.split(/[#?]/,1)),G.substring(G.lastIndexOf("/")+1)}function N(G,q="document.pdf"){if(typeof G!="string")return q;if(b(G))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),q;const m=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=m.exec(G);let A=r.exec(a[1])||r.exec(a[2])||r.exec(a[3]);if(A&&(A=A[0],A.includes("%")))try{A=r.exec(decodeURIComponent(A))[0]}catch{}return A||q}class C{constructor(){Nt(this,"started",Object.create(null));Nt(this,"times",[])}time(q){q in this.started&&(0,i.warn)(`Timer is already running for ${q}`),this.started[q]=Date.now()}timeEnd(q){q in this.started||(0,i.warn)(`Timer has not been started for ${q}`),this.times.push({name:q,start:this.started[q],end:Date.now()}),delete this.started[q]}toString(){const q=[];let m=0;for(const{name:r}of this.times)m=Math.max(r.length,m);for(const{name:r,start:a,end:A}of this.times)q.push(`${r.padEnd(m)} ${A-a}ms
`);return q.join("")}}e.StatTimer=C;function o(G,q){try{const{protocol:m}=q?new URL(G,q):new URL(G);return m==="http:"||m==="https:"}catch{return!1}}function u(G,q=!1){return new Promise((m,r)=>{const a=document.createElement("script");a.src=G,a.onload=function(A){q&&a.remove(),m(A)},a.onerror=function(){r(new Error(`Cannot load script at: ${a.src}`))},(document.head||document.documentElement).append(a)})}function _(G){console.log("Deprecated API usage: "+G)}let d;class y{static toDateObject(q){if(!q||typeof q!="string")return null;d||(d=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const m=d.exec(q);if(!m)return null;const r=parseInt(m[1],10);let a=parseInt(m[2],10);a=a>=1&&a<=12?a-1:0;let A=parseInt(m[3],10);A=A>=1&&A<=31?A:1;let T=parseInt(m[4],10);T=T>=0&&T<=23?T:0;let P=parseInt(m[5],10);P=P>=0&&P<=59?P:0;let V=parseInt(m[6],10);V=V>=0&&V<=59?V:0;const J=m[7]||"Z";let $=parseInt(m[8],10);$=$>=0&&$<=23?$:0;let Y=parseInt(m[9],10)||0;return Y=Y>=0&&Y<=59?Y:0,J==="-"?(T+=$,P+=Y):J==="+"&&(T-=$,P-=Y),new Date(Date.UTC(r,a,A,T,P,V))}}e.PDFDateString=y;function B(G,{scale:q=1,rotation:m=0}){const{width:r,height:a}=G.attributes.style,A=[0,0,parseInt(r),parseInt(a)];return new E({viewBox:A,scale:q,rotation:m})}function g(G){if(G.startsWith("#")){const q=parseInt(G.slice(1),16);return[(q&16711680)>>16,(q&65280)>>8,q&255]}return G.startsWith("rgb(")?G.slice(4,-1).split(",").map(q=>parseInt(q)):G.startsWith("rgba(")?G.slice(5,-1).split(",").map(q=>parseInt(q)).slice(0,3):((0,i.warn)(`Not a valid color format: "${G}"`),[0,0,0])}function j(G){const q=document.createElement("span");q.style.visibility="hidden",document.body.append(q);for(const m of G.keys()){q.style.color=m;const r=window.getComputedStyle(q).color;G.set(m,g(r))}q.remove()}function X(G){const{a:q,b:m,c:r,d:a,e:A,f:T}=G.getTransform();return[q,m,r,a,A,T]}function st(G){const{a:q,b:m,c:r,d:a,e:A,f:T}=G.getTransform().invertSelf();return[q,m,r,a,A,T]}function at(G,q,m=!1,r=!0){if(q instanceof E){const{pageWidth:a,pageHeight:A}=q.rawDims,{style:T}=G,P=`calc(var(--scale-factor) * ${a}px)`,V=`calc(var(--scale-factor) * ${A}px)`;!m||q.rotation%180===0?(T.width=P,T.height=V):(T.width=V,T.height=P)}r&&G.setAttribute("data-main-rotation",q.rotation)}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var s=n(1);class i{constructor(){this.constructor===i&&(0,s.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(c){return"none"}addHCMFilter(c,R){return"none"}destroy(c=!1){}}e.BaseFilterFactory=i;class l{constructor(){this.constructor===l&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,R){if(c<=0||R<=0)throw new Error("Invalid canvas size");const O=this._createCanvas(c,R);return{canvas:O,context:O.getContext("2d")}}reset(c,R,O){if(!c.canvas)throw new Error("Canvas is not specified");if(R<=0||O<=0)throw new Error("Invalid canvas size");c.canvas.width=R,c.canvas.height=O}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,R){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=l;class f{constructor({baseUrl:c=null,isCompressed:R=!0}){this.constructor===f&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=R}async fetch({name:c}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const R=this.baseUrl+c+(this.isCompressed?".bcmap":""),O=this.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE;return this._fetchData(R,O).catch(D=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${R}`)})}_fetchData(c,R){(0,s.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=f;class M{constructor({baseUrl:c=null}){this.constructor===M&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}async fetch({filename:c}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const R=`${this.baseUrl}${c}`;return this._fetchData(R).catch(O=>{throw new Error(`Unable to load font data at: ${R}`)})}_fetchData(c){(0,s.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=M;class v{constructor(){this.constructor===v&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,R,O=!1){if(c<=0||R<=0)throw new Error("Invalid SVG dimensions");const D=this._createSVG("svg:svg");return D.setAttribute("version","1.1"),O||(D.setAttribute("width",`${c}px`),D.setAttribute("height",`${R}px`)),D.setAttribute("preserveAspectRatio","none"),D.setAttribute("viewBox",`0 0 ${c} ${R}`),D}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,s.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=v},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var s=n(1);const i=3285377520,l=4294901760,f=65535;class M{constructor(w){this.h1=w?w&4294967295:i,this.h2=w?w&4294967295:i}update(w){let c,R;if(typeof w=="string"){c=new Uint8Array(w.length*2),R=0;for(let _=0,d=w.length;_<d;_++){const y=w.charCodeAt(_);y<=255?c[R++]=y:(c[R++]=y>>>8,c[R++]=y&255)}}else if((0,s.isArrayBuffer)(w))c=w.slice(),R=c.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const O=R>>2,D=R-O*4,E=new Uint32Array(c.buffer,0,O);let S=0,b=0,F=this.h1,L=this.h2;const N=3432918353,C=461845907,o=N&f,u=C&f;for(let _=0;_<O;_++)_&1?(S=E[_],S=S*N&l|S*o&f,S=S<<15|S>>>17,S=S*C&l|S*u&f,F^=S,F=F<<13|F>>>19,F=F*5+3864292196):(b=E[_],b=b*N&l|b*o&f,b=b<<15|b>>>17,b=b*C&l|b*u&f,L^=b,L=L<<13|L>>>19,L=L*5+3864292196);switch(S=0,D){case 3:S^=c[O*4+2]<<16;case 2:S^=c[O*4+1]<<8;case 1:S^=c[O*4],S=S*N&l|S*o&f,S=S<<15|S>>>17,S=S*C&l|S*u&f,O&1?F^=S:L^=S}this.h1=F,this.h2=L}hexdigest(){let w=this.h1,c=this.h2;return w^=c>>>1,w=w*3981806797&l|w*36045&f,c=c*4283543511&l|((c<<16|w>>>16)*2950163797&l)>>>16,w^=c>>>1,w=w*444984403&l|w*60499&f,c=c*3301882366&l|((c<<16|w>>>16)*3120437893&l)>>>16,w^=c>>>1,(w>>>0).toString(16).padStart(8,"0")+(c>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=M},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var s=n(1),i=n(10);class l{constructor({ownerDocument:v=globalThis.document,styleElement:w=null}){this._document=v,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(v){this.nativeFontFaces.push(v),this._document.fonts.add(v)}insertRule(v){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const w=this.styleElement.sheet;w.insertRule(v,w.cssRules.length)}clear(){for(const v of this.nativeFontFaces)this._document.fonts.delete(v);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(v){if(v.attached||v.missingFile)return;if(v.attached=!0,this.isFontLoadingAPISupported){const c=v.createNativeFontFace();if(c){this.addNativeFontFace(c);try{await c.loaded}catch(R){throw(0,s.warn)(`Failed to load font '${c.family}': '${R}'.`),v.disableFontFace=!0,R}}return}const w=v.createFontFaceRule();if(w){if(this.insertRule(w),this.isSyncFontLoadingSupported)return;await new Promise(c=>{const R=this._queueLoadingCallback(c);this._prepareFontLoadEvent(v,R)})}}get isFontLoadingAPISupported(){var w;const v=!!((w=this._document)!=null&&w.fonts);return(0,s.shadow)(this,"isFontLoadingAPISupported",v)}get isSyncFontLoadingSupported(){let v=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(v=!0),(0,s.shadow)(this,"isSyncFontLoadingSupported",v)}_queueLoadingCallback(v){function w(){for((0,s.assert)(!R.done,"completeRequest() cannot be called twice."),R.done=!0;c.length>0&&c[0].done;){const O=c.shift();setTimeout(O.callback,0)}}const{loadingRequests:c}=this,R={done:!1,complete:w,callback:v};return c.push(R),R}get _loadTestFont(){const v=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,s.shadow)(this,"_loadTestFont",v)}_prepareFontLoadEvent(v,w){function c(g,j){return g.charCodeAt(j)<<24|g.charCodeAt(j+1)<<16|g.charCodeAt(j+2)<<8|g.charCodeAt(j+3)&255}function R(g,j,X,st){const at=g.substring(0,j),ot=g.substring(j+X);return at+st+ot}let O,D;const E=this._document.createElement("canvas");E.width=1,E.height=1;const S=E.getContext("2d");let b=0;function F(g,j){if(++b>30){(0,s.warn)("Load test font never loaded."),j();return}if(S.font="30px "+g,S.fillText(".",0,20),S.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(F.bind(null,g,j))}const L=`lt${Date.now()}${this.loadTestFontId++}`;let N=this._loadTestFont;N=R(N,976,L.length,L);const o=16,u=1482184792;let _=c(N,o);for(O=0,D=L.length-3;O<D;O+=4)_=_-u+c(L,O)|0;O<L.length&&(_=_-u+c(L+"XXX",O)|0),N=R(N,o,4,(0,s.string32)(_));const d=`url(data:font/opentype;base64,${btoa(N)});`,y=`@font-face {font-family:"${L}";src:${d}}`;this.insertRule(y);const B=this._document.createElement("div");B.style.visibility="hidden",B.style.width=B.style.height="10px",B.style.position="absolute",B.style.top=B.style.left="0px";for(const g of[v.loadedName,L]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=g,B.append(j)}this._document.body.append(B),F(L,()=>{B.remove(),w.complete()})}}e.FontLoader=l;class f{constructor(v,{isEvalSupported:w=!0,disableFontFace:c=!1,ignoreErrors:R=!1,inspectFont:O=null}){this.compiledGlyphs=Object.create(null);for(const D in v)this[D]=v[D];this.isEvalSupported=w!==!1,this.disableFontFace=c===!0,this.ignoreErrors=R===!0,this._inspectFont=O}createNativeFontFace(){var w;if(!this.data||this.disableFontFace)return null;let v;if(!this.cssFontInfo)v=new FontFace(this.loadedName,this.data,{});else{const c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),v=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}return(w=this._inspectFont)==null||w.call(this,this),v}createFontFaceRule(){var R;if(!this.data||this.disableFontFace)return null;const v=(0,s.bytesToString)(this.data),w=`url(data:${this.mimetype};base64,${btoa(v)});`;let c;if(!this.cssFontInfo)c=`@font-face {font-family:"${this.loadedName}";src:${w}}`;else{let O=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(O+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),c=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${O}src:${w}}`}return(R=this._inspectFont)==null||R.call(this,this,w),c}getPathGenerator(v,w){if(this.compiledGlyphs[w]!==void 0)return this.compiledGlyphs[w];let c;try{c=v.get(this.loadedName+"_path_"+w)}catch(R){if(!this.ignoreErrors)throw R;return(0,s.warn)(`getPathGenerator - ignoring character: "${R}".`),this.compiledGlyphs[w]=function(O,D){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){const R=[];for(const O of c){const D=O.args!==void 0?O.args.join(","):"";R.push("c.",O.cmd,"(",D,`);
`)}return this.compiledGlyphs[w]=new Function("c","size",R.join(""))}return this.compiledGlyphs[w]=function(R,O){for(const D of c)D.cmd==="scale"&&(D.args=[O,-O]),R[D.cmd].apply(R,D.args)}}}e.FontFaceObject=f},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=n},(t,e,n)=>{var gt,ye,Ct,ve;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var s=n(1),i=n(6),l=n(12),f=n(13),M=n(10);const v=16,w=100,c=4096,R=15,O=10,D=1e3,E=16;function S(Q,x){if(Q._removeMirroring)throw new Error("Context is already forwarding operations.");Q.__originalSave=Q.save,Q.__originalRestore=Q.restore,Q.__originalRotate=Q.rotate,Q.__originalScale=Q.scale,Q.__originalTranslate=Q.translate,Q.__originalTransform=Q.transform,Q.__originalSetTransform=Q.setTransform,Q.__originalResetTransform=Q.resetTransform,Q.__originalClip=Q.clip,Q.__originalMoveTo=Q.moveTo,Q.__originalLineTo=Q.lineTo,Q.__originalBezierCurveTo=Q.bezierCurveTo,Q.__originalRect=Q.rect,Q.__originalClosePath=Q.closePath,Q.__originalBeginPath=Q.beginPath,Q._removeMirroring=()=>{Q.save=Q.__originalSave,Q.restore=Q.__originalRestore,Q.rotate=Q.__originalRotate,Q.scale=Q.__originalScale,Q.translate=Q.__originalTranslate,Q.transform=Q.__originalTransform,Q.setTransform=Q.__originalSetTransform,Q.resetTransform=Q.__originalResetTransform,Q.clip=Q.__originalClip,Q.moveTo=Q.__originalMoveTo,Q.lineTo=Q.__originalLineTo,Q.bezierCurveTo=Q.__originalBezierCurveTo,Q.rect=Q.__originalRect,Q.closePath=Q.__originalClosePath,Q.beginPath=Q.__originalBeginPath,delete Q._removeMirroring},Q.save=function(){x.save(),this.__originalSave()},Q.restore=function(){x.restore(),this.__originalRestore()},Q.translate=function(H,K){x.translate(H,K),this.__originalTranslate(H,K)},Q.scale=function(H,K){x.scale(H,K),this.__originalScale(H,K)},Q.transform=function(H,K,z,Z,G,q){x.transform(H,K,z,Z,G,q),this.__originalTransform(H,K,z,Z,G,q)},Q.setTransform=function(H,K,z,Z,G,q){x.setTransform(H,K,z,Z,G,q),this.__originalSetTransform(H,K,z,Z,G,q)},Q.resetTransform=function(){x.resetTransform(),this.__originalResetTransform()},Q.rotate=function(H){x.rotate(H),this.__originalRotate(H)},Q.clip=function(H){x.clip(H),this.__originalClip(H)},Q.moveTo=function(k,H){x.moveTo(k,H),this.__originalMoveTo(k,H)},Q.lineTo=function(k,H){x.lineTo(k,H),this.__originalLineTo(k,H)},Q.bezierCurveTo=function(k,H,K,z,Z,G){x.bezierCurveTo(k,H,K,z,Z,G),this.__originalBezierCurveTo(k,H,K,z,Z,G)},Q.rect=function(k,H,K,z){x.rect(k,H,K,z),this.__originalRect(k,H,K,z)},Q.closePath=function(){x.closePath(),this.__originalClosePath()},Q.beginPath=function(){x.beginPath(),this.__originalBeginPath()}}class b{constructor(x){this.canvasFactory=x,this.cache=Object.create(null)}getCanvas(x,k,H){let K;return this.cache[x]!==void 0?(K=this.cache[x],this.canvasFactory.reset(K,k,H)):(K=this.canvasFactory.create(k,H),this.cache[x]=K),K}delete(x){delete this.cache[x]}clear(){for(const x in this.cache){const k=this.cache[x];this.canvasFactory.destroy(k),delete this.cache[x]}}}function F(Q,x,k,H,K,z,Z,G,q,m){const[r,a,A,T,P,V]=(0,i.getCurrentTransform)(Q);if(a===0&&A===0){const Y=Z*r+P,rt=Math.round(Y),et=G*T+V,it=Math.round(et),ct=(Z+q)*r+P,ft=Math.abs(Math.round(ct)-rt)||1,St=(G+m)*T+V,bt=Math.abs(Math.round(St)-it)||1;return Q.setTransform(Math.sign(r),0,0,Math.sign(T),rt,it),Q.drawImage(x,k,H,K,z,0,0,ft,bt),Q.setTransform(r,a,A,T,P,V),[ft,bt]}if(r===0&&T===0){const Y=G*A+P,rt=Math.round(Y),et=Z*a+V,it=Math.round(et),ct=(G+m)*A+P,ft=Math.abs(Math.round(ct)-rt)||1,St=(Z+q)*a+V,bt=Math.abs(Math.round(St)-it)||1;return Q.setTransform(0,Math.sign(a),Math.sign(A),0,rt,it),Q.drawImage(x,k,H,K,z,0,0,bt,ft),Q.setTransform(r,a,A,T,P,V),[bt,ft]}Q.drawImage(x,k,H,K,z,Z,G,q,m);const J=Math.hypot(r,a),$=Math.hypot(A,T);return[J*q,$*m]}function L(Q){const{width:x,height:k}=Q;if(x>D||k>D)return null;const H=1e3,K=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),z=x+1;let Z=new Uint8Array(z*(k+1)),G,q,m;const r=x+7&-8;let a=new Uint8Array(r*k),A=0;for(const $ of Q.data){let Y=128;for(;Y>0;)a[A++]=$&Y?0:255,Y>>=1}let T=0;for(A=0,a[A]!==0&&(Z[0]=1,++T),q=1;q<x;q++)a[A]!==a[A+1]&&(Z[q]=a[A]?2:1,++T),A++;for(a[A]!==0&&(Z[q]=2,++T),G=1;G<k;G++){A=G*r,m=G*z,a[A-r]!==a[A]&&(Z[m]=a[A]?1:8,++T);let $=(a[A]?4:0)+(a[A-r]?8:0);for(q=1;q<x;q++)$=($>>2)+(a[A+1]?4:0)+(a[A-r+1]?8:0),K[$]&&(Z[m+q]=K[$],++T),A++;if(a[A-r]!==a[A]&&(Z[m+q]=a[A]?2:4,++T),T>H)return null}for(A=r*(k-1),m=G*z,a[A]!==0&&(Z[m]=8,++T),q=1;q<x;q++)a[A]!==a[A+1]&&(Z[m+q]=a[A]?4:8,++T),A++;if(a[A]!==0&&(Z[m+q]=4,++T),T>H)return null;const P=new Int32Array([0,z,-1,0,-z,0,0,0,1]),V=new Path2D;for(G=0;T&&G<=k;G++){let $=G*z;const Y=$+x;for(;$<Y&&!Z[$];)$++;if($===Y)continue;V.moveTo($%z,G);const rt=$;let et=Z[$];do{const it=P[et];do $+=it;while(!Z[$]);const ct=Z[$];ct!==5&&ct!==10?(et=ct,Z[$]=0):(et=ct&51*et>>4,Z[$]&=et>>2|et<<2),V.lineTo($%z,$/z|0),Z[$]||--T}while(rt!==$);--G}return a=null,Z=null,function($){$.save(),$.scale(1/x,-1/k),$.translate(0,-k),$.fill(V),$.beginPath(),$.restore()}}class N{constructor(x,k){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,x,k])}clone(){const x=Object.create(this);return x.clipBox=this.clipBox.slice(),x}setCurrentPoint(x,k){this.x=x,this.y=k}updatePathMinMax(x,k,H){[k,H]=s.Util.applyTransform([k,H],x),this.minX=Math.min(this.minX,k),this.minY=Math.min(this.minY,H),this.maxX=Math.max(this.maxX,k),this.maxY=Math.max(this.maxY,H)}updateRectMinMax(x,k){const H=s.Util.applyTransform(k,x),K=s.Util.applyTransform(k.slice(2),x);this.minX=Math.min(this.minX,H[0],K[0]),this.minY=Math.min(this.minY,H[1],K[1]),this.maxX=Math.max(this.maxX,H[0],K[0]),this.maxY=Math.max(this.maxY,H[1],K[1])}updateScalingPathMinMax(x,k){s.Util.scaleMinMax(x,k),this.minX=Math.min(this.minX,k[0]),this.maxX=Math.max(this.maxX,k[1]),this.minY=Math.min(this.minY,k[2]),this.maxY=Math.max(this.maxY,k[3])}updateCurvePathMinMax(x,k,H,K,z,Z,G,q,m,r){const a=s.Util.bezierBoundingBox(k,H,K,z,Z,G,q,m);if(r){r[0]=Math.min(r[0],a[0],a[2]),r[1]=Math.max(r[1],a[0],a[2]),r[2]=Math.min(r[2],a[1],a[3]),r[3]=Math.max(r[3],a[1],a[3]);return}this.updateRectMinMax(x,a)}getPathBoundingBox(x=l.PathType.FILL,k=null){const H=[this.minX,this.minY,this.maxX,this.maxY];if(x===l.PathType.STROKE){k||(0,s.unreachable)("Stroke bounding box must include transform.");const K=s.Util.singularValueDecompose2dScale(k),z=K[0]*this.lineWidth/2,Z=K[1]*this.lineWidth/2;H[0]-=z,H[1]-=Z,H[2]+=z,H[3]+=Z}return H}updateClipFromPath(){const x=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(x||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(x){this.clipBox=x,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(x=l.PathType.FILL,k=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(x,k))}}function C(Q,x){if(typeof ImageData<"u"&&x instanceof ImageData){Q.putImageData(x,0,0);return}const k=x.height,H=x.width,K=k%E,z=(k-K)/E,Z=K===0?z:z+1,G=Q.createImageData(H,E);let q=0,m;const r=x.data,a=G.data;let A,T,P,V;if(x.kind===s.ImageKind.GRAYSCALE_1BPP){const J=r.byteLength,$=new Uint32Array(a.buffer,0,a.byteLength>>2),Y=$.length,rt=H+7>>3,et=4294967295,it=s.FeatureTest.isLittleEndian?4278190080:255;for(A=0;A<Z;A++){for(P=A<z?E:K,m=0,T=0;T<P;T++){const ct=J-q;let ft=0;const St=ct>rt?H:ct*8-7,bt=St&-8;let wt=0,nt=0;for(;ft<bt;ft+=8)nt=r[q++],$[m++]=nt&128?et:it,$[m++]=nt&64?et:it,$[m++]=nt&32?et:it,$[m++]=nt&16?et:it,$[m++]=nt&8?et:it,$[m++]=nt&4?et:it,$[m++]=nt&2?et:it,$[m++]=nt&1?et:it;for(;ft<St;ft++)wt===0&&(nt=r[q++],wt=128),$[m++]=nt&wt?et:it,wt>>=1}for(;m<Y;)$[m++]=0;Q.putImageData(G,0,A*E)}}else if(x.kind===s.ImageKind.RGBA_32BPP){for(T=0,V=H*E*4,A=0;A<z;A++)a.set(r.subarray(q,q+V)),q+=V,Q.putImageData(G,0,T),T+=E;A<Z&&(V=H*K*4,a.set(r.subarray(q,q+V)),Q.putImageData(G,0,T))}else if(x.kind===s.ImageKind.RGB_24BPP)for(P=E,V=H*P,A=0;A<Z;A++){for(A>=z&&(P=K,V=H*P),m=0,T=V;T--;)a[m++]=r[q++],a[m++]=r[q++],a[m++]=r[q++],a[m++]=255;Q.putImageData(G,0,A*E)}else throw new Error(`bad image kind: ${x.kind}`)}function o(Q,x){if(x.bitmap){Q.drawImage(x.bitmap,0,0);return}const k=x.height,H=x.width,K=k%E,z=(k-K)/E,Z=K===0?z:z+1,G=Q.createImageData(H,E);let q=0;const m=x.data,r=G.data;for(let a=0;a<Z;a++){const A=a<z?E:K;({srcPos:q}=(0,f.convertBlackAndWhiteToRGBA)({src:m,srcPos:q,dest:r,width:H,height:A,nonBlackColor:0})),Q.putImageData(G,0,a*E)}}function u(Q,x){const k=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const H of k)Q[H]!==void 0&&(x[H]=Q[H]);Q.setLineDash!==void 0&&(x.setLineDash(Q.getLineDash()),x.lineDashOffset=Q.lineDashOffset)}function _(Q){Q.strokeStyle=Q.fillStyle="#000000",Q.fillRule="nonzero",Q.globalAlpha=1,Q.lineWidth=1,Q.lineCap="butt",Q.lineJoin="miter",Q.miterLimit=10,Q.globalCompositeOperation="source-over",Q.font="10px sans-serif",Q.setLineDash!==void 0&&(Q.setLineDash([]),Q.lineDashOffset=0),M.isNodeJS||(Q.filter="none")}function d(Q,x,k,H){const K=Q.length;for(let z=3;z<K;z+=4){const Z=Q[z];if(Z===0)Q[z-3]=x,Q[z-2]=k,Q[z-1]=H;else if(Z<255){const G=255-Z;Q[z-3]=Q[z-3]*Z+x*G>>8,Q[z-2]=Q[z-2]*Z+k*G>>8,Q[z-1]=Q[z-1]*Z+H*G>>8}}}function y(Q,x,k){const H=Q.length,K=1/255;for(let z=3;z<H;z+=4){const Z=k?k[Q[z]]:Q[z];x[z]=x[z]*Z*K|0}}function B(Q,x,k){const H=Q.length;for(let K=3;K<H;K+=4){const z=Q[K-3]*77+Q[K-2]*152+Q[K-1]*28;x[K]=k?x[K]*k[z>>8]>>8:x[K]*z>>16}}function g(Q,x,k,H,K,z,Z,G,q,m,r){const a=!!z,A=a?z[0]:0,T=a?z[1]:0,P=a?z[2]:0;let V;K==="Luminosity"?V=B:V=y;const $=Math.min(H,Math.ceil(1048576/k));for(let Y=0;Y<H;Y+=$){const rt=Math.min($,H-Y),et=Q.getImageData(G-m,Y+(q-r),k,rt),it=x.getImageData(G,Y+q,k,rt);a&&d(et.data,A,T,P),V(et.data,it.data,Z),x.putImageData(it,G,Y+q)}}function j(Q,x,k,H){const K=H[0],z=H[1],Z=H[2]-K,G=H[3]-z;Z===0||G===0||(g(x.context,k,Z,G,x.subtype,x.backdrop,x.transferMap,K,z,x.offsetX,x.offsetY),Q.save(),Q.globalAlpha=1,Q.globalCompositeOperation="source-over",Q.setTransform(1,0,0,1,0,0),Q.drawImage(k.canvas,0,0),Q.restore())}function X(Q,x){const k=s.Util.singularValueDecompose2dScale(Q);k[0]=Math.fround(k[0]),k[1]=Math.fround(k[1]);const H=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return x!==void 0?x:k[0]<=H||k[1]<=H}const st=["butt","round","square"],at=["miter","round","bevel"],ot={},dt={},Tt=class{constructor(x,k,H,K,z,{optionalContentConfig:Z,markedContentStack:G=null},q,m){lt(this,gt);lt(this,Ct);this.ctx=x,this.current=new N(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=k,this.objs=H,this.canvasFactory=K,this.filterFactory=z,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=G||[],this.optionalContentConfig=Z,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=q,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=m,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(x,k=null){return typeof x=="string"?x.startsWith("g_")?this.commonObjs.get(x):this.objs.get(x):k}beginDrawing({transform:x,viewport:k,transparency:H=!1,background:K=null}){const z=this.ctx.canvas.width,Z=this.ctx.canvas.height,G=this.ctx.fillStyle;if(this.ctx.fillStyle=K||"#ffffff",this.ctx.fillRect(0,0,z,Z),this.ctx.fillStyle=G,H){const q=this.cachedCanvases.getCanvas("transparent",z,Z);this.compositeCtx=this.ctx,this.transparentCanvas=q.canvas,this.ctx=q.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_(this.ctx),x&&(this.ctx.transform(...x),this.outputScaleX=x[0],this.outputScaleY=x[0]),this.ctx.transform(...k.transform),this.viewportScale=k.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(x,k,H,K){const z=x.argsArray,Z=x.fnArray;let G=k||0;const q=z.length;if(q===G)return G;const m=q-G>O&&typeof H=="function",r=m?Date.now()+R:0;let a=0;const A=this.commonObjs,T=this.objs;let P;for(;;){if(K!==void 0&&G===K.nextBreakPoint)return K.breakIt(G,H),G;if(P=Z[G],P!==s.OPS.dependency)this[P].apply(this,z[G]);else for(const V of z[G]){const J=V.startsWith("g_")?A:T;if(!J.has(V))return J.get(V,H),G}if(G++,G===q)return G;if(m&&++a>O){if(Date.now()>r)return H(),G;a=0}}}endDrawing(){ht(this,gt,ye).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const x of this._cachedBitmapsMap.values()){for(const k of x.values())typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement&&(k.width=k.height=0);x.clear()}this._cachedBitmapsMap.clear(),ht(this,Ct,ve).call(this)}_scaleImage(x,k){const H=x.width,K=x.height;let z=Math.max(Math.hypot(k[0],k[1]),1),Z=Math.max(Math.hypot(k[2],k[3]),1),G=H,q=K,m="prescale1",r,a;for(;z>2&&G>1||Z>2&&q>1;){let A=G,T=q;z>2&&G>1&&(A=G>=16384?Math.floor(G/2)-1||1:Math.ceil(G/2),z/=G/A),Z>2&&q>1&&(T=q>=16384?Math.floor(q/2)-1||1:Math.ceil(q)/2,Z/=q/T),r=this.cachedCanvases.getCanvas(m,A,T),a=r.context,a.clearRect(0,0,A,T),a.drawImage(x,0,0,G,q,0,0,A,T),x=r.canvas,G=A,q=T,m=m==="prescale1"?"prescale2":"prescale1"}return{img:x,paintWidth:G,paintHeight:q}}_createMaskCanvas(x){const k=this.ctx,{width:H,height:K}=x,z=this.current.fillColor,Z=this.current.patternFill,G=(0,i.getCurrentTransform)(k);let q,m,r,a;if((x.bitmap||x.data)&&x.count>1){const ft=x.bitmap||x.data.buffer;m=JSON.stringify(Z?G:[G.slice(0,4),z]),q=this._cachedBitmapsMap.get(ft),q||(q=new Map,this._cachedBitmapsMap.set(ft,q));const St=q.get(m);if(St&&!Z){const bt=Math.round(Math.min(G[0],G[2])+G[4]),wt=Math.round(Math.min(G[1],G[3])+G[5]);return{canvas:St,offsetX:bt,offsetY:wt}}r=St}r||(a=this.cachedCanvases.getCanvas("maskCanvas",H,K),o(a.context,x));let A=s.Util.transform(G,[1/H,0,0,-1/K,0,0]);A=s.Util.transform(A,[1,0,0,1,0,-K]);const T=s.Util.applyTransform([0,0],A),P=s.Util.applyTransform([H,K],A),V=s.Util.normalizeRect([T[0],T[1],P[0],P[1]]),J=Math.round(V[2]-V[0])||1,$=Math.round(V[3]-V[1])||1,Y=this.cachedCanvases.getCanvas("fillCanvas",J,$),rt=Y.context,et=Math.min(T[0],P[0]),it=Math.min(T[1],P[1]);rt.translate(-et,-it),rt.transform(...A),r||(r=this._scaleImage(a.canvas,(0,i.getCurrentTransformInverse)(rt)),r=r.img,q&&Z&&q.set(m,r)),rt.imageSmoothingEnabled=X((0,i.getCurrentTransform)(rt),x.interpolate),F(rt,r,0,0,r.width,r.height,0,0,H,K),rt.globalCompositeOperation="source-in";const ct=s.Util.transform((0,i.getCurrentTransformInverse)(rt),[1,0,0,1,-et,-it]);return rt.fillStyle=Z?z.getPattern(k,this,ct,l.PathType.FILL):z,rt.fillRect(0,0,H,K),q&&!Z&&(this.cachedCanvases.delete("fillCanvas"),q.set(m,Y.canvas)),{canvas:Y.canvas,offsetX:Math.round(et),offsetY:Math.round(it)}}setLineWidth(x){x!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=x,this.ctx.lineWidth=x}setLineCap(x){this.ctx.lineCap=st[x]}setLineJoin(x){this.ctx.lineJoin=at[x]}setMiterLimit(x){this.ctx.miterLimit=x}setDash(x,k){const H=this.ctx;H.setLineDash!==void 0&&(H.setLineDash(x),H.lineDashOffset=k)}setRenderingIntent(x){}setFlatness(x){}setGState(x){for(const[k,H]of x)switch(k){case"LW":this.setLineWidth(H);break;case"LC":this.setLineCap(H);break;case"LJ":this.setLineJoin(H);break;case"ML":this.setMiterLimit(H);break;case"D":this.setDash(H[0],H[1]);break;case"RI":this.setRenderingIntent(H);break;case"FL":this.setFlatness(H);break;case"Font":this.setFont(H[0],H[1]);break;case"CA":this.current.strokeAlpha=H;break;case"ca":this.current.fillAlpha=H,this.ctx.globalAlpha=H;break;case"BM":this.ctx.globalCompositeOperation=H;break;case"SMask":this.current.activeSMask=H?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(H);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const x=this.inSMaskMode;this.current.activeSMask&&!x?this.beginSMaskMode():!this.current.activeSMask&&x&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const x=this.ctx.canvas.width,k=this.ctx.canvas.height,H="smaskGroupAt"+this.groupLevel,K=this.cachedCanvases.getCanvas(H,x,k);this.suspendedCtx=this.ctx,this.ctx=K.context;const z=this.ctx;z.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),u(this.suspendedCtx,z),S(z,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(x){if(!this.current.activeSMask)return;x?(x[0]=Math.floor(x[0]),x[1]=Math.floor(x[1]),x[2]=Math.ceil(x[2]),x[3]=Math.ceil(x[3])):x=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const k=this.current.activeSMask,H=this.suspendedCtx;j(H,k,this.ctx,x),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(u(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const x=this.current;this.stateStack.push(x),this.current=x.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),u(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(x,k,H,K,z,Z){this.ctx.transform(x,k,H,K,z,Z),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(x,k,H){const K=this.ctx,z=this.current;let Z=z.x,G=z.y,q,m;const r=(0,i.getCurrentTransform)(K),a=r[0]===0&&r[3]===0||r[1]===0&&r[2]===0,A=a?H.slice(0):null;for(let T=0,P=0,V=x.length;T<V;T++)switch(x[T]|0){case s.OPS.rectangle:Z=k[P++],G=k[P++];const J=k[P++],$=k[P++],Y=Z+J,rt=G+$;K.moveTo(Z,G),J===0||$===0?K.lineTo(Y,rt):(K.lineTo(Y,G),K.lineTo(Y,rt),K.lineTo(Z,rt)),a||z.updateRectMinMax(r,[Z,G,Y,rt]),K.closePath();break;case s.OPS.moveTo:Z=k[P++],G=k[P++],K.moveTo(Z,G),a||z.updatePathMinMax(r,Z,G);break;case s.OPS.lineTo:Z=k[P++],G=k[P++],K.lineTo(Z,G),a||z.updatePathMinMax(r,Z,G);break;case s.OPS.curveTo:q=Z,m=G,Z=k[P+4],G=k[P+5],K.bezierCurveTo(k[P],k[P+1],k[P+2],k[P+3],Z,G),z.updateCurvePathMinMax(r,q,m,k[P],k[P+1],k[P+2],k[P+3],Z,G,A),P+=6;break;case s.OPS.curveTo2:q=Z,m=G,K.bezierCurveTo(Z,G,k[P],k[P+1],k[P+2],k[P+3]),z.updateCurvePathMinMax(r,q,m,Z,G,k[P],k[P+1],k[P+2],k[P+3],A),Z=k[P+2],G=k[P+3],P+=4;break;case s.OPS.curveTo3:q=Z,m=G,Z=k[P+2],G=k[P+3],K.bezierCurveTo(k[P],k[P+1],Z,G,Z,G),z.updateCurvePathMinMax(r,q,m,k[P],k[P+1],Z,G,Z,G,A),P+=4;break;case s.OPS.closePath:K.closePath();break}a&&z.updateScalingPathMinMax(r,A),z.setCurrentPoint(Z,G)}closePath(){this.ctx.closePath()}stroke(x=!0){const k=this.ctx,H=this.current.strokeColor;k.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof H=="object"&&(H==null?void 0:H.getPattern)?(k.save(),k.strokeStyle=H.getPattern(k,this,(0,i.getCurrentTransformInverse)(k),l.PathType.STROKE),this.rescaleAndStroke(!1),k.restore()):this.rescaleAndStroke(!0)),x&&this.consumePath(this.current.getClippedPathBoundingBox()),k.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(x=!0){const k=this.ctx,H=this.current.fillColor,K=this.current.patternFill;let z=!1;K&&(k.save(),k.fillStyle=H.getPattern(k,this,(0,i.getCurrentTransformInverse)(k),l.PathType.FILL),z=!0);const Z=this.current.getClippedPathBoundingBox();this.contentVisible&&Z!==null&&(this.pendingEOFill?(k.fill("evenodd"),this.pendingEOFill=!1):k.fill()),z&&k.restore(),x&&this.consumePath(Z)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ot}eoClip(){this.pendingClip=dt}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const x=this.pendingTextPaths,k=this.ctx;if(x===void 0){k.beginPath();return}k.save(),k.beginPath();for(const H of x)k.setTransform(...H.transform),k.translate(H.x,H.y),H.addToPath(k,H.fontSize);k.restore(),k.clip(),k.beginPath(),delete this.pendingTextPaths}setCharSpacing(x){this.current.charSpacing=x}setWordSpacing(x){this.current.wordSpacing=x}setHScale(x){this.current.textHScale=x/100}setLeading(x){this.current.leading=-x}setFont(x,k){const H=this.commonObjs.get(x),K=this.current;if(!H)throw new Error(`Can't find font for ${x}`);if(K.fontMatrix=H.fontMatrix||s.FONT_IDENTITY_MATRIX,(K.fontMatrix[0]===0||K.fontMatrix[3]===0)&&(0,s.warn)("Invalid font matrix for font "+x),k<0?(k=-k,K.fontDirection=-1):K.fontDirection=1,this.current.font=H,this.current.fontSize=k,H.isType3Font)return;const z=H.loadedName||"sans-serif";let Z="normal";H.black?Z="900":H.bold&&(Z="bold");const G=H.italic?"italic":"normal",q=`"${z}", ${H.fallbackName}`;let m=k;k<v?m=v:k>w&&(m=w),this.current.fontSizeScale=k/m,this.ctx.font=`${G} ${Z} ${m}px ${q}`}setTextRenderingMode(x){this.current.textRenderingMode=x}setTextRise(x){this.current.textRise=x}moveText(x,k){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=k}setLeadingMoveText(x,k){this.setLeading(-k),this.moveText(x,k)}setTextMatrix(x,k,H,K,z,Z){this.current.textMatrix=[x,k,H,K,z,Z],this.current.textMatrixScale=Math.hypot(x,k),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(x,k,H,K){const z=this.ctx,Z=this.current,G=Z.font,q=Z.textRenderingMode,m=Z.fontSize/Z.fontSizeScale,r=q&s.TextRenderingMode.FILL_STROKE_MASK,a=!!(q&s.TextRenderingMode.ADD_TO_PATH_FLAG),A=Z.patternFill&&!G.missingFile;let T;(G.disableFontFace||a||A)&&(T=G.getPathGenerator(this.commonObjs,x)),G.disableFontFace||A?(z.save(),z.translate(k,H),z.beginPath(),T(z,m),K&&z.setTransform(...K),(r===s.TextRenderingMode.FILL||r===s.TextRenderingMode.FILL_STROKE)&&z.fill(),(r===s.TextRenderingMode.STROKE||r===s.TextRenderingMode.FILL_STROKE)&&z.stroke(),z.restore()):((r===s.TextRenderingMode.FILL||r===s.TextRenderingMode.FILL_STROKE)&&z.fillText(x,k,H),(r===s.TextRenderingMode.STROKE||r===s.TextRenderingMode.FILL_STROKE)&&z.strokeText(x,k,H)),a&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(z),x:k,y:H,fontSize:m,addToPath:T})}get isFontSubpixelAAEnabled(){const{context:x}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);x.scale(1.5,1),x.fillText("I",0,10);const k=x.getImageData(0,0,10,10).data;let H=!1;for(let K=3;K<k.length;K+=4)if(k[K]>0&&k[K]<255){H=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",H)}showText(x){const k=this.current,H=k.font;if(H.isType3Font)return this.showType3Text(x);const K=k.fontSize;if(K===0)return;const z=this.ctx,Z=k.fontSizeScale,G=k.charSpacing,q=k.wordSpacing,m=k.fontDirection,r=k.textHScale*m,a=x.length,A=H.vertical,T=A?1:-1,P=H.defaultVMetrics,V=K*k.fontMatrix[0],J=k.textRenderingMode===s.TextRenderingMode.FILL&&!H.disableFontFace&&!k.patternFill;z.save(),z.transform(...k.textMatrix),z.translate(k.x,k.y+k.textRise),m>0?z.scale(r,-1):z.scale(r,1);let $;if(k.patternFill){z.save();const ct=k.fillColor.getPattern(z,this,(0,i.getCurrentTransformInverse)(z),l.PathType.FILL);$=(0,i.getCurrentTransform)(z),z.restore(),z.fillStyle=ct}let Y=k.lineWidth;const rt=k.textMatrixScale;if(rt===0||Y===0){const ct=k.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;(ct===s.TextRenderingMode.STROKE||ct===s.TextRenderingMode.FILL_STROKE)&&(Y=this.getSinglePixelWidth())}else Y/=rt;if(Z!==1&&(z.scale(Z,Z),Y/=Z),z.lineWidth=Y,H.isInvalidPDFjsFont){const ct=[];let ft=0;for(const St of x)ct.push(St.unicode),ft+=St.width;z.fillText(ct.join(""),0,0),k.x+=ft*V*r,z.restore(),this.compose();return}let et=0,it;for(it=0;it<a;++it){const ct=x[it];if(typeof ct=="number"){et+=T*ct*K/1e3;continue}let ft=!1;const St=(ct.isSpace?q:0)+G,bt=ct.fontChar,wt=ct.accent;let nt,At,Et=ct.width;if(A){const mt=ct.vmetric||P,U=-(ct.vmetric?mt[1]:Et*.5)*V,W=mt[2]*V;Et=mt?-mt[0]:Et,nt=U/Z,At=(et+W)/Z}else nt=et/Z,At=0;if(H.remeasure&&Et>0){const mt=z.measureText(bt).width*1e3/K*Z;if(Et<mt&&this.isFontSubpixelAAEnabled){const U=Et/mt;ft=!0,z.save(),z.scale(U,1),nt/=U}else Et!==mt&&(nt+=(Et-mt)/2e3*K/Z)}if(this.contentVisible&&(ct.isInFont||H.missingFile)){if(J&&!wt)z.fillText(bt,nt,At);else if(this.paintChar(bt,nt,At,$),wt){const mt=nt+K*wt.offset.x/Z,U=At-K*wt.offset.y/Z;this.paintChar(wt.fontChar,mt,U,$)}}let Ot;A?Ot=Et*V-St*m:Ot=Et*V+St*m,et+=Ot,ft&&z.restore()}A?k.y-=et:k.x+=et*r,z.restore(),this.compose()}showType3Text(x){const k=this.ctx,H=this.current,K=H.font,z=H.fontSize,Z=H.fontDirection,G=K.vertical?1:-1,q=H.charSpacing,m=H.wordSpacing,r=H.textHScale*Z,a=H.fontMatrix||s.FONT_IDENTITY_MATRIX,A=x.length,T=H.textRenderingMode===s.TextRenderingMode.INVISIBLE;let P,V,J,$;if(!(T||z===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,k.save(),k.transform(...H.textMatrix),k.translate(H.x,H.y),k.scale(r,Z),P=0;P<A;++P){if(V=x[P],typeof V=="number"){$=G*V*z/1e3,this.ctx.translate($,0),H.x+=$*r;continue}const Y=(V.isSpace?m:0)+q,rt=K.charProcOperatorList[V.operatorListId];if(!rt){(0,s.warn)(`Type3 character "${V.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=V,this.save(),k.scale(z,z),k.transform(...a),this.executeOperatorList(rt),this.restore()),J=s.Util.applyTransform([V.width,0],a)[0]*z+Y,k.translate(J,0),H.x+=J*r}k.restore(),this.processingType3=null}}setCharWidth(x,k){}setCharWidthAndBounds(x,k,H,K,z,Z){this.ctx.rect(H,K,z-H,Z-K),this.ctx.clip(),this.endPath()}getColorN_Pattern(x){let k;if(x[0]==="TilingPattern"){const H=x[1],K=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),z={createCanvasGraphics:Z=>new Tt(Z,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};k=new l.TilingPattern(x,H,this.ctx,z,K)}else k=this._getPattern(x[1],x[2]);return k}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(x,k,H){const K=s.Util.makeHexColor(x,k,H);this.ctx.strokeStyle=K,this.current.strokeColor=K}setFillRGBColor(x,k,H){const K=s.Util.makeHexColor(x,k,H);this.ctx.fillStyle=K,this.current.fillColor=K,this.current.patternFill=!1}_getPattern(x,k=null){let H;return this.cachedPatterns.has(x)?H=this.cachedPatterns.get(x):(H=(0,l.getShadingPattern)(this.getObject(x)),this.cachedPatterns.set(x,H)),k&&(H.matrix=k),H}shadingFill(x){if(!this.contentVisible)return;const k=this.ctx;this.save();const H=this._getPattern(x);k.fillStyle=H.getPattern(k,this,(0,i.getCurrentTransformInverse)(k),l.PathType.SHADING);const K=(0,i.getCurrentTransformInverse)(k);if(K){const z=k.canvas,Z=z.width,G=z.height,q=s.Util.applyTransform([0,0],K),m=s.Util.applyTransform([0,G],K),r=s.Util.applyTransform([Z,0],K),a=s.Util.applyTransform([Z,G],K),A=Math.min(q[0],m[0],r[0],a[0]),T=Math.min(q[1],m[1],r[1],a[1]),P=Math.max(q[0],m[0],r[0],a[0]),V=Math.max(q[1],m[1],r[1],a[1]);this.ctx.fillRect(A,T,P-A,V-T)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(x,k){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(x)&&x.length===6&&this.transform(...x),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),k)){const H=k[2]-k[0],K=k[3]-k[1];this.ctx.rect(k[0],k[1],H,K),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),k),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(x){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const k=this.ctx;x.isolated||(0,s.info)("TODO: Support non-isolated groups."),x.knockout&&(0,s.warn)("Knockout groups not supported.");const H=(0,i.getCurrentTransform)(k);if(x.matrix&&k.transform(...x.matrix),!x.bbox)throw new Error("Bounding box is required.");let K=s.Util.getAxialAlignedBoundingBox(x.bbox,(0,i.getCurrentTransform)(k));const z=[0,0,k.canvas.width,k.canvas.height];K=s.Util.intersect(K,z)||[0,0,0,0];const Z=Math.floor(K[0]),G=Math.floor(K[1]);let q=Math.max(Math.ceil(K[2])-Z,1),m=Math.max(Math.ceil(K[3])-G,1),r=1,a=1;q>c&&(r=q/c,q=c),m>c&&(a=m/c,m=c),this.current.startNewPathAndClipBox([0,0,q,m]);let A="groupAt"+this.groupLevel;x.smask&&(A+="_smask_"+this.smaskCounter++%2);const T=this.cachedCanvases.getCanvas(A,q,m),P=T.context;P.scale(1/r,1/a),P.translate(-Z,-G),P.transform(...H),x.smask?this.smaskStack.push({canvas:T.canvas,context:P,offsetX:Z,offsetY:G,scaleX:r,scaleY:a,subtype:x.smask.subtype,backdrop:x.smask.backdrop,transferMap:x.smask.transferMap||null,startTransformInverse:null}):(k.setTransform(1,0,0,1,0,0),k.translate(Z,G),k.scale(r,a),k.save()),u(k,P),this.ctx=P,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(k),this.groupLevel++}endGroup(x){if(!this.contentVisible)return;this.groupLevel--;const k=this.ctx,H=this.groupStack.pop();if(this.ctx=H,this.ctx.imageSmoothingEnabled=!1,x.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const K=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...K);const z=s.Util.getAxialAlignedBoundingBox([0,0,k.canvas.width,k.canvas.height],K);this.ctx.drawImage(k.canvas,0,0),this.ctx.restore(),this.compose(z)}}beginAnnotation(x,k,H,K,z){if(ht(this,gt,ye).call(this),_(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(k)&&k.length===4){const Z=k[2]-k[0],G=k[3]-k[1];if(z&&this.annotationCanvasMap){H=H.slice(),H[4]-=k[0],H[5]-=k[1],k=k.slice(),k[0]=k[1]=0,k[2]=Z,k[3]=G;const[q,m]=s.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:r}=this,a=Math.ceil(Z*this.outputScaleX*r),A=Math.ceil(G*this.outputScaleY*r);this.annotationCanvas=this.canvasFactory.create(a,A);const{canvas:T,context:P}=this.annotationCanvas;this.annotationCanvasMap.set(x,T),this.annotationCanvas.savedCtx=this.ctx,this.ctx=P,this.ctx.save(),this.ctx.setTransform(q,0,0,-m,0,G*m),_(this.ctx)}else _(this.ctx),this.ctx.rect(k[0],k[1],Z,G),this.ctx.clip(),this.endPath()}this.current=new N(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...H),this.transform(...K)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ht(this,Ct,ve).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(x){if(!this.contentVisible)return;const k=x.count;x=this.getObject(x.data,x),x.count=k;const H=this.ctx,K=this.processingType3;if(K&&(K.compiled===void 0&&(K.compiled=L(x)),K.compiled)){K.compiled(H);return}const z=this._createMaskCanvas(x),Z=z.canvas;H.save(),H.setTransform(1,0,0,1,0,0),H.drawImage(Z,z.offsetX,z.offsetY),H.restore(),this.compose()}paintImageMaskXObjectRepeat(x,k,H=0,K=0,z,Z){if(!this.contentVisible)return;x=this.getObject(x.data,x);const G=this.ctx;G.save();const q=(0,i.getCurrentTransform)(G);G.transform(k,H,K,z,0,0);const m=this._createMaskCanvas(x);G.setTransform(1,0,0,1,m.offsetX-q[4],m.offsetY-q[5]);for(let r=0,a=Z.length;r<a;r+=2){const A=s.Util.transform(q,[k,H,K,z,Z[r],Z[r+1]]),[T,P]=s.Util.applyTransform([0,0],A);G.drawImage(m.canvas,T,P)}G.restore(),this.compose()}paintImageMaskXObjectGroup(x){if(!this.contentVisible)return;const k=this.ctx,H=this.current.fillColor,K=this.current.patternFill;for(const z of x){const{data:Z,width:G,height:q,transform:m}=z,r=this.cachedCanvases.getCanvas("maskCanvas",G,q),a=r.context;a.save();const A=this.getObject(Z,z);o(a,A),a.globalCompositeOperation="source-in",a.fillStyle=K?H.getPattern(a,this,(0,i.getCurrentTransformInverse)(k),l.PathType.FILL):H,a.fillRect(0,0,G,q),a.restore(),k.save(),k.transform(...m),k.scale(1,-1),F(k,r.canvas,0,0,G,q,0,-1,1,1),k.restore()}this.compose()}paintImageXObject(x){if(!this.contentVisible)return;const k=this.getObject(x);if(!k){(0,s.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(k)}paintImageXObjectRepeat(x,k,H,K){if(!this.contentVisible)return;const z=this.getObject(x);if(!z){(0,s.warn)("Dependent image isn't ready yet");return}const Z=z.width,G=z.height,q=[];for(let m=0,r=K.length;m<r;m+=2)q.push({transform:[k,0,0,H,K[m],K[m+1]],x:0,y:0,w:Z,h:G});this.paintInlineImageXObjectGroup(z,q)}applyTransferMapsToCanvas(x){return this.current.transferMaps!=="none"&&(x.filter=this.current.transferMaps,x.drawImage(x.canvas,0,0),x.filter="none"),x.canvas}applyTransferMapsToBitmap(x){if(this.current.transferMaps==="none")return x.bitmap;const{bitmap:k,width:H,height:K}=x,z=this.cachedCanvases.getCanvas("inlineImage",H,K),Z=z.context;return Z.filter=this.current.transferMaps,Z.drawImage(k,0,0),Z.filter="none",z.canvas}paintInlineImageXObject(x){if(!this.contentVisible)return;const k=x.width,H=x.height,K=this.ctx;this.save(),M.isNodeJS||(K.filter="none"),K.scale(1/k,-1/H);let z;if(x.bitmap)z=this.applyTransferMapsToBitmap(x);else if(typeof HTMLElement=="function"&&x instanceof HTMLElement||!x.data)z=x;else{const q=this.cachedCanvases.getCanvas("inlineImage",k,H).context;C(q,x),z=this.applyTransferMapsToCanvas(q)}const Z=this._scaleImage(z,(0,i.getCurrentTransformInverse)(K));K.imageSmoothingEnabled=X((0,i.getCurrentTransform)(K),x.interpolate),F(K,Z.img,0,0,Z.paintWidth,Z.paintHeight,0,-H,k,H),this.compose(),this.restore()}paintInlineImageXObjectGroup(x,k){if(!this.contentVisible)return;const H=this.ctx;let K;if(x.bitmap)K=x.bitmap;else{const z=x.width,Z=x.height,q=this.cachedCanvases.getCanvas("inlineImage",z,Z).context;C(q,x),K=this.applyTransferMapsToCanvas(q)}for(const z of k)H.save(),H.transform(...z.transform),H.scale(1,-1),F(H,K,z.x,z.y,z.w,z.h,0,-1,1,1),H.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(x){}markPointProps(x,k){}beginMarkedContent(x){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(x,k){x==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(k)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(x){const k=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(x);const H=this.ctx;this.pendingClip&&(k||(this.pendingClip===dt?H.clip("evenodd"):H.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),H.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const x=(0,i.getCurrentTransform)(this.ctx);if(x[1]===0&&x[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(x[0]),Math.abs(x[3]));else{const k=Math.abs(x[0]*x[3]-x[2]*x[1]),H=Math.hypot(x[0],x[2]),K=Math.hypot(x[1],x[3]);this._cachedGetSinglePixelWidth=Math.max(H,K)/k}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:x}=this.current,k=(0,i.getCurrentTransform)(this.ctx);let H,K;if(k[1]===0&&k[2]===0){const z=Math.abs(k[0]),Z=Math.abs(k[3]);if(x===0)H=1/z,K=1/Z;else{const G=z*x,q=Z*x;H=G<1?1/G:1,K=q<1?1/q:1}}else{const z=Math.abs(k[0]*k[3]-k[2]*k[1]),Z=Math.hypot(k[0],k[1]),G=Math.hypot(k[2],k[3]);if(x===0)H=G/z,K=Z/z;else{const q=x*z;H=G>q?G/q:1,K=Z>q?Z/q:1}}this._cachedScaleForStroking=[H,K]}return this._cachedScaleForStroking}rescaleAndStroke(x){const{ctx:k}=this,{lineWidth:H}=this.current,[K,z]=this.getScaleForStroking();if(k.lineWidth=H||1,K===1&&z===1){k.stroke();return}let Z,G,q;x&&(Z=(0,i.getCurrentTransform)(k),G=k.getLineDash().slice(),q=k.lineDashOffset),k.scale(K,z);const m=Math.max(K,z);k.setLineDash(k.getLineDash().map(r=>r/m)),k.lineDashOffset/=m,k.stroke(),x&&(k.setTransform(...Z),k.setLineDash(G),k.lineDashOffset=q)}isContentVisible(){for(let x=this.markedContentStack.length-1;x>=0;x--)if(!this.markedContentStack[x].visible)return!1;return!0}};let ut=Tt;gt=new WeakSet,ye=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ct=new WeakSet,ve=function(){if(this.pageColors){const x=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(x!=="none"){const k=this.ctx.filter;this.ctx.filter=x,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=k}}},e.CanvasGraphics=ut;for(const Q in s.OPS)ut.prototype[Q]!==void 0&&(ut.prototype[s.OPS[Q]]=ut.prototype[Q])},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=D;var s=n(1),i=n(6);const l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=l;function f(F,L){if(!L)return;const N=L[2]-L[0],C=L[3]-L[1],o=new Path2D;o.rect(L[0],L[1],N,C),F.clip(o)}class M{constructor(){this.constructor===M&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class v extends M{constructor(L){super(),this._type=L[1],this._bbox=L[2],this._colorStops=L[3],this._p0=L[4],this._p1=L[5],this._r0=L[6],this._r1=L[7],this.matrix=null}_createGradient(L){let N;this._type==="axial"?N=L.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(N=L.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const C of this._colorStops)N.addColorStop(C[0],C[1]);return N}getPattern(L,N,C,o){let u;if(o===l.STROKE||o===l.FILL){const _=N.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(L))||[0,0,0,0],d=Math.ceil(_[2]-_[0])||1,y=Math.ceil(_[3]-_[1])||1,B=N.cachedCanvases.getCanvas("pattern",d,y,!0),g=B.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-_[0],-_[1]),C=s.Util.transform(C,[1,0,0,1,_[0],_[1]]),g.transform(...N.baseTransform),this.matrix&&g.transform(...this.matrix),f(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),u=L.createPattern(B.canvas,"no-repeat");const j=new DOMMatrix(C);u.setTransform(j)}else f(L,this._bbox),u=this._createGradient(L);return u}}function w(F,L,N,C,o,u,_,d){const y=L.coords,B=L.colors,g=F.data,j=F.width*4;let X;y[N+1]>y[C+1]&&(X=N,N=C,C=X,X=u,u=_,_=X),y[C+1]>y[o+1]&&(X=C,C=o,o=X,X=_,_=d,d=X),y[N+1]>y[C+1]&&(X=N,N=C,C=X,X=u,u=_,_=X);const st=(y[N]+L.offsetX)*L.scaleX,at=(y[N+1]+L.offsetY)*L.scaleY,ot=(y[C]+L.offsetX)*L.scaleX,dt=(y[C+1]+L.offsetY)*L.scaleY,ut=(y[o]+L.offsetX)*L.scaleX,gt=(y[o+1]+L.offsetY)*L.scaleY;if(at>=gt)return;const vt=B[u],Ct=B[u+1],xt=B[u+2],Tt=B[_],Q=B[_+1],x=B[_+2],k=B[d],H=B[d+1],K=B[d+2],z=Math.round(at),Z=Math.round(gt);let G,q,m,r,a,A,T,P;for(let V=z;V<=Z;V++){if(V<dt){let et;V<at?et=0:et=(at-V)/(at-dt),G=st-(st-ot)*et,q=vt-(vt-Tt)*et,m=Ct-(Ct-Q)*et,r=xt-(xt-x)*et}else{let et;V>gt?et=1:dt===gt?et=0:et=(dt-V)/(dt-gt),G=ot-(ot-ut)*et,q=Tt-(Tt-k)*et,m=Q-(Q-H)*et,r=x-(x-K)*et}let J;V<at?J=0:V>gt?J=1:J=(at-V)/(at-gt),a=st-(st-ut)*J,A=vt-(vt-k)*J,T=Ct-(Ct-H)*J,P=xt-(xt-K)*J;const $=Math.round(Math.min(G,a)),Y=Math.round(Math.max(G,a));let rt=j*V+$*4;for(let et=$;et<=Y;et++)J=(G-et)/(G-a),J<0?J=0:J>1&&(J=1),g[rt++]=q-(q-A)*J|0,g[rt++]=m-(m-T)*J|0,g[rt++]=r-(r-P)*J|0,g[rt++]=255}}function c(F,L,N){const C=L.coords,o=L.colors;let u,_;switch(L.type){case"lattice":const d=L.verticesPerRow,y=Math.floor(C.length/d)-1,B=d-1;for(u=0;u<y;u++){let g=u*d;for(let j=0;j<B;j++,g++)w(F,N,C[g],C[g+1],C[g+d],o[g],o[g+1],o[g+d]),w(F,N,C[g+d+1],C[g+1],C[g+d],o[g+d+1],o[g+1],o[g+d])}break;case"triangles":for(u=0,_=C.length;u<_;u+=3)w(F,N,C[u],C[u+1],C[u+2],o[u],o[u+1],o[u+2]);break;default:throw new Error("illegal figure")}}class R extends M{constructor(L){super(),this._coords=L[2],this._colors=L[3],this._figures=L[4],this._bounds=L[5],this._bbox=L[7],this._background=L[8],this.matrix=null}_createMeshCanvas(L,N,C){const d=Math.floor(this._bounds[0]),y=Math.floor(this._bounds[1]),B=Math.ceil(this._bounds[2])-d,g=Math.ceil(this._bounds[3])-y,j=Math.min(Math.ceil(Math.abs(B*L[0]*1.1)),3e3),X=Math.min(Math.ceil(Math.abs(g*L[1]*1.1)),3e3),st=B/j,at=g/X,ot={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-y,scaleX:1/st,scaleY:1/at},dt=j+2*2,ut=X+2*2,gt=C.getCanvas("mesh",dt,ut,!1),vt=gt.context,Ct=vt.createImageData(j,X);if(N){const Tt=Ct.data;for(let Q=0,x=Tt.length;Q<x;Q+=4)Tt[Q]=N[0],Tt[Q+1]=N[1],Tt[Q+2]=N[2],Tt[Q+3]=255}for(const Tt of this._figures)c(Ct,Tt,ot);return vt.putImageData(Ct,2,2),{canvas:gt.canvas,offsetX:d-2*st,offsetY:y-2*at,scaleX:st,scaleY:at}}getPattern(L,N,C,o){f(L,this._bbox);let u;if(o===l.SHADING)u=s.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(L));else if(u=s.Util.singularValueDecompose2dScale(N.baseTransform),this.matrix){const d=s.Util.singularValueDecompose2dScale(this.matrix);u=[u[0]*d[0],u[1]*d[1]]}const _=this._createMeshCanvas(u,o===l.SHADING?null:this._background,N.cachedCanvases);return o!==l.SHADING&&(L.setTransform(...N.baseTransform),this.matrix&&L.transform(...this.matrix)),L.translate(_.offsetX,_.offsetY),L.scale(_.scaleX,_.scaleY),L.createPattern(_.canvas,"no-repeat")}}class O extends M{getPattern(){return"hotpink"}}function D(F){switch(F[0]){case"RadialAxial":return new v(F);case"Mesh":return new R(F);case"Dummy":return new O}throw new Error(`Unknown IR type: ${F[0]}`)}const E={COLORED:1,UNCOLORED:2},b=class{constructor(L,N,C,o,u){this.operatorList=L[2],this.matrix=L[3]||[1,0,0,1,0,0],this.bbox=L[4],this.xstep=L[5],this.ystep=L[6],this.paintType=L[7],this.tilingType=L[8],this.color=N,this.ctx=C,this.canvasGraphicsFactory=o,this.baseTransform=u}createPatternCanvas(L){const N=this.operatorList,C=this.bbox,o=this.xstep,u=this.ystep,_=this.paintType,d=this.tilingType,y=this.color,B=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+d);const g=C[0],j=C[1],X=C[2],st=C[3],at=s.Util.singularValueDecompose2dScale(this.matrix),ot=s.Util.singularValueDecompose2dScale(this.baseTransform),dt=[at[0]*ot[0],at[1]*ot[1]],ut=this.getSizeAndScale(o,this.ctx.canvas.width,dt[0]),gt=this.getSizeAndScale(u,this.ctx.canvas.height,dt[1]),vt=L.cachedCanvases.getCanvas("pattern",ut.size,gt.size,!0),Ct=vt.context,xt=B.createCanvasGraphics(Ct);xt.groupLevel=L.groupLevel,this.setFillAndStrokeStyleToContext(xt,_,y);let Tt=g,Q=j,x=X,k=st;return g<0&&(Tt=0,x+=Math.abs(g)),j<0&&(Q=0,k+=Math.abs(j)),Ct.translate(-(ut.scale*Tt),-(gt.scale*Q)),xt.transform(ut.scale,0,0,gt.scale,0,0),Ct.save(),this.clipBbox(xt,Tt,Q,x,k),xt.baseTransform=(0,i.getCurrentTransform)(xt.ctx),xt.executeOperatorList(N),xt.endDrawing(),{canvas:vt.canvas,scaleX:ut.scale,scaleY:gt.scale,offsetX:Tt,offsetY:Q}}getSizeAndScale(L,N,C){L=Math.abs(L);const o=Math.max(b.MAX_PATTERN_SIZE,N);let u=Math.ceil(L*C);return u>=o?u=o:C=u/L,{scale:C,size:u}}clipBbox(L,N,C,o,u){const _=o-N,d=u-C;L.ctx.rect(N,C,_,d),L.current.updateRectMinMax((0,i.getCurrentTransform)(L.ctx),[N,C,o,u]),L.clip(),L.endPath()}setFillAndStrokeStyleToContext(L,N,C){const o=L.ctx,u=L.current;switch(N){case E.COLORED:const _=this.ctx;o.fillStyle=_.fillStyle,o.strokeStyle=_.strokeStyle,u.fillColor=_.fillStyle,u.strokeColor=_.strokeStyle;break;case E.UNCOLORED:const d=s.Util.makeHexColor(C[0],C[1],C[2]);o.fillStyle=d,o.strokeStyle=d,u.fillColor=d,u.strokeColor=d;break;default:throw new s.FormatError(`Unsupported paint type: ${N}`)}}getPattern(L,N,C,o){let u=C;o!==l.SHADING&&(u=s.Util.transform(u,N.baseTransform),this.matrix&&(u=s.Util.transform(u,this.matrix)));const _=this.createPatternCanvas(N);let d=new DOMMatrix(u);d=d.translate(_.offsetX,_.offsetY),d=d.scale(1/_.scaleX,1/_.scaleY);const y=L.createPattern(_.canvas,"repeat");return y.setTransform(d),y}};let S=b;Nt(S,"MAX_PATTERN_SIZE",3e3),e.TilingPattern=S},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=l,e.convertToRGBA=i,e.grayToRGBA=M;var s=n(1);function i(v){switch(v.kind){case s.ImageKind.GRAYSCALE_1BPP:return l(v);case s.ImageKind.RGB_24BPP:return f(v)}return null}function l({src:v,srcPos:w=0,dest:c,width:R,height:O,nonBlackColor:D=4294967295,inverseDecode:E=!1}){const S=s.FeatureTest.isLittleEndian?4278190080:255,[b,F]=E?[D,S]:[S,D],L=R>>3,N=R&7,C=v.length;c=new Uint32Array(c.buffer);let o=0;for(let u=0;u<O;u++){for(const d=w+L;w<d;w++){const y=w<C?v[w]:255;c[o++]=y&128?F:b,c[o++]=y&64?F:b,c[o++]=y&32?F:b,c[o++]=y&16?F:b,c[o++]=y&8?F:b,c[o++]=y&4?F:b,c[o++]=y&2?F:b,c[o++]=y&1?F:b}if(N===0)continue;const _=w<C?v[w++]:255;for(let d=0;d<N;d++)c[o++]=_&1<<7-d?F:b}return{srcPos:w,destPos:o}}function f({src:v,srcPos:w=0,dest:c,destPos:R=0,width:O,height:D}){let E=0;const S=v.length>>2,b=new Uint32Array(v.buffer,w,S);if(s.FeatureTest.isLittleEndian){for(;E<S-2;E+=3,R+=4){const F=b[E],L=b[E+1],N=b[E+2];c[R]=F|4278190080,c[R+1]=F>>>24|L<<8|4278190080,c[R+2]=L>>>16|N<<16|4278190080,c[R+3]=N>>>8|4278190080}for(let F=E*4,L=v.length;F<L;F+=3)c[R++]=v[F]|v[F+1]<<8|v[F+2]<<16|4278190080}else{for(;E<S-2;E+=3,R+=4){const F=b[E],L=b[E+1],N=b[E+2];c[R]=F|255,c[R+1]=F<<24|L>>>8|255,c[R+2]=L<<16|N>>>16|255,c[R+3]=N<<8|255}for(let F=E*4,L=v.length;F<L;F+=3)c[R++]=v[F]<<24|v[F+1]<<16|v[F+2]<<8|255}return{srcPos:w,destPos:R}}function M(v,w){if(s.FeatureTest.isLittleEndian)for(let c=0,R=v.length;c<R;c++)w[c]=v[c]*65793|4278190080;else for(let c=0,R=v.length;c<R;c++)w[c]=v[c]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(t,e,n)=>{var v,qe,c,Ge,O,ce;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var s=n(1);const i={UNKNOWN:0,DATA:1,ERROR:2},l={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f(E){switch(E instanceof Error||typeof E=="object"&&E!==null||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),E.name){case"AbortException":return new s.AbortException(E.message);case"MissingPDFException":return new s.MissingPDFException(E.message);case"PasswordException":return new s.PasswordException(E.message,E.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(E.message,E.status);case"UnknownErrorException":return new s.UnknownErrorException(E.message,E.details);default:return new s.UnknownErrorException(E.message,E.toString())}}class M{constructor(S,b,F){lt(this,v);lt(this,c);lt(this,O);this.sourceName=S,this.targetName=b,this.comObj=F,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=L=>{const N=L.data;if(N.targetName!==this.sourceName)return;if(N.stream){ht(this,c,Ge).call(this,N);return}if(N.callback){const o=N.callbackId,u=this.callbackCapabilities[o];if(!u)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],N.callback===i.DATA)u.resolve(N.data);else if(N.callback===i.ERROR)u.reject(f(N.reason));else throw new Error("Unexpected callback case");return}const C=this.actionHandler[N.action];if(!C)throw new Error(`Unknown action from worker: ${N.action}`);if(N.callbackId){const o=this.sourceName,u=N.sourceName;new Promise(function(_){_(C(N.data))}).then(function(_){F.postMessage({sourceName:o,targetName:u,callback:i.DATA,callbackId:N.callbackId,data:_})},function(_){F.postMessage({sourceName:o,targetName:u,callback:i.ERROR,callbackId:N.callbackId,reason:f(_)})});return}if(N.streamId){ht(this,v,qe).call(this,N);return}C(N.data)},F.addEventListener("message",this._onComObjOnMessage)}on(S,b){const F=this.actionHandler;if(F[S])throw new Error(`There is already an actionName called "${S}"`);F[S]=b}send(S,b,F){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:S,data:b},F)}sendWithPromise(S,b,F){const L=this.callbackId++,N=new s.PromiseCapability;this.callbackCapabilities[L]=N;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:S,callbackId:L,data:b},F)}catch(C){N.reject(C)}return N.promise}sendWithStream(S,b,F,L){const N=this.streamId++,C=this.sourceName,o=this.targetName,u=this.comObj;return new ReadableStream({start:_=>{const d=new s.PromiseCapability;return this.streamControllers[N]={controller:_,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:C,targetName:o,action:S,streamId:N,data:b,desiredSize:_.desiredSize},L),d.promise},pull:_=>{const d=new s.PromiseCapability;return this.streamControllers[N].pullCall=d,u.postMessage({sourceName:C,targetName:o,stream:l.PULL,streamId:N,desiredSize:_.desiredSize}),d.promise},cancel:_=>{(0,s.assert)(_ instanceof Error,"cancel must have a valid reason");const d=new s.PromiseCapability;return this.streamControllers[N].cancelCall=d,this.streamControllers[N].isClosed=!0,u.postMessage({sourceName:C,targetName:o,stream:l.CANCEL,streamId:N,reason:f(_)}),d.promise}},F)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}v=new WeakSet,qe=function(S){const b=S.streamId,F=this.sourceName,L=S.sourceName,N=this.comObj,C=this,o=this.actionHandler[S.action],u={enqueue(_,d=1,y){if(this.isCancelled)return;const B=this.desiredSize;this.desiredSize-=d,B>0&&this.desiredSize<=0&&(this.sinkCapability=new s.PromiseCapability,this.ready=this.sinkCapability.promise),N.postMessage({sourceName:F,targetName:L,stream:l.ENQUEUE,streamId:b,chunk:_},y)},close(){this.isCancelled||(this.isCancelled=!0,N.postMessage({sourceName:F,targetName:L,stream:l.CLOSE,streamId:b}),delete C.streamSinks[b])},error(_){(0,s.assert)(_ instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,N.postMessage({sourceName:F,targetName:L,stream:l.ERROR,streamId:b,reason:f(_)}))},sinkCapability:new s.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:S.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[b]=u,new Promise(function(_){_(o(S.data,u))}).then(function(){N.postMessage({sourceName:F,targetName:L,stream:l.START_COMPLETE,streamId:b,success:!0})},function(_){N.postMessage({sourceName:F,targetName:L,stream:l.START_COMPLETE,streamId:b,reason:f(_)})})},c=new WeakSet,Ge=function(S){const b=S.streamId,F=this.sourceName,L=S.sourceName,N=this.comObj,C=this.streamControllers[b],o=this.streamSinks[b];switch(S.stream){case l.START_COMPLETE:S.success?C.startCall.resolve():C.startCall.reject(f(S.reason));break;case l.PULL_COMPLETE:S.success?C.pullCall.resolve():C.pullCall.reject(f(S.reason));break;case l.PULL:if(!o){N.postMessage({sourceName:F,targetName:L,stream:l.PULL_COMPLETE,streamId:b,success:!0});break}o.desiredSize<=0&&S.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=S.desiredSize,new Promise(function(u){var _;u((_=o.onPull)==null?void 0:_.call(o))}).then(function(){N.postMessage({sourceName:F,targetName:L,stream:l.PULL_COMPLETE,streamId:b,success:!0})},function(u){N.postMessage({sourceName:F,targetName:L,stream:l.PULL_COMPLETE,streamId:b,reason:f(u)})});break;case l.ENQUEUE:if((0,s.assert)(C,"enqueue should have stream controller"),C.isClosed)break;C.controller.enqueue(S.chunk);break;case l.CLOSE:if((0,s.assert)(C,"close should have stream controller"),C.isClosed)break;C.isClosed=!0,C.controller.close(),ht(this,O,ce).call(this,C,b);break;case l.ERROR:(0,s.assert)(C,"error should have stream controller"),C.controller.error(f(S.reason)),ht(this,O,ce).call(this,C,b);break;case l.CANCEL_COMPLETE:S.success?C.cancelCall.resolve():C.cancelCall.reject(f(S.reason)),ht(this,O,ce).call(this,C,b);break;case l.CANCEL:if(!o)break;new Promise(function(u){var _;u((_=o.onCancel)==null?void 0:_.call(o,f(S.reason)))}).then(function(){N.postMessage({sourceName:F,targetName:L,stream:l.CANCEL_COMPLETE,streamId:b,success:!0})},function(u){N.postMessage({sourceName:F,targetName:L,stream:l.CANCEL_COMPLETE,streamId:b,reason:f(u)})}),o.sinkCapability.reject(f(S.reason)),o.isCancelled=!0,delete this.streamSinks[b];break;default:throw new Error("Unexpected stream case")}},O=new WeakSet,ce=async function(S,b){var F,L,N;await Promise.allSettled([(F=S.startCall)==null?void 0:F.promise,(L=S.pullCall)==null?void 0:L.promise,(N=S.cancelCall)==null?void 0:N.promise]),delete this.streamControllers[b]},e.MessageHandler=M},(t,e,n)=>{var l,f;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var s=n(1);class i{constructor({parsedData:v,rawData:w}){lt(this,l,void 0);lt(this,f,void 0);_t(this,l,v),_t(this,f,w)}getRaw(){return I(this,f)}get(v){var w;return(w=I(this,l).get(v))!=null?w:null}getAll(){return(0,s.objectFromMap)(I(this,l))}has(v){return I(this,l).has(v)}}l=new WeakMap,f=new WeakMap,e.Metadata=i},(t,e,n)=>{var v,w,c,R,O,D,Se;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var s=n(1),i=n(8);const l=Symbol("INTERNAL");class f{constructor(b,F){lt(this,v,!0);this.name=b,this.intent=F}get visible(){return I(this,v)}_setVisible(b,F){b!==l&&(0,s.unreachable)("Internal method `_setVisible` called."),_t(this,v,F)}}v=new WeakMap;class M{constructor(b){lt(this,D);lt(this,w,null);lt(this,c,new Map);lt(this,R,null);lt(this,O,null);if(this.name=null,this.creator=null,b!==null){this.name=b.name,this.creator=b.creator,_t(this,O,b.order);for(const F of b.groups)I(this,c).set(F.id,new f(F.name,F.intent));if(b.baseState==="OFF")for(const F of I(this,c).values())F._setVisible(l,!1);for(const F of b.on)I(this,c).get(F)._setVisible(l,!0);for(const F of b.off)I(this,c).get(F)._setVisible(l,!1);_t(this,R,this.getHash())}}isVisible(b){if(I(this,c).size===0)return!0;if(!b)return(0,s.warn)("Optional content group not defined."),!0;if(b.type==="OCG")return I(this,c).has(b.id)?I(this,c).get(b.id).visible:((0,s.warn)(`Optional content group not found: ${b.id}`),!0);if(b.type==="OCMD"){if(b.expression)return ht(this,D,Se).call(this,b.expression);if(!b.policy||b.policy==="AnyOn"){for(const F of b.ids){if(!I(this,c).has(F))return(0,s.warn)(`Optional content group not found: ${F}`),!0;if(I(this,c).get(F).visible)return!0}return!1}else if(b.policy==="AllOn"){for(const F of b.ids){if(!I(this,c).has(F))return(0,s.warn)(`Optional content group not found: ${F}`),!0;if(!I(this,c).get(F).visible)return!1}return!0}else if(b.policy==="AnyOff"){for(const F of b.ids){if(!I(this,c).has(F))return(0,s.warn)(`Optional content group not found: ${F}`),!0;if(!I(this,c).get(F).visible)return!0}return!1}else if(b.policy==="AllOff"){for(const F of b.ids){if(!I(this,c).has(F))return(0,s.warn)(`Optional content group not found: ${F}`),!0;if(I(this,c).get(F).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${b.policy}.`),!0}return(0,s.warn)(`Unknown group type ${b.type}.`),!0}setVisibility(b,F=!0){if(!I(this,c).has(b)){(0,s.warn)(`Optional content group not found: ${b}`);return}I(this,c).get(b)._setVisible(l,!!F),_t(this,w,null)}get hasInitialVisibility(){return this.getHash()===I(this,R)}getOrder(){return I(this,c).size?I(this,O)?I(this,O).slice():[...I(this,c).keys()]:null}getGroups(){return I(this,c).size>0?(0,s.objectFromMap)(I(this,c)):null}getGroup(b){return I(this,c).get(b)||null}getHash(){if(I(this,w)!==null)return I(this,w);const b=new i.MurmurHash3_64;for(const[F,L]of I(this,c))b.update(`${F}:${L.visible}`);return _t(this,w,b.hexdigest())}}w=new WeakMap,c=new WeakMap,R=new WeakMap,O=new WeakMap,D=new WeakSet,Se=function(b){const F=b.length;if(F<2)return!0;const L=b[0];for(let N=1;N<F;N++){const C=b[N];let o;if(Array.isArray(C))o=ht(this,D,Se).call(this,C);else if(I(this,c).has(C))o=I(this,c).get(C).visible;else return(0,s.warn)(`Optional content group not found: ${C}`),!0;switch(L){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return L==="And"},e.OptionalContentConfig=M},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var s=n(1),i=n(6);class l{constructor({length:w,initialData:c,progressiveDone:R=!1,contentDispositionFilename:O=null,disableRange:D=!1,disableStream:E=!1},S){if((0,s.assert)(S,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=R,this._contentDispositionFilename=O,(c==null?void 0:c.length)>0){const b=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;this._queuedChunks.push(b)}this._pdfDataRangeTransport=S,this._isStreamingSupported=!E,this._isRangeSupported=!D,this._contentLength=w,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((b,F)=>{this._onReceiveData({begin:b,chunk:F})}),this._pdfDataRangeTransport.addProgressListener((b,F)=>{this._onProgress({loaded:b,total:F})}),this._pdfDataRangeTransport.addProgressiveReadListener(b=>{this._onReceiveData({chunk:b})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:w,chunk:c}){const R=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;if(w===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(R):this._queuedChunks.push(R);else{const O=this._rangeReaders.some(function(D){return D._begin!==w?!1:(D._enqueue(R),!0)});(0,s.assert)(O,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var w,c;return(c=(w=this._fullRequestReader)==null?void 0:w._loaded)!=null?c:0}_onProgress(w){var c,R,O,D;w.total===void 0?(R=(c=this._rangeReaders[0])==null?void 0:c.onProgress)==null||R.call(c,{loaded:w.loaded}):(D=(O=this._fullRequestReader)==null?void 0:O.onProgress)==null||D.call(O,{loaded:w.loaded,total:w.total})}_onProgressiveDone(){var w;(w=this._fullRequestReader)==null||w.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(w){const c=this._rangeReaders.indexOf(w);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const w=this._queuedChunks;return this._queuedChunks=null,new f(this,w,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(w,c){if(c<=this._progressiveDataLength)return null;const R=new M(this,w,c);return this._pdfDataRangeTransport.requestDataRange(w,c),this._rangeReaders.push(R),R}cancelAllRequests(w){var c;(c=this._fullRequestReader)==null||c.cancel(w);for(const R of this._rangeReaders.slice(0))R.cancel(w);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=l;class f{constructor(w,c,R=!1,O=null){this._stream=w,this._done=R||!1,this._filename=(0,i.isPdfFile)(O)?O:null,this._queuedChunks=c||[],this._loaded=0;for(const D of this._queuedChunks)this._loaded+=D.byteLength;this._requests=[],this._headersReady=Promise.resolve(),w._fullRequestReader=this,this.onProgress=null}_enqueue(w){this._done||(this._requests.length>0?this._requests.shift().resolve({value:w,done:!1}):this._queuedChunks.push(w),this._loaded+=w.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const w=new s.PromiseCapability;return this._requests.push(w),w.promise}cancel(w){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class M{constructor(w,c,R){this._stream=w,this._begin=c,this._end=R,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(w){if(!this._done){if(this._requests.length===0)this._queuedChunk=w;else{this._requests.shift().resolve({value:w,done:!1});for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};const w=new s.PromiseCapability;return this._requests.push(w),w.promise}cancel(w){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(i){const l=[],f={items:l,styles:Object.create(null)};function M(v){var R;if(!v)return;let w=null;const c=v.name;if(c==="#text")w=v.value;else if(n.shouldBuildText(c))(R=v==null?void 0:v.attributes)!=null&&R.textContent?w=v.attributes.textContent:v.value&&(w=v.value);else return;if(w!==null&&l.push({str:w}),!!v.children)for(const O of v.children)M(O)}return M(i),f}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var s=n(7);const i=function(w){return new Promise((c,R)=>{require$$5.readFile(w,(D,E)=>{if(D||!E){R(new Error(D));return}c(new Uint8Array(E))})})};class l extends s.BaseFilterFactory{}e.NodeFilterFactory=l;class f extends s.BaseCanvasFactory{_createCanvas(c,R){return require$$5.createCanvas(c,R)}}e.NodeCanvasFactory=f;class M extends s.BaseCMapReaderFactory{_fetchData(c,R){return i(c).then(O=>({cMapData:O,compressionType:R}))}}e.NodeCMapReaderFactory=M;class v extends s.BaseStandardFontDataFactory{_fetchData(c){return i(c)}}e.NodeStandardFontDataFactory=v},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var s=n(1),i=n(22);const l=require$$5,f=require$$5,M=require$$5,v=require$$5,w=/^file:\/\/\/[a-zA-Z]:\//;function c(N){const C=v.parse(N);return C.protocol==="file:"||C.host?C:/^[a-z]:[/\\]/i.test(N)?v.parse(`file:///${N}`):(C.host||(C.protocol="file:"),C)}class R{constructor(C){this.source=C,this.url=c(C.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var C,o;return(o=(C=this._fullRequestReader)==null?void 0:C._loaded)!=null?o:0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new F(this):new S(this),this._fullRequestReader}getRangeReader(C,o){if(o<=this._progressiveDataLength)return null;const u=this.isFsUrl?new L(this,C,o):new b(this,C,o);return this._rangeRequestReaders.push(u),u}cancelAllRequests(C){var o;(o=this._fullRequestReader)==null||o.cancel(C);for(const u of this._rangeRequestReaders.slice(0))u.cancel(C)}}e.PDFNodeStream=R;class O{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null;const o=C.source;this._contentLength=o.length,this._loaded=0,this._filename=null,this._disableRange=o.disableRange||!1,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!o.disableStream,this._isRangeSupported=!o.disableRange,this._readableStream=null,this._readCapability=new s.PromiseCapability,this._headersCapability=new s.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var u;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return C===null?(this._readCapability=new s.PromiseCapability,this.read()):(this._loaded+=C.length,(u=this.onProgress)==null||u.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){if(!this._readableStream){this._error(C);return}this._readableStream.destroy(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",o=>{this._error(o)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class D{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new s.PromiseCapability;const o=C.source;this._isStreamingSupported=!o.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var u;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return C===null?(this._readCapability=new s.PromiseCapability,this.read()):(this._loaded+=C.length,(u=this.onProgress)==null||u.call(this,{loaded:this._loaded}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){if(!this._readableStream){this._error(C);return}this._readableStream.destroy(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",o=>{this._error(o)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function E(N,C){return{protocol:N.protocol,auth:N.auth,host:N.hostname,port:N.port,path:N.path,method:"GET",headers:C}}class S extends O{constructor(C){super(C);const o=u=>{if(u.statusCode===404){const B=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=B,this._headersCapability.reject(B);return}this._headersCapability.resolve(),this._setReadableStream(u);const _=B=>this._readableStream.headers[B.toLowerCase()],{allowRangeRequests:d,suggestedLength:y}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:C.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=y||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(_)};this._request=null,this._url.protocol==="http:"?this._request=f.request(E(this._url,C.httpHeaders),o):this._request=M.request(E(this._url,C.httpHeaders),o),this._request.on("error",u=>{this._storedError=u,this._headersCapability.reject(u)}),this._request.end()}}class b extends D{constructor(C,o,u){super(C),this._httpHeaders={};for(const d in C.httpHeaders){const y=C.httpHeaders[d];y!==void 0&&(this._httpHeaders[d]=y)}this._httpHeaders.Range=`bytes=${o}-${u-1}`;const _=d=>{if(d.statusCode===404){const y=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y;return}this._setReadableStream(d)};this._request=null,this._url.protocol==="http:"?this._request=f.request(E(this._url,this._httpHeaders),_):this._request=M.request(E(this._url,this._httpHeaders),_),this._request.on("error",d=>{this._storedError=d}),this._request.end()}}class F extends O{constructor(C){super(C);let o=decodeURIComponent(this._url.path);w.test(this._url.href)&&(o=o.replace(/^\//,"")),l.lstat(o,(u,_)=>{if(u){u.code==="ENOENT"&&(u=new s.MissingPDFException(`Missing PDF "${o}".`)),this._storedError=u,this._headersCapability.reject(u);return}this._contentLength=_.size,this._setReadableStream(l.createReadStream(o)),this._headersCapability.resolve()})}}class L extends D{constructor(C,o,u){super(C);let _=decodeURIComponent(this._url.path);w.test(this._url.href)&&(_=_.replace(/^\//,"")),this._setReadableStream(l.createReadStream(_,{start:o,end:u-1}))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=v,e.extractFilenameFromHeader=M,e.validateRangeRequestCapabilities=f,e.validateResponseStatus=w;var s=n(1),i=n(23),l=n(6);function f({getResponseHeader:c,isHttp:R,rangeChunkSize:O,disableRange:D}){const E={allowRangeRequests:!1,suggestedLength:void 0},S=parseInt(c("Content-Length"),10);return!Number.isInteger(S)||(E.suggestedLength=S,S<=2*O)||D||!R||c("Accept-Ranges")!=="bytes"||(c("Content-Encoding")||"identity")!=="identity"||(E.allowRangeRequests=!0),E}function M(c){const R=c("Content-Disposition");if(R){let O=(0,i.getFilenameFromContentDispositionHeader)(R);if(O.includes("%"))try{O=decodeURIComponent(O)}catch{}if((0,l.isPdfFile)(O))return O}return null}function v(c,R){return c===404||c===0&&R.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+R+'".'):new s.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${R}".`,c)}function w(c){return c===200||c===206}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var s=n(1);function i(l){let f=!0,M=v("filename\\*","i").exec(l);if(M){M=M[1];let S=O(M);return S=unescape(S),S=D(S),S=E(S),c(S)}if(M=R(l),M){const S=E(M);return c(S)}if(M=v("filename","i").exec(l),M){M=M[1];let S=O(M);return S=E(S),c(S)}function v(S,b){return new RegExp("(?:^|;)\\s*"+S+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function w(S,b){if(S){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const F=new TextDecoder(S,{fatal:!0}),L=(0,s.stringToBytes)(b);b=F.decode(L),f=!1}catch{}}return b}function c(S){return f&&/[\x80-\xff]/.test(S)&&(S=w("utf-8",S),f&&(S=w("iso-8859-1",S))),S}function R(S){const b=[];let F;const L=v("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(F=L.exec(S))!==null;){let[,C,o,u]=F;if(C=parseInt(C,10),C in b){if(C===0)break;continue}b[C]=[o,u]}const N=[];for(let C=0;C<b.length&&C in b;++C){let[o,u]=b[C];u=O(u),o&&(u=unescape(u),C===0&&(u=D(u))),N.push(u)}return N.join("")}function O(S){if(S.startsWith('"')){const b=S.slice(1).split('\\"');for(let F=0;F<b.length;++F){const L=b[F].indexOf('"');L!==-1&&(b[F]=b[F].slice(0,L),b.length=F+1),b[F]=b[F].replaceAll(/\\(.)/g,"$1")}S=b.join('"')}return S}function D(S){const b=S.indexOf("'");if(b===-1)return S;const F=S.slice(0,b),N=S.slice(b+1).replace(/^[^']*'/,"");return w(F,N)}function E(S){return!S.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(S)?S:S.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,F,L,N){if(L==="q"||L==="Q")return N=N.replaceAll("_"," "),N=N.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,o){return String.fromCharCode(parseInt(o,16))}),w(F,N);try{N=atob(N)}catch{}return w(F,N)})}return""}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var s=n(1),i=n(22);const l=200,f=206;function M(O){const D=O.response;return typeof D!="string"?D:(0,s.stringToBytes)(D).buffer}class v{constructor(D,E={}){this.url=D,this.isHttp=/^https?:/i.test(D),this.httpHeaders=this.isHttp&&E.httpHeaders||Object.create(null),this.withCredentials=E.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(D,E,S){const b={begin:D,end:E};for(const F in S)b[F]=S[F];return this.request(b)}requestFull(D){return this.request(D)}request(D){const E=new XMLHttpRequest,S=this.currXhrId++,b=this.pendingRequests[S]={xhr:E};E.open("GET",this.url),E.withCredentials=this.withCredentials;for(const F in this.httpHeaders){const L=this.httpHeaders[F];L!==void 0&&E.setRequestHeader(F,L)}return this.isHttp&&"begin"in D&&"end"in D?(E.setRequestHeader("Range",`bytes=${D.begin}-${D.end-1}`),b.expectedStatus=f):b.expectedStatus=l,E.responseType="arraybuffer",D.onError&&(E.onerror=function(F){D.onError(E.status)}),E.onreadystatechange=this.onStateChange.bind(this,S),E.onprogress=this.onProgress.bind(this,S),b.onHeadersReceived=D.onHeadersReceived,b.onDone=D.onDone,b.onError=D.onError,b.onProgress=D.onProgress,E.send(null),S}onProgress(D,E){var b;const S=this.pendingRequests[D];!S||(b=S.onProgress)==null||b.call(S,E)}onStateChange(D,E){var C,o,u;const S=this.pendingRequests[D];if(!S)return;const b=S.xhr;if(b.readyState>=2&&S.onHeadersReceived&&(S.onHeadersReceived(),delete S.onHeadersReceived),b.readyState!==4||!(D in this.pendingRequests))return;if(delete this.pendingRequests[D],b.status===0&&this.isHttp){(C=S.onError)==null||C.call(S,b.status);return}const F=b.status||l;if(!(F===l&&S.expectedStatus===f)&&F!==S.expectedStatus){(o=S.onError)==null||o.call(S,b.status);return}const N=M(b);if(F===f){const _=b.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);S.onDone({begin:parseInt(d[1],10),chunk:N})}else N?S.onDone({begin:0,chunk:N}):(u=S.onError)==null||u.call(S,b.status)}getRequestXhr(D){return this.pendingRequests[D].xhr}isPendingRequest(D){return D in this.pendingRequests}abortRequest(D){const E=this.pendingRequests[D].xhr;delete this.pendingRequests[D],E.abort()}}class w{constructor(D){this._source=D,this._manager=new v(D.url,{httpHeaders:D.httpHeaders,withCredentials:D.withCredentials}),this._rangeChunkSize=D.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(D){const E=this._rangeRequestReaders.indexOf(D);E>=0&&this._rangeRequestReaders.splice(E,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(D,E){const S=new R(this._manager,D,E);return S.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(S),S}cancelAllRequests(D){var E;(E=this._fullRequestReader)==null||E.cancel(D);for(const S of this._rangeRequestReaders.slice(0))S.cancel(D)}}e.PDFNetworkStream=w;class c{constructor(D,E){this._manager=D;const S={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._fullRequestId=D.requestFull(S),this._headersReceivedCapability=new s.PromiseCapability,this._disableRange=E.disableRange||!1,this._contentLength=E.length,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const D=this._fullRequestId,E=this._manager.getRequestXhr(D),S=L=>E.getResponseHeader(L),{allowRangeRequests:b,suggestedLength:F}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});b&&(this._isRangeSupported=!0),this._contentLength=F||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(S),this._isRangeSupported&&this._manager.abortRequest(D),this._headersReceivedCapability.resolve()}_onDone(D){if(D&&(this._requests.length>0?this._requests.shift().resolve({value:D.chunk,done:!1}):this._cachedChunks.push(D.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(D){this._storedError=(0,i.createResponseStatusError)(D,this._url),this._headersReceivedCapability.reject(this._storedError);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(D){var E;(E=this.onProgress)==null||E.call(this,{loaded:D.loaded,total:D.lengthComputable?D.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const D=new s.PromiseCapability;return this._requests.push(D),D.promise}cancel(D){this._done=!0,this._headersReceivedCapability.reject(D);for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class R{constructor(D,E,S){this._manager=D;const b={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._requestId=D.requestRange(E,S,b),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var D;(D=this.onClosed)==null||D.call(this,this)}_onDone(D){const E=D.chunk;this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunk=E,this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(D){this._storedError=(0,i.createResponseStatusError)(D,this._url);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(D){var E;this.isStreamingSupported||(E=this.onProgress)==null||E.call(this,{loaded:D.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const E=this._queuedChunk;return this._queuedChunk=null,{value:E,done:!1}}if(this._done)return{value:void 0,done:!0};const D=new s.PromiseCapability;return this._requests.push(D),D.promise}cancel(D){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var s=n(1),i=n(22);function l(R,O,D){return{method:"GET",headers:R,signal:D.signal,mode:"cors",credentials:O?"include":"same-origin",redirect:"follow"}}function f(R){const O=new Headers;for(const D in R){const E=R[D];E!==void 0&&O.append(D,E)}return O}function M(R){return R instanceof Uint8Array?R.buffer:R instanceof ArrayBuffer?R:((0,s.warn)(`getArrayBuffer - unexpected data format: ${R}`),new Uint8Array(R).buffer)}class v{constructor(O){this.source=O,this.isHttp=/^https?:/i.test(O.url),this.httpHeaders=this.isHttp&&O.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var O,D;return(D=(O=this._fullRequestReader)==null?void 0:O._loaded)!=null?D:0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new w(this),this._fullRequestReader}getRangeReader(O,D){if(D<=this._progressiveDataLength)return null;const E=new c(this,O,D);return this._rangeRequestReaders.push(E),E}cancelAllRequests(O){var D;(D=this._fullRequestReader)==null||D.cancel(O);for(const E of this._rangeRequestReaders.slice(0))E.cancel(O)}}e.PDFFetchStream=v;class w{constructor(O){this._stream=O,this._reader=null,this._loaded=0,this._filename=null;const D=O.source;this._withCredentials=D.withCredentials||!1,this._contentLength=D.length,this._headersCapability=new s.PromiseCapability,this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._headers=f(this._stream.httpHeaders);const E=D.url;fetch(E,l(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,i.validateResponseStatus)(S.status))throw(0,i.createResponseStatusError)(S.status,E);this._reader=S.body.getReader(),this._headersCapability.resolve();const b=N=>S.headers.get(N),{allowRangeRequests:F,suggestedLength:L}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=F,this._contentLength=L||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(b),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var E;await this._headersCapability.promise;const{value:O,done:D}=await this._reader.read();return D?{value:O,done:D}:(this._loaded+=O.byteLength,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded,total:this._contentLength}),{value:M(O),done:!1})}cancel(O){var D;(D=this._reader)==null||D.cancel(O),this._abortController.abort()}}class c{constructor(O,D,E){this._stream=O,this._reader=null,this._loaded=0;const S=O.source;this._withCredentials=S.withCredentials||!1,this._readCapability=new s.PromiseCapability,this._isStreamingSupported=!S.disableStream,this._abortController=new AbortController,this._headers=f(this._stream.httpHeaders),this._headers.append("Range",`bytes=${D}-${E-1}`);const b=S.url;fetch(b,l(this._headers,this._withCredentials,this._abortController)).then(F=>{if(!(0,i.validateResponseStatus)(F.status))throw(0,i.createResponseStatusError)(F.status,b);this._readCapability.resolve(),this._reader=F.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var E;await this._readCapability.promise;const{value:O,done:D}=await this._reader.read();return D?{value:O,done:D}:(this._loaded+=O.byteLength,(E=this.onProgress)==null||E.call(this,{loaded:this._loaded}),{value:M(O),done:!1})}cancel(O){var D;(D=this._reader)==null||D.cancel(O),this._abortController.abort()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=S,e.updateTextLayer=b;var s=n(1),i=n(6);const l=1e5,f=30,M=.8,v=new Map;function w(F,L){let N;if(L&&s.FeatureTest.isOffscreenCanvasSupported)N=new OffscreenCanvas(F,F).getContext("2d",{alpha:!1});else{const C=document.createElement("canvas");C.width=C.height=F,N=C.getContext("2d",{alpha:!1})}return N}function c(F,L){const N=v.get(F);if(N)return N;const C=w(f,L);C.font=`${f}px ${F}`;const o=C.measureText("");let u=o.fontBoundingBoxAscent,_=Math.abs(o.fontBoundingBoxDescent);if(u){const y=u/(u+_);return v.set(F,y),C.canvas.width=C.canvas.height=0,y}C.strokeStyle="red",C.clearRect(0,0,f,f),C.strokeText("g",0,0);let d=C.getImageData(0,0,f,f).data;_=0;for(let y=d.length-1-3;y>=0;y-=4)if(d[y]>0){_=Math.ceil(y/4/f);break}C.clearRect(0,0,f,f),C.strokeText("A",0,f),d=C.getImageData(0,0,f,f).data,u=0;for(let y=0,B=d.length;y<B;y+=4)if(d[y]>0){u=f-Math.floor(y/4/f);break}if(C.canvas.width=C.canvas.height=0,u){const y=u/(u+_);return v.set(F,y),y}return v.set(F,M),M}function R(F,L,N){const C=document.createElement("span"),o={angle:0,canvasWidth:0,hasText:L.str!=="",hasEOL:L.hasEOL,fontSize:0};F._textDivs.push(C);const u=s.Util.transform(F._transform,L.transform);let _=Math.atan2(u[1],u[0]);const d=N[L.fontName];d.vertical&&(_+=Math.PI/2);const y=Math.hypot(u[2],u[3]),B=y*c(d.fontFamily,F._isOffscreenCanvasSupported);let g,j;_===0?(g=u[4],j=u[5]-B):(g=u[4]+B*Math.sin(_),j=u[5]-B*Math.cos(_));const X="calc(var(--scale-factor)*",st=C.style;F._container===F._rootContainer?(st.left=`${(100*g/F._pageWidth).toFixed(2)}%`,st.top=`${(100*j/F._pageHeight).toFixed(2)}%`):(st.left=`${X}${g.toFixed(2)}px)`,st.top=`${X}${j.toFixed(2)}px)`),st.fontSize=`${X}${y.toFixed(2)}px)`,st.fontFamily=d.fontFamily,o.fontSize=y,C.setAttribute("role","presentation"),C.textContent=L.str,C.dir=L.dir,F._fontInspectorEnabled&&(C.dataset.fontName=L.fontName),_!==0&&(o.angle=_*(180/Math.PI));let at=!1;if(L.str.length>1)at=!0;else if(L.str!==" "&&L.transform[0]!==L.transform[3]){const ot=Math.abs(L.transform[0]),dt=Math.abs(L.transform[3]);ot!==dt&&Math.max(ot,dt)/Math.min(ot,dt)>1.5&&(at=!0)}at&&(o.canvasWidth=d.vertical?L.height:L.width),F._textDivProperties.set(C,o),F._isReadableStream&&F._layoutText(C)}function O(F){const{div:L,scale:N,properties:C,ctx:o,prevFontSize:u,prevFontFamily:_}=F,{style:d}=L;let y="";if(C.canvasWidth!==0&&C.hasText){const{fontFamily:B}=d,{canvasWidth:g,fontSize:j}=C;(u!==j||_!==B)&&(o.font=`${j*N}px ${B}`,F.prevFontSize=j,F.prevFontFamily=B);const{width:X}=o.measureText(L.textContent);X>0&&(y=`scaleX(${g*N/X})`)}C.angle!==0&&(y=`rotate(${C.angle}deg) ${y}`),y.length>0&&(d.transform=y)}function D(F){if(F._canceled)return;const L=F._textDivs,N=F._capability;if(L.length>l){N.resolve();return}if(!F._isReadableStream)for(const o of L)F._layoutText(o);N.resolve()}class E{constructor({textContentSource:L,container:N,viewport:C,textDivs:o,textDivProperties:u,textContentItemsStr:_,isOffscreenCanvasSupported:d}){var X;this._textContentSource=L,this._isReadableStream=L instanceof ReadableStream,this._container=this._rootContainer=N,this._textDivs=o||[],this._textContentItemsStr=_||[],this._isOffscreenCanvasSupported=d,this._fontInspectorEnabled=!!((X=globalThis.FontInspector)!=null&&X.enabled),this._reader=null,this._textDivProperties=u||new WeakMap,this._canceled=!1,this._capability=new s.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:w(0,d)};const{pageWidth:y,pageHeight:B,pageX:g,pageY:j}=C.rawDims;this._transform=[1,0,0,-1,-g,j+B],this._pageWidth=y,this._pageHeight=B,(0,i.setLayerDimensions)(N,C),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new s.AbortException("TextLayer task cancelled."))}_processItems(L,N){for(const C of L){if(C.str===void 0){if(C.type==="beginMarkedContentProps"||C.type==="beginMarkedContent"){const o=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),C.id!==null&&this._container.setAttribute("id",`${C.id}`),o.append(this._container)}else C.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(C.str),R(this,C,N)}}_layoutText(L){const N=this._layoutTextParams.properties=this._textDivProperties.get(L);if(this._layoutTextParams.div=L,O(this._layoutTextParams),N.hasText&&this._container.append(L),N.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),this._container.append(C)}}_render(){const L=new s.PromiseCapability;let N=Object.create(null);if(this._isReadableStream){const C=()=>{this._reader.read().then(({value:o,done:u})=>{if(u){L.resolve();return}Object.assign(N,o.styles),this._processItems(o.items,N),C()},L.reject)};this._reader=this._textContentSource.getReader(),C()}else if(this._textContentSource){const{items:C,styles:o}=this._textContentSource;this._processItems(C,o),L.resolve()}else throw new Error('No "textContentSource" parameter specified.');L.promise.then(()=>{N=null,D(this)},this._capability.reject)}}e.TextLayerRenderTask=E;function S(F){!F.textContentSource&&(F.textContent||F.textContentStream)&&((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),F.textContentSource=F.textContent||F.textContentStream);const{container:L,viewport:N}=F,C=getComputedStyle(L),o=C.getPropertyValue("visibility"),u=parseFloat(C.getPropertyValue("--scale-factor"));o==="visible"&&(!u||Math.abs(u-N.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const _=new E(F);return _._render(),_}function b({container:F,viewport:L,textDivs:N,textDivProperties:C,isOffscreenCanvasSupported:o,mustRotate:u=!0,mustRescale:_=!0}){if(u&&(0,i.setLayerDimensions)(F,{rotation:L.rotation}),_){const d=w(0,o),B={prevFontSize:null,prevFontFamily:null,div:null,scale:L.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d};for(const g of N)B.properties=C.get(g),B.div=g,O(B)}}},(t,e,n)=>{var w,c,R,O,D,E,S,b,F,Ee,N,$e,o,Ce,_,Te;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var s=n(1),i=n(5),l=n(28),f=n(29),M=n(6);const y=class{constructor(g){lt(this,F);lt(this,N);lt(this,o);lt(this,_);lt(this,w,void 0);lt(this,c,!1);lt(this,R,this.pointerup.bind(this));lt(this,O,this.pointerdown.bind(this));lt(this,D,new Map);lt(this,E,!1);lt(this,S,!1);lt(this,b,void 0);y._initialized||(y._initialized=!0,l.FreeTextEditor.initialize(g.l10n),f.InkEditor.initialize(g.l10n)),g.uiManager.registerEditorTypes([l.FreeTextEditor,f.InkEditor]),_t(this,b,g.uiManager),this.pageIndex=g.pageIndex,this.div=g.div,_t(this,w,g.accessibilityManager),I(this,b).addLayer(this)}get isEmpty(){return I(this,D).size===0}updateToolbar(g){I(this,b).updateToolbar(g)}updateMode(g=I(this,b).getMode()){ht(this,_,Te).call(this),g===s.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),I(this,b).unselectAll(),g!==s.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",g===s.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",g===s.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(g){if(!g&&I(this,b).getMode()!==s.AnnotationEditorType.INK)return;if(!g){for(const X of I(this,D).values())if(X.isEmpty()){X.setInBackground();return}}ht(this,o,Ce).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(g){I(this,b).setEditingState(g)}addCommands(g){I(this,b).addCommands(g)}enable(){this.div.style.pointerEvents="auto";for(const g of I(this,D).values())g.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const g of I(this,D).values())g.disableEditing();ht(this,_,Te).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(g){I(this,b).getActive()!==g&&I(this,b).setActiveEditor(g)}enableClick(){this.div.addEventListener("pointerdown",I(this,O)),this.div.addEventListener("pointerup",I(this,R))}disableClick(){this.div.removeEventListener("pointerdown",I(this,O)),this.div.removeEventListener("pointerup",I(this,R))}attach(g){I(this,D).set(g.id,g)}detach(g){var j;I(this,D).delete(g.id),(j=I(this,w))==null||j.removePointerInTextLayer(g.contentDiv)}remove(g){I(this,b).removeEditor(g),this.detach(g),g.div.style.display="none",setTimeout(()=>{g.div.style.display="",g.div.remove(),g.isAttachedToDOM=!1,document.activeElement===document.body&&I(this,b).focusMainContainer()},0),I(this,S)||this.addInkEditorIfNeeded(!1)}add(g){if(ht(this,F,Ee).call(this,g),I(this,b).addEditor(g),this.attach(g),!g.isAttachedToDOM){const j=g.render();this.div.append(j),g.isAttachedToDOM=!0}this.moveEditorInDOM(g),g.onceAdded(),I(this,b).addToAnnotationStorage(g)}moveEditorInDOM(g){var j;(j=I(this,w))==null||j.moveElementInDOM(this.div,g.div,g.contentDiv,!0)}addOrRebuild(g){g.needsToBeRebuilt()?g.rebuild():this.add(g)}addANewEditor(g){const j=()=>{this.addOrRebuild(g)},X=()=>{g.remove()};this.addCommands({cmd:j,undo:X,mustExec:!0})}addUndoableEditor(g){const j=()=>{this.addOrRebuild(g)},X=()=>{g.remove()};this.addCommands({cmd:j,undo:X,mustExec:!1})}getNextId(){return I(this,b).getId()}deserialize(g){switch(g.annotationType){case s.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize(g,this,I(this,b));case s.AnnotationEditorType.INK:return f.InkEditor.deserialize(g,this,I(this,b))}return null}setSelected(g){I(this,b).setSelected(g)}toggleSelected(g){I(this,b).toggleSelected(g)}isSelected(g){return I(this,b).isSelected(g)}unselect(g){I(this,b).unselect(g)}pointerup(g){const{isMac:j}=s.FeatureTest.platform;if(!(g.button!==0||g.ctrlKey&&j)&&g.target===this.div&&!!I(this,E)){if(_t(this,E,!1),!I(this,c)){_t(this,c,!0);return}ht(this,o,Ce).call(this,g)}}pointerdown(g){const{isMac:j}=s.FeatureTest.platform;if(g.button!==0||g.ctrlKey&&j||g.target!==this.div)return;_t(this,E,!0);const X=I(this,b).getActive();_t(this,c,!X||X.isEmpty())}drop(g){const j=g.dataTransfer.getData("text/plain"),X=I(this,b).getEditor(j);if(!X)return;g.preventDefault(),g.dataTransfer.dropEffect="move",ht(this,F,Ee).call(this,X);const st=this.div.getBoundingClientRect(),at=g.clientX-st.x,ot=g.clientY-st.y;X.translate(at-X.startX,ot-X.startY),this.moveEditorInDOM(X),X.div.focus()}dragover(g){g.preventDefault()}destroy(){var g,j;((g=I(this,b).getActive())==null?void 0:g.parent)===this&&I(this,b).setActiveEditor(null);for(const X of I(this,D).values())(j=I(this,w))==null||j.removePointerInTextLayer(X.contentDiv),X.setParent(null),X.isAttachedToDOM=!1,X.div.remove();this.div=null,I(this,D).clear(),I(this,b).removeLayer(this)}render({viewport:g}){this.viewport=g,(0,M.setLayerDimensions)(this.div,g),(0,i.bindEvents)(this,this.div,["dragover","drop"]);for(const j of I(this,b).getEditors(this.pageIndex))this.add(j);this.updateMode()}update({viewport:g}){I(this,b).commitOrRemove(),this.viewport=g,(0,M.setLayerDimensions)(this.div,{rotation:g.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:g,pageHeight:j}=this.viewport.rawDims;return[g,j]}};let v=y;w=new WeakMap,c=new WeakMap,R=new WeakMap,O=new WeakMap,D=new WeakMap,E=new WeakMap,S=new WeakMap,b=new WeakMap,F=new WeakSet,Ee=function(g){var j;g.parent!==this&&(this.attach(g),(j=g.parent)==null||j.detach(g),g.setParent(this),g.div&&g.isAttachedToDOM&&(g.div.remove(),this.div.append(g.div)))},N=new WeakSet,$e=function(g){switch(I(this,b).getMode()){case s.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor(g);case s.AnnotationEditorType.INK:return new f.InkEditor(g)}return null},o=new WeakSet,Ce=function(g){const j=this.getNextId(),X=ht(this,N,$e).call(this,{parent:this,id:j,x:g.offsetX,y:g.offsetY,uiManager:I(this,b)});return X&&this.add(X),X},_=new WeakSet,Te=function(){_t(this,S,!0);for(const g of I(this,D).values())g.isEmpty()&&g.remove();_t(this,S,!1)},Nt(v,"_initialized",!1),e.AnnotationEditorLayer=v},(t,e,n)=>{var M,v,w,c,R,O,D,E,S,b,ze,L,Ke,C,Xe,u,xe;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var s=n(1),i=n(5),l=n(4);const d=class extends l.AnnotationEditor{constructor(g){super({...g,name:"freeTextEditor"});lt(this,b);lt(this,L);lt(this,C);lt(this,u);lt(this,M,this.editorDivBlur.bind(this));lt(this,v,this.editorDivFocus.bind(this));lt(this,w,this.editorDivInput.bind(this));lt(this,c,this.editorDivKeydown.bind(this));lt(this,R,void 0);lt(this,O,"");lt(this,D,`${this.id}-editor`);lt(this,E,!1);lt(this,S,void 0);_t(this,R,g.color||d._defaultColor||l.AnnotationEditor._defaultLineColor),_t(this,S,g.fontSize||d._defaultFontSize)}static initialize(g){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(X=>[X,g.get(X)]));const j=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(j.getPropertyValue("--freetext-padding"))}static updateDefaultParams(g,j){switch(g){case s.AnnotationEditorParamsType.FREETEXT_SIZE:d._defaultFontSize=j;break;case s.AnnotationEditorParamsType.FREETEXT_COLOR:d._defaultColor=j;break}}updateParams(g,j){switch(g){case s.AnnotationEditorParamsType.FREETEXT_SIZE:ht(this,b,ze).call(this,j);break;case s.AnnotationEditorParamsType.FREETEXT_COLOR:ht(this,L,Ke).call(this,j);break}}static get defaultPropertiesToUpdate(){return[[s.AnnotationEditorParamsType.FREETEXT_SIZE,d._defaultFontSize],[s.AnnotationEditorParamsType.FREETEXT_COLOR,d._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[s.AnnotationEditorParamsType.FREETEXT_SIZE,I(this,S)],[s.AnnotationEditorParamsType.FREETEXT_COLOR,I(this,R)]]}getInitialTranslation(){const g=this.parentScale;return[-d._internalPadding*g,-(d._internalPadding+I(this,S))*g]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(s.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",I(this,c)),this.editorDiv.addEventListener("focus",I(this,v)),this.editorDiv.addEventListener("blur",I(this,M)),this.editorDiv.addEventListener("input",I(this,w)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",I(this,D)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",I(this,c)),this.editorDiv.removeEventListener("focus",I(this,v)),this.editorDiv.removeEventListener("blur",I(this,M)),this.editorDiv.removeEventListener("input",I(this,w)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(g){super.focusin(g),g.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){!this.isInEditMode()||(super.commit(),I(this,E)||(_t(this,E,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_t(this,O,ht(this,C,Xe).call(this).trimEnd()),ht(this,u,xe).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(g){this.enableEditMode(),this.editorDiv.focus()}keydown(g){g.target===this.div&&g.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(g){d._keyboardManager.exec(this,g)}editorDivFocus(g){this.isEditing=!0}editorDivBlur(g){this.isEditing=!1}editorDivInput(g){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let g,j;this.width&&(g=this.x,j=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",I(this,D)),this.enableEditing(),d._l10nPromise.get("editor_free_text2_aria_label").then(st=>{var at;return(at=this.editorDiv)==null?void 0:at.setAttribute("aria-label",st)}),d._l10nPromise.get("free_text2_default_content").then(st=>{var at;return(at=this.editorDiv)==null?void 0:at.setAttribute("default-content",st)}),this.editorDiv.contentEditable=!0;const{style:X}=this.editorDiv;if(X.fontSize=`calc(${I(this,S)}px * var(--scale-factor))`,X.color=I(this,R),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[st,at]=this.parentDimensions;this.setAt(g*st,j*at,this.width*st,this.height*at);for(const ot of I(this,O).split(`
`)){const dt=document.createElement("div");dt.append(ot?document.createTextNode(ot):document.createElement("br")),this.editorDiv.append(dt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(g,j,X){const st=super.deserialize(g,j,X);return _t(st,S,g.fontSize),_t(st,R,s.Util.makeHexColor(...g.color)),_t(st,O,g.value),st}serialize(){if(this.isEmpty())return null;const g=d._internalPadding*this.parentScale,j=this.getRect(g,g),X=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:I(this,R));return{annotationType:s.AnnotationEditorType.FREETEXT,color:X,fontSize:I(this,S),value:I(this,O),pageIndex:this.pageIndex,rect:j,rotation:this.rotation}}};let f=d;M=new WeakMap,v=new WeakMap,w=new WeakMap,c=new WeakMap,R=new WeakMap,O=new WeakMap,D=new WeakMap,E=new WeakMap,S=new WeakMap,b=new WeakSet,ze=function(g){const j=st=>{this.editorDiv.style.fontSize=`calc(${st}px * var(--scale-factor))`,this.translate(0,-(st-I(this,S))*this.parentScale),_t(this,S,st),ht(this,u,xe).call(this)},X=I(this,S);this.addCommands({cmd:()=>{j(g)},undo:()=>{j(X)},mustExec:!0,type:s.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},L=new WeakSet,Ke=function(g){const j=I(this,R);this.addCommands({cmd:()=>{_t(this,R,this.editorDiv.style.color=g)},undo:()=>{_t(this,R,this.editorDiv.style.color=j)},mustExec:!0,type:s.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},C=new WeakSet,Xe=function(){const g=this.editorDiv.getElementsByTagName("div");if(g.length===0)return this.editorDiv.innerText;const j=[];for(const X of g)j.push(X.innerText.replace(/\r\n?|\n/,""));return j.join(`
`)},u=new WeakSet,xe=function(){const[g,j]=this.parentDimensions;let X;if(this.isAttachedToDOM)X=this.div.getBoundingClientRect();else{const{currentLayer:st,div:at}=this,ot=at.style.display;at.style.display="hidden",st.div.append(this.div),X=at.getBoundingClientRect(),at.remove(),at.style.display=ot}this.width=X.width/g,this.height=X.height/j},Nt(f,"_freeTextDefaultContent",""),Nt(f,"_l10nPromise"),Nt(f,"_internalPadding",0),Nt(f,"_defaultColor",null),Nt(f,"_defaultFontSize",10),Nt(f,"_keyboardManager",new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],d.prototype.commitOrRemove]])),Nt(f,"_type","freetext"),e.FreeTextEditor=f},(t,e,n)=>{var w,c,R,O,D,E,S,b,F,L,N,C,o,u,_,Ye,y,Je,g,Qe,X,Ze,at,we,dt,tn,gt,en,Ct,nn,Tt,Xt,x,Pe,H,ue,z,he,G,ee,m,Re,a,de,T,ke,V,sn,$,rn,rt,an,it,Fe,ft,fe,bt,ne,nt,Me;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return l.fitCurve}});var s=n(1),i=n(4),l=n(30),f=n(5);const M=16,Et=class extends i.AnnotationEditor{constructor(U){super({...U,name:"inkEditor"});lt(this,_);lt(this,y);lt(this,g);lt(this,X);lt(this,at);lt(this,dt);lt(this,gt);lt(this,Ct);lt(this,Tt);lt(this,x);lt(this,H);lt(this,z);lt(this,G);lt(this,m);lt(this,a);lt(this,V);lt(this,$);lt(this,rt);lt(this,it);lt(this,ft);lt(this,bt);lt(this,nt);lt(this,w,0);lt(this,c,0);lt(this,R,0);lt(this,O,this.canvasPointermove.bind(this));lt(this,D,this.canvasPointerleave.bind(this));lt(this,E,this.canvasPointerup.bind(this));lt(this,S,this.canvasPointerdown.bind(this));lt(this,b,!1);lt(this,F,!1);lt(this,L,null);lt(this,N,null);lt(this,C,0);lt(this,o,0);lt(this,u,null);this.color=U.color||null,this.thickness=U.thickness||null,this.opacity=U.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(U){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(W=>[W,U.get(W)]))}static updateDefaultParams(U,W){switch(U){case s.AnnotationEditorParamsType.INK_THICKNESS:Et._defaultThickness=W;break;case s.AnnotationEditorParamsType.INK_COLOR:Et._defaultColor=W;break;case s.AnnotationEditorParamsType.INK_OPACITY:Et._defaultOpacity=W/100;break}}updateParams(U,W){switch(U){case s.AnnotationEditorParamsType.INK_THICKNESS:ht(this,_,Ye).call(this,W);break;case s.AnnotationEditorParamsType.INK_COLOR:ht(this,y,Je).call(this,W);break;case s.AnnotationEditorParamsType.INK_OPACITY:ht(this,g,Qe).call(this,W);break}}static get defaultPropertiesToUpdate(){return[[s.AnnotationEditorParamsType.INK_THICKNESS,Et._defaultThickness],[s.AnnotationEditorParamsType.INK_COLOR,Et._defaultColor||i.AnnotationEditor._defaultLineColor],[s.AnnotationEditorParamsType.INK_OPACITY,Math.round(Et._defaultOpacity*100)]]}get propertiesToUpdate(){var U;return[[s.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Et._defaultThickness],[s.AnnotationEditorParamsType.INK_COLOR,this.color||Et._defaultColor||i.AnnotationEditor._defaultLineColor],[s.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((U=this.opacity)!=null?U:Et._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ht(this,H,ue).call(this),ht(this,z,he).call(this)),this.isAttachedToDOM||(this.parent.add(this),ht(this,G,ee).call(this)),ht(this,bt,ne).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,I(this,N).disconnect(),_t(this,N,null),super.remove())}setParent(U){!this.parent&&U?this._uiManager.removeShouldRescale(this):this.parent&&U===null&&this._uiManager.addShouldRescale(this),super.setParent(U)}onScaleChanging(){const[U,W]=this.parentDimensions,pt=this.width*U,yt=this.height*W;this.setDimensions(pt,yt)}enableEditMode(){I(this,b)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",I(this,S)),this.canvas.addEventListener("pointerup",I(this,E)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",I(this,S)),this.canvas.removeEventListener("pointerup",I(this,E)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){I(this,b)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_t(this,b,!0),this.div.classList.add("disabled"),ht(this,bt,ne).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(U){super.focusin(U),this.enableEditMode()}canvasPointerdown(U){U.button!==0||!this.isInEditMode()||I(this,b)||(this.setInForeground(),U.type!=="mouse"&&this.div.focus(),U.stopPropagation(),this.canvas.addEventListener("pointerleave",I(this,D)),this.canvas.addEventListener("pointermove",I(this,O)),ht(this,dt,tn).call(this,U.offsetX,U.offsetY))}canvasPointermove(U){U.stopPropagation(),ht(this,gt,en).call(this,U.offsetX,U.offsetY)}canvasPointerup(U){U.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(U.stopPropagation(),ht(this,x,Pe).call(this,U),this.setInBackground())}canvasPointerleave(U){ht(this,x,Pe).call(this,U),this.setInBackground()}render(){if(this.div)return this.div;let U,W;this.width&&(U=this.x,W=this.y),super.render(),Et._l10nPromise.get("editor_ink2_aria_label").then(Mt=>{var Ft;return(Ft=this.div)==null?void 0:Ft.setAttribute("aria-label",Mt)});const[pt,yt,Pt,kt]=ht(this,X,Ze).call(this);if(this.setAt(pt,yt,0,0),this.setDims(Pt,kt),ht(this,H,ue).call(this),this.width){const[Mt,Ft]=this.parentDimensions;this.setAt(U*Mt,W*Ft,this.width*Mt,this.height*Ft),_t(this,F,!0),ht(this,G,ee).call(this),this.setDims(this.width*Mt,this.height*Ft),ht(this,Tt,Xt).call(this),ht(this,nt,Me).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ht(this,z,he).call(this),this.div}setDimensions(U,W){const pt=Math.round(U),yt=Math.round(W);if(I(this,C)===pt&&I(this,o)===yt)return;_t(this,C,pt),_t(this,o,yt),this.canvas.style.visibility="hidden",I(this,w)&&Math.abs(I(this,w)-U/W)>.01&&(W=Math.ceil(U/I(this,w)),this.setDims(U,W));const[Pt,kt]=this.parentDimensions;this.width=U/Pt,this.height=W/kt,I(this,b)&&ht(this,m,Re).call(this,U,W),ht(this,G,ee).call(this),ht(this,Tt,Xt).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(U,W,pt){var Lt,Bt;const yt=super.deserialize(U,W,pt);yt.thickness=U.thickness,yt.color=s.Util.makeHexColor(...U.color),yt.opacity=U.opacity;const[Pt,kt]=yt.pageDimensions,Mt=yt.width*Pt,Ft=yt.height*kt,Dt=yt.parentScale,Rt=U.thickness/2;_t(yt,w,Mt/Ft),_t(yt,b,!0),_t(yt,C,Math.round(Mt)),_t(yt,o,Math.round(Ft));for(const{bezier:It}of U.paths){const Vt=[];yt.paths.push(Vt);let Wt=Dt*(It[0]-Rt),qt=Dt*(Ft-It[1]-Rt);for(let Ht=2,Ut=It.length;Ht<Ut;Ht+=6){const zt=Dt*(It[Ht]-Rt),Yt=Dt*(Ft-It[Ht+1]-Rt),re=Dt*(It[Ht+2]-Rt),ae=Dt*(Ft-It[Ht+3]-Rt),De=Dt*(It[Ht+4]-Rt),Le=Dt*(Ft-It[Ht+5]-Rt);Vt.push([[Wt,qt],[zt,Yt],[re,ae],[De,Le]]),Wt=De,qt=Le}const $t=ht(this,T,ke).call(this,Vt);yt.bezierPath2D.push($t)}const jt=ht(Lt=yt,it,Fe).call(Lt);return _t(yt,R,Math.max(M,jt[2]-jt[0])),_t(yt,c,Math.max(M,jt[3]-jt[1])),ht(Bt=yt,m,Re).call(Bt,Mt,Ft),yt}serialize(){if(this.isEmpty())return null;const U=this.getRect(0,0),W=this.rotation%180===0?U[3]-U[1]:U[2]-U[0],pt=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:s.AnnotationEditorType.INK,color:pt,thickness:this.thickness,opacity:this.opacity,paths:ht(this,V,sn).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,W),pageIndex:this.pageIndex,rect:U,rotation:this.rotation}}};let v=Et;w=new WeakMap,c=new WeakMap,R=new WeakMap,O=new WeakMap,D=new WeakMap,E=new WeakMap,S=new WeakMap,b=new WeakMap,F=new WeakMap,L=new WeakMap,N=new WeakMap,C=new WeakMap,o=new WeakMap,u=new WeakMap,_=new WeakSet,Ye=function(U){const W=this.thickness;this.addCommands({cmd:()=>{this.thickness=U,ht(this,bt,ne).call(this)},undo:()=>{this.thickness=W,ht(this,bt,ne).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},y=new WeakSet,Je=function(U){const W=this.color;this.addCommands({cmd:()=>{this.color=U,ht(this,Tt,Xt).call(this)},undo:()=>{this.color=W,ht(this,Tt,Xt).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},g=new WeakSet,Qe=function(U){U/=100;const W=this.opacity;this.addCommands({cmd:()=>{this.opacity=U,ht(this,Tt,Xt).call(this)},undo:()=>{this.opacity=W,ht(this,Tt,Xt).call(this)},mustExec:!0,type:s.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},X=new WeakSet,Ze=function(){const{parentRotation:U,parentDimensions:[W,pt]}=this;switch(U){case 90:return[0,pt,pt,W];case 180:return[W,pt,W,pt];case 270:return[W,0,pt,W];default:return[0,0,W,pt]}},at=new WeakSet,we=function(){const{ctx:U,color:W,opacity:pt,thickness:yt,parentScale:Pt,scaleFactor:kt}=this;U.lineWidth=yt*Pt/kt,U.lineCap="round",U.lineJoin="round",U.miterLimit=10,U.strokeStyle=`${W}${(0,f.opacityToHex)(pt)}`},dt=new WeakSet,tn=function(U,W){var pt;this.isEditing=!0,I(this,F)||(_t(this,F,!0),ht(this,G,ee).call(this),this.thickness||(this.thickness=Et._defaultThickness),this.color||(this.color=Et._defaultColor||i.AnnotationEditor._defaultLineColor),(pt=this.opacity)!=null||(this.opacity=Et._defaultOpacity)),this.currentPath.push([U,W]),_t(this,L,null),ht(this,at,we).call(this),this.ctx.beginPath(),this.ctx.moveTo(U,W),_t(this,u,()=>{!I(this,u)||(I(this,L)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ht(this,Tt,Xt).call(this),this.ctx.lineTo(...I(this,L)),_t(this,L,null),this.ctx.stroke()),window.requestAnimationFrame(I(this,u)))}),window.requestAnimationFrame(I(this,u))},gt=new WeakSet,en=function(U,W){const[pt,yt]=this.currentPath.at(-1);U===pt&&W===yt||(this.currentPath.push([U,W]),_t(this,L,[U,W]))},Ct=new WeakSet,nn=function(U,W){var Dt;this.ctx.closePath(),_t(this,u,null),U=Math.min(Math.max(U,0),this.canvas.width),W=Math.min(Math.max(W,0),this.canvas.height);const[pt,yt]=this.currentPath.at(-1);(U!==pt||W!==yt)&&this.currentPath.push([U,W]);let Pt;if(this.currentPath.length!==1)Pt=(0,l.fitCurve)(this.currentPath,30,null);else{const Rt=[U,W];Pt=[[Rt,Rt.slice(),Rt.slice(),Rt]]}const kt=ht(Dt=Et,T,ke).call(Dt,Pt);this.currentPath.length=0;const Mt=()=>{this.paths.push(Pt),this.bezierPath2D.push(kt),this.rebuild()},Ft=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ht(this,H,ue).call(this),ht(this,z,he).call(this)),ht(this,bt,ne).call(this))};this.addCommands({cmd:Mt,undo:Ft,mustExec:!0})},Tt=new WeakSet,Xt=function(){if(this.isEmpty()){ht(this,a,de).call(this);return}ht(this,at,we).call(this);const{canvas:U,ctx:W}=this;W.setTransform(1,0,0,1,0,0),W.clearRect(0,0,U.width,U.height),ht(this,a,de).call(this);for(const pt of this.bezierPath2D)W.stroke(pt)},x=new WeakSet,Pe=function(U){ht(this,Ct,nn).call(this,U.offsetX,U.offsetY),this.canvas.removeEventListener("pointerleave",I(this,D)),this.canvas.removeEventListener("pointermove",I(this,O)),this.addToAnnotationStorage()},H=new WeakSet,ue=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Et._l10nPromise.get("editor_ink_canvas_aria_label").then(U=>{var W;return(W=this.canvas)==null?void 0:W.setAttribute("aria-label",U)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},z=new WeakSet,he=function(){_t(this,N,new ResizeObserver(U=>{const W=U[0].contentRect;W.width&&W.height&&this.setDimensions(W.width,W.height)})),I(this,N).observe(this.div)},G=new WeakSet,ee=function(){if(!I(this,F))return;const[U,W]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*U),this.canvas.height=Math.ceil(this.height*W),ht(this,a,de).call(this)},m=new WeakSet,Re=function(U,W){const pt=ht(this,ft,fe).call(this),yt=(U-pt)/I(this,R),Pt=(W-pt)/I(this,c);this.scaleFactor=Math.min(yt,Pt)},a=new WeakSet,de=function(){const U=ht(this,ft,fe).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+U,this.translationY*this.scaleFactor+U)},T=new WeakSet,ke=function(U){const W=new Path2D;for(let pt=0,yt=U.length;pt<yt;pt++){const[Pt,kt,Mt,Ft]=U[pt];pt===0&&W.moveTo(...Pt),W.bezierCurveTo(kt[0],kt[1],Mt[0],Mt[1],Ft[0],Ft[1])}return W},V=new WeakSet,sn=function(U,W,pt,yt){const kt=[],Mt=this.thickness/2;let Ft,Dt;for(const Rt of this.paths){Ft=[],Dt=[];for(let jt=0,Lt=Rt.length;jt<Lt;jt++){const[Bt,It,Vt,Wt]=Rt[jt],qt=U*(Bt[0]+W)+Mt,$t=yt-U*(Bt[1]+pt)-Mt,Ht=U*(It[0]+W)+Mt,Ut=yt-U*(It[1]+pt)-Mt,zt=U*(Vt[0]+W)+Mt,Yt=yt-U*(Vt[1]+pt)-Mt,re=U*(Wt[0]+W)+Mt,ae=yt-U*(Wt[1]+pt)-Mt;jt===0&&(Ft.push(qt,$t),Dt.push(qt,$t)),Ft.push(Ht,Ut,zt,Yt,re,ae),ht(this,$,rn).call(this,qt,$t,Ht,Ut,zt,Yt,re,ae,4,Dt)}kt.push({bezier:Ft,points:Dt})}return kt},$=new WeakSet,rn=function(U,W,pt,yt,Pt,kt,Mt,Ft,Dt,Rt){if(ht(this,rt,an).call(this,U,W,pt,yt,Pt,kt,Mt,Ft)){Rt.push(Mt,Ft);return}for(let jt=1;jt<Dt-1;jt++){const Lt=jt/Dt,Bt=1-Lt;let It=Lt*U+Bt*pt,Vt=Lt*W+Bt*yt,Wt=Lt*pt+Bt*Pt,qt=Lt*yt+Bt*kt;const $t=Lt*Pt+Bt*Mt,Ht=Lt*kt+Bt*Ft;It=Lt*It+Bt*Wt,Vt=Lt*Vt+Bt*qt,Wt=Lt*Wt+Bt*$t,qt=Lt*qt+Bt*Ht,It=Lt*It+Bt*Wt,Vt=Lt*Vt+Bt*qt,Rt.push(It,Vt)}Rt.push(Mt,Ft)},rt=new WeakSet,an=function(U,W,pt,yt,Pt,kt,Mt,Ft){const Rt=(3*pt-2*U-Mt)**2,jt=(3*yt-2*W-Ft)**2,Lt=(3*Pt-U-2*Mt)**2,Bt=(3*kt-W-2*Ft)**2;return Math.max(Rt,Lt)+Math.max(jt,Bt)<=10},it=new WeakSet,Fe=function(){let U=1/0,W=-1/0,pt=1/0,yt=-1/0;for(const Pt of this.paths)for(const[kt,Mt,Ft,Dt]of Pt){const Rt=s.Util.bezierBoundingBox(...kt,...Mt,...Ft,...Dt);U=Math.min(U,Rt[0]),pt=Math.min(pt,Rt[1]),W=Math.max(W,Rt[2]),yt=Math.max(yt,Rt[3])}return[U,pt,W,yt]},ft=new WeakSet,fe=function(){return I(this,b)?Math.ceil(this.thickness*this.parentScale):0},bt=new WeakSet,ne=function(U=!1){if(this.isEmpty())return;if(!I(this,b)){ht(this,Tt,Xt).call(this);return}const W=ht(this,it,Fe).call(this),pt=ht(this,ft,fe).call(this);_t(this,R,Math.max(M,W[2]-W[0])),_t(this,c,Math.max(M,W[3]-W[1]));const yt=Math.ceil(pt+I(this,R)*this.scaleFactor),Pt=Math.ceil(pt+I(this,c)*this.scaleFactor),[kt,Mt]=this.parentDimensions;this.width=yt/kt,this.height=Pt/Mt,_t(this,w,yt/Pt),ht(this,nt,Me).call(this);const Ft=this.translationX,Dt=this.translationY;this.translationX=-W[0],this.translationY=-W[1],ht(this,G,ee).call(this),ht(this,Tt,Xt).call(this),_t(this,C,yt),_t(this,o,Pt),this.setDims(yt,Pt);const Rt=U?pt/this.scaleFactor/2:0;this.translate(Ft-this.translationX-Rt,Dt-this.translationY-Rt)},nt=new WeakSet,Me=function(){const{style:U}=this.div;I(this,w)>=1?(U.minHeight=`${M}px`,U.minWidth=`${Math.round(I(this,w)*M)}px`):(U.minWidth=`${M}px`,U.minHeight=`${Math.round(M/I(this,w))}px`)},lt(v,T),Nt(v,"_defaultColor",null),Nt(v,"_defaultOpacity",1),Nt(v,"_defaultThickness",1),Nt(v,"_l10nPromise"),Nt(v,"_type","ink"),e.InkEditor=v},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const s=n(31);e.fitCurve=s},t=>{function e(E,S,b){if(!Array.isArray(E))throw new TypeError("First argument should be an array");if(E.forEach(C=>{if(!Array.isArray(C)||C.some(o=>typeof o!="number")||C.length!==E[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),E=E.filter((C,o)=>o===0||!C.every((u,_)=>u===E[o-1][_])),E.length<2)return[];const F=E.length,L=R(E[1],E[0]),N=R(E[F-2],E[F-1]);return n(E,L,N,S,b)}function n(E,S,b,F,L){var C,o,u,_,d,y,B,g,j,X,st,at,ot;if(E.length===2)return at=O.vectorLen(O.subtract(E[0],E[1]))/3,C=[E[0],O.addArrays(E[0],O.mulItems(S,at)),O.addArrays(E[1],O.mulItems(b,at)),E[1]],[C];if(o=M(E),[C,_,y]=s(E,o,o,S,b,L),_===0||_<F)return[C];if(_<F*F)for(u=o,d=_,B=y,ot=0;ot<20;ot++){if(u=l(C,E,u),[C,_,y]=s(E,o,u,S,b,L),_<F)return[C];if(y===B){let dt=_/d;if(dt>.9999&&dt<1.0001)break}d=_,B=y}return st=[],g=O.subtract(E[y-1],E[y+1]),g.every(dt=>dt===0)&&(g=O.subtract(E[y-1],E[y]),[g[0],g[1]]=[-g[1],g[0]]),j=O.normalize(g),X=O.mulItems(j,-1),st=st.concat(n(E.slice(0,y+1),S,j,F,L)),st=st.concat(n(E.slice(y),X,b,F,L)),st}function s(E,S,b,F,L,N){var C,o,u;return C=i(E,b,F,L),[o,u]=v(E,C,S),N&&N({bez:C,points:E,params:S,maxErr:o,maxPoint:u}),[C,o,u]}function i(E,S,b,F){var L,N,C,o,u,_,d,y,B,g,j,X,st,at,ot,dt,ut,gt=E[0],vt=E[E.length-1];for(L=[gt,null,null,vt],N=O.zeros_Xx2x2(S.length),st=0,at=S.length;st<at;st++)dt=S[st],ut=1-dt,C=N[st],C[0]=O.mulItems(b,3*dt*(ut*ut)),C[1]=O.mulItems(F,3*ut*(dt*dt));for(o=[[0,0],[0,0]],u=[0,0],st=0,at=E.length;st<at;st++)dt=S[st],C=N[st],o[0][0]+=O.dot(C[0],C[0]),o[0][1]+=O.dot(C[0],C[1]),o[1][0]+=O.dot(C[0],C[1]),o[1][1]+=O.dot(C[1],C[1]),ot=O.subtract(E[st],D.q([gt,gt,vt,vt],dt)),u[0]+=O.dot(C[0],ot),u[1]+=O.dot(C[1],ot);return _=o[0][0]*o[1][1]-o[1][0]*o[0][1],d=o[0][0]*u[1]-o[1][0]*u[0],y=u[0]*o[1][1]-u[1]*o[0][1],B=_===0?0:y/_,g=_===0?0:d/_,X=O.vectorLen(O.subtract(gt,vt)),j=1e-6*X,B<j||g<j?(L[1]=O.addArrays(gt,O.mulItems(b,X/3)),L[2]=O.addArrays(vt,O.mulItems(F,X/3))):(L[1]=O.addArrays(gt,O.mulItems(b,B)),L[2]=O.addArrays(vt,O.mulItems(F,g))),L}function l(E,S,b){return b.map((F,L)=>f(E,S[L],F))}function f(E,S,b){var F=O.subtract(D.q(E,b),S),L=D.qprime(E,b),N=O.mulMatrix(F,L),C=O.sum(O.squareItems(L))+2*O.mulMatrix(F,D.qprimeprime(E,b));return C===0?b:b-N/C}function M(E){var S=[],b,F,L;return E.forEach((N,C)=>{b=C?F+O.vectorLen(O.subtract(N,L)):0,S.push(b),F=b,L=N}),S=S.map(N=>N/F),S}function v(E,S,b){var F,L,N,C,o,u,_,d;L=0,N=Math.floor(E.length/2);const y=w(S,10);for(o=0,u=E.length;o<u;o++)_=E[o],d=c(S,b[o],y,10),C=O.subtract(D.q(S,d),_),F=C[0]*C[0]+C[1]*C[1],F>L&&(L=F,N=o);return[L,N]}var w=function(E,S){for(var b,F=[0],L=E[0],N=0,C=1;C<=S;C++)b=D.q(E,C/S),N+=O.vectorLen(O.subtract(b,L)),F.push(N),L=b;return F=F.map(o=>o/N),F};function c(E,S,b,F){if(S<0)return 0;if(S>1)return 1;for(var L,N,C,o,u,_=1;_<=F;_++)if(S<=b[_]){o=(_-1)/F,C=_/F,N=b[_-1],L=b[_],u=(S-N)/(L-N)*(C-o)+o;break}return u}function R(E,S){return O.normalize(O.subtract(E,S))}class O{static zeros_Xx2x2(S){for(var b=[];S--;)b.push([0,0]);return b}static mulItems(S,b){return S.map(F=>F*b)}static mulMatrix(S,b){return S.reduce((F,L,N)=>F+L*b[N],0)}static subtract(S,b){return S.map((F,L)=>F-b[L])}static addArrays(S,b){return S.map((F,L)=>F+b[L])}static addItems(S,b){return S.map(F=>F+b)}static sum(S){return S.reduce((b,F)=>b+F)}static dot(S,b){return O.mulMatrix(S,b)}static vectorLen(S){return Math.hypot(...S)}static divItems(S,b){return S.map(F=>F/b)}static squareItems(S){return S.map(b=>b*b)}static normalize(S){return this.divItems(S,this.vectorLen(S))}}class D{static q(S,b){var F=1-b,L=O.mulItems(S[0],F*F*F),N=O.mulItems(S[1],3*F*F*b),C=O.mulItems(S[2],3*F*b*b),o=O.mulItems(S[3],b*b*b);return O.addArrays(O.addArrays(L,N),O.addArrays(C,o))}static qprime(S,b){var F=1-b,L=O.mulItems(O.subtract(S[1],S[0]),3*F*F),N=O.mulItems(O.subtract(S[2],S[1]),6*F*b),C=O.mulItems(O.subtract(S[3],S[2]),3*b*b);return O.addArrays(O.addArrays(L,N),C)}static qprimeprime(S,b){return O.addArrays(O.mulItems(O.addArrays(O.subtract(S[2],O.mulItems(S[1],2)),S[0]),6*(1-b)),O.mulItems(O.addArrays(O.subtract(S[3],O.mulItems(S[2],2)),S[1]),6*b))}}t.exports=e,t.exports.fitCubic=n,t.exports.createTangent=R},(t,e,n)=>{var Tt,Qt,x,on,K,Oe,Z,Ie;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var s=n(1),i=n(6),l=n(3),f=n(33),M=n(34);const v=1e3,w=9,c=new WeakSet;function R(m){return{width:m[2]-m[0],height:m[3]-m[1]}}class O{static create(r){switch(r.data.annotationType){case s.AnnotationType.LINK:return new E(r);case s.AnnotationType.TEXT:return new S(r);case s.AnnotationType.WIDGET:switch(r.data.fieldType){case"Tx":return new F(r);case"Btn":return r.data.radioButton?new N(r):r.data.checkBox?new L(r):new C(r);case"Ch":return new o(r)}return new b(r);case s.AnnotationType.POPUP:return new u(r);case s.AnnotationType.FREETEXT:return new d(r);case s.AnnotationType.LINE:return new y(r);case s.AnnotationType.SQUARE:return new B(r);case s.AnnotationType.CIRCLE:return new g(r);case s.AnnotationType.POLYLINE:return new j(r);case s.AnnotationType.CARET:return new st(r);case s.AnnotationType.INK:return new at(r);case s.AnnotationType.POLYGON:return new X(r);case s.AnnotationType.HIGHLIGHT:return new ot(r);case s.AnnotationType.UNDERLINE:return new dt(r);case s.AnnotationType.SQUIGGLY:return new ut(r);case s.AnnotationType.STRIKEOUT:return new gt(r);case s.AnnotationType.STAMP:return new vt(r);case s.AnnotationType.FILEATTACHMENT:return new Ct(r);default:return new D(r)}}}class D{constructor(r,{isRenderable:a=!1,ignoreBorder:A=!1,createQuadrilaterals:T=!1}={}){this.isRenderable=a,this.data=r.data,this.layer=r.layer,this.page=r.page,this.viewport=r.viewport,this.linkService=r.linkService,this.downloadManager=r.downloadManager,this.imageResourcesPath=r.imageResourcesPath,this.renderForms=r.renderForms,this.svgFactory=r.svgFactory,this.annotationStorage=r.annotationStorage,this.enableScripting=r.enableScripting,this.hasJSActions=r.hasJSActions,this._fieldObjects=r.fieldObjects,a&&(this.container=this._createContainer(A)),T&&(this.quadrilaterals=this._createQuadrilaterals(A))}_createContainer(r=!1){const{data:a,page:A,viewport:T}=this,P=document.createElement("section");P.setAttribute("data-annotation-id",a.id),a.noRotate&&P.classList.add("norotate");const{pageWidth:V,pageHeight:J,pageX:$,pageY:Y}=T.rawDims,{width:rt,height:et}=R(a.rect),it=s.Util.normalizeRect([a.rect[0],A.view[3]-a.rect[1]+A.view[1],a.rect[2],A.view[3]-a.rect[3]+A.view[1]]);if(!r&&a.borderStyle.width>0){P.style.borderWidth=`${a.borderStyle.width}px`;const ft=a.borderStyle.horizontalCornerRadius,St=a.borderStyle.verticalCornerRadius;if(ft>0||St>0){const wt=`calc(${ft}px * var(--scale-factor)) / calc(${St}px * var(--scale-factor))`;P.style.borderRadius=wt}else if(this instanceof N){const wt=`calc(${rt}px * var(--scale-factor)) / calc(${et}px * var(--scale-factor))`;P.style.borderRadius=wt}switch(a.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:P.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:P.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:P.style.borderBottomStyle="solid";break}const bt=a.borderColor||null;bt?P.style.borderColor=s.Util.makeHexColor(bt[0]|0,bt[1]|0,bt[2]|0):P.style.borderWidth=0}P.style.left=`${100*(it[0]-$)/V}%`,P.style.top=`${100*(it[1]-Y)/J}%`;const{rotation:ct}=a;return a.hasOwnCanvas||ct===0?(P.style.width=`${100*rt/V}%`,P.style.height=`${100*et/J}%`):this.setRotation(ct,P),P}setRotation(r,a=this.container){const{pageWidth:A,pageHeight:T}=this.viewport.rawDims,{width:P,height:V}=R(this.data.rect);let J,$;r%180===0?(J=100*P/A,$=100*V/T):(J=100*V/A,$=100*P/T),a.style.width=`${J}%`,a.style.height=`${$}%`,a.setAttribute("data-main-rotation",(360-r)%360)}get _commonActions(){const r=(a,A,T)=>{const P=T.detail[a];T.target.style[A]=f.ColorConverters[`${P[0]}_HTML`](P.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:a=>{const A=a.detail.display%2===1;this.container.style.visibility=A?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:A,print:a.detail.display===0||a.detail.display===3})},print:a=>{this.annotationStorage.setValue(this.data.id,{print:a.detail.print})},hidden:a=>{this.container.style.visibility=a.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:a.detail.hidden})},focus:a=>{setTimeout(()=>a.target.focus({preventScroll:!1}),0)},userName:a=>{a.target.title=a.detail.userName},readonly:a=>{a.detail.readonly?a.target.setAttribute("readonly",""):a.target.removeAttribute("readonly")},required:a=>{this._setRequired(a.target,a.detail.required)},bgColor:a=>{r("bgColor","backgroundColor",a)},fillColor:a=>{r("fillColor","backgroundColor",a)},fgColor:a=>{r("fgColor","color",a)},textColor:a=>{r("textColor","color",a)},borderColor:a=>{r("borderColor","borderColor",a)},strokeColor:a=>{r("strokeColor","borderColor",a)},rotation:a=>{const A=a.detail.rotation;this.setRotation(A),this.annotationStorage.setValue(this.data.id,{rotation:A})}})}_dispatchEventFromSandbox(r,a){const A=this._commonActions;for(const T of Object.keys(a.detail)){const P=r[T]||A[T];P==null||P(a)}}_setDefaultPropertiesFromJS(r){if(!this.enableScripting)return;const a=this.annotationStorage.getRawValue(this.data.id);if(!a)return;const A=this._commonActions;for(const[T,P]of Object.entries(a)){const V=A[T];if(V){const J={detail:{[T]:P},target:r};V(J),delete a[T]}}}_createQuadrilaterals(r=!1){if(!this.data.quadPoints)return null;const a=[],A=this.data.rect;for(const T of this.data.quadPoints)this.data.rect=[T[2].x,T[2].y,T[1].x,T[1].y],a.push(this._createContainer(r));return this.data.rect=A,a}_createPopup(r,a){let A=this.container;this.quadrilaterals&&(r||(r=this.quadrilaterals),A=this.quadrilaterals[0]),r||(r=document.createElement("div"),r.classList.add("popupTriggerArea"),A.append(r));const P=new _({container:A,trigger:r,color:a.color,titleObj:a.titleObj,modificationDate:a.modificationDate,contentsObj:a.contentsObj,richText:a.richText,hideWrapper:!0}).render();P.style.left="100%",A.append(P)}_renderQuadrilaterals(r){for(const a of this.quadrilaterals)a.classList.add(r);return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(r,a=null){const A=[];if(this._fieldObjects){const T=this._fieldObjects[r];if(T)for(const{page:P,id:V,exportValues:J}of T){if(P===-1||V===a)continue;const $=typeof J=="string"?J:null,Y=document.querySelector(`[data-element-id="${V}"]`);if(Y&&!c.has(Y)){(0,s.warn)(`_getElementsByName - element not allowed: ${V}`);continue}A.push({id:V,exportValue:$,domElement:Y})}return A}for(const T of document.getElementsByName(r)){const{exportValue:P}=T,V=T.getAttribute("data-element-id");V!==a&&(!c.has(T)||A.push({id:V,exportValue:P,domElement:T}))}return A}}class E extends D{constructor(a,A=null){super(a,{isRenderable:!0,ignoreBorder:!!(A!=null&&A.ignoreBorder),createQuadrilaterals:!0});lt(this,Tt);lt(this,x);this.isTooltipOnly=a.data.isTooltipOnly}render(){const{data:a,linkService:A}=this,T=document.createElement("a");T.setAttribute("data-element-id",a.id);let P=!1;return a.url?(A.addLinkAttributes(T,a.url,a.newWindow),P=!0):a.action?(this._bindNamedAction(T,a.action),P=!0):a.attachment?(this._bindAttachment(T,a.attachment),P=!0):a.setOCGState?(ht(this,x,on).call(this,T,a.setOCGState),P=!0):a.dest?(this._bindLink(T,a.dest),P=!0):(a.actions&&(a.actions.Action||a.actions["Mouse Up"]||a.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(T,a),P=!0),a.resetForm?(this._bindResetFormAction(T,a.resetForm),P=!0):this.isTooltipOnly&&!P&&(this._bindLink(T,""),P=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((V,J)=>{const $=J===0?T:T.cloneNode();return V.append($),V}):(this.container.classList.add("linkAnnotation"),P&&this.container.append(T),this.container)}_bindLink(a,A){a.href=this.linkService.getDestinationHash(A),a.onclick=()=>(A&&this.linkService.goToDestination(A),!1),(A||A==="")&&ht(this,Tt,Qt).call(this)}_bindNamedAction(a,A){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>(this.linkService.executeNamedAction(A),!1),ht(this,Tt,Qt).call(this)}_bindAttachment(a,A){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>{var T;return(T=this.downloadManager)==null||T.openOrDownloadData(this.container,A.content,A.filename),!1},ht(this,Tt,Qt).call(this)}_bindJSAction(a,A){a.href=this.linkService.getAnchorUrl("");const T=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const P of Object.keys(A.actions)){const V=T.get(P);!V||(a[V]=()=>{var J;return(J=this.linkService.eventBus)==null||J.dispatch("dispatcheventinsandbox",{source:this,detail:{id:A.id,name:P}}),!1})}a.onclick||(a.onclick=()=>!1),ht(this,Tt,Qt).call(this)}_bindResetFormAction(a,A){const T=a.onclick;if(T||(a.href=this.linkService.getAnchorUrl("")),ht(this,Tt,Qt).call(this),!this._fieldObjects){(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),T||(a.onclick=()=>!1);return}a.onclick=()=>{var et;T==null||T();const{fields:P,refs:V,include:J}=A,$=[];if(P.length!==0||V.length!==0){const it=new Set(V);for(const ct of P){const ft=this._fieldObjects[ct]||[];for(const{id:St}of ft)it.add(St)}for(const ct of Object.values(this._fieldObjects))for(const ft of ct)it.has(ft.id)===J&&$.push(ft)}else for(const it of Object.values(this._fieldObjects))$.push(...it);const Y=this.annotationStorage,rt=[];for(const it of $){const{id:ct}=it;switch(rt.push(ct),it.type){case"text":{const St=it.defaultValue||"";Y.setValue(ct,{value:St});break}case"checkbox":case"radiobutton":{const St=it.defaultValue===it.exportValues;Y.setValue(ct,{value:St});break}case"combobox":case"listbox":{const St=it.defaultValue||"";Y.setValue(ct,{value:St});break}default:continue}const ft=document.querySelector(`[data-element-id="${ct}"]`);if(ft){if(!c.has(ft)){(0,s.warn)(`_bindResetFormAction - element not allowed: ${ct}`);continue}}else continue;ft.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((et=this.linkService.eventBus)==null||et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:rt,name:"ResetForm"}})),!1}}}Tt=new WeakSet,Qt=function(){this.container.setAttribute("data-internal-link","")},x=new WeakSet,on=function(a,A){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>(this.linkService.executeSetOCGState(A),!1),ht(this,Tt,Qt).call(this)};class S extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a})}render(){this.container.classList.add("textAnnotation");const r=document.createElement("img");return r.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",r.alt="[{{type}} Annotation]",r.dataset.l10nId="text_annotation_type",r.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(r,this.data),this.container.append(r),this.container}}class b extends D{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(r){var a;this.data.hasOwnCanvas&&(((a=r.previousSibling)==null?void 0:a.nodeName)==="CANVAS"&&(r.previousSibling.hidden=!0),r.hidden=!1)}_getKeyModifier(r){const{isWin:a,isMac:A}=s.FeatureTest.platform;return a&&r.ctrlKey||A&&r.metaKey}_setEventListener(r,a,A,T){a.includes("mouse")?r.addEventListener(a,P=>{var V;(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:T(P),shift:P.shiftKey,modifier:this._getKeyModifier(P)}})}):r.addEventListener(a,P=>{var V;(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:A,value:T(P)}})})}_setEventListeners(r,a,A){var T;for(const[P,V]of a)(V==="Action"||((T=this.data.actions)==null?void 0:T[V]))&&this._setEventListener(r,P,V,A)}_setBackgroundColor(r){const a=this.data.backgroundColor||null;r.style.backgroundColor=a===null?"transparent":s.Util.makeHexColor(a[0],a[1],a[2])}_setTextStyle(r){const a=["left","center","right"],{fontColor:A}=this.data.defaultAppearanceData,T=this.data.defaultAppearanceData.fontSize||w,P=r.style;let V;const J=2,$=Y=>Math.round(10*Y)/10;if(this.data.multiLine){const Y=Math.abs(this.data.rect[3]-this.data.rect[1]-J),rt=Math.round(Y/(s.LINE_FACTOR*T))||1,et=Y/rt;V=Math.min(T,$(et/s.LINE_FACTOR))}else{const Y=Math.abs(this.data.rect[3]-this.data.rect[1]-J);V=Math.min(T,$(Y/s.LINE_FACTOR))}P.fontSize=`calc(${V}px * var(--scale-factor))`,P.color=s.Util.makeHexColor(A[0],A[1],A[2]),this.data.textAlignment!==null&&(P.textAlign=a[this.data.textAlignment])}_setRequired(r,a){a?r.setAttribute("required",!0):r.removeAttribute("required"),r.setAttribute("aria-required",a)}}class F extends b{constructor(r){const a=r.renderForms||!r.data.hasAppearance&&!!r.data.fieldValue;super(r,{isRenderable:a})}setPropertyOnSiblings(r,a,A,T){const P=this.annotationStorage;for(const V of this._getElementsByName(r.name,r.id))V.domElement&&(V.domElement[a]=A),P.setValue(V.id,{[T]:A})}render(){var T;const r=this.annotationStorage,a=this.data.id;this.container.classList.add("textWidgetAnnotation");let A=null;if(this.renderForms){const P=r.getValue(a,{value:this.data.fieldValue});let V=P.formattedValue||P.value||"";const J=r.getValue(a,{charLimit:this.data.maxLen}).charLimit;J&&V.length>J&&(V=V.slice(0,J));const $={userValue:V,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(A=document.createElement("textarea"),A.textContent=V,this.data.doNotScroll&&(A.style.overflowY="hidden")):(A=document.createElement("input"),A.type="text",A.setAttribute("value",V),this.data.doNotScroll&&(A.style.overflowX="hidden")),this.data.hasOwnCanvas&&(A.hidden=!0),c.add(A),A.setAttribute("data-element-id",a),A.disabled=this.data.readOnly,A.name=this.data.fieldName,A.tabIndex=v,this._setRequired(A,this.data.required),J&&(A.maxLength=J),A.addEventListener("input",rt=>{r.setValue(a,{value:rt.target.value}),this.setPropertyOnSiblings(A,"value",rt.target.value,"value")}),A.addEventListener("resetform",rt=>{var it;const et=(it=this.data.defaultFieldValue)!=null?it:"";A.value=$.userValue=et,$.formattedValue=null});let Y=rt=>{const{formattedValue:et}=$;et!=null&&(rt.target.value=et),rt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){A.addEventListener("focus",et=>{const{target:it}=et;$.userValue&&(it.value=$.userValue),$.lastCommittedValue=it.value,$.commitKey=1}),A.addEventListener("updatefromsandbox",et=>{this.showElementAndHideCanvas(et.target);const it={value(ct){var ft;$.userValue=(ft=ct.detail.value)!=null?ft:"",r.setValue(a,{value:$.userValue.toString()}),ct.target.value=$.userValue},formattedValue(ct){const{formattedValue:ft}=ct.detail;$.formattedValue=ft,ft!=null&&ct.target!==document.activeElement&&(ct.target.value=ft),r.setValue(a,{formattedValue:ft})},selRange(ct){ct.target.setSelectionRange(...ct.detail.selRange)},charLimit:ct=>{var wt;const{charLimit:ft}=ct.detail,{target:St}=ct;if(ft===0){St.removeAttribute("maxLength");return}St.setAttribute("maxLength",ft);let bt=$.userValue;!bt||bt.length<=ft||(bt=bt.slice(0,ft),St.value=$.userValue=bt,r.setValue(a,{value:bt}),(wt=this.linkService.eventBus)==null||wt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:bt,willCommit:!0,commitKey:1,selStart:St.selectionStart,selEnd:St.selectionEnd}}))}};this._dispatchEventFromSandbox(it,et)}),A.addEventListener("keydown",et=>{var ft;$.commitKey=1;let it=-1;if(et.key==="Escape"?it=0:et.key==="Enter"&&!this.data.multiLine?it=2:et.key==="Tab"&&($.commitKey=3),it===-1)return;const{value:ct}=et.target;$.lastCommittedValue!==ct&&($.lastCommittedValue=ct,$.userValue=ct,(ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:ct,willCommit:!0,commitKey:it,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}}))});const rt=Y;Y=null,A.addEventListener("blur",et=>{var ct;if(!et.relatedTarget)return;const{value:it}=et.target;$.userValue=it,$.lastCommittedValue!==it&&((ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:it,willCommit:!0,commitKey:$.commitKey,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}})),rt(et)}),(T=this.data.actions)!=null&&T.Keystroke&&A.addEventListener("beforeinput",et=>{var At;$.lastCommittedValue=null;const{data:it,target:ct}=et,{value:ft,selectionStart:St,selectionEnd:bt}=ct;let wt=St,nt=bt;switch(et.inputType){case"deleteWordBackward":{const Et=ft.substring(0,St).match(/\w*[^\w]*$/);Et&&(wt-=Et[0].length);break}case"deleteWordForward":{const Et=ft.substring(St).match(/^[^\w]*\w*/);Et&&(nt+=Et[0].length);break}case"deleteContentBackward":St===bt&&(wt-=1);break;case"deleteContentForward":St===bt&&(nt+=1);break}et.preventDefault(),(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:ft,change:it||"",willCommit:!1,selStart:wt,selEnd:nt}})}),this._setEventListeners(A,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],et=>et.target.value)}if(Y&&A.addEventListener("blur",Y),this.data.comb){const et=(this.data.rect[2]-this.data.rect[0])/J;A.classList.add("comb"),A.style.letterSpacing=`calc(${et}px * var(--scale-factor) - 1ch)`}}else A=document.createElement("div"),A.textContent=this.data.fieldValue,A.style.verticalAlign="middle",A.style.display="table-cell";return this._setTextStyle(A),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class L extends b{constructor(r){super(r,{isRenderable:r.renderForms})}render(){const r=this.annotationStorage,a=this.data,A=a.id;let T=r.getValue(A,{value:a.exportValue===a.fieldValue}).value;typeof T=="string"&&(T=T!=="Off",r.setValue(A,{value:T})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const P=document.createElement("input");return c.add(P),P.setAttribute("data-element-id",A),P.disabled=a.readOnly,this._setRequired(P,this.data.required),P.type="checkbox",P.name=a.fieldName,T&&P.setAttribute("checked",!0),P.setAttribute("exportValue",a.exportValue),P.tabIndex=v,P.addEventListener("change",V=>{const{name:J,checked:$}=V.target;for(const Y of this._getElementsByName(J,A)){const rt=$&&Y.exportValue===a.exportValue;Y.domElement&&(Y.domElement.checked=rt),r.setValue(Y.id,{value:rt})}r.setValue(A,{value:$})}),P.addEventListener("resetform",V=>{const J=a.defaultFieldValue||"Off";V.target.checked=J===a.exportValue}),this.enableScripting&&this.hasJSActions&&(P.addEventListener("updatefromsandbox",V=>{const J={value($){$.target.checked=$.detail.value!=="Off",r.setValue(A,{value:$.target.checked})}};this._dispatchEventFromSandbox(J,V)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)),this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.append(P),this.container}}class N extends b{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const r=this.annotationStorage,a=this.data,A=a.id;let T=r.getValue(A,{value:a.fieldValue===a.buttonValue}).value;typeof T=="string"&&(T=T!==a.buttonValue,r.setValue(A,{value:T}));const P=document.createElement("input");if(c.add(P),P.setAttribute("data-element-id",A),P.disabled=a.readOnly,this._setRequired(P,this.data.required),P.type="radio",P.name=a.fieldName,T&&P.setAttribute("checked",!0),P.tabIndex=v,P.addEventListener("change",V=>{const{name:J,checked:$}=V.target;for(const Y of this._getElementsByName(J,A))r.setValue(Y.id,{value:!1});r.setValue(A,{value:$})}),P.addEventListener("resetform",V=>{const J=a.defaultFieldValue;V.target.checked=J!=null&&J===a.buttonValue}),this.enableScripting&&this.hasJSActions){const V=a.buttonValue;P.addEventListener("updatefromsandbox",J=>{const $={value:Y=>{const rt=V===Y.detail.value;for(const et of this._getElementsByName(Y.target.name)){const it=rt&&et.id===A;et.domElement&&(et.domElement.checked=it),r.setValue(et.id,{value:it})}}};this._dispatchEventFromSandbox($,J)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)}return this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.append(P),this.container}}class C extends E{constructor(r){super(r,{ignoreBorder:r.data.hasAppearance})}render(){const r=super.render();r.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(r.title=this.data.alternativeText);const a=r.lastChild;return this.enableScripting&&this.hasJSActions&&a&&(this._setDefaultPropertiesFromJS(a),a.addEventListener("updatefromsandbox",A=>{this._dispatchEventFromSandbox({},A)})),r}}class o extends b{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const r=this.annotationStorage,a=this.data.id,A=r.getValue(a,{value:this.data.fieldValue}),T=document.createElement("select");c.add(T),T.setAttribute("data-element-id",a),T.disabled=this.data.readOnly,this._setRequired(T,this.data.required),T.name=this.data.fieldName,T.tabIndex=v;let P=this.data.combo&&this.data.options.length>0;this.data.combo||(T.size=this.data.options.length,this.data.multiSelect&&(T.multiple=!0)),T.addEventListener("resetform",rt=>{const et=this.data.defaultFieldValue;for(const it of T.options)it.selected=it.value===et});for(const rt of this.data.options){const et=document.createElement("option");et.textContent=rt.displayValue,et.value=rt.exportValue,A.value.includes(rt.exportValue)&&(et.setAttribute("selected",!0),P=!1),T.append(et)}let V=null;if(P){const rt=document.createElement("option");rt.value=" ",rt.setAttribute("hidden",!0),rt.setAttribute("selected",!0),T.prepend(rt),V=()=>{rt.remove(),T.removeEventListener("input",V),V=null},T.addEventListener("input",V)}const J=rt=>{const et=rt?"value":"textContent",{options:it,multiple:ct}=T;return ct?Array.prototype.filter.call(it,ft=>ft.selected).map(ft=>ft[et]):it.selectedIndex===-1?null:it[it.selectedIndex][et]};let $=J(!1);const Y=rt=>{const et=rt.target.options;return Array.prototype.map.call(et,it=>({displayValue:it.textContent,exportValue:it.value}))};return this.enableScripting&&this.hasJSActions?(T.addEventListener("updatefromsandbox",rt=>{const et={value(it){V==null||V();const ct=it.detail.value,ft=new Set(Array.isArray(ct)?ct:[ct]);for(const St of T.options)St.selected=ft.has(St.value);r.setValue(a,{value:J(!0)}),$=J(!1)},multipleSelection(it){T.multiple=!0},remove(it){const ct=T.options,ft=it.detail.remove;ct[ft].selected=!1,T.remove(ft),ct.length>0&&Array.prototype.findIndex.call(ct,bt=>bt.selected)===-1&&(ct[0].selected=!0),r.setValue(a,{value:J(!0),items:Y(it)}),$=J(!1)},clear(it){for(;T.length!==0;)T.remove(0);r.setValue(a,{value:null,items:[]}),$=J(!1)},insert(it){const{index:ct,displayValue:ft,exportValue:St}=it.detail.insert,bt=T.children[ct],wt=document.createElement("option");wt.textContent=ft,wt.value=St,bt?bt.before(wt):T.append(wt),r.setValue(a,{value:J(!0),items:Y(it)}),$=J(!1)},items(it){const{items:ct}=it.detail;for(;T.length!==0;)T.remove(0);for(const ft of ct){const{displayValue:St,exportValue:bt}=ft,wt=document.createElement("option");wt.textContent=St,wt.value=bt,T.append(wt)}T.options.length>0&&(T.options[0].selected=!0),r.setValue(a,{value:J(!0),items:Y(it)}),$=J(!1)},indices(it){const ct=new Set(it.detail.indices);for(const ft of it.target.options)ft.selected=ct.has(ft.index);r.setValue(a,{value:J(!0)}),$=J(!1)},editable(it){it.target.disabled=!it.detail.editable}};this._dispatchEventFromSandbox(et,rt)}),T.addEventListener("input",rt=>{var it;const et=J(!0);r.setValue(a,{value:et}),rt.preventDefault(),(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:$,changeEx:et,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(T,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],rt=>rt.target.value)):T.addEventListener("input",function(rt){r.setValue(a,{value:J(!0)})}),this.data.combo&&this._setTextStyle(T),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.append(T),this.container}}const H=class extends D{constructor(r){var T,P,V;const{data:a}=r,A=!H.IGNORE_TYPES.has(a.parentType)&&!!(((T=a.titleObj)==null?void 0:T.str)||((P=a.contentsObj)==null?void 0:P.str)||((V=a.richText)==null?void 0:V.str));super(r,{isRenderable:A})}render(){this.container.classList.add("popupAnnotation");const r=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(r.length===0)return this.container;const a=new _({container:this.container,trigger:Array.from(r),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),A=this.page,T=s.Util.normalizeRect([this.data.parentRect[0],A.view[3]-this.data.parentRect[1]+A.view[1],this.data.parentRect[2],A.view[3]-this.data.parentRect[3]+A.view[1]]),P=T[0]+this.data.parentRect[2]-this.data.parentRect[0],V=T[1],{pageWidth:J,pageHeight:$,pageX:Y,pageY:rt}=this.viewport.rawDims;return this.container.style.left=`${100*(P-Y)/J}%`,this.container.style.top=`${100*(V-rt)/$}%`,this.container.append(a.render()),this.container}};let u=H;Nt(u,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class _{constructor(r){this.container=r.container,this.trigger=r.trigger,this.color=r.color,this.titleObj=r.titleObj,this.modificationDate=r.modificationDate,this.contentsObj=r.contentsObj,this.richText=r.richText,this.hideWrapper=r.hideWrapper||!1,this.pinned=!1}render(){var J,$;const a=document.createElement("div");a.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?a:this.container,this.hideElement.hidden=!0;const A=document.createElement("div");A.classList.add("popup");const T=this.color;if(T){const Y=.7*(255-T[0])+T[0],rt=.7*(255-T[1])+T[1],et=.7*(255-T[2])+T[2];A.style.backgroundColor=s.Util.makeHexColor(Y|0,rt|0,et|0)}const P=document.createElement("h1");P.dir=this.titleObj.dir,P.textContent=this.titleObj.str,A.append(P);const V=i.PDFDateString.toDateObject(this.modificationDate);if(V){const Y=document.createElement("span");Y.classList.add("popupDate"),Y.textContent="{{date}}, {{time}}",Y.dataset.l10nId="annotation_date_string",Y.dataset.l10nArgs=JSON.stringify({date:V.toLocaleDateString(),time:V.toLocaleTimeString()}),A.append(Y)}if(((J=this.richText)==null?void 0:J.str)&&(!(($=this.contentsObj)!=null&&$.str)||this.contentsObj.str===this.richText.str))M.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:A}),A.lastChild.classList.add("richText","popupContent");else{const Y=this._formatContents(this.contentsObj);A.append(Y)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Y of this.trigger)Y.addEventListener("click",this._toggle.bind(this)),Y.addEventListener("mouseover",this._show.bind(this,!1)),Y.addEventListener("mouseout",this._hide.bind(this,!1));return A.addEventListener("click",this._hide.bind(this,!0)),a.append(A),a}_formatContents({str:r,dir:a}){const A=document.createElement("p");A.classList.add("popupContent"),A.dir=a;const T=r.split(/(?:\r\n?|\n)/);for(let P=0,V=T.length;P<V;++P){const J=T[P];A.append(document.createTextNode(J)),P<V-1&&A.append(document.createElement("br"))}return A}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(r=!1){r&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(r=!0){r&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class d extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0}),this.textContent=r.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const r=document.createElement("div");r.classList.add("annotationTextContent"),r.setAttribute("role","comment");for(const a of this.textContent){const A=document.createElement("span");A.textContent=a,r.append(A)}this.container.append(r)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class y extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const r=this.data,{width:a,height:A}=R(r.rect),T=this.svgFactory.create(a,A,!0),P=this.svgFactory.createElement("svg:line");return P.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),P.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),P.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),P.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),P.setAttribute("stroke-width",r.borderStyle.width||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),T.append(P),this.container.append(T),this._createPopup(P,r),this.container}}class B extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const r=this.data,{width:a,height:A}=R(r.rect),T=this.svgFactory.create(a,A,!0),P=r.borderStyle.width,V=this.svgFactory.createElement("svg:rect");return V.setAttribute("x",P/2),V.setAttribute("y",P/2),V.setAttribute("width",a-P),V.setAttribute("height",A-P),V.setAttribute("stroke-width",P||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),T.append(V),this.container.append(T),this._createPopup(V,r),this.container}}class g extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const r=this.data,{width:a,height:A}=R(r.rect),T=this.svgFactory.create(a,A,!0),P=r.borderStyle.width,V=this.svgFactory.createElement("svg:ellipse");return V.setAttribute("cx",a/2),V.setAttribute("cy",A/2),V.setAttribute("rx",a/2-P/2),V.setAttribute("ry",A/2-P/2),V.setAttribute("stroke-width",P||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),T.append(V),this.container.append(T),this._createPopup(V,r),this.container}}class j extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const r=this.data,{width:a,height:A}=R(r.rect),T=this.svgFactory.create(a,A,!0);let P=[];for(const J of r.vertices){const $=J.x-r.rect[0],Y=r.rect[3]-J.y;P.push($+","+Y)}P=P.join(" ");const V=this.svgFactory.createElement(this.svgElementName);return V.setAttribute("points",P),V.setAttribute("stroke-width",r.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),T.append(V),this.container.append(T),this._createPopup(V,r),this.container}}class X extends j{constructor(r){super(r),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class st extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class at extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const r=this.data,{width:a,height:A}=R(r.rect),T=this.svgFactory.create(a,A,!0);for(const P of r.inkLists){let V=[];for(const $ of P){const Y=$.x-r.rect[0],rt=r.rect[3]-$.y;V.push(`${Y},${rt}`)}V=V.join(" ");const J=this.svgFactory.createElement(this.svgElementName);J.setAttribute("points",V),J.setAttribute("stroke-width",r.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),this._createPopup(J,r),T.append(J)}return this.container.append(T),this.container}}class ot extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class dt extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class ut extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class gt extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class vt extends D{constructor(r){var A,T,P;const a=!!(r.data.hasPopup||((A=r.data.titleObj)==null?void 0:A.str)||((T=r.data.contentsObj)==null?void 0:T.str)||((P=r.data.richText)==null?void 0:P.str));super(r,{isRenderable:a,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ct extends D{constructor(r){var T;super(r,{isRenderable:!0});const{filename:a,content:A}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(a,!0),this.content=A,(T=this.linkService.eventBus)==null||T.dispatch("fileattachmentannotation",{source:this,filename:a,content:A})}render(){var a,A;this.container.classList.add("fileAttachmentAnnotation");let r;return this.data.hasAppearance?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),r.classList.add("popupTriggerArea"),r.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((a=this.data.titleObj)==null?void 0:a.str)||((A=this.data.contentsObj)==null?void 0:A.str)||this.data.richText)&&this._createPopup(r,this.data),this.container.append(r),this.container}_download(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.container,this.content,this.filename)}}const q=class{static render(r){var $,Y;const{annotations:a,div:A,viewport:T,accessibilityManager:P}=r;(0,i.setLayerDimensions)(A,T);const V={data:null,layer:A,page:r.page,viewport:T,linkService:r.linkService,downloadManager:r.downloadManager,imageResourcesPath:r.imageResourcesPath||"",renderForms:r.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:r.annotationStorage||new l.AnnotationStorage,enableScripting:r.enableScripting===!0,hasJSActions:r.hasJSActions,fieldObjects:r.fieldObjects};let J=0;for(const rt of a){if(rt.noHTML)continue;if(rt.annotationType!==s.AnnotationType.POPUP){const{width:ct,height:ft}=R(rt.rect);if(ct<=0||ft<=0)continue}V.data=rt;const et=O.create(V);if(!et.isRenderable)continue;const it=et.render();if(rt.hidden&&(it.style.visibility="hidden"),Array.isArray(it))for(const ct of it)ct.style.zIndex=J++,ht($=q,K,Oe).call($,ct,rt.id,A,P);else it.style.zIndex=J++,et instanceof u?A.prepend(it):ht(Y=q,K,Oe).call(Y,it,rt.id,A,P)}ht(this,Z,Ie).call(this,A,r.annotationCanvasMap)}static update(r){const{annotationCanvasMap:a,div:A,viewport:T}=r;(0,i.setLayerDimensions)(A,{rotation:T.rotation}),ht(this,Z,Ie).call(this,A,a),A.hidden=!1}};let xt=q;K=new WeakSet,Oe=function(r,a,A,T){const P=r.firstChild||r;P.id=`${i.AnnotationPrefix}${a}`,A.append(r),T==null||T.moveElementInDOM(A,r,P,!1)},Z=new WeakSet,Ie=function(r,a){if(!!a){for(const[A,T]of a){const P=r.querySelector(`[data-annotation-id="${A}"]`);if(!P)continue;const{firstChild:V}=P;V?V.nodeName==="CANVAS"?V.replaceWith(T):V.before(T):P.append(T)}a.clear()}},lt(xt,K),lt(xt,Z),e.AnnotationLayer=xt},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function n(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}class s{static CMYK_G([l,f,M,v]){return["G",1-Math.min(1,.3*l+.59*M+.11*f+v)]}static G_CMYK([l]){return["CMYK",0,0,0,1-l]}static G_RGB([l]){return["RGB",l,l,l]}static G_HTML([l]){const f=n(l);return`#${f}${f}${f}`}static RGB_G([l,f,M]){return["G",.3*l+.59*f+.11*M]}static RGB_HTML([l,f,M]){const v=n(l),w=n(f),c=n(M);return`#${v}${w}${c}`}static T_HTML(){return"#00000000"}static CMYK_RGB([l,f,M,v]){return["RGB",1-Math.min(1,l+v),1-Math.min(1,M+v),1-Math.min(1,f+v)]}static CMYK_HTML(l){const f=this.CMYK_RGB(l).slice(1);return this.RGB_HTML(f)}static RGB_CMYK([l,f,M]){const v=1-l,w=1-f,c=1-M,R=Math.min(v,w,c);return["CMYK",v,w,c,R]}}e.ColorConverters=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var s=n(19);class i{static setupStorage(f,M,v,w,c){const R=w.getValue(M,{value:null});switch(v.name){case"textarea":if(R.value!==null&&(f.textContent=R.value),c==="print")break;f.addEventListener("input",O=>{w.setValue(M,{value:O.target.value})});break;case"input":if(v.attributes.type==="radio"||v.attributes.type==="checkbox"){if(R.value===v.attributes.xfaOn?f.setAttribute("checked",!0):R.value===v.attributes.xfaOff&&f.removeAttribute("checked"),c==="print")break;f.addEventListener("change",O=>{w.setValue(M,{value:O.target.checked?O.target.getAttribute("xfaOn"):O.target.getAttribute("xfaOff")})})}else{if(R.value!==null&&f.setAttribute("value",R.value),c==="print")break;f.addEventListener("input",O=>{w.setValue(M,{value:O.target.value})})}break;case"select":if(R.value!==null)for(const O of v.children)O.attributes.value===R.value&&(O.attributes.selected=!0);f.addEventListener("input",O=>{const D=O.target.options,E=D.selectedIndex===-1?"":D[D.selectedIndex].value;w.setValue(M,{value:E})});break}}static setAttributes({html:f,element:M,storage:v=null,intent:w,linkService:c}){const{attributes:R}=M,O=f instanceof HTMLAnchorElement;R.type==="radio"&&(R.name=`${R.name}-${w}`);for(const[D,E]of Object.entries(R))if(E!=null)switch(D){case"class":E.length&&f.setAttribute(D,E.join(" "));break;case"dataId":break;case"id":f.setAttribute("data-element-id",E);break;case"style":Object.assign(f.style,E);break;case"textContent":f.textContent=E;break;default:(!O||D!=="href"&&D!=="newWindow")&&f.setAttribute(D,E)}O&&c.addLinkAttributes(f,R.href,R.newWindow),v&&R.dataId&&this.setupStorage(f,R.dataId,M,v)}static render(f){var S;const M=f.annotationStorage,v=f.linkService,w=f.xfaHtml,c=f.intent||"display",R=document.createElement(w.name);w.attributes&&this.setAttributes({html:R,element:w,intent:c,linkService:v});const O=[[w,-1,R]],D=f.div;if(D.append(R),f.viewport){const b=`matrix(${f.viewport.transform.join(",")})`;D.style.transform=b}c!=="richText"&&D.setAttribute("class","xfaLayer xfaFont");const E=[];for(;O.length>0;){const[b,F,L]=O.at(-1);if(F+1===b.children.length){O.pop();continue}const N=b.children[++O.at(-1)[1]];if(N===null)continue;const{name:C}=N;if(C==="#text"){const u=document.createTextNode(N.value);E.push(u),L.append(u);continue}let o;if((S=N==null?void 0:N.attributes)!=null&&S.xmlns?o=document.createElementNS(N.attributes.xmlns,C):o=document.createElement(C),L.append(o),N.attributes&&this.setAttributes({html:o,element:N,storage:M,intent:c,linkService:v}),N.children&&N.children.length>0)O.push([N,-1,o]);else if(N.value){const u=document.createTextNode(N.value);s.XfaText.shouldBuildText(C)&&E.push(u),o.append(u)}}for(const b of D.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:E}}static update(f){const M=`matrix(${f.viewport.transform.join(",")})`;f.div.style.transform=M,f.div.hidden=!1}}e.XfaLayer=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var s=n(6),i=n(1),l=n(10);let f=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=f;{let S=function(o){let u=[];const _=[];for(const d of o){if(d.fn==="save"){u.push({fnId:92,fn:"group",items:[]}),_.push(u),u=u.at(-1).items;continue}d.fn==="restore"?u=_.pop():u.push(d)}return u},b=function(o){if(Number.isInteger(o))return o.toString();const u=o.toFixed(10);let _=u.length-1;if(u[_]!=="0")return u;do _--;while(u[_]==="0");return u.substring(0,u[_]==="."?_:_+1)},F=function(o){if(o[4]===0&&o[5]===0){if(o[1]===0&&o[2]===0)return o[0]===1&&o[3]===1?"":`scale(${b(o[0])} ${b(o[3])})`;if(o[0]===o[3]&&o[1]===-o[2]){const u=Math.acos(o[0])*180/Math.PI;return`rotate(${b(u)})`}}else if(o[0]===1&&o[1]===0&&o[2]===0&&o[3]===1)return`translate(${b(o[4])} ${b(o[5])})`;return`matrix(${b(o[0])} ${b(o[1])} ${b(o[2])} ${b(o[3])} ${b(o[4])} ${b(o[5])})`};const M={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},v="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/1999/xlink",c=["butt","round","square"],R=["miter","round","bevel"],O=function(o,u="",_=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!_)return URL.createObjectURL(new Blob([o],{type:u}));const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${u};base64,`;for(let B=0,g=o.length;B<g;B+=3){const j=o[B]&255,X=o[B+1]&255,st=o[B+2]&255,at=j>>2,ot=(j&3)<<4|X>>4,dt=B+1<g?(X&15)<<2|st>>6:64,ut=B+2<g?st&63:64;y+=d[at]+d[ot]+d[dt]+d[ut]}return y},D=function(){const o=new Uint8Array([137,80,78,71,13,10,26,10]),u=12,_=new Int32Array(256);for(let st=0;st<256;st++){let at=st;for(let ot=0;ot<8;ot++)at&1?at=3988292384^at>>1&2147483647:at=at>>1&2147483647;_[st]=at}function d(st,at,ot){let dt=-1;for(let ut=at;ut<ot;ut++){const gt=(dt^st[ut])&255,vt=_[gt];dt=dt>>>8^vt}return dt^-1}function y(st,at,ot,dt){let ut=dt;const gt=at.length;ot[ut]=gt>>24&255,ot[ut+1]=gt>>16&255,ot[ut+2]=gt>>8&255,ot[ut+3]=gt&255,ut+=4,ot[ut]=st.charCodeAt(0)&255,ot[ut+1]=st.charCodeAt(1)&255,ot[ut+2]=st.charCodeAt(2)&255,ot[ut+3]=st.charCodeAt(3)&255,ut+=4,ot.set(at,ut),ut+=at.length;const vt=d(ot,dt+4,ut);ot[ut]=vt>>24&255,ot[ut+1]=vt>>16&255,ot[ut+2]=vt>>8&255,ot[ut+3]=vt&255}function B(st,at,ot){let dt=1,ut=0;for(let gt=at;gt<ot;++gt)dt=(dt+(st[gt]&255))%65521,ut=(ut+dt)%65521;return ut<<16|dt}function g(st){if(!l.isNodeJS)return j(st);try{let at;parseInt(process.versions.node)>=8?at=st:at=Buffer.from(st);const ot=require$$5.deflateSync(at,{level:9});return ot instanceof Uint8Array?ot:new Uint8Array(ot)}catch(at){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+at)}return j(st)}function j(st){let at=st.length;const ot=65535,dt=Math.ceil(at/ot),ut=new Uint8Array(2+at+dt*5+4);let gt=0;ut[gt++]=120,ut[gt++]=156;let vt=0;for(;at>ot;)ut[gt++]=0,ut[gt++]=255,ut[gt++]=255,ut[gt++]=0,ut[gt++]=0,ut.set(st.subarray(vt,vt+ot),gt),gt+=ot,vt+=ot,at-=ot;ut[gt++]=1,ut[gt++]=at&255,ut[gt++]=at>>8&255,ut[gt++]=~at&65535&255,ut[gt++]=(~at&65535)>>8&255,ut.set(st.subarray(vt),gt),gt+=st.length-vt;const Ct=B(st,0,st.length);return ut[gt++]=Ct>>24&255,ut[gt++]=Ct>>16&255,ut[gt++]=Ct>>8&255,ut[gt++]=Ct&255,ut}function X(st,at,ot,dt){const ut=st.width,gt=st.height;let vt,Ct,xt;const Tt=st.data;switch(at){case i.ImageKind.GRAYSCALE_1BPP:Ct=0,vt=1,xt=ut+7>>3;break;case i.ImageKind.RGB_24BPP:Ct=2,vt=8,xt=ut*3;break;case i.ImageKind.RGBA_32BPP:Ct=6,vt=8,xt=ut*4;break;default:throw new Error("invalid format")}const Q=new Uint8Array((1+xt)*gt);let x=0,k=0;for(let q=0;q<gt;++q)Q[x++]=0,Q.set(Tt.subarray(k,k+xt),x),k+=xt,x+=xt;if(at===i.ImageKind.GRAYSCALE_1BPP&&dt){x=0;for(let q=0;q<gt;q++){x++;for(let m=0;m<xt;m++)Q[x++]^=255}}const H=new Uint8Array([ut>>24&255,ut>>16&255,ut>>8&255,ut&255,gt>>24&255,gt>>16&255,gt>>8&255,gt&255,vt,Ct,0,0,0]),K=g(Q),z=o.length+u*3+H.length+K.length,Z=new Uint8Array(z);let G=0;return Z.set(o,G),G+=o.length,y("IHDR",H,Z,G),G+=u+H.length,y("IDATA",K,Z,G),G+=u+K.length,y("IEND",new Uint8Array(0),Z,G),O(Z,"image/png",ot)}return function(at,ot,dt){const ut=at.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:at.kind;return X(at,ut,ot,dt)}}();class E{constructor(){this.fontSizeScale=1,this.fontWeight=M.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=M.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(u,_){this.x=u,this.y=_}}let L=0,N=0,C=0;e.SVGGraphics=f=class{constructor(o,u,_=!1){(0,s.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new s.DOMSVGFactory,this.current=new E,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=o,this.objs=u,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!_,this._operatorIdMapping=[];for(const d in i.OPS)this._operatorIdMapping[i.OPS[d]]=d}getObject(o,u=null){return typeof o=="string"?o.startsWith("g_")?this.commonObjs.get(o):this.objs.get(o):u}save(){this.transformStack.push(this.transformMatrix);const o=this.current;this.extraStack.push(o),this.current=o.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(o){this.save(),this.executeOpTree(o),this.restore()}loadDependencies(o){const u=o.fnArray,_=o.argsArray;for(let d=0,y=u.length;d<y;d++)if(u[d]===i.OPS.dependency)for(const B of _[d]){const g=B.startsWith("g_")?this.commonObjs:this.objs,j=new Promise(X=>{g.get(B,X)});this.current.dependencies.push(j)}return Promise.all(this.current.dependencies)}transform(o,u,_,d,y,B){const g=[o,u,_,d,y,B];this.transformMatrix=i.Util.transform(this.transformMatrix,g),this.tgrp=null}getSVG(o,u){this.viewport=u;const _=this._initialize(u);return this.loadDependencies(o).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(o)),_))}convertOpList(o){const u=this._operatorIdMapping,_=o.argsArray,d=o.fnArray,y=[];for(let B=0,g=d.length;B<g;B++){const j=d[B];y.push({fnId:j,fn:u[j],args:_[B]})}return S(y)}executeOpTree(o){for(const u of o){const _=u.fn,d=u.fnId,y=u.args;switch(d|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(y);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case i.OPS.setFont:this.setFont(y);break;case i.OPS.showText:this.showText(y[0]);break;case i.OPS.showSpacedText:this.showText(y[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(y[0],y[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case i.OPS.setHScale:this.setHScale(y[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case i.OPS.setTextRise:this.setTextRise(y[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case i.OPS.setLineWidth:this.setLineWidth(y[0]);break;case i.OPS.setLineJoin:this.setLineJoin(y[0]);break;case i.OPS.setLineCap:this.setLineCap(y[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case i.OPS.setFillColorN:this.setFillColorN(y);break;case i.OPS.shadingFill:this.shadingFill(y[0]);break;case i.OPS.setDash:this.setDash(y[0],y[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case i.OPS.setFlatness:this.setFlatness(y[0]);break;case i.OPS.setGState:this.setGState(y[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case i.OPS.constructPath:this.constructPath(y[0],y[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(u.items);break;default:(0,i.warn)(`Unimplemented operator ${_}`);break}}}setWordSpacing(o){this.current.wordSpacing=o}setCharSpacing(o){this.current.charSpacing=o}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(o,u,_,d,y,B){const g=this.current;g.textMatrix=g.lineMatrix=[o,u,_,d,y,B],g.textMatrixScale=Math.hypot(o,u),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${b(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",b(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.append(g.tspan)}beginText(){const o=this.current;o.x=o.lineX=0,o.y=o.lineY=0,o.textMatrix=i.IDENTITY_MATRIX,o.lineMatrix=i.IDENTITY_MATRIX,o.textMatrixScale=1,o.tspan=this.svgFactory.createElement("svg:tspan"),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtgrp=this.svgFactory.createElement("svg:g"),o.xcoords=[],o.ycoords=[]}moveText(o,u){const _=this.current;_.x=_.lineX+=o,_.y=_.lineY+=u,_.xcoords=[],_.ycoords=[],_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${b(_.fontSize)}px`),_.tspan.setAttributeNS(null,"y",b(-_.y))}showText(o){const u=this.current,_=u.font,d=u.fontSize;if(d===0)return;const y=u.fontSizeScale,B=u.charSpacing,g=u.wordSpacing,j=u.fontDirection,X=u.textHScale*j,st=_.vertical,at=st?1:-1,ot=_.defaultVMetrics,dt=d*u.fontMatrix[0];let ut=0;for(const Ct of o){if(Ct===null){ut+=j*g;continue}else if(typeof Ct=="number"){ut+=at*Ct*d/1e3;continue}const xt=(Ct.isSpace?g:0)+B,Tt=Ct.fontChar;let Q,x,k=Ct.width;if(st){let K;const z=Ct.vmetric||ot;K=Ct.vmetric?z[1]:k*.5,K=-K*dt;const Z=z[2]*dt;k=z?-z[0]:k,Q=K/y,x=(ut+Z)/y}else Q=ut/y,x=0;(Ct.isInFont||_.missingFile)&&(u.xcoords.push(u.x+Q),st&&u.ycoords.push(-u.y+x),u.tspan.textContent+=Tt);let H;st?H=k*dt-xt*j:H=k*dt+xt*j,ut+=H}u.tspan.setAttributeNS(null,"x",u.xcoords.map(b).join(" ")),st?u.tspan.setAttributeNS(null,"y",u.ycoords.map(b).join(" ")):u.tspan.setAttributeNS(null,"y",b(-u.y)),st?u.y-=ut:u.x+=ut*X,u.tspan.setAttributeNS(null,"font-family",u.fontFamily),u.tspan.setAttributeNS(null,"font-size",`${b(u.fontSize)}px`),u.fontStyle!==M.fontStyle&&u.tspan.setAttributeNS(null,"font-style",u.fontStyle),u.fontWeight!==M.fontWeight&&u.tspan.setAttributeNS(null,"font-weight",u.fontWeight);const gt=u.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(gt===i.TextRenderingMode.FILL||gt===i.TextRenderingMode.FILL_STROKE?(u.fillColor!==M.fillColor&&u.tspan.setAttributeNS(null,"fill",u.fillColor),u.fillAlpha<1&&u.tspan.setAttributeNS(null,"fill-opacity",u.fillAlpha)):u.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?u.tspan.setAttributeNS(null,"fill","transparent"):u.tspan.setAttributeNS(null,"fill","none"),gt===i.TextRenderingMode.STROKE||gt===i.TextRenderingMode.FILL_STROKE){const Ct=1/(u.textMatrixScale||1);this._setStrokeAttributes(u.tspan,Ct)}let vt=u.textMatrix;u.textRise!==0&&(vt=vt.slice(),vt[5]+=u.textRise),u.txtElement.setAttributeNS(null,"transform",`${F(vt)} scale(${b(X)}, -1)`),u.txtElement.setAttributeNS(v,"xml:space","preserve"),u.txtElement.append(u.tspan),u.txtgrp.append(u.txtElement),this._ensureTransformGroup().append(u.txtElement)}setLeadingMoveText(o,u){this.setLeading(-u),this.moveText(o,u)}addFontStyle(o){if(!o.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const u=O(o.data,o.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${o.loadedName}"; src: url(${u}); }
`}setFont(o){const u=this.current,_=this.commonObjs.get(o[0]);let d=o[1];u.font=_,this.embedFonts&&!_.missingFile&&!this.embeddedFonts[_.loadedName]&&(this.addFontStyle(_),this.embeddedFonts[_.loadedName]=_),u.fontMatrix=_.fontMatrix||i.FONT_IDENTITY_MATRIX;let y="normal";_.black?y="900":_.bold&&(y="bold");const B=_.italic?"italic":"normal";d<0?(d=-d,u.fontDirection=-1):u.fontDirection=1,u.fontSize=d,u.fontFamily=_.loadedName,u.fontWeight=y,u.fontStyle=B,u.tspan=this.svgFactory.createElement("svg:tspan"),u.tspan.setAttributeNS(null,"y",b(-u.y)),u.xcoords=[],u.ycoords=[]}endText(){var u;const o=this.current;o.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&((u=o.txtElement)==null?void 0:u.hasChildNodes())&&(o.element=o.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(o){o>0&&(this.current.lineWidth=o)}setLineCap(o){this.current.lineCap=c[o]}setLineJoin(o){this.current.lineJoin=R[o]}setMiterLimit(o){this.current.miterLimit=o}setStrokeAlpha(o){this.current.strokeAlpha=o}setStrokeRGBColor(o,u,_){this.current.strokeColor=i.Util.makeHexColor(o,u,_)}setFillAlpha(o){this.current.fillAlpha=o}setFillRGBColor(o,u,_){this.current.fillColor=i.Util.makeHexColor(o,u,_),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(o){this.current.strokeColor=this._makeColorN_Pattern(o)}setFillColorN(o){this.current.fillColor=this._makeColorN_Pattern(o)}shadingFill(o){const u=this.viewport.width,_=this.viewport.height,d=i.Util.inverseTransform(this.transformMatrix),y=i.Util.applyTransform([0,0],d),B=i.Util.applyTransform([0,_],d),g=i.Util.applyTransform([u,0],d),j=i.Util.applyTransform([u,_],d),X=Math.min(y[0],B[0],g[0],j[0]),st=Math.min(y[1],B[1],g[1],j[1]),at=Math.max(y[0],B[0],g[0],j[0]),ot=Math.max(y[1],B[1],g[1],j[1]),dt=this.svgFactory.createElement("svg:rect");dt.setAttributeNS(null,"x",X),dt.setAttributeNS(null,"y",st),dt.setAttributeNS(null,"width",at-X),dt.setAttributeNS(null,"height",ot-st),dt.setAttributeNS(null,"fill",this._makeShadingPattern(o)),this.current.fillAlpha<1&&dt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(dt)}_makeColorN_Pattern(o){return o[0]==="TilingPattern"?this._makeTilingPattern(o):this._makeShadingPattern(o)}_makeTilingPattern(o){const u=o[1],_=o[2],d=o[3]||i.IDENTITY_MATRIX,[y,B,g,j]=o[4],X=o[5],st=o[6],at=o[7],ot=`shading${C++}`,[dt,ut,gt,vt]=i.Util.normalizeRect([...i.Util.applyTransform([y,B],d),...i.Util.applyTransform([g,j],d)]),[Ct,xt]=i.Util.singularValueDecompose2dScale(d),Tt=X*Ct,Q=st*xt,x=this.svgFactory.createElement("svg:pattern");x.setAttributeNS(null,"id",ot),x.setAttributeNS(null,"patternUnits","userSpaceOnUse"),x.setAttributeNS(null,"width",Tt),x.setAttributeNS(null,"height",Q),x.setAttributeNS(null,"x",`${dt}`),x.setAttributeNS(null,"y",`${ut}`);const k=this.svg,H=this.transformMatrix,K=this.current.fillColor,z=this.current.strokeColor,Z=this.svgFactory.create(gt-dt,vt-ut);if(this.svg=Z,this.transformMatrix=d,at===2){const G=i.Util.makeHexColor(...u);this.current.fillColor=G,this.current.strokeColor=G}return this.executeOpTree(this.convertOpList(_)),this.svg=k,this.transformMatrix=H,this.current.fillColor=K,this.current.strokeColor=z,x.append(Z.childNodes[0]),this.defs.append(x),`url(#${ot})`}_makeShadingPattern(o){switch(typeof o=="string"&&(o=this.objs.get(o)),o[0]){case"RadialAxial":const u=`shading${C++}`,_=o[3];let d;switch(o[1]){case"axial":const y=o[4],B=o[5];d=this.svgFactory.createElement("svg:linearGradient"),d.setAttributeNS(null,"id",u),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"x1",y[0]),d.setAttributeNS(null,"y1",y[1]),d.setAttributeNS(null,"x2",B[0]),d.setAttributeNS(null,"y2",B[1]);break;case"radial":const g=o[4],j=o[5],X=o[6],st=o[7];d=this.svgFactory.createElement("svg:radialGradient"),d.setAttributeNS(null,"id",u),d.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),d.setAttributeNS(null,"cx",j[0]),d.setAttributeNS(null,"cy",j[1]),d.setAttributeNS(null,"r",st),d.setAttributeNS(null,"fx",g[0]),d.setAttributeNS(null,"fy",g[1]),d.setAttributeNS(null,"fr",X);break;default:throw new Error(`Unknown RadialAxial type: ${o[1]}`)}for(const y of _){const B=this.svgFactory.createElement("svg:stop");B.setAttributeNS(null,"offset",y[0]),B.setAttributeNS(null,"stop-color",y[1]),d.append(B)}return this.defs.append(d),`url(#${u})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${o[0]}`)}}setDash(o,u){this.current.dashArray=o,this.current.dashPhase=u}constructPath(o,u){const _=this.current;let d=_.x,y=_.y,B=[],g=0;for(const j of o)switch(j|0){case i.OPS.rectangle:d=u[g++],y=u[g++];const X=u[g++],st=u[g++],at=d+X,ot=y+st;B.push("M",b(d),b(y),"L",b(at),b(y),"L",b(at),b(ot),"L",b(d),b(ot),"Z");break;case i.OPS.moveTo:d=u[g++],y=u[g++],B.push("M",b(d),b(y));break;case i.OPS.lineTo:d=u[g++],y=u[g++],B.push("L",b(d),b(y));break;case i.OPS.curveTo:d=u[g+4],y=u[g+5],B.push("C",b(u[g]),b(u[g+1]),b(u[g+2]),b(u[g+3]),b(d),b(y)),g+=6;break;case i.OPS.curveTo2:B.push("C",b(d),b(y),b(u[g]),b(u[g+1]),b(u[g+2]),b(u[g+3])),d=u[g+2],y=u[g+3],g+=4;break;case i.OPS.curveTo3:d=u[g+2],y=u[g+3],B.push("C",b(u[g]),b(u[g+1]),b(d),b(y),b(d),b(y)),g+=4;break;case i.OPS.closePath:B.push("Z");break}B=B.join(" "),_.path&&o.length>0&&o[0]!==i.OPS.rectangle&&o[0]!==i.OPS.moveTo?B=_.path.getAttributeNS(null,"d")+B:(_.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(_.path)),_.path.setAttributeNS(null,"d",B),_.path.setAttributeNS(null,"fill","none"),_.element=_.path,_.setCurrentPoint(d,y)}endPath(){const o=this.current;if(o.path=null,!this.pendingClip)return;if(!o.element){this.pendingClip=null;return}const u=`clippath${L++}`,_=this.svgFactory.createElement("svg:clipPath");_.setAttributeNS(null,"id",u),_.setAttributeNS(null,"transform",F(this.transformMatrix));const d=o.element.cloneNode(!0);if(this.pendingClip==="evenodd"?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,_.append(d),this.defs.append(_),o.activeClipUrl){o.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;_.setAttributeNS(null,"clip-path",o.activeClipUrl)}o.activeClipUrl=`url(#${u})`,this.tgrp=null}clip(o){this.pendingClip=o}closePath(){const o=this.current;if(o.path){const u=`${o.path.getAttributeNS(null,"d")}Z`;o.path.setAttributeNS(null,"d",u)}}setLeading(o){this.current.leading=-o}setTextRise(o){this.current.textRise=o}setTextRenderingMode(o){this.current.textRenderingMode=o}setHScale(o){this.current.textHScale=o/100}setRenderingIntent(o){}setFlatness(o){}setGState(o){for(const[u,_]of o)switch(u){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_);break;case"CA":this.setStrokeAlpha(_);break;case"ca":this.setFillAlpha(_);break;default:(0,i.warn)(`Unimplemented graphic state operator ${u}`);break}}fill(){const o=this.current;o.element&&(o.element.setAttributeNS(null,"fill",o.fillColor),o.element.setAttributeNS(null,"fill-opacity",o.fillAlpha),this.endPath())}stroke(){const o=this.current;o.element&&(this._setStrokeAttributes(o.element),o.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(o,u=1){const _=this.current;let d=_.dashArray;u!==1&&d.length>0&&(d=d.map(function(y){return u*y})),o.setAttributeNS(null,"stroke",_.strokeColor),o.setAttributeNS(null,"stroke-opacity",_.strokeAlpha),o.setAttributeNS(null,"stroke-miterlimit",b(_.miterLimit)),o.setAttributeNS(null,"stroke-linecap",_.lineCap),o.setAttributeNS(null,"stroke-linejoin",_.lineJoin),o.setAttributeNS(null,"stroke-width",b(u*_.lineWidth)+"px"),o.setAttributeNS(null,"stroke-dasharray",d.map(b).join(" ")),o.setAttributeNS(null,"stroke-dashoffset",b(u*_.dashPhase)+"px")}eoFill(){var o;(o=this.current.element)==null||o.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var o;(o=this.current.element)==null||o.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width","1px"),o.setAttributeNS(null,"height","1px"),o.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(o)}paintImageXObject(o){const u=this.getObject(o);if(!u){(0,i.warn)(`Dependent image with object ID ${o} is not ready yet`);return}this.paintInlineImageXObject(u)}paintInlineImageXObject(o,u){const _=o.width,d=o.height,y=D(o,this.forceDataSchema,!!u),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y","0"),B.setAttributeNS(null,"width",b(_)),B.setAttributeNS(null,"height",b(d)),this.current.element=B,this.clip("nonzero");const g=this.svgFactory.createElement("svg:image");g.setAttributeNS(w,"xlink:href",y),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",b(-d)),g.setAttributeNS(null,"width",b(_)+"px"),g.setAttributeNS(null,"height",b(d)+"px"),g.setAttributeNS(null,"transform",`scale(${b(1/_)} ${b(-1/d)})`),u?u.append(g):this._ensureTransformGroup().append(g)}paintImageMaskXObject(o){const u=this.getObject(o.data,o);if(u.bitmap){(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const _=this.current,d=u.width,y=u.height,B=_.fillColor;_.maskId=`mask${N++}`;const g=this.svgFactory.createElement("svg:mask");g.setAttributeNS(null,"id",_.maskId);const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",b(d)),j.setAttributeNS(null,"height",b(y)),j.setAttributeNS(null,"fill",B),j.setAttributeNS(null,"mask",`url(#${_.maskId})`),this.defs.append(g),this._ensureTransformGroup().append(j),this.paintInlineImageXObject(u,g)}paintFormXObjectBegin(o,u){if(Array.isArray(o)&&o.length===6&&this.transform(o[0],o[1],o[2],o[3],o[4],o[5]),u){const _=u[2]-u[0],d=u[3]-u[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",u[0]),y.setAttributeNS(null,"y",u[1]),y.setAttributeNS(null,"width",b(_)),y.setAttributeNS(null,"height",b(d)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(o){const u=this.svgFactory.create(o.width,o.height),_=this.svgFactory.createElement("svg:defs");u.append(_),this.defs=_;const d=this.svgFactory.createElement("svg:g");return d.setAttributeNS(null,"transform",F(o.transform)),u.append(d),this.svg=d,u}_ensureClipGroup(){if(!this.current.clipGroup){const o=this.svgFactory.createElement("svg:g");o.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(o),this.current.clipGroup=o}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",F(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return f.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return M.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return v.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return w.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return s.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return s.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),s=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),l=__w_pdfjs_require__(27),f=__w_pdfjs_require__(5),M=__w_pdfjs_require__(32),v=__w_pdfjs_require__(14),w=__w_pdfjs_require__(35),c=__w_pdfjs_require__(34)})(),__webpack_exports__})())}(pdf)),pdf.exports}export{vShow as A,withKeys as B,vModelText as C,provide as D,createApp as E,Fragment as F,Suspense as S,Transition as T,createBaseVNode as a,computed as b,createElementBlock as c,defineComponent as d,onBeforeUnmount as e,normalizeStyle as f,withModifiers as g,onMounted as h,createCommentVNode as i,createVNode as j,createBlock as k,withCtx as l,reactive as m,normalizeClass as n,openBlock as o,inject as p,toRaw as q,ref as r,withAsyncContext as s,toDisplayString as t,unref as u,nextTick as v,watch as w,renderList as x,requirePdf as y,withDirectives as z};
