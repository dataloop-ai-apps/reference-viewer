var on=Object.defineProperty;var ln=(t,e,s)=>e in t?on(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Lt=(t,e,s)=>(ln(t,typeof e!="symbol"?e+"":e,s),s),fe=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var M=(t,e,s)=>(fe(t,e,"read from private field"),s?s.call(t):e.get(t)),at=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},mt=(t,e,s,n)=>(fe(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),ae=(t,e,s,n)=>({set _(i){mt(t,e,i,s)},get _(){return M(t,e,n)}}),ut=(t,e,s)=>(fe(t,e,"access private method"),s);function makeMap(t,e){const s=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)s[n[i]]=!0;return e?i=>!!s[i.toLowerCase()]:i=>!!s[i]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty$1.call(t,e),isArray=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction=t=>typeof t=="function",isString=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject=t=>t!==null&&typeof t=="object",isPromise=t=>isObject(t)&&isFunction(t.then)&&isFunction(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},def=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber=t=>{const e=isString(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(t){if(isArray(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=isString(n)?parseStringStyle(n):normalizeStyle(n);if(i)for(const l in i)e[l]=i[l]}return e}else{if(isString(t))return t;if(isObject(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const n=s.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(t){let e="";if(isString(t))e=t;else if(isArray(t))for(let s=0;s<t.length;s++){const n=normalizeClass(t[s]);n&&(e+=n+" ")}else if(isObject(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const toDisplayString=t=>isString(t)?t:t==null?"":isArray(t)||isObject(t)&&(t.toString===objectToString||!isFunction(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i])=>(s[`${n} =>`]=i,s),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject(e)&&!isArray(e)&&!isPlainObject(e)?String(e):e;let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=s}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let s=0;for(let n=0;n<e.length;n++){const i=e[n];wasTracked(i)&&!newTracked(i)?i.delete(t):e[s++]=i,i.w&=~trackOpBit,i.n&=~trackOpBit}e.length=s}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,s=null,n){this.fn=e,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let e=activeEffect,s=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,s){if(shouldTrack&&activeEffect){let n=targetMap.get(t);n||targetMap.set(t,n=new Map);let i=n.get(s);i||n.set(s,i=createDep()),trackEffects(i)}}function trackEffects(t,e){let s=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,s=!wasTracked(t)):s=!t.has(activeEffect),s&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,s,n,i,l){const _=targetMap.get(t);if(!_)return;let D=[];if(e==="clear")D=[..._.values()];else if(s==="length"&&isArray(t)){const x=Number(n);_.forEach((w,E)=>{(E==="length"||E>=x)&&D.push(w)})}else switch(s!==void 0&&D.push(_.get(s)),e){case"add":isArray(t)?isIntegerKey(s)&&D.push(_.get("length")):(D.push(_.get(ITERATE_KEY)),isMap(t)&&D.push(_.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(t)||(D.push(_.get(ITERATE_KEY)),isMap(t)&&D.push(_.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&D.push(_.get(ITERATE_KEY));break}if(D.length===1)D[0]&&triggerEffects(D[0]);else{const x=[];for(const w of D)w&&x.push(...w);triggerEffects(createDep(x))}}function triggerEffects(t,e){const s=isArray(t)?t:[...t];for(const n of s)n.computed&&triggerEffect(n);for(const n of s)n.computed||triggerEffect(n)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const n=toRaw(this);for(let l=0,_=this.length;l<_;l++)track(n,"get",l+"");const i=n[e](...s);return i===-1||i===!1?n[e](...s.map(toRaw)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){pauseTracking();const n=toRaw(this)[e].apply(this,s);return resetTracking(),n}}),t}function hasOwnProperty(t){const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}function createGetter(t=!1,e=!1){return function(n,i,l){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&l===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(n))return n;const _=isArray(n);if(!t){if(_&&hasOwn(arrayInstrumentations,i))return Reflect.get(arrayInstrumentations,i,l);if(i==="hasOwnProperty")return hasOwnProperty}const D=Reflect.get(n,i,l);return(isSymbol(i)?builtInSymbols.has(i):isNonTrackableKeys(i))||(t||track(n,"get",i),e)?D:isRef(D)?_&&isIntegerKey(i)?D:D.value:isObject(D)?t?readonly(D):reactive(D):D}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(s,n,i,l){let _=s[n];if(isReadonly(_)&&isRef(_)&&!isRef(i))return!1;if(!t&&(!isShallow(i)&&!isReadonly(i)&&(_=toRaw(_),i=toRaw(i)),!isArray(s)&&isRef(_)&&!isRef(i)))return _.value=i,!0;const D=isArray(s)&&isIntegerKey(n)?Number(n)<s.length:hasOwn(s,n),x=Reflect.set(s,n,i,l);return s===toRaw(l)&&(D?hasChanged(i,_)&&trigger(s,"set",n,i):trigger(s,"add",n,i)),x}}function deleteProperty(t,e){const s=hasOwn(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&s&&trigger(t,"delete",e,void 0),n}function has$1(t,e){const s=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),s}function ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get(t,e,s=!1,n=!1){t=t.__v_raw;const i=toRaw(t),l=toRaw(e);s||(e!==l&&track(i,"get",e),track(i,"get",l));const{has:_}=getProto(i),D=n?toShallow:s?toReadonly:toReactive;if(_.call(i,e))return D(t.get(e));if(_.call(i,l))return D(t.get(l));t!==i&&t.get(e)}function has(t,e=!1){const s=this.__v_raw,n=toRaw(s),i=toRaw(t);return e||(t!==i&&track(n,"has",t),track(n,"has",i)),t===i?s.has(t):s.has(t)||s.has(i)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set(t,e){e=toRaw(e);const s=toRaw(this),{has:n,get:i}=getProto(s);let l=n.call(s,t);l||(t=toRaw(t),l=n.call(s,t));const _=i.call(s,t);return s.set(t,e),l?hasChanged(e,_)&&trigger(s,"set",t,e):trigger(s,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:s,get:n}=getProto(e);let i=s.call(e,t);i||(t=toRaw(t),i=s.call(e,t)),n&&n.call(e,t);const l=e.delete(t);return i&&trigger(e,"delete",t,void 0),l}function clear(){const t=toRaw(this),e=t.size!==0,s=t.clear();return e&&trigger(t,"clear",void 0,void 0),s}function createForEach(t,e){return function(n,i){const l=this,_=l.__v_raw,D=toRaw(_),x=e?toShallow:t?toReadonly:toReactive;return!t&&track(D,"iterate",ITERATE_KEY),_.forEach((w,E)=>n.call(i,x(w),x(E),l))}}function createIterableMethod(t,e,s){return function(...n){const i=this.__v_raw,l=toRaw(i),_=isMap(l),D=t==="entries"||t===Symbol.iterator&&_,x=t==="keys"&&_,w=i[t](...n),E=s?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",x?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:I,done:k}=w.next();return k?{value:I,done:k}:{value:D?[E(I[0]),E(I[1])]:E(I),done:k}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(l){return get(this,l)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(l){return get(this,l,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},s={get(l){return get(this,l,!0)},get size(){return size(this,!0)},has(l){return has.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(l){return get(this,l,!0,!0)},get size(){return size(this,!0)},has(l){return has.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=createIterableMethod(l,!1,!1),s[l]=createIterableMethod(l,!0,!1),e[l]=createIterableMethod(l,!1,!0),n[l]=createIterableMethod(l,!0,!0)}),[t,s,e,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const s=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(n,i,l)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(hasOwn(s,i)&&i in n?s:n,i,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,s,n,i){if(!isObject(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=i.get(t);if(l)return l;const _=getTargetType(t);if(_===0)return t;const D=new Proxy(t,_===2?n:s);return i.set(t,D),D}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject(t)?reactive(t):t,toReadonly=t=>isObject(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t);const s=t.dep;s&&triggerEffects(s)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:toRaw(e),this._value=s?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const s=this.__v_isShallow||isShallow(e)||isReadonly(e);e=s?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=s?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,s)=>unref(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return isRef(i)&&!isRef(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(e,s,n,i){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$1(t,e,s=!1){let n,i;const l=isFunction(t);return l?(n=t,i=NOOP):(n=t.get,i=t.set),new ComputedRefImpl(n,i,l||!i,s)}function warn(t,...e){}function callWithErrorHandling(t,e,s,n){let i;try{i=n?t(...n):t()}catch(l){handleError(l,e,s)}return i}function callWithAsyncErrorHandling(t,e,s,n){if(isFunction(t)){const l=callWithErrorHandling(t,e,s,n);return l&&isPromise(l)&&l.catch(_=>{handleError(_,e,s)}),l}const i=[];for(let l=0;l<t.length;l++)i.push(callWithAsyncErrorHandling(t[l],e,s,n));return i}function handleError(t,e,s,n=!0){const i=e?e.vnode:null;if(e){let l=e.parent;const _=e.proxy,D=s;for(;l;){const w=l.ec;if(w){for(let E=0;E<w.length;E++)if(w[E](t,_,D)===!1)return}l=l.parent}const x=e.appContext.config.errorHandler;if(x){callWithErrorHandling(x,null,10,[t,_,D]);return}}logError(t,s,i,n)}function logError(t,e,s,n=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,s=queue.length;for(;e<s;){const n=e+s>>>1;getId(queue[n])<t?e=n+1:s=n}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const s=queue[e];s&&s.pre&&(queue.splice(e,1),e--,s())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((s,n)=>getId(s)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const s=getId(t)-getId(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&s.active!==!1&&callWithErrorHandling(s,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||EMPTY_OBJ;let i=s;const l=e.startsWith("update:"),_=l&&e.slice(7);if(_&&_ in n){const E=`${_==="modelValue"?"model":_}Modifiers`,{number:I,trim:k}=n[E]||EMPTY_OBJ;k&&(i=s.map(L=>isString(L)?L.trim():L)),I&&(i=s.map(looseToNumber))}let D,x=n[D=toHandlerKey(e)]||n[D=toHandlerKey(camelize(e))];!x&&l&&(x=n[D=toHandlerKey(hyphenate(e))]),x&&callWithAsyncErrorHandling(x,t,6,i);const w=n[D+"Once"];if(w){if(!t.emitted)t.emitted={};else if(t.emitted[D])return;t.emitted[D]=!0,callWithAsyncErrorHandling(w,t,6,i)}}function normalizeEmitsOptions(t,e,s=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const l=t.emits;let _={},D=!1;if(!isFunction(t)){const x=w=>{const E=normalizeEmitsOptions(w,e,!0);E&&(D=!0,extend(_,E))};!s&&e.mixins.length&&e.mixins.forEach(x),t.extends&&x(t.extends),t.mixins&&t.mixins.forEach(x)}return!l&&!D?(isObject(t)&&n.set(t,null),null):(isArray(l)?l.forEach(x=>_[x]=null):extend(_,l),isObject(t)&&n.set(t,_),_)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}function withCtx(t,e=currentRenderingInstance,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(e);let _;try{_=t(...i)}finally{setCurrentRenderingInstance(l),n._d&&setBlockTracking(1)}return _};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:s,proxy:n,withProxy:i,props:l,propsOptions:[_],slots:D,attrs:x,emit:w,render:E,renderCache:I,data:k,setupState:L,ctx:C,inheritAttrs:y}=t;let u,F;const N=setCurrentRenderingInstance(t);try{if(s.shapeFlag&4){const A=i||n;u=normalizeVNode(E.call(A,A,I,l,L,k,C)),F=x}else{const A=e;u=normalizeVNode(A.length>1?A(l,{attrs:x,slots:D,emit:w}):A(l,null)),F=e.props?x:getFunctionalFallthrough(x)}}catch(A){blockStack.length=0,handleError(A,t,1),u=createVNode(Comment)}let B=u;if(F&&y!==!1){const A=Object.keys(F),{shapeFlag:a}=B;A.length&&a&7&&(_&&A.some(isModelListener)&&(F=filterModelListeners(F,_)),B=cloneVNode(B,F))}return s.dirs&&(B=cloneVNode(B),B.dirs=B.dirs?B.dirs.concat(s.dirs):s.dirs),s.transition&&(B.transition=s.transition),u=B,setCurrentRenderingInstance(N),u}function filterSingleRoot(t){let e;for(let s=0;s<t.length;s++){const n=t[s];if(isVNode(n)){if(n.type!==Comment||n.children==="v-if"){if(e)return;e=n}}else return}return e}const getFunctionalFallthrough=t=>{let e;for(const s in t)(s==="class"||s==="style"||isOn(s))&&((e||(e={}))[s]=t[s]);return e},filterModelListeners=(t,e)=>{const s={};for(const n in t)(!isModelListener(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function shouldUpdateComponent(t,e,s){const{props:n,children:i,component:l}=t,{props:_,children:D,patchFlag:x}=e,w=l.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&x>=0){if(x&1024)return!0;if(x&16)return n?hasPropsChanged(n,_,w):!!_;if(x&8){const E=e.dynamicProps;for(let I=0;I<E.length;I++){const k=E[I];if(_[k]!==n[k]&&!isEmitListener(w,k))return!0}}}else return(i||D)&&(!D||!D.$stable)?!0:n===_?!1:n?_?hasPropsChanged(n,_,w):!0:!!_;return!1}function hasPropsChanged(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const l=n[i];if(e[l]!==t[l]&&!isEmitListener(s,l))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},s){for(;e&&e.subTree===t;)(t=e.vnode).el=s,e=e.parent}const isSuspense=t=>t.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(t,e,s,n,i,l,_,D,x,w){t==null?mountSuspense(e,s,n,i,l,_,D,x,w):patchSuspense(t,e,s,n,i,_,D,x,w)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(t,e){const s=t.props&&t.props[e];isFunction(s)&&s()}function mountSuspense(t,e,s,n,i,l,_,D,x){const{p:w,o:{createElement:E}}=x,I=E("div"),k=t.suspense=createSuspenseBoundary(t,i,n,e,I,s,l,_,D,x);w(null,k.pendingBranch=t.ssContent,I,null,n,k,l,_),k.deps>0?(triggerEvent(t,"onPending"),triggerEvent(t,"onFallback"),w(null,t.ssFallback,e,s,n,null,l,_),setActiveBranch(k,t.ssFallback)):k.resolve(!1,!0)}function patchSuspense(t,e,s,n,i,l,_,D,{p:x,um:w,o:{createElement:E}}){const I=e.suspense=t.suspense;I.vnode=e,e.el=t.el;const k=e.ssContent,L=e.ssFallback,{activeBranch:C,pendingBranch:y,isInFallback:u,isHydrating:F}=I;if(y)I.pendingBranch=k,isSameVNodeType(k,y)?(x(y,k,I.hiddenContainer,null,i,I,l,_,D),I.deps<=0?I.resolve():u&&(x(C,L,s,n,i,null,l,_,D),setActiveBranch(I,L))):(I.pendingId++,F?(I.isHydrating=!1,I.activeBranch=y):w(y,i,I),I.deps=0,I.effects.length=0,I.hiddenContainer=E("div"),u?(x(null,k,I.hiddenContainer,null,i,I,l,_,D),I.deps<=0?I.resolve():(x(C,L,s,n,i,null,l,_,D),setActiveBranch(I,L))):C&&isSameVNodeType(k,C)?(x(C,k,s,n,i,I,l,_,D),I.resolve(!0)):(x(null,k,I.hiddenContainer,null,i,I,l,_,D),I.deps<=0&&I.resolve()));else if(C&&isSameVNodeType(k,C))x(C,k,s,n,i,I,l,_,D),setActiveBranch(I,k);else if(triggerEvent(e,"onPending"),I.pendingBranch=k,I.pendingId++,x(null,k,I.hiddenContainer,null,i,I,l,_,D),I.deps<=0)I.resolve();else{const{timeout:N,pendingId:B}=I;N>0?setTimeout(()=>{I.pendingId===B&&I.fallback(L)},N):N===0&&I.fallback(L)}}function createSuspenseBoundary(t,e,s,n,i,l,_,D,x,w,E=!1){const{p:I,m:k,um:L,n:C,o:{parentNode:y,remove:u}}=w;let F;const N=isVNodeSuspensible(t);N&&e!=null&&e.pendingBranch&&(F=e.pendingId,e.deps++);const B=t.props?toNumber(t.props.timeout):void 0,A={vnode:t,parent:e,parentComponent:s,isSVG:_,container:n,hiddenContainer:i,anchor:l,deps:0,pendingId:0,timeout:typeof B=="number"?B:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:E,isUnmounted:!1,effects:[],resolve(a=!1,g=!1){const{vnode:b,activeBranch:c,pendingBranch:v,pendingId:H,effects:d,parentComponent:W,container:K}=A;if(A.isHydrating)A.isHydrating=!1;else if(!a){const ot=c&&v.transition&&v.transition.mode==="out-in";ot&&(c.transition.afterLeave=()=>{H===A.pendingId&&k(v,K,ht,0)});let{anchor:ht}=A;c&&(ht=C(c),L(c,W,A,!0)),ot||k(v,K,ht,0)}setActiveBranch(A,v),A.pendingBranch=null,A.isInFallback=!1;let tt=A.parent,rt=!1;for(;tt;){if(tt.pendingBranch){tt.effects.push(...d),rt=!0;break}tt=tt.parent}rt||queuePostFlushCb(d),A.effects=[],N&&e&&e.pendingBranch&&F===e.pendingId&&(e.deps--,e.deps===0&&!g&&e.resolve()),triggerEvent(b,"onResolve")},fallback(a){if(!A.pendingBranch)return;const{vnode:g,activeBranch:b,parentComponent:c,container:v,isSVG:H}=A;triggerEvent(g,"onFallback");const d=C(b),W=()=>{!A.isInFallback||(I(null,a,v,d,c,null,H,D,x),setActiveBranch(A,a))},K=a.transition&&a.transition.mode==="out-in";K&&(b.transition.afterLeave=W),A.isInFallback=!0,L(b,c,null,!0),K||W()},move(a,g,b){A.activeBranch&&k(A.activeBranch,a,g,b),A.container=a},next(){return A.activeBranch&&C(A.activeBranch)},registerDep(a,g){const b=!!A.pendingBranch;b&&A.deps++;const c=a.vnode.el;a.asyncDep.catch(v=>{handleError(v,a,0)}).then(v=>{if(a.isUnmounted||A.isUnmounted||A.pendingId!==a.suspenseId)return;a.asyncResolved=!0;const{vnode:H}=a;handleSetupResult(a,v,!1),c&&(H.el=c);const d=!c&&a.subTree.el;g(a,H,y(c||a.subTree.el),c?null:C(a.subTree),A,_,x),d&&u(d),updateHOCHostEl(a,H.el),b&&--A.deps===0&&A.resolve()})},unmount(a,g){A.isUnmounted=!0,A.activeBranch&&L(A.activeBranch,s,a,g),A.pendingBranch&&L(A.pendingBranch,s,a,g)}};return A}function hydrateSuspense(t,e,s,n,i,l,_,D,x){const w=e.suspense=createSuspenseBoundary(e,n,s,t.parentNode,document.createElement("div"),null,i,l,_,D,!0),E=x(t,w.pendingBranch=e.ssContent,s,w,l,_);return w.deps===0&&w.resolve(!1,!0),E}function normalizeSuspenseChildren(t){const{shapeFlag:e,children:s}=t,n=e&32;t.ssContent=normalizeSuspenseSlot(n?s.default:s),t.ssFallback=n?normalizeSuspenseSlot(s.fallback):createVNode(Comment)}function normalizeSuspenseSlot(t){let e;if(isFunction(t)){const s=isBlockTreeEnabled&&t._c;s&&(t._d=!1,openBlock()),t=t(),s&&(t._d=!0,e=currentBlock,closeBlock())}return isArray(t)&&(t=filterSingleRoot(t)),t=normalizeVNode(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(s=>s!==t)),t}function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function setActiveBranch(t,e){t.activeBranch=e;const{vnode:s,parentComponent:n}=t,i=s.el=e.el;n&&n.subTree===s&&(n.vnode.el=i,updateHOCHostEl(n,i))}function isVNodeSuspensible(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const INITIAL_WATCHER_VALUE={};function watch(t,e,s){return doWatch(t,e,s)}function doWatch(t,e,{immediate:s,deep:n,flush:i,onTrack:l,onTrigger:_}=EMPTY_OBJ){var D;const x=getCurrentScope()===((D=currentInstance)==null?void 0:D.scope)?currentInstance:null;let w,E=!1,I=!1;if(isRef(t)?(w=()=>t.value,E=isShallow(t)):isReactive(t)?(w=()=>t,n=!0):isArray(t)?(I=!0,E=t.some(A=>isReactive(A)||isShallow(A)),w=()=>t.map(A=>{if(isRef(A))return A.value;if(isReactive(A))return traverse(A);if(isFunction(A))return callWithErrorHandling(A,x,2)})):isFunction(t)?e?w=()=>callWithErrorHandling(t,x,2):w=()=>{if(!(x&&x.isUnmounted))return k&&k(),callWithAsyncErrorHandling(t,x,3,[L])}:w=NOOP,e&&n){const A=w;w=()=>traverse(A())}let k,L=A=>{k=N.onStop=()=>{callWithErrorHandling(A,x,4)}},C;if(isInSSRComponentSetup)if(L=NOOP,e?s&&callWithAsyncErrorHandling(e,x,3,[w(),I?[]:void 0,L]):w(),i==="sync"){const A=useSSRContext();C=A.__watcherHandles||(A.__watcherHandles=[])}else return NOOP;let y=I?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const u=()=>{if(!!N.active)if(e){const A=N.run();(n||E||(I?A.some((a,g)=>hasChanged(a,y[g])):hasChanged(A,y)))&&(k&&k(),callWithAsyncErrorHandling(e,x,3,[A,y===INITIAL_WATCHER_VALUE?void 0:I&&y[0]===INITIAL_WATCHER_VALUE?[]:y,L]),y=A)}else N.run()};u.allowRecurse=!!e;let F;i==="sync"?F=u:i==="post"?F=()=>queuePostRenderEffect(u,x&&x.suspense):(u.pre=!0,x&&(u.id=x.uid),F=()=>queueJob(u));const N=new ReactiveEffect(w,F);e?s?u():y=N.run():i==="post"?queuePostRenderEffect(N.run.bind(N),x&&x.suspense):N.run();const B=()=>{N.stop(),x&&x.scope&&remove(x.scope.effects,N)};return C&&C.push(B),B}function instanceWatch(t,e,s){const n=this.proxy,i=isString(t)?t.includes(".")?createPathGetter(n,t):()=>n[t]:t.bind(n,n);let l;isFunction(e)?l=e:(l=e.handler,s=e);const _=currentInstance;setCurrentInstance(this);const D=doWatch(i,l.bind(n),s);return _?setCurrentInstance(_):unsetCurrentInstance(),D}function createPathGetter(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function traverse(t,e){if(!isObject(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray(t))for(let s=0;s<t.length;s++)traverse(t[s],e);else if(isSet(t)||isMap(t))t.forEach(s=>{traverse(s,e)});else if(isPlainObject(t))for(const s in t)traverse(t[s],e);return t}function withDirectives(t,e){const s=currentRenderingInstance;if(s===null)return t;const n=getExposeProxy(s)||s.proxy,i=t.dirs||(t.dirs=[]);for(let l=0;l<e.length;l++){let[_,D,x,w=EMPTY_OBJ]=e[l];_&&(isFunction(_)&&(_={mounted:_,updated:_}),_.deep&&traverse(D),i.push({dir:_,instance:n,value:D,oldValue:void 0,arg:x,modifiers:w}))}return t}function invokeDirectiveHook(t,e,s,n){const i=t.dirs,l=e&&e.dirs;for(let _=0;_<i.length;_++){const D=i[_];l&&(D.oldValue=l[_].value);let x=D.dir[n];x&&(pauseTracking(),callWithAsyncErrorHandling(x,s,8,[t.el,D,t,e]),resetTracking())}}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const s=getCurrentInstance(),n=useTransitionState();let i;return()=>{const l=e.default&&getTransitionRawChildren(e.default(),!0);if(!l||!l.length)return;let _=l[0];if(l.length>1){for(const y of l)if(y.type!==Comment){_=y;break}}const D=toRaw(t),{mode:x}=D;if(n.isLeaving)return emptyPlaceholder(_);const w=getKeepAliveChild(_);if(!w)return emptyPlaceholder(_);const E=resolveTransitionHooks(w,D,n,s);setTransitionHooks(w,E);const I=s.subTree,k=I&&getKeepAliveChild(I);let L=!1;const{getTransitionKey:C}=w.type;if(C){const y=C();i===void 0?i=y:y!==i&&(i=y,L=!0)}if(k&&k.type!==Comment&&(!isSameVNodeType(w,k)||L)){const y=resolveTransitionHooks(k,D,n,s);if(setTransitionHooks(k,y),x==="out-in")return n.isLeaving=!0,y.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&s.update()},emptyPlaceholder(_);x==="in-out"&&w.type!==Comment&&(y.delayLeave=(u,F,N)=>{const B=getLeavingNodesForType(n,k);B[String(k.key)]=k,u._leaveCb=()=>{F(),u._leaveCb=void 0,delete E.delayedLeave},E.delayedLeave=N})}return _}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function resolveTransitionHooks(t,e,s,n){const{appear:i,mode:l,persisted:_=!1,onBeforeEnter:D,onEnter:x,onAfterEnter:w,onEnterCancelled:E,onBeforeLeave:I,onLeave:k,onAfterLeave:L,onLeaveCancelled:C,onBeforeAppear:y,onAppear:u,onAfterAppear:F,onAppearCancelled:N}=e,B=String(t.key),A=getLeavingNodesForType(s,t),a=(c,v)=>{c&&callWithAsyncErrorHandling(c,n,9,v)},g=(c,v)=>{const H=v[1];a(c,v),isArray(c)?c.every(d=>d.length<=1)&&H():c.length<=1&&H()},b={mode:l,persisted:_,beforeEnter(c){let v=D;if(!s.isMounted)if(i)v=y||D;else return;c._leaveCb&&c._leaveCb(!0);const H=A[B];H&&isSameVNodeType(t,H)&&H.el._leaveCb&&H.el._leaveCb(),a(v,[c])},enter(c){let v=x,H=w,d=E;if(!s.isMounted)if(i)v=u||x,H=F||w,d=N||E;else return;let W=!1;const K=c._enterCb=tt=>{W||(W=!0,tt?a(d,[c]):a(H,[c]),b.delayedLeave&&b.delayedLeave(),c._enterCb=void 0)};v?g(v,[c,K]):K()},leave(c,v){const H=String(t.key);if(c._enterCb&&c._enterCb(!0),s.isUnmounting)return v();a(I,[c]);let d=!1;const W=c._leaveCb=K=>{d||(d=!0,v(),K?a(C,[c]):a(L,[c]),c._leaveCb=void 0,A[H]===t&&delete A[H])};A[H]=t,k?g(k,[c,W]):W()},clone(c){return resolveTransitionHooks(c,e,s,n)}};return b}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,s){let n=[],i=0;for(let l=0;l<t.length;l++){let _=t[l];const D=s==null?_.key:String(s)+String(_.key!=null?_.key:l);_.type===Fragment?(_.patchFlag&128&&i++,n=n.concat(getTransitionRawChildren(_.children,e,D))):(e||_.type!==Comment)&&n.push(D!=null?cloneVNode(_,{key:D}):_)}if(i>1)for(let l=0;l<n.length;l++)n[l].patchFlag=-2;return n}function defineComponent(t,e){return isFunction(t)?(()=>extend({name:t.name},e,{setup:t}))():t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,s=currentInstance){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(injectHook(e,n,s),s){let i=s.parent;for(;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(n,e,s,i),i=i.parent}}function injectToKeepAliveRoot(t,e,s,n){const i=injectHook(e,t,n,!0);onUnmounted(()=>{remove(n[e],i)},s)}function injectHook(t,e,s=currentInstance,n=!1){if(s){const i=s[t]||(s[t]=[]),l=e.__weh||(e.__weh=(..._)=>{if(s.isUnmounted)return;pauseTracking(),setCurrentInstance(s);const D=callWithAsyncErrorHandling(e,s,t,_);return unsetCurrentInstance(),resetTracking(),D});return n?i.unshift(l):i.push(l),l}}const createHook=t=>(e,s=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...n)=>e(...n),s),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(t,e,s,n){let i;const l=s&&s[n];if(isArray(t)||isString(t)){i=new Array(t.length);for(let _=0,D=t.length;_<D;_++)i[_]=e(t[_],_,void 0,l&&l[_])}else if(typeof t=="number"){i=new Array(t);for(let _=0;_<t;_++)i[_]=e(_+1,_,void 0,l&&l[_])}else if(isObject(t))if(t[Symbol.iterator])i=Array.from(t,(_,D)=>e(_,D,void 0,l&&l[D]));else{const _=Object.keys(t);i=new Array(_.length);for(let D=0,x=_.length;D<x;D++){const w=_[D];i[D]=e(t[w],w,D,l&&l[D])}}else i=[];return s&&(s[n]=i),i}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:s,setupState:n,data:i,props:l,accessCache:_,type:D,appContext:x}=t;let w;if(e[0]!=="$"){const L=_[e];if(L!==void 0)switch(L){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return l[e]}else{if(hasSetupBinding(n,e))return _[e]=1,n[e];if(i!==EMPTY_OBJ&&hasOwn(i,e))return _[e]=2,i[e];if((w=t.propsOptions[0])&&hasOwn(w,e))return _[e]=3,l[e];if(s!==EMPTY_OBJ&&hasOwn(s,e))return _[e]=4,s[e];shouldCacheAccess&&(_[e]=0)}}const E=publicPropertiesMap[e];let I,k;if(E)return e==="$attrs"&&track(t,"get",e),E(t);if((I=D.__cssModules)&&(I=I[e]))return I;if(s!==EMPTY_OBJ&&hasOwn(s,e))return _[e]=4,s[e];if(k=x.config.globalProperties,hasOwn(k,e))return k[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:l}=t;return hasSetupBinding(i,e)?(i[e]=s,!0):n!==EMPTY_OBJ&&hasOwn(n,e)?(n[e]=s,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:l}},_){let D;return!!s[_]||t!==EMPTY_OBJ&&hasOwn(t,_)||hasSetupBinding(e,_)||(D=l[0])&&hasOwn(D,_)||hasOwn(n,_)||hasOwn(publicPropertiesMap,_)||hasOwn(i.config.globalProperties,_)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:hasOwn(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function normalizePropsOrEmits(t){return isArray(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}function withAsyncContext(t){const e=getCurrentInstance();let s=t();return unsetCurrentInstance(),isPromise(s)&&(s=s.catch(n=>{throw setCurrentInstance(e),n})),[s,()=>setCurrentInstance(e)]}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),s=t.proxy,n=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:i,computed:l,methods:_,watch:D,provide:x,inject:w,created:E,beforeMount:I,mounted:k,beforeUpdate:L,updated:C,activated:y,deactivated:u,beforeDestroy:F,beforeUnmount:N,destroyed:B,unmounted:A,render:a,renderTracked:g,renderTriggered:b,errorCaptured:c,serverPrefetch:v,expose:H,inheritAttrs:d,components:W,directives:K,filters:tt}=e;if(w&&resolveInjections(w,n,null),_)for(const ht in _){const lt=_[ht];isFunction(lt)&&(n[ht]=lt.bind(s))}if(i){const ht=i.call(s,s);isObject(ht)&&(t.data=reactive(ht))}if(shouldCacheAccess=!0,l)for(const ht in l){const lt=l[ht],gt=isFunction(lt)?lt.bind(s,s):isFunction(lt.get)?lt.get.bind(s,s):NOOP,yt=!isFunction(lt)&&isFunction(lt.set)?lt.set.bind(s):NOOP,St=computed({get:gt,set:yt});Object.defineProperty(n,ht,{enumerable:!0,configurable:!0,get:()=>St.value,set:Tt=>St.value=Tt})}if(D)for(const ht in D)createWatcher(D[ht],n,s,ht);if(x){const ht=isFunction(x)?x.call(s):x;Reflect.ownKeys(ht).forEach(lt=>{provide(lt,ht[lt])})}E&&callHook$1(E,t,"c");function ot(ht,lt){isArray(lt)?lt.forEach(gt=>ht(gt.bind(s))):lt&&ht(lt.bind(s))}if(ot(onBeforeMount,I),ot(onMounted,k),ot(onBeforeUpdate,L),ot(onUpdated,C),ot(onActivated,y),ot(onDeactivated,u),ot(onErrorCaptured,c),ot(onRenderTracked,g),ot(onRenderTriggered,b),ot(onBeforeUnmount,N),ot(onUnmounted,A),ot(onServerPrefetch,v),isArray(H))if(H.length){const ht=t.exposed||(t.exposed={});H.forEach(lt=>{Object.defineProperty(ht,lt,{get:()=>s[lt],set:gt=>s[lt]=gt})})}else t.exposed||(t.exposed={});a&&t.render===NOOP&&(t.render=a),d!=null&&(t.inheritAttrs=d),W&&(t.components=W),K&&(t.directives=K)}function resolveInjections(t,e,s=NOOP){isArray(t)&&(t=normalizeInject(t));for(const n in t){const i=t[n];let l;isObject(i)?"default"in i?l=inject(i.from||n,i.default,!0):l=inject(i.from||n):l=inject(i),isRef(l)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:_=>l.value=_}):e[n]=l}}function callHook$1(t,e,s){callWithAsyncErrorHandling(isArray(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function createWatcher(t,e,s,n){const i=n.includes(".")?createPathGetter(s,n):()=>s[n];if(isString(t)){const l=e[t];isFunction(l)&&watch(i,l)}else if(isFunction(t))watch(i,t.bind(s));else if(isObject(t))if(isArray(t))t.forEach(l=>createWatcher(l,e,s,n));else{const l=isFunction(t.handler)?t.handler.bind(s):e[t.handler];isFunction(l)&&watch(i,l,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:l,config:{optionMergeStrategies:_}}=t.appContext,D=l.get(e);let x;return D?x=D:!i.length&&!s&&!n?x=e:(x={},i.length&&i.forEach(w=>mergeOptions(x,w,_,!0)),mergeOptions(x,e,_)),isObject(e)&&l.set(e,x),x}function mergeOptions(t,e,s,n=!1){const{mixins:i,extends:l}=e;l&&mergeOptions(t,l,s,!0),i&&i.forEach(_=>mergeOptions(t,_,s,!0));for(const _ in e)if(!(n&&_==="expose")){const D=internalOptionMergeStrats[_]||s&&s[_];t[_]=D?D(t[_],e[_]):e[_]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction(t)?t.call(this,this):t,isFunction(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray(t)&&isArray(e)?[...new Set([...t,...e])]:extend(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e!=null?e:{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const s=extend(Object.create(null),t);for(const n in e)s[n]=mergeAsArray(t[n],e[n]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(n,i=null){isFunction(n)||(n=extend({},n)),i!=null&&!isObject(i)&&(i=null);const l=createAppContext(),_=new Set;let D=!1;const x=l.app={_uid:uid$1++,_component:n,_props:i,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(w){},use(w,...E){return _.has(w)||(w&&isFunction(w.install)?(_.add(w),w.install(x,...E)):isFunction(w)&&(_.add(w),w(x,...E))),x},mixin(w){return l.mixins.includes(w)||l.mixins.push(w),x},component(w,E){return E?(l.components[w]=E,x):l.components[w]},directive(w,E){return E?(l.directives[w]=E,x):l.directives[w]},mount(w,E,I){if(!D){const k=createVNode(n,i);return k.appContext=l,E&&e?e(k,w):t(k,w,I),D=!0,x._container=w,w.__vue_app__=x,getExposeProxy(k.component)||k.component.proxy}},unmount(){D&&(t(null,x._container),delete x._container.__vue_app__)},provide(w,E){return l.provides[w]=E,x},runWithContext(w){currentApp=x;try{return w()}finally{currentApp=null}}};return x}}let currentApp=null;function provide(t,e){if(currentInstance){let s=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===s&&(s=currentInstance.provides=Object.create(n)),s[t]=e}}function inject(t,e,s=!1){const n=currentInstance||currentRenderingInstance;if(n||currentApp){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:currentApp._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return s&&isFunction(e)?e.call(n&&n.proxy):e}}function initProps(t,e,s,n=!1){const i={},l={};def(l,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,i,l);for(const _ in t.propsOptions[0])_ in i||(i[_]=void 0);s?t.props=n?i:shallowReactive(i):t.type.props?t.props=i:t.props=l,t.attrs=l}function updateProps(t,e,s,n){const{props:i,attrs:l,vnode:{patchFlag:_}}=t,D=toRaw(i),[x]=t.propsOptions;let w=!1;if((n||_>0)&&!(_&16)){if(_&8){const E=t.vnode.dynamicProps;for(let I=0;I<E.length;I++){let k=E[I];if(isEmitListener(t.emitsOptions,k))continue;const L=e[k];if(x)if(hasOwn(l,k))L!==l[k]&&(l[k]=L,w=!0);else{const C=camelize(k);i[C]=resolvePropValue(x,D,C,L,t,!1)}else L!==l[k]&&(l[k]=L,w=!0)}}}else{setFullProps(t,e,i,l)&&(w=!0);let E;for(const I in D)(!e||!hasOwn(e,I)&&((E=hyphenate(I))===I||!hasOwn(e,E)))&&(x?s&&(s[I]!==void 0||s[E]!==void 0)&&(i[I]=resolvePropValue(x,D,I,void 0,t,!0)):delete i[I]);if(l!==D)for(const I in l)(!e||!hasOwn(e,I)&&!0)&&(delete l[I],w=!0)}w&&trigger(t,"set","$attrs")}function setFullProps(t,e,s,n){const[i,l]=t.propsOptions;let _=!1,D;if(e)for(let x in e){if(isReservedProp(x))continue;const w=e[x];let E;i&&hasOwn(i,E=camelize(x))?!l||!l.includes(E)?s[E]=w:(D||(D={}))[E]=w:isEmitListener(t.emitsOptions,x)||(!(x in n)||w!==n[x])&&(n[x]=w,_=!0)}if(l){const x=toRaw(s),w=D||EMPTY_OBJ;for(let E=0;E<l.length;E++){const I=l[E];s[I]=resolvePropValue(i,x,I,w[I],t,!hasOwn(w,I))}}return _}function resolvePropValue(t,e,s,n,i,l){const _=t[s];if(_!=null){const D=hasOwn(_,"default");if(D&&n===void 0){const x=_.default;if(_.type!==Function&&!_.skipFactory&&isFunction(x)){const{propsDefaults:w}=i;s in w?n=w[s]:(setCurrentInstance(i),n=w[s]=x.call(null,e),unsetCurrentInstance())}else n=x}_[0]&&(l&&!D?n=!1:_[1]&&(n===""||n===hyphenate(s))&&(n=!0))}return n}function normalizePropsOptions(t,e,s=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const l=t.props,_={},D=[];let x=!1;if(!isFunction(t)){const E=I=>{x=!0;const[k,L]=normalizePropsOptions(I,e,!0);extend(_,k),L&&D.push(...L)};!s&&e.mixins.length&&e.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}if(!l&&!x)return isObject(t)&&n.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray(l))for(let E=0;E<l.length;E++){const I=camelize(l[E]);validatePropName(I)&&(_[I]=EMPTY_OBJ)}else if(l)for(const E in l){const I=camelize(E);if(validatePropName(I)){const k=l[E],L=_[I]=isArray(k)||isFunction(k)?{type:k}:extend({},k);if(L){const C=getTypeIndex(Boolean,L.type),y=getTypeIndex(String,L.type);L[0]=C>-1,L[1]=y<0||C<y,(C>-1||hasOwn(L,"default"))&&D.push(I)}}}const w=[_,D];return isObject(t)&&n.set(t,w),w}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray(e)?e.findIndex(s=>isSameType(s,t)):isFunction(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot=(t,e,s)=>{if(e._n)return e;const n=withCtx((...i)=>normalizeSlotValue(e(...i)),s);return n._c=!1,n},normalizeObjectSlots=(t,e,s)=>{const n=t._ctx;for(const i in t){if(isInternalKey(i))continue;const l=t[i];if(isFunction(l))e[i]=normalizeSlot(i,l,n);else if(l!=null){const _=normalizeSlotValue(l);e[i]=()=>_}}},normalizeVNodeSlots=(t,e)=>{const s=normalizeSlotValue(e);t.slots.default=()=>s},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=toRaw(e),def(e,"_",s)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,s)=>{const{vnode:n,slots:i}=t;let l=!0,_=EMPTY_OBJ;if(n.shapeFlag&32){const D=e._;D?s&&D===1?l=!1:(extend(i,e),!s&&D===1&&delete i._):(l=!e.$stable,normalizeObjectSlots(e,i)),_=e}else e&&(normalizeVNodeSlots(t,e),_={default:1});if(l)for(const D in i)!isInternalKey(D)&&!(D in _)&&delete i[D]};function setRef(t,e,s,n,i=!1){if(isArray(t)){t.forEach((k,L)=>setRef(k,e&&(isArray(e)?e[L]:e),s,n,i));return}if(isAsyncWrapper(n)&&!i)return;const l=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,_=i?null:l,{i:D,r:x}=t,w=e&&e.r,E=D.refs===EMPTY_OBJ?D.refs={}:D.refs,I=D.setupState;if(w!=null&&w!==x&&(isString(w)?(E[w]=null,hasOwn(I,w)&&(I[w]=null)):isRef(w)&&(w.value=null)),isFunction(x))callWithErrorHandling(x,D,12,[_,E]);else{const k=isString(x),L=isRef(x);if(k||L){const C=()=>{if(t.f){const y=k?hasOwn(I,x)?I[x]:E[x]:x.value;i?isArray(y)&&remove(y,l):isArray(y)?y.includes(l)||y.push(l):k?(E[x]=[l],hasOwn(I,x)&&(I[x]=E[x])):(x.value=[l],t.k&&(E[t.k]=x.value))}else k?(E[x]=_,hasOwn(I,x)&&(I[x]=_)):L&&(x.value=_,t.k&&(E[t.k]=_))};_?(C.id=-1,queuePostRenderEffect(C,s)):C()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const s=getGlobalThis();s.__VUE__=!0;const{insert:n,remove:i,patchProp:l,createElement:_,createText:D,createComment:x,setText:w,setElementText:E,parentNode:I,nextSibling:k,setScopeId:L=NOOP,insertStaticContent:C}=t,y=(m,S,r,o=null,f=null,R=null,O=!1,q=null,Y=!!S.dynamicChildren)=>{if(m===S)return;m&&!isSameVNodeType(m,S)&&(o=j(m),Tt(m,f,R,!0),m=null),S.patchFlag===-2&&(Y=!1,S.dynamicChildren=null);const{type:z,ref:et,shapeFlag:nt}=S;switch(z){case Text:u(m,S,r,o);break;case Comment:F(m,S,r,o);break;case Static:m==null&&N(S,r,o,O);break;case Fragment:W(m,S,r,o,f,R,O,q,Y);break;default:nt&1?a(m,S,r,o,f,R,O,q,Y):nt&6?K(m,S,r,o,f,R,O,q,Y):(nt&64||nt&128)&&z.process(m,S,r,o,f,R,O,q,Y,$)}et!=null&&f&&setRef(et,m&&m.ref,R,S||m,!S)},u=(m,S,r,o)=>{if(m==null)n(S.el=D(S.children),r,o);else{const f=S.el=m.el;S.children!==m.children&&w(f,S.children)}},F=(m,S,r,o)=>{m==null?n(S.el=x(S.children||""),r,o):S.el=m.el},N=(m,S,r,o)=>{[m.el,m.anchor]=C(m.children,S,r,o,m.el,m.anchor)},B=({el:m,anchor:S},r,o)=>{let f;for(;m&&m!==S;)f=k(m),n(m,r,o),m=f;n(S,r,o)},A=({el:m,anchor:S})=>{let r;for(;m&&m!==S;)r=k(m),i(m),m=r;i(S)},a=(m,S,r,o,f,R,O,q,Y)=>{O=O||S.type==="svg",m==null?g(S,r,o,f,R,O,q,Y):v(m,S,f,R,O,q,Y)},g=(m,S,r,o,f,R,O,q)=>{let Y,z;const{type:et,props:nt,shapeFlag:Z,transition:it,dirs:ct}=m;if(Y=m.el=_(m.type,R,nt&&nt.is,nt),Z&8?E(Y,m.children):Z&16&&c(m.children,Y,null,o,f,R&&et!=="foreignObject",O,q),ct&&invokeDirectiveHook(m,null,o,"created"),b(Y,m,m.scopeId,O,o),nt){for(const At in nt)At!=="value"&&!isReservedProp(At)&&l(Y,At,null,nt[At],R,m.children,o,f,P);"value"in nt&&l(Y,"value",null,nt.value),(z=nt.onVnodeBeforeMount)&&invokeVNodeHook(z,o,m)}ct&&invokeDirectiveHook(m,null,o,"beforeMount");const pt=(!f||f&&!f.pendingBranch)&&it&&!it.persisted;pt&&it.beforeEnter(Y),n(Y,S,r),((z=nt&&nt.onVnodeMounted)||pt||ct)&&queuePostRenderEffect(()=>{z&&invokeVNodeHook(z,o,m),pt&&it.enter(Y),ct&&invokeDirectiveHook(m,null,o,"mounted")},f)},b=(m,S,r,o,f)=>{if(r&&L(m,r),o)for(let R=0;R<o.length;R++)L(m,o[R]);if(f){let R=f.subTree;if(S===R){const O=f.vnode;b(m,O,O.scopeId,O.slotScopeIds,f.parent)}}},c=(m,S,r,o,f,R,O,q,Y=0)=>{for(let z=Y;z<m.length;z++){const et=m[z]=q?cloneIfMounted(m[z]):normalizeVNode(m[z]);y(null,et,S,r,o,f,R,O,q)}},v=(m,S,r,o,f,R,O)=>{const q=S.el=m.el;let{patchFlag:Y,dynamicChildren:z,dirs:et}=S;Y|=m.patchFlag&16;const nt=m.props||EMPTY_OBJ,Z=S.props||EMPTY_OBJ;let it;r&&toggleRecurse(r,!1),(it=Z.onVnodeBeforeUpdate)&&invokeVNodeHook(it,r,S,m),et&&invokeDirectiveHook(S,m,r,"beforeUpdate"),r&&toggleRecurse(r,!0);const ct=f&&S.type!=="foreignObject";if(z?H(m.dynamicChildren,z,q,r,o,ct,R):O||lt(m,S,q,null,r,o,ct,R,!1),Y>0){if(Y&16)d(q,S,nt,Z,r,o,f);else if(Y&2&&nt.class!==Z.class&&l(q,"class",null,Z.class,f),Y&4&&l(q,"style",nt.style,Z.style,f),Y&8){const pt=S.dynamicProps;for(let At=0;At<pt.length;At++){const bt=pt[At],xt=nt[bt],st=Z[bt];(st!==xt||bt==="value")&&l(q,bt,xt,st,f,m.children,r,o,P)}}Y&1&&m.children!==S.children&&E(q,S.children)}else!O&&z==null&&d(q,S,nt,Z,r,o,f);((it=Z.onVnodeUpdated)||et)&&queuePostRenderEffect(()=>{it&&invokeVNodeHook(it,r,S,m),et&&invokeDirectiveHook(S,m,r,"updated")},o)},H=(m,S,r,o,f,R,O)=>{for(let q=0;q<S.length;q++){const Y=m[q],z=S[q],et=Y.el&&(Y.type===Fragment||!isSameVNodeType(Y,z)||Y.shapeFlag&70)?I(Y.el):r;y(Y,z,et,null,o,f,R,O,!0)}},d=(m,S,r,o,f,R,O)=>{if(r!==o){if(r!==EMPTY_OBJ)for(const q in r)!isReservedProp(q)&&!(q in o)&&l(m,q,r[q],null,O,S.children,f,R,P);for(const q in o){if(isReservedProp(q))continue;const Y=o[q],z=r[q];Y!==z&&q!=="value"&&l(m,q,z,Y,O,S.children,f,R,P)}"value"in o&&l(m,"value",r.value,o.value)}},W=(m,S,r,o,f,R,O,q,Y)=>{const z=S.el=m?m.el:D(""),et=S.anchor=m?m.anchor:D("");let{patchFlag:nt,dynamicChildren:Z,slotScopeIds:it}=S;it&&(q=q?q.concat(it):it),m==null?(n(z,r,o),n(et,r,o),c(S.children,r,et,f,R,O,q,Y)):nt>0&&nt&64&&Z&&m.dynamicChildren?(H(m.dynamicChildren,Z,r,f,R,O,q),(S.key!=null||f&&S===f.subTree)&&traverseStaticChildren(m,S,!0)):lt(m,S,r,et,f,R,O,q,Y)},K=(m,S,r,o,f,R,O,q,Y)=>{S.slotScopeIds=q,m==null?S.shapeFlag&512?f.ctx.activate(S,r,o,O,Y):tt(S,r,o,f,R,O,Y):rt(m,S,Y)},tt=(m,S,r,o,f,R,O)=>{const q=m.component=createComponentInstance(m,o,f);if(isKeepAlive(m)&&(q.ctx.renderer=$),setupComponent(q),q.asyncDep){if(f&&f.registerDep(q,ot),!m.el){const Y=q.subTree=createVNode(Comment);F(null,Y,S,r)}return}ot(q,m,S,r,f,R,O)},rt=(m,S,r)=>{const o=S.component=m.component;if(shouldUpdateComponent(m,S,r))if(o.asyncDep&&!o.asyncResolved){ht(o,S,r);return}else o.next=S,invalidateJob(o.update),o.update();else S.el=m.el,o.vnode=S},ot=(m,S,r,o,f,R,O)=>{const q=()=>{if(m.isMounted){let{next:et,bu:nt,u:Z,parent:it,vnode:ct}=m,pt=et,At;toggleRecurse(m,!1),et?(et.el=ct.el,ht(m,et,O)):et=ct,nt&&invokeArrayFns(nt),(At=et.props&&et.props.onVnodeBeforeUpdate)&&invokeVNodeHook(At,it,et,ct),toggleRecurse(m,!0);const bt=renderComponentRoot(m),xt=m.subTree;m.subTree=bt,y(xt,bt,I(xt.el),j(xt),m,f,R),et.el=bt.el,pt===null&&updateHOCHostEl(m,bt.el),Z&&queuePostRenderEffect(Z,f),(At=et.props&&et.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(At,it,et,ct),f)}else{let et;const{el:nt,props:Z}=S,{bm:it,m:ct,parent:pt}=m,At=isAsyncWrapper(S);if(toggleRecurse(m,!1),it&&invokeArrayFns(it),!At&&(et=Z&&Z.onVnodeBeforeMount)&&invokeVNodeHook(et,pt,S),toggleRecurse(m,!0),nt&&G){const bt=()=>{m.subTree=renderComponentRoot(m),G(nt,m.subTree,m,f,null)};At?S.type.__asyncLoader().then(()=>!m.isUnmounted&&bt()):bt()}else{const bt=m.subTree=renderComponentRoot(m);y(null,bt,r,o,m,f,R),S.el=bt.el}if(ct&&queuePostRenderEffect(ct,f),!At&&(et=Z&&Z.onVnodeMounted)){const bt=S;queuePostRenderEffect(()=>invokeVNodeHook(et,pt,bt),f)}(S.shapeFlag&256||pt&&isAsyncWrapper(pt.vnode)&&pt.vnode.shapeFlag&256)&&m.a&&queuePostRenderEffect(m.a,f),m.isMounted=!0,S=r=o=null}},Y=m.effect=new ReactiveEffect(q,()=>queueJob(z),m.scope),z=m.update=()=>Y.run();z.id=m.uid,toggleRecurse(m,!0),z()},ht=(m,S,r)=>{S.component=m;const o=m.vnode.props;m.vnode=S,m.next=null,updateProps(m,S.props,o,r),updateSlots(m,S.children,r),pauseTracking(),flushPreFlushCbs(),resetTracking()},lt=(m,S,r,o,f,R,O,q,Y=!1)=>{const z=m&&m.children,et=m?m.shapeFlag:0,nt=S.children,{patchFlag:Z,shapeFlag:it}=S;if(Z>0){if(Z&128){yt(z,nt,r,o,f,R,O,q,Y);return}else if(Z&256){gt(z,nt,r,o,f,R,O,q,Y);return}}it&8?(et&16&&P(z,f,R),nt!==z&&E(r,nt)):et&16?it&16?yt(z,nt,r,o,f,R,O,q,Y):P(z,f,R,!0):(et&8&&E(r,""),it&16&&c(nt,r,o,f,R,O,q,Y))},gt=(m,S,r,o,f,R,O,q,Y)=>{m=m||EMPTY_ARR,S=S||EMPTY_ARR;const z=m.length,et=S.length,nt=Math.min(z,et);let Z;for(Z=0;Z<nt;Z++){const it=S[Z]=Y?cloneIfMounted(S[Z]):normalizeVNode(S[Z]);y(m[Z],it,r,null,f,R,O,q,Y)}z>et?P(m,f,R,!0,!1,nt):c(S,r,o,f,R,O,q,Y,nt)},yt=(m,S,r,o,f,R,O,q,Y)=>{let z=0;const et=S.length;let nt=m.length-1,Z=et-1;for(;z<=nt&&z<=Z;){const it=m[z],ct=S[z]=Y?cloneIfMounted(S[z]):normalizeVNode(S[z]);if(isSameVNodeType(it,ct))y(it,ct,r,null,f,R,O,q,Y);else break;z++}for(;z<=nt&&z<=Z;){const it=m[nt],ct=S[Z]=Y?cloneIfMounted(S[Z]):normalizeVNode(S[Z]);if(isSameVNodeType(it,ct))y(it,ct,r,null,f,R,O,q,Y);else break;nt--,Z--}if(z>nt){if(z<=Z){const it=Z+1,ct=it<et?S[it].el:o;for(;z<=Z;)y(null,S[z]=Y?cloneIfMounted(S[z]):normalizeVNode(S[z]),r,ct,f,R,O,q,Y),z++}}else if(z>Z)for(;z<=nt;)Tt(m[z],f,R,!0),z++;else{const it=z,ct=z,pt=new Map;for(z=ct;z<=Z;z++){const dt=S[z]=Y?cloneIfMounted(S[z]):normalizeVNode(S[z]);dt.key!=null&&pt.set(dt.key,z)}let At,bt=0;const xt=Z-ct+1;let st=!1,vt=0;const Ct=new Array(xt);for(z=0;z<xt;z++)Ct[z]=0;for(z=it;z<=nt;z++){const dt=m[z];if(bt>=xt){Tt(dt,f,R,!0);continue}let U;if(dt.key!=null)U=pt.get(dt.key);else for(At=ct;At<=Z;At++)if(Ct[At-ct]===0&&isSameVNodeType(dt,S[At])){U=At;break}U===void 0?Tt(dt,f,R,!0):(Ct[U-ct]=z+1,U>=vt?vt=U:st=!0,y(dt,S[U],r,null,f,R,O,q,Y),bt++)}const Mt=st?getSequence(Ct):EMPTY_ARR;for(At=Mt.length-1,z=xt-1;z>=0;z--){const dt=ct+z,U=S[dt],V=dt+1<et?S[dt+1].el:o;Ct[z]===0?y(null,U,r,V,f,R,O,q,Y):st&&(At<0||z!==Mt[At]?St(U,r,V,2):At--)}}},St=(m,S,r,o,f=null)=>{const{el:R,type:O,transition:q,children:Y,shapeFlag:z}=m;if(z&6){St(m.component.subTree,S,r,o);return}if(z&128){m.suspense.move(S,r,o);return}if(z&64){O.move(m,S,r,$);return}if(O===Fragment){n(R,S,r);for(let nt=0;nt<Y.length;nt++)St(Y[nt],S,r,o);n(m.anchor,S,r);return}if(O===Static){B(m,S,r);return}if(o!==2&&z&1&&q)if(o===0)q.beforeEnter(R),n(R,S,r),queuePostRenderEffect(()=>q.enter(R),f);else{const{leave:nt,delayLeave:Z,afterLeave:it}=q,ct=()=>n(R,S,r),pt=()=>{nt(R,()=>{ct(),it&&it()})};Z?Z(R,ct,pt):pt()}else n(R,S,r)},Tt=(m,S,r,o=!1,f=!1)=>{const{type:R,props:O,ref:q,children:Y,dynamicChildren:z,shapeFlag:et,patchFlag:nt,dirs:Z}=m;if(q!=null&&setRef(q,null,r,m,!0),et&256){S.ctx.deactivate(m);return}const it=et&1&&Z,ct=!isAsyncWrapper(m);let pt;if(ct&&(pt=O&&O.onVnodeBeforeUnmount)&&invokeVNodeHook(pt,S,m),et&6)T(m.component,r,o);else{if(et&128){m.suspense.unmount(r,o);return}it&&invokeDirectiveHook(m,null,S,"beforeUnmount"),et&64?m.type.remove(m,S,r,f,$,o):z&&(R!==Fragment||nt>0&&nt&64)?P(z,S,r,!1,!0):(R===Fragment&&nt&384||!f&&et&16)&&P(Y,S,r),o&&Et(m)}(ct&&(pt=O&&O.onVnodeUnmounted)||it)&&queuePostRenderEffect(()=>{pt&&invokeVNodeHook(pt,S,m),it&&invokeDirectiveHook(m,null,S,"unmounted")},r)},Et=m=>{const{type:S,el:r,anchor:o,transition:f}=m;if(S===Fragment){J(r,o);return}if(S===Static){A(m);return}const R=()=>{i(r),f&&!f.persisted&&f.afterLeave&&f.afterLeave()};if(m.shapeFlag&1&&f&&!f.persisted){const{leave:O,delayLeave:q}=f,Y=()=>O(r,R);q?q(m.el,R,Y):Y()}else R()},J=(m,S)=>{let r;for(;m!==S;)r=k(m),i(m),m=r;i(S)},T=(m,S,r)=>{const{bum:o,scope:f,update:R,subTree:O,um:q}=m;o&&invokeArrayFns(o),f.stop(),R&&(R.active=!1,Tt(O,m,S,r)),q&&queuePostRenderEffect(q,S),queuePostRenderEffect(()=>{m.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},P=(m,S,r,o=!1,f=!1,R=0)=>{for(let O=R;O<m.length;O++)Tt(m[O],S,r,o,f)},j=m=>m.shapeFlag&6?j(m.component.subTree):m.shapeFlag&128?m.suspense.next():k(m.anchor||m.el),X=(m,S,r)=>{m==null?S._vnode&&Tt(S._vnode,null,null,!0):y(S._vnode||null,m,S,null,null,null,r),flushPreFlushCbs(),flushPostFlushCbs(),S._vnode=m},$={p:y,um:Tt,m:St,r:Et,mt:tt,mc:c,pc:lt,pbc:H,n:j,o:t};let Q,G;return e&&([Q,G]=e($)),{render:X,hydrate:Q,createApp:createAppAPI(X,Q)}}function toggleRecurse({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function traverseStaticChildren(t,e,s=!1){const n=t.children,i=e.children;if(isArray(n)&&isArray(i))for(let l=0;l<n.length;l++){const _=n[l];let D=i[l];D.shapeFlag&1&&!D.dynamicChildren&&((D.patchFlag<=0||D.patchFlag===32)&&(D=i[l]=cloneIfMounted(i[l]),D.el=_.el),s||traverseStaticChildren(_,D)),D.type===Text&&(D.el=_.el)}}function getSequence(t){const e=t.slice(),s=[0];let n,i,l,_,D;const x=t.length;for(n=0;n<x;n++){const w=t[n];if(w!==0){if(i=s[s.length-1],t[i]<w){e[n]=i,s.push(n);continue}for(l=0,_=s.length-1;l<_;)D=l+_>>1,t[s[D]]<w?l=D+1:_=D;w<t[s[l]]&&(l>0&&(e[n]=s[l-1]),s[l]=n)}}for(l=s.length,_=s[l-1];l-- >0;)s[l]=_,_=e[_];return s}const isTeleport=t=>t.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,s,n,i,l){return setupBlock(createBaseVNode(t,e,s,n,i,l,!0))}function createBlock(t,e,s,n,i){return setupBlock(createVNode(t,e,s,n,i,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?isString(t)||isRef(t)||isFunction(t)?{i:currentRenderingInstance,r:t,k:e,f:!!s}:t:null);function createBaseVNode(t,e=null,s=null,n=0,i=null,l=t===Fragment?0:1,_=!1,D=!1){const x={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return D?(normalizeChildren(x,s),l&128&&t.normalize(x)):s&&(x.shapeFlag|=isString(s)?8:16),isBlockTreeEnabled>0&&!_&&currentBlock&&(x.patchFlag>0||l&6)&&x.patchFlag!==32&&currentBlock.push(x),x}const createVNode=_createVNode;function _createVNode(t,e=null,s=null,n=0,i=null,l=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const D=cloneVNode(t,e,!0);return s&&normalizeChildren(D,s),isBlockTreeEnabled>0&&!l&&currentBlock&&(D.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=D:currentBlock.push(D)),D.patchFlag|=-2,D}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:D,style:x}=e;D&&!isString(D)&&(e.class=normalizeClass(D)),isObject(x)&&(isProxy(x)&&!isArray(x)&&(x=extend({},x)),e.style=normalizeStyle(x))}const _=isString(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject(t)?4:isFunction(t)?2:0;return createBaseVNode(t,e,s,n,i,_,l,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,s=!1){const{props:n,ref:i,patchFlag:l,children:_}=t,D=e?mergeProps(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:D,key:D&&normalizeKey(D),ref:e&&e.ref?s&&i?isArray(i)?i.concat(normalizeRef(e)):[i,normalizeRef(e)]:normalizeRef(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:_,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(isArray(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),normalizeChildren(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:i===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},s=32):(e=String(e),n&64?(s=16,e=[createTextVNode(e)]):s=8);t.children=e,t.shapeFlag|=s}function mergeProps(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(i==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(i)){const l=e[i],_=n[i];_&&l!==_&&!(isArray(l)&&l.includes(_))&&(e[i]=l?[].concat(l,_):_)}else i!==""&&(e[i]=n[i])}return e}function invokeVNodeHook(t,e,s,n=null){callWithAsyncErrorHandling(t,e,7,[s,n])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||emptyAppContext,l={uid:uid++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,i),emitsOptions:normalizeEmitsOptions(n,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=emit.bind(null,l),t.ce&&t.ce(l),l}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(t=>currentInstance=t),internalSetCurrentInstance=t=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(t)):globalCurrentInstanceSetters[0](t)};const setCurrentInstance=t=>{internalSetCurrentInstance(t),t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:s,children:n}=t.vnode,i=isStatefulComponent(t);initProps(t,s,i,e),initSlots(t,n);const l=i?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,l}function setupStatefulComponent(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:n}=s;if(n){const i=t.setupContext=n.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const l=callWithErrorHandling(n,t,0,[t.props,i]);if(resetTracking(),unsetCurrentInstance(),isPromise(l)){if(l.then(unsetCurrentInstance,unsetCurrentInstance),e)return l.then(_=>{handleSetupResult(t,_,e)}).catch(_=>{handleError(_,t,0)});t.asyncDep=l}else handleSetupResult(t,l,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,s){isFunction(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,s)}let compile;function finishComponentSetup(t,e,s){const n=t.type;if(!t.render){if(!e&&compile&&!n.render){const i=n.template||resolveMergedOptions(t).template;if(i){const{isCustomElement:l,compilerOptions:_}=t.appContext.config,{delimiters:D,compilerOptions:x}=n,w=extend(extend({isCustomElement:l,delimiters:D},_),x);n.render=compile(i,w)}}t.render=n.render||NOOP}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,s){return track(t,"get","$attrs"),e[s]}}))}function createSetupContext(t){const e=s=>{t.exposed=s||{}};return{get attrs(){return getAttrsProxy(t)},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](t)},has(e,s){return s in e||s in publicPropertiesMap}}))}function isClassComponent(t){return isFunction(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h(t,e,s){const n=arguments.length;return n===2?isObject(e)&&!isArray(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&isVNode(s)&&(s=[s]),createVNode(t,e,s))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e?doc.createElementNS(svgNS,t):doc.createElement(t,s?{is:s}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,l){const _=s?s.previousSibling:e.lastChild;if(i&&(i===l||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===l||!(i=i.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${t}</svg>`:t;const D=templateContainer.content;if(n){const x=D.firstChild;for(;x.firstChild;)D.appendChild(x.firstChild);D.removeChild(x)}e.insertBefore(D,s)}return[_?_.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}};function patchClass(t,e,s){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,s){const n=t.style,i=isString(s);if(s&&!i){if(e&&!isString(e))for(const l in e)s[l]==null&&setStyle(n,l,"");for(const l in s)setStyle(n,l,s[l])}else{const l=n.display;i?e!==s&&(n.cssText=s):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=l)}}const importantRE=/\s*!important$/;function setStyle(t,e,s){if(isArray(s))s.forEach(n=>setStyle(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=autoPrefix(t,e);importantRE.test(s)?t.setProperty(hyphenate(n),s.replace(importantRE,""),"important"):t[n]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const s=prefixCache[e];if(s)return s;let n=camelize(e);if(n!=="filter"&&n in t)return prefixCache[e]=n;n=capitalize(n);for(let i=0;i<prefixes.length;i++){const l=prefixes[i]+n;if(l in t)return prefixCache[e]=l}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,s,n,i){if(n&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,s);else{const l=isSpecialBooleanAttr(e);s==null||l&&!includeBooleanAttr(s)?t.removeAttribute(e):t.setAttribute(e,l?"":s)}}function patchDOMProp(t,e,s,n,i,l,_){if(e==="innerHTML"||e==="textContent"){n&&_(n,i,l),t[e]=s==null?"":s;return}const D=t.tagName;if(e==="value"&&D!=="PROGRESS"&&!D.includes("-")){t._value=s;const w=D==="OPTION"?t.getAttribute("value"):t.value,E=s==null?"":s;w!==E&&(t.value=E),s==null&&t.removeAttribute(e);return}let x=!1;if(s===""||s==null){const w=typeof t[e];w==="boolean"?s=includeBooleanAttr(s):s==null&&w==="string"?(s="",x=!0):w==="number"&&(s=0,x=!0)}try{t[e]=s}catch{}x&&t.removeAttribute(e)}function addEventListener(t,e,s,n){t.addEventListener(e,s,n)}function removeEventListener(t,e,s,n){t.removeEventListener(e,s,n)}function patchEvent(t,e,s,n,i=null){const l=t._vei||(t._vei={}),_=l[e];if(n&&_)_.value=n;else{const[D,x]=parseName(e);if(n){const w=l[e]=createInvoker(n,i);addEventListener(t,D,w,x)}else _&&(removeEventListener(t,D,_,x),l[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let n;for(;n=t.match(optionsModifierRE);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,s.value),e,5,[n])};return s.value=t,s.attached=getNow(),s}function patchStopImmediatePropagation(t,e){if(isArray(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,s,n,i=!1,l,_,D,x)=>{e==="class"?patchClass(t,n,i):e==="style"?patchStyle(t,s,n):isOn(e)?isModelListener(e)||patchEvent(t,e,s,n,_):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,n,i))?patchDOMProp(t,e,n,l,_,D,x):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),patchAttr(t,e,n,i))};function shouldSetAsProp(t,e,s,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction(s)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString(s)?!1:e in t}const TRANSITION="transition",ANIMATION="animation",Transition=(t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=(t,e=[])=>{isArray(t)?t.forEach(s=>s(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const W in t)W in DOMTransitionPropsValidators||(e[W]=t[W]);if(t.css===!1)return e;const{name:s="v",type:n,duration:i,enterFromClass:l=`${s}-enter-from`,enterActiveClass:_=`${s}-enter-active`,enterToClass:D=`${s}-enter-to`,appearFromClass:x=l,appearActiveClass:w=_,appearToClass:E=D,leaveFromClass:I=`${s}-leave-from`,leaveActiveClass:k=`${s}-leave-active`,leaveToClass:L=`${s}-leave-to`}=t,C=normalizeDuration(i),y=C&&C[0],u=C&&C[1],{onBeforeEnter:F,onEnter:N,onEnterCancelled:B,onLeave:A,onLeaveCancelled:a,onBeforeAppear:g=F,onAppear:b=N,onAppearCancelled:c=B}=e,v=(W,K,tt)=>{removeTransitionClass(W,K?E:D),removeTransitionClass(W,K?w:_),tt&&tt()},H=(W,K)=>{W._isLeaving=!1,removeTransitionClass(W,I),removeTransitionClass(W,L),removeTransitionClass(W,k),K&&K()},d=W=>(K,tt)=>{const rt=W?b:N,ot=()=>v(K,W,tt);callHook(rt,[K,ot]),nextFrame(()=>{removeTransitionClass(K,W?x:l),addTransitionClass(K,W?E:D),hasExplicitCallback(rt)||whenTransitionEnds(K,n,y,ot)})};return extend(e,{onBeforeEnter(W){callHook(F,[W]),addTransitionClass(W,l),addTransitionClass(W,_)},onBeforeAppear(W){callHook(g,[W]),addTransitionClass(W,x),addTransitionClass(W,w)},onEnter:d(!1),onAppear:d(!0),onLeave(W,K){W._isLeaving=!0;const tt=()=>H(W,K);addTransitionClass(W,I),forceReflow(),addTransitionClass(W,k),nextFrame(()=>{!W._isLeaving||(removeTransitionClass(W,I),addTransitionClass(W,L),hasExplicitCallback(A)||whenTransitionEnds(W,n,u,tt))}),callHook(A,[W,tt])},onEnterCancelled(W){v(W,!1),callHook(B,[W])},onAppearCancelled(W){v(W,!0),callHook(c,[W])},onLeaveCancelled(W){H(W),callHook(a,[W])}})}function normalizeDuration(t){if(t==null)return null;if(isObject(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:s}=t;s&&(s.delete(e),s.size||(t._vtc=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,s,n){const i=t._endId=++endId,l=()=>{i===t._endId&&n()};if(s)return setTimeout(l,s);const{type:_,timeout:D,propCount:x}=getTransitionInfo(t,e);if(!_)return n();const w=_+"end";let E=0;const I=()=>{t.removeEventListener(w,k),l()},k=L=>{L.target===t&&++E>=x&&I()};setTimeout(()=>{E<x&&I()},D+1),t.addEventListener(w,k)}function getTransitionInfo(t,e){const s=window.getComputedStyle(t),n=C=>(s[C]||"").split(", "),i=n(`${TRANSITION}Delay`),l=n(`${TRANSITION}Duration`),_=getTimeout(i,l),D=n(`${ANIMATION}Delay`),x=n(`${ANIMATION}Duration`),w=getTimeout(D,x);let E=null,I=0,k=0;e===TRANSITION?_>0&&(E=TRANSITION,I=_,k=l.length):e===ANIMATION?w>0&&(E=ANIMATION,I=w,k=x.length):(I=Math.max(_,w),E=I>0?_>w?TRANSITION:ANIMATION:null,k=E?E===TRANSITION?l.length:x.length:0);const L=E===TRANSITION&&/\b(transform|all)(,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:E,timeout:I,propCount:k,hasTransform:L}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>toMs(s)+toMs(t[n])))}function toMs(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray(e)?s=>invokeArrayFns(e,s):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vModelText={created(t,{modifiers:{lazy:e,trim:s,number:n}},i){t._assign=getModelAssigner(i);const l=n||i.props&&i.props.type==="number";addEventListener(t,e?"change":"input",_=>{if(_.target.composing)return;let D=t.value;s&&(D=D.trim()),l&&(D=looseToNumber(D)),t._assign(D)}),s&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:s,trim:n,number:i}},l){if(t._assign=getModelAssigner(l),t.composing||document.activeElement===t&&t.type!=="range"&&(s||n&&t.value.trim()===e||(i||t.type==="number")&&looseToNumber(t.value)===e))return;const _=e==null?"":e;t.value!==_&&(t.value=_)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(s=>t[`${s}Key`]&&!e.includes(s))},withModifiers=(t,e)=>(s,...n)=>{for(let i=0;i<e.length;i++){const l=modifierGuards[e[i]];if(l&&l(s,e))return}return t(s,...n)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>s=>{if(!("key"in s))return;const n=hyphenate(s.key);if(e.some(i=>i===n||keyNames[i]===n))return t(s)},vShow={beforeMount(t,{value:e},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),setDisplay(t,!0),n.enter(t)):n.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=normalizeContainer(n);if(!i)return;const l=e._component;!isFunction(l)&&!l.render&&!l.template&&(l.template=i.innerHTML),i.innerHTML="";const _=s(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),_},e};function normalizeContainer(t){return isString(t)?document.querySelector(t):t}function getAugmentedNamespace(t){var e=t.default;if(typeof e=="function"){var s=function(){return e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),s}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(e,s){module.exports=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{var Mt;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=St,e.bytesToString=S,e.createValidAbsoluteUrl=Et,e.getModificationDate=bt,e.getVerbosityLevel=ht,e.info=lt,e.isArrayBuffer=pt,e.isArrayEqual=At,e.normalizeUnicode=Ct,e.objectFromMap=R,e.objectSize=f,e.setVerbosityLevel=ot,e.shadow=J,e.string32=o,e.stringToBytes=r,e.stringToPDFString=Z,e.stringToUTF8String=it,e.unreachable=yt,e.utf8StringToString=ct,e.warn=gt;const s=[1,0,0,1,0,0];e.IDENTITY_MATRIX=s;const n=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=n;const i=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=i;const l=1.35;e.LINE_FACTOR=l;const _=.35;e.LINE_DESCENT_FACTOR=_;const D=_/l;e.BASELINE_FACTOR=D;const x={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=x;const w={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=w;const E="pdfjs_internal_editor_";e.AnnotationEditorPrefix=E;const I={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=I;const k={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=k;const L={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=L;const C={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=C;const y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=y;const u={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=u;const F={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=F;const N={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=N;const B={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=B;const A={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=A;const a={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=a;const g={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=g;const b={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=b;const c={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=c;const v={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=v;const H={O:"PageOpen",C:"PageClose"};e.PageActionEventType=H;const d={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=d;const W={NONE:0,BINARY:1};e.CMapCompressionType=W;const K={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=K;const tt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=tt;let rt=d.WARNINGS;function ot(dt){Number.isInteger(dt)&&(rt=dt)}function ht(){return rt}function lt(dt){rt>=d.INFOS&&console.log(`Info: ${dt}`)}function gt(dt){rt>=d.WARNINGS&&console.log(`Warning: ${dt}`)}function yt(dt){throw new Error(dt)}function St(dt,U){dt||yt(U)}function Tt(dt){switch(dt==null?void 0:dt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Et(dt,U=null,V=null){if(!dt)return null;try{if(V&&typeof dt=="string"){if(V.addDefaultProtocol&&dt.startsWith("www.")){const _t=dt.match(/\./g);(_t==null?void 0:_t.length)>=2&&(dt=`http://${dt}`)}if(V.tryConvertEncoding)try{dt=it(dt)}catch{}}const ft=U?new URL(dt,U):new URL(dt);if(Tt(ft))return ft}catch{}return null}function J(dt,U,V,ft=!1){return Object.defineProperty(dt,U,{value:V,enumerable:!ft,configurable:!0,writable:!1}),V}const T=function(){function U(V,ft){this.constructor===U&&yt("Cannot initialize BaseException."),this.message=V,this.name=ft}return U.prototype=new Error,U.constructor=U,U}();e.BaseException=T;class P extends T{constructor(U,V){super(U,"PasswordException"),this.code=V}}e.PasswordException=P;class j extends T{constructor(U,V){super(U,"UnknownErrorException"),this.details=V}}e.UnknownErrorException=j;class X extends T{constructor(U){super(U,"InvalidPDFException")}}e.InvalidPDFException=X;class $ extends T{constructor(U){super(U,"MissingPDFException")}}e.MissingPDFException=$;class Q extends T{constructor(U,V){super(U,"UnexpectedResponseException"),this.status=V}}e.UnexpectedResponseException=Q;class G extends T{constructor(U){super(U,"FormatError")}}e.FormatError=G;class m extends T{constructor(U){super(U,"AbortException")}}e.AbortException=m;function S(dt){(typeof dt!="object"||(dt==null?void 0:dt.length)===void 0)&&yt("Invalid argument for bytesToString");const U=dt.length,V=8192;if(U<V)return String.fromCharCode.apply(null,dt);const ft=[];for(let _t=0;_t<U;_t+=V){const wt=Math.min(_t+V,U),Rt=dt.subarray(_t,wt);ft.push(String.fromCharCode.apply(null,Rt))}return ft.join("")}function r(dt){typeof dt!="string"&&yt("Invalid argument for stringToBytes");const U=dt.length,V=new Uint8Array(U);for(let ft=0;ft<U;++ft)V[ft]=dt.charCodeAt(ft)&255;return V}function o(dt){return String.fromCharCode(dt>>24&255,dt>>16&255,dt>>8&255,dt&255)}function f(dt){return Object.keys(dt).length}function R(dt){const U=Object.create(null);for(const[V,ft]of dt)U[V]=ft;return U}function O(){const dt=new Uint8Array(4);return dt[0]=1,new Uint32Array(dt.buffer,0,1)[0]===1}function q(){try{return new Function(""),!0}catch{return!1}}class Y{static get isLittleEndian(){return J(this,"isLittleEndian",O())}static get isEvalSupported(){return J(this,"isEvalSupported",q())}static get isOffscreenCanvasSupported(){return J(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?J(this,"platform",{isWin:!1,isMac:!1}):J(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}e.FeatureTest=Y;const z=[...Array(256).keys()].map(dt=>dt.toString(16).padStart(2,"0"));class et{static makeHexColor(U,V,ft){return`#${z[U]}${z[V]}${z[ft]}`}static scaleMinMax(U,V){let ft;U[0]?(U[0]<0&&(ft=V[0],V[0]=V[1],V[1]=ft),V[0]*=U[0],V[1]*=U[0],U[3]<0&&(ft=V[2],V[2]=V[3],V[3]=ft),V[2]*=U[3],V[3]*=U[3]):(ft=V[0],V[0]=V[2],V[2]=ft,ft=V[1],V[1]=V[3],V[3]=ft,U[1]<0&&(ft=V[2],V[2]=V[3],V[3]=ft),V[2]*=U[1],V[3]*=U[1],U[2]<0&&(ft=V[0],V[0]=V[1],V[1]=ft),V[0]*=U[2],V[1]*=U[2]),V[0]+=U[4],V[1]+=U[4],V[2]+=U[5],V[3]+=U[5]}static transform(U,V){return[U[0]*V[0]+U[2]*V[1],U[1]*V[0]+U[3]*V[1],U[0]*V[2]+U[2]*V[3],U[1]*V[2]+U[3]*V[3],U[0]*V[4]+U[2]*V[5]+U[4],U[1]*V[4]+U[3]*V[5]+U[5]]}static applyTransform(U,V){const ft=U[0]*V[0]+U[1]*V[2]+V[4],_t=U[0]*V[1]+U[1]*V[3]+V[5];return[ft,_t]}static applyInverseTransform(U,V){const ft=V[0]*V[3]-V[1]*V[2],_t=(U[0]*V[3]-U[1]*V[2]+V[2]*V[5]-V[4]*V[3])/ft,wt=(-U[0]*V[1]+U[1]*V[0]+V[4]*V[1]-V[5]*V[0])/ft;return[_t,wt]}static getAxialAlignedBoundingBox(U,V){const ft=et.applyTransform(U,V),_t=et.applyTransform(U.slice(2,4),V),wt=et.applyTransform([U[0],U[3]],V),Rt=et.applyTransform([U[2],U[1]],V);return[Math.min(ft[0],_t[0],wt[0],Rt[0]),Math.min(ft[1],_t[1],wt[1],Rt[1]),Math.max(ft[0],_t[0],wt[0],Rt[0]),Math.max(ft[1],_t[1],wt[1],Rt[1])]}static inverseTransform(U){const V=U[0]*U[3]-U[1]*U[2];return[U[3]/V,-U[1]/V,-U[2]/V,U[0]/V,(U[2]*U[5]-U[4]*U[3])/V,(U[4]*U[1]-U[5]*U[0])/V]}static singularValueDecompose2dScale(U){const V=[U[0],U[2],U[1],U[3]],ft=U[0]*V[0]+U[1]*V[2],_t=U[0]*V[1]+U[1]*V[3],wt=U[2]*V[0]+U[3]*V[2],Rt=U[2]*V[1]+U[3]*V[3],Ft=(ft+Rt)/2,kt=Math.sqrt((ft+Rt)**2-4*(ft*Rt-wt*_t))/2,It=Ft+kt||1,Pt=Ft-kt||1;return[Math.sqrt(It),Math.sqrt(Pt)]}static normalizeRect(U){const V=U.slice(0);return U[0]>U[2]&&(V[0]=U[2],V[2]=U[0]),U[1]>U[3]&&(V[1]=U[3],V[3]=U[1]),V}static intersect(U,V){const ft=Math.max(Math.min(U[0],U[2]),Math.min(V[0],V[2])),_t=Math.min(Math.max(U[0],U[2]),Math.max(V[0],V[2]));if(ft>_t)return null;const wt=Math.max(Math.min(U[1],U[3]),Math.min(V[1],V[3])),Rt=Math.min(Math.max(U[1],U[3]),Math.max(V[1],V[3]));return wt>Rt?null:[ft,wt,_t,Rt]}static bezierBoundingBox(U,V,ft,_t,wt,Rt,Ft,kt){const It=[],Pt=[[],[]];let Bt,Dt,Nt,Ot,Ut,Wt,qt,zt;for(let Kt=0;Kt<2;++Kt){if(Kt===0?(Dt=6*U-12*ft+6*wt,Bt=-3*U+9*ft-9*wt+3*Ft,Nt=3*ft-3*U):(Dt=6*V-12*_t+6*Rt,Bt=-3*V+9*_t-9*Rt+3*kt,Nt=3*_t-3*V),Math.abs(Bt)<1e-12){if(Math.abs(Dt)<1e-12)continue;Ot=-Nt/Dt,0<Ot&&Ot<1&&It.push(Ot);continue}qt=Dt*Dt-4*Nt*Bt,zt=Math.sqrt(qt),!(qt<0)&&(Ut=(-Dt+zt)/(2*Bt),0<Ut&&Ut<1&&It.push(Ut),Wt=(-Dt-zt)/(2*Bt),0<Wt&&Wt<1&&It.push(Wt))}let jt=It.length,Ht;const $t=jt;for(;jt--;)Ot=It[jt],Ht=1-Ot,Pt[0][jt]=Ht*Ht*Ht*U+3*Ht*Ht*Ot*ft+3*Ht*Ot*Ot*wt+Ot*Ot*Ot*Ft,Pt[1][jt]=Ht*Ht*Ht*V+3*Ht*Ht*Ot*_t+3*Ht*Ot*Ot*Rt+Ot*Ot*Ot*kt;return Pt[0][$t]=U,Pt[1][$t]=V,Pt[0][$t+1]=Ft,Pt[1][$t+1]=kt,Pt[0].length=Pt[1].length=$t+2,[Math.min(...Pt[0]),Math.min(...Pt[1]),Math.max(...Pt[0]),Math.max(...Pt[1])]}}e.Util=et;const nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Z(dt){if(dt[0]>="\xEF"){let V;if(dt[0]==="\xFE"&&dt[1]==="\xFF"?V="utf-16be":dt[0]==="\xFF"&&dt[1]==="\xFE"?V="utf-16le":dt[0]==="\xEF"&&dt[1]==="\xBB"&&dt[2]==="\xBF"&&(V="utf-8"),V)try{const ft=new TextDecoder(V,{fatal:!0}),_t=r(dt);return ft.decode(_t)}catch(ft){gt(`stringToPDFString: "${ft}".`)}}const U=[];for(let V=0,ft=dt.length;V<ft;V++){const _t=nt[dt.charCodeAt(V)];U.push(_t?String.fromCharCode(_t):dt.charAt(V))}return U.join("")}function it(dt){return decodeURIComponent(escape(dt))}function ct(dt){return unescape(encodeURIComponent(dt))}function pt(dt){return typeof dt=="object"&&(dt==null?void 0:dt.byteLength)!==void 0}function At(dt,U){if(dt.length!==U.length)return!1;for(let V=0,ft=dt.length;V<ft;V++)if(dt[V]!==U[V])return!1;return!0}function bt(dt=new Date){return[dt.getUTCFullYear().toString(),(dt.getUTCMonth()+1).toString().padStart(2,"0"),dt.getUTCDate().toString().padStart(2,"0"),dt.getUTCHours().toString().padStart(2,"0"),dt.getUTCMinutes().toString().padStart(2,"0"),dt.getUTCSeconds().toString().padStart(2,"0")].join("")}class xt{constructor(){at(this,Mt,!1);this.promise=new Promise((U,V)=>{this.resolve=ft=>{mt(this,Mt,!0),U(ft)},this.reject=ft=>{mt(this,Mt,!0),V(ft)}})}get settled(){return M(this,Mt)}}Mt=new WeakMap,e.PromiseCapability=xt;let st=null,vt=null;function Ct(dt){return st||(st=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,vt=new Map([["\uFB05","\u017Ft"]])),dt.replaceAll(st,(U,V,ft)=>V?V.normalize("NFKC"):vt.get(ft))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,s,n,i,Qt,_,oe,x,w,E,I,k,L,C,y,pe,F,N,ge,A,a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:b,NodeCMapReaderFactory:c,NodeFilterFactory:v,NodeStandardFontDataFactory:H}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=b,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=c,exports.DefaultFilterFactory=DefaultFilterFactory=v,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=H}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:b}=__w_pdfjs_require__(21);createPDFNetworkStream=c=>new b(c)}else{const{PDFNetworkStream:b}=__w_pdfjs_require__(24),{PDFFetchStream:c}=__w_pdfjs_require__(25);createPDFNetworkStream=v=>(0,_display_utils.isValidFetchUrl)(v.url)?new c(v):new b(v)}function getDocument(b){var pt,At;if(typeof b=="string"||b instanceof URL?b={url:b}:(0,_util.isArrayBuffer)(b)&&(b={data:b}),typeof b!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!b.url&&!b.data&&!b.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const c=new PDFDocumentLoadingTask,{docId:v}=c,H=b.url?getUrlProp(b.url):null,d=b.data?getDataProp(b.data):null,W=b.httpHeaders||null,K=b.withCredentials===!0,tt=(pt=b.password)!=null?pt:null,rt=b.range instanceof PDFDataRangeTransport?b.range:null,ot=Number.isInteger(b.rangeChunkSize)&&b.rangeChunkSize>0?b.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ht=b.worker instanceof PDFWorker?b.worker:null;const lt=b.verbosity,gt=typeof b.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(b.docBaseUrl)?b.docBaseUrl:null,yt=typeof b.cMapUrl=="string"?b.cMapUrl:null,St=b.cMapPacked!==!1,Tt=b.CMapReaderFactory||DefaultCMapReaderFactory,Et=typeof b.standardFontDataUrl=="string"?b.standardFontDataUrl:null,J=b.StandardFontDataFactory||DefaultStandardFontDataFactory,T=b.stopAtErrors!==!0,P=Number.isInteger(b.maxImageSize)&&b.maxImageSize>-1?b.maxImageSize:-1,j=b.isEvalSupported!==!1,X=typeof b.isOffscreenCanvasSupported=="boolean"?b.isOffscreenCanvasSupported:!_is_node.isNodeJS,$=Number.isInteger(b.canvasMaxAreaInBytes)?b.canvasMaxAreaInBytes:-1,Q=typeof b.disableFontFace=="boolean"?b.disableFontFace:_is_node.isNodeJS,G=b.fontExtraProperties===!0,m=b.enableXfa===!0,S=b.ownerDocument||globalThis.document,r=b.disableRange===!0,o=b.disableStream===!0,f=b.disableAutoFetch===!0,R=b.pdfBug===!0,O=rt?rt.length:(At=b.length)!=null?At:NaN,q=typeof b.useSystemFonts=="boolean"?b.useSystemFonts:!_is_node.isNodeJS&&!Q,Y=typeof b.useWorkerFetch=="boolean"?b.useWorkerFetch:Tt===_display_utils.DOMCMapReaderFactory&&J===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(yt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Et,document.baseURI),z=b.canvasFactory||new DefaultCanvasFactory({ownerDocument:S}),et=b.filterFactory||new DefaultFilterFactory({docId:v,ownerDocument:S}),nt=null;(0,_util.setVerbosityLevel)(lt);const Z={canvasFactory:z,filterFactory:et};if(Y||(Z.cMapReaderFactory=new Tt({baseUrl:yt,isCompressed:St}),Z.standardFontDataFactory=new J({baseUrl:Et})),!ht){const bt={verbosity:lt,port:_worker_options.GlobalWorkerOptions.workerPort};ht=bt.port?PDFWorker.fromPort(bt):new PDFWorker(bt),c._worker=ht}const it={docId:v,apiVersion:"3.6.172",data:d,password:tt,disableAutoFetch:f,rangeChunkSize:ot,length:O,docBaseUrl:gt,enableXfa:m,evaluatorOptions:{maxImageSize:P,disableFontFace:Q,ignoreErrors:T,isEvalSupported:j,isOffscreenCanvasSupported:X,canvasMaxAreaInBytes:$,fontExtraProperties:G,useSystemFonts:q,cMapUrl:Y?yt:null,standardFontDataUrl:Y?Et:null}},ct={ignoreErrors:T,isEvalSupported:j,disableFontFace:Q,fontExtraProperties:G,enableXfa:m,ownerDocument:S,disableAutoFetch:f,pdfBug:R,styleElement:nt};return ht.promise.then(function(){if(c.destroyed)throw new Error("Loading aborted");const bt=_fetchDocument(ht,it),xt=new Promise(function(st){let vt;rt?vt=new _transport_stream.PDFDataTransportStream({length:O,initialData:rt.initialData,progressiveDone:rt.progressiveDone,contentDispositionFilename:rt.contentDispositionFilename,disableRange:r,disableStream:o},rt):d||(vt=createPDFNetworkStream({url:H,length:O,httpHeaders:W,withCredentials:K,rangeChunkSize:ot,disableRange:r,disableStream:o})),st(vt)});return Promise.all([bt,xt]).then(function([st,vt]){if(c.destroyed)throw new Error("Loading aborted");const Ct=new _message_handler.MessageHandler(v,st,ht.port),Mt=new WorkerTransport(Ct,c,vt,ct,Z);c._transport=Mt,Ct.send("Ready",null)})}).catch(c._capability.reject),c}async function _fetchDocument(b,c){if(b.destroyed)throw new Error("Worker was destroyed");const v=await b.messageHandler.sendWithPromise("GetDocRequest",c,c.data?[c.data.buffer]:null);if(b.destroyed)throw new Error("Worker was destroyed");return v}function getUrlProp(b){if(b instanceof URL)return b.href;try{return new URL(b,window.location).href}catch{if(_is_node.isNodeJS&&typeof b=="string")return b}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(b){if(_is_node.isNodeJS&&typeof Buffer<"u"&&b instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(b);if(b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength)return b;if(typeof b=="string")return(0,_util.stringToBytes)(b);if(typeof b=="object"&&!isNaN(b==null?void 0:b.length)||(0,_util.isArrayBuffer)(b))return new Uint8Array(b);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ae(e,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var c;this.destroyed=!0,await((c=this._transport)==null?void 0:c.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=e;t=new WeakMap,at(PDFDocumentLoadingTask,t,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(c,v,H=!1,d=null){this.length=c,this.initialData=v,this.progressiveDone=H,this.contentDispositionFilename=d,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(c){this._rangeListeners.push(c)}addProgressListener(c){this._progressListeners.push(c)}addProgressiveReadListener(c){this._progressiveReadListeners.push(c)}addProgressiveDoneListener(c){this._progressiveDoneListeners.push(c)}onDataRange(c,v){for(const H of this._rangeListeners)H(c,v)}onDataProgress(c,v){this._readyCapability.promise.then(()=>{for(const H of this._progressListeners)H(c,v)})}onDataProgressiveRead(c){this._readyCapability.promise.then(()=>{for(const v of this._progressiveReadListeners)v(c)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const c of this._progressiveDoneListeners)c()})}transportReady(){this._readyCapability.resolve()}requestDataRange(c,v){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(c,v){this._pdfInfo=c,this._transport=v}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(c){return this._transport.getPage(c)}getPageIndex(c){return this._transport.getPageIndex(c)}getDestinations(){return this._transport.getDestinations()}getDestination(c){return this._transport.getDestination(c)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(c=!1){return this._transport.startCleanup(c||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(c,v,H,d=!1){at(this,i);at(this,_);at(this,s,null);at(this,n,!1);this._pageIndex=c,this._pageInfo=v,this._transport=H,this._stats=d?new _display_utils.StatTimer:null,this._pdfBug=d,this.commonObjs=H.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:c,rotation:v=this.rotate,offsetX:H=0,offsetY:d=0,dontFlip:W=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:c,rotation:v,offsetX:H,offsetY:d,dontFlip:W})}getAnnotations({intent:c="display"}={}){const v=this._transport.getRenderingIntent(c);return this._transport.getAnnotations(this._pageIndex,v.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var c;return((c=this._transport._htmlForXfa)==null?void 0:c.children[this._pageIndex])||null}render({canvasContext:c,viewport:v,intent:H="display",annotationMode:d=_util.AnnotationMode.ENABLE,transform:W=null,background:K=null,optionalContentConfigPromise:tt=null,annotationCanvasMap:rt=null,pageColors:ot=null,printAnnotationStorage:ht=null}){var J,T,P;if((J=arguments[0])!=null&&J.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");(T=this._stats)==null||T.time("Overall");const lt=this._transport.getRenderingIntent(H,d,ht);mt(this,n,!1),ut(this,_,oe).call(this),tt||(tt=this._transport.getOptionalContentConfig());let gt=this._intentStates.get(lt.cacheKey);gt||(gt=Object.create(null),this._intentStates.set(lt.cacheKey,gt)),gt.streamReaderCancelTimeout&&(clearTimeout(gt.streamReaderCancelTimeout),gt.streamReaderCancelTimeout=null);const yt=!!(lt.renderingIntent&_util.RenderingIntentFlag.PRINT);gt.displayReadyCapability||(gt.displayReadyCapability=new _util.PromiseCapability,gt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(lt));const St=j=>{var X,$;gt.renderTasks.delete(Tt),(this._maybeCleanupAfterRender||yt)&&mt(this,n,!0),ut(this,i,Qt).call(this,!yt),j?(Tt.capability.reject(j),this._abortOperatorList({intentState:gt,reason:j instanceof Error?j:new Error(j)})):Tt.capability.resolve(),(X=this._stats)==null||X.timeEnd("Rendering"),($=this._stats)==null||$.timeEnd("Overall")},Tt=new InternalRenderTask({callback:St,params:{canvasContext:c,viewport:v,transform:W,background:K},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:rt,operatorList:gt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!yt,pdfBug:this._pdfBug,pageColors:ot});(gt.renderTasks||(gt.renderTasks=new Set)).add(Tt);const Et=Tt.task;return Promise.all([gt.displayReadyCapability.promise,tt]).then(([j,X])=>{var $;if(M(this,n)){St();return}($=this._stats)==null||$.time("Rendering"),Tt.initializeGraphics({transparency:j,optionalContentConfig:X}),Tt.operatorListChanged()}).catch(St),Et}getOperatorList({intent:c="display",annotationMode:v=_util.AnnotationMode.ENABLE,printAnnotationStorage:H=null}={}){var rt;function d(){K.operatorList.lastChunk&&(K.opListReadCapability.resolve(K.operatorList),K.renderTasks.delete(tt))}const W=this._transport.getRenderingIntent(c,v,H,!0);let K=this._intentStates.get(W.cacheKey);K||(K=Object.create(null),this._intentStates.set(W.cacheKey,K));let tt;return K.opListReadCapability||(tt=Object.create(null),tt.operatorListChanged=d,K.opListReadCapability=new _util.PromiseCapability,(K.renderTasks||(K.renderTasks=new Set)).add(tt),K.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(rt=this._stats)==null||rt.time("Page Request"),this._pumpOperatorList(W)),K.opListReadCapability.promise}streamTextContent({includeMarkedContent:c=!1,disableNormalization:v=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:c===!0,disableNormalization:v===!0},{highWaterMark:100,size(d){return d.items.length}})}getTextContent(c={}){if(this._transport._htmlForXfa)return this.getXfa().then(H=>_xfa_text.XfaText.textContent(H));const v=this.streamTextContent(c);return new Promise(function(H,d){function W(){K.read().then(function({value:rt,done:ot}){if(ot){H(tt);return}Object.assign(tt.styles,rt.styles),tt.items.push(...rt.items),W()},d)}const K=v.getReader(),tt={items:[],styles:Object.create(null)};W()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const c=[];for(const v of this._intentStates.values())if(this._abortOperatorList({intentState:v,reason:new Error("Page was destroyed."),force:!0}),!v.opListReadCapability)for(const H of v.renderTasks)c.push(H.completed),H.cancel();return this.objs.clear(),mt(this,n,!1),ut(this,_,oe).call(this),Promise.all(c)}cleanup(c=!1){mt(this,n,!0);const v=ut(this,i,Qt).call(this,!1);return c&&v&&this._stats&&(this._stats=new _display_utils.StatTimer),v}_startRenderPage(c,v){var d,W;const H=this._intentStates.get(v);!H||((d=this._stats)==null||d.timeEnd("Page Request"),(W=H.displayReadyCapability)==null||W.resolve(c))}_renderPageChunk(c,v){for(let H=0,d=c.length;H<d;H++)v.operatorList.fnArray.push(c.fnArray[H]),v.operatorList.argsArray.push(c.argsArray[H]);v.operatorList.lastChunk=c.lastChunk,v.operatorList.separateAnnots=c.separateAnnots;for(const H of v.renderTasks)H.operatorListChanged();c.lastChunk&&ut(this,i,Qt).call(this,!0)}_pumpOperatorList({renderingIntent:c,cacheKey:v,annotationStorageMap:H}){const W=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:c,cacheKey:v,annotationStorage:H}).getReader(),K=this._intentStates.get(v);K.streamReader=W;const tt=()=>{W.read().then(({value:rt,done:ot})=>{if(ot){K.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(rt,K),tt())},rt=>{if(K.streamReader=null,!this._transport.destroyed){if(K.operatorList){K.operatorList.lastChunk=!0;for(const ot of K.renderTasks)ot.operatorListChanged();ut(this,i,Qt).call(this,!0)}if(K.displayReadyCapability)K.displayReadyCapability.reject(rt);else if(K.opListReadCapability)K.opListReadCapability.reject(rt);else throw rt}})};tt()}_abortOperatorList({intentState:c,reason:v,force:H=!1}){if(!!c.streamReader){if(c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null),!H){if(c.renderTasks.size>0)return;if(v instanceof _display_utils.RenderingCancelledException){let d=RENDERING_CANCELLED_TIMEOUT;v.extraDelay>0&&v.extraDelay<1e3&&(d+=v.extraDelay),c.streamReaderCancelTimeout=setTimeout(()=>{c.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:c,reason:v,force:!0})},d);return}}if(c.streamReader.cancel(new _util.AbortException(v.message)).catch(()=>{}),c.streamReader=null,!this._transport.destroyed){for(const[d,W]of this._intentStates)if(W===c){this._intentStates.delete(d);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,n=new WeakMap,i=new WeakSet,Qt=function(c=!1){if(ut(this,_,oe).call(this),!M(this,n))return!1;if(c)return mt(this,s,setTimeout(()=>{mt(this,s,null),ut(this,i,Qt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:v,operatorList:H}of this._intentStates.values())if(v.size>0||!H.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),mt(this,n,!1),!0},_=new WeakSet,oe=function(){M(this,s)&&(clearTimeout(M(this,s)),mt(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){at(this,x,new Set);at(this,w,Promise.resolve())}postMessage(c,v){const H={data:structuredClone(c,v?{transfer:v}:null)};M(this,w).then(()=>{for(const d of M(this,x))d.call(this,H)})}addEventListener(c,v){M(this,x).add(v)}removeEventListener(c,v){M(this,x).delete(v)}terminate(){M(this,x).clear()}}x=new WeakMap,w=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const b=(E=document==null?void 0:document.currentScript)==null?void 0:E.src;b&&(PDFWorkerUtil.fallbackWorkerSrc=b.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(b,c){let v;try{if(v=new URL(b),!v.origin||v.origin==="null")return!1}catch{return!1}const H=new URL(c,v);return v.origin===H.origin},PDFWorkerUtil.createCDNWrapper=function(b){const c=`importScripts("${b}");`;return URL.createObjectURL(new Blob([c]))}}const _PDFWorker=class{constructor({name:b=null,port:c=null,verbosity:v=(0,_util.getVerbosityLevel)()}={}){if(c&&M(_PDFWorker,I).has(c))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=b,this.destroyed=!1,this.verbosity=v,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,c){M(_PDFWorker,I).set(c,this),this._initializeFromPort(c);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(b){this._port=b,this._messageHandler=new _message_handler.MessageHandler("main","worker",b),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:b}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,b)||(b=PDFWorkerUtil.createCDNWrapper(new URL(b,window.location).href));const c=new Worker(b),v=new _message_handler.MessageHandler("main","worker",c),H=()=>{c.removeEventListener("error",d),v.destroy(),c.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},d=()=>{this._webWorker||H()};c.addEventListener("error",d),v.on("test",K=>{if(c.removeEventListener("error",d),this.destroyed){H();return}K?(this._messageHandler=v,this._port=c,this._webWorker=c,this._readyCapability.resolve(),v.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),v.destroy(),c.terminate())}),v.on("ready",K=>{if(c.removeEventListener("error",d),this.destroyed){H();return}try{W()}catch{this._setupFakeWorker()}});const W=()=>{const K=new Uint8Array;v.send("test",K,[K.buffer])};W();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(b=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const c=new LoopbackPort;this._port=c;const v=`fake${PDFWorkerUtil.fakeWorkerId++}`,H=new _message_handler.MessageHandler(v+"_worker",v,c);b.setup(H,c);const d=new _message_handler.MessageHandler(v,v+"_worker",c);this._messageHandler=d,this._readyCapability.resolve(),d.send("configure",{verbosity:this.verbosity})}).catch(b=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${b.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),M(_PDFWorker,I).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(b){if(!(b!=null&&b.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return M(this,I).has(b.port)?M(this,I).get(b.port):new _PDFWorker(b)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var b;try{return((b=globalThis.pdfjsWorker)==null?void 0:b.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;I=new WeakMap,at(PDFWorker,I,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(c,v,H,d,W){at(this,y);at(this,k,new Map);at(this,L,new Map);at(this,C,new Map);this.messageHandler=c,this.loadingTask=v,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:d.ownerDocument,styleElement:d.styleElement}),this._params=d,this.canvasFactory=W.canvasFactory,this.filterFactory=W.filterFactory,this.cMapReaderFactory=W.cMapReaderFactory,this.standardFontDataFactory=W.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=H,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(c,v=_util.AnnotationMode.ENABLE,H=null,d=!1){let W=_util.RenderingIntentFlag.DISPLAY,K=null;switch(c){case"any":W=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":W=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${c}`)}switch(v){case _util.AnnotationMode.DISABLE:W+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:W+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:W+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,K=(W&_util.RenderingIntentFlag.PRINT&&H instanceof _annotation_storage.PrintAnnotationStorage?H:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${v}`)}return d&&(W+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:W,cacheKey:`${W}_${_annotation_storage.AnnotationStorage.getHash(K)}`,annotationStorageMap:K}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const c=[];for(const H of M(this,L).values())c.push(H._destroy());M(this,L).clear(),M(this,C).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const v=this.messageHandler.sendWithPromise("Terminate",null);return c.push(v),Promise.all(c).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),M(this,k).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:c,loadingTask:v}=this;c.on("GetReader",(H,d)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=W=>{this._lastProgress={loaded:W.loaded,total:W.total}},d.onPull=()=>{this._fullReader.read().then(function({value:W,done:K}){if(K){d.close();return}(0,_util.assert)(W instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),d.enqueue(new Uint8Array(W),1,[W])}).catch(W=>{d.error(W)})},d.onCancel=W=>{this._fullReader.cancel(W),d.ready.catch(K=>{if(!this.destroyed)throw K})}}),c.on("ReaderHeadersReady",H=>{const d=new _util.PromiseCapability,W=this._fullReader;return W.headersReady.then(()=>{var K;(!W.isStreamingSupported||!W.isRangeSupported)&&(this._lastProgress&&((K=v.onProgress)==null||K.call(v,this._lastProgress)),W.onProgress=tt=>{var rt;(rt=v.onProgress)==null||rt.call(v,{loaded:tt.loaded,total:tt.total})}),d.resolve({isStreamingSupported:W.isStreamingSupported,isRangeSupported:W.isRangeSupported,contentLength:W.contentLength})},d.reject),d.promise}),c.on("GetRangeReader",(H,d)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const W=this._networkStream.getRangeReader(H.begin,H.end);if(!W){d.close();return}d.onPull=()=>{W.read().then(function({value:K,done:tt}){if(tt){d.close();return}(0,_util.assert)(K instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),d.enqueue(new Uint8Array(K),1,[K])}).catch(K=>{d.error(K)})},d.onCancel=K=>{W.cancel(K),d.ready.catch(tt=>{if(!this.destroyed)throw tt})}}),c.on("GetDoc",({pdfInfo:H})=>{this._numPages=H.numPages,this._htmlForXfa=H.htmlForXfa,delete H.htmlForXfa,v._capability.resolve(new PDFDocumentProxy(H,this))}),c.on("DocException",function(H){let d;switch(H.name){case"PasswordException":d=new _util.PasswordException(H.message,H.code);break;case"InvalidPDFException":d=new _util.InvalidPDFException(H.message);break;case"MissingPDFException":d=new _util.MissingPDFException(H.message);break;case"UnexpectedResponseException":d=new _util.UnexpectedResponseException(H.message,H.status);break;case"UnknownErrorException":d=new _util.UnknownErrorException(H.message,H.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}v._capability.reject(d)}),c.on("PasswordRequest",H=>{if(this._passwordCapability=new _util.PromiseCapability,v.onPassword){const d=W=>{W instanceof Error?this._passwordCapability.reject(W):this._passwordCapability.resolve({password:W})};try{v.onPassword(d,H.code)}catch(W){this._passwordCapability.reject(W)}}else this._passwordCapability.reject(new _util.PasswordException(H.message,H.code));return this._passwordCapability.promise}),c.on("DataLoaded",H=>{var d;(d=v.onProgress)==null||d.call(v,{loaded:H.length,total:H.length}),this.downloadInfoCapability.resolve(H)}),c.on("StartRenderPage",H=>{if(this.destroyed)return;M(this,L).get(H.pageIndex)._startRenderPage(H.transparency,H.cacheKey)}),c.on("commonobj",([H,d,W])=>{var K;if(!this.destroyed&&!this.commonObjs.has(H))switch(d){case"Font":const tt=this._params;if("error"in W){const ht=W.error;(0,_util.warn)(`Error during font loading: ${ht}`),this.commonObjs.resolve(H,ht);break}const rt=tt.pdfBug&&((K=globalThis.FontInspector)==null?void 0:K.enabled)?(ht,lt)=>globalThis.FontInspector.fontAdded(ht,lt):null,ot=new _font_loader.FontFaceObject(W,{isEvalSupported:tt.isEvalSupported,disableFontFace:tt.disableFontFace,ignoreErrors:tt.ignoreErrors,inspectFont:rt});this.fontLoader.bind(ot).catch(ht=>c.sendWithPromise("FontFallback",{id:H})).finally(()=>{!tt.fontExtraProperties&&ot.data&&(ot.data=null),this.commonObjs.resolve(H,ot)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(H,W);break;default:throw new Error(`Got unknown common object type ${d}`)}}),c.on("obj",([H,d,W,K])=>{var rt;if(this.destroyed)return;const tt=M(this,L).get(d);if(!tt.objs.has(H))switch(W){case"Image":if(tt.objs.resolve(H,K),K){let ot;if(K.bitmap){const{width:ht,height:lt}=K;ot=ht*lt*4}else ot=((rt=K.data)==null?void 0:rt.length)||0;ot>_util.MAX_IMAGE_SIZE_TO_CACHE&&(tt._maybeCleanupAfterRender=!0)}break;case"Pattern":tt.objs.resolve(H,K);break;default:throw new Error(`Got unknown object type ${W}`)}}),c.on("DocProgress",H=>{var d;this.destroyed||(d=v.onProgress)==null||d.call(v,{loaded:H.loaded,total:H.total})}),c.on("FetchBuiltInCMap",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(H):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),c.on("FetchStandardFontData",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(H):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var c,v;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(v=(c=this._fullReader)==null?void 0:c.filename)!=null?v:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(c){if(!Number.isInteger(c)||c<=0||c>this._numPages)return Promise.reject(new Error("Invalid page request."));const v=c-1,H=M(this,C).get(v);if(H)return H;const d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:v}).then(W=>{if(this.destroyed)throw new Error("Transport destroyed");const K=new PDFPageProxy(v,W,this,this._params.pdfBug);return M(this,L).set(v,K),K});return M(this,C).set(v,d),d}getPageIndex(c){return typeof c!="object"||c===null||!Number.isInteger(c.num)||c.num<0||!Number.isInteger(c.gen)||c.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:c.num,gen:c.gen})}getAnnotations(c,v){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:c,intent:v})}getFieldObjects(){return ut(this,y,pe).call(this,"GetFieldObjects")}hasJSActions(){return ut(this,y,pe).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(c){return typeof c!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:c})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(c){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:c})}getStructTree(c){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:c})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(c=>new _optional_content_config.OptionalContentConfig(c))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const c="GetMetadata",v=M(this,k).get(c);if(v)return v;const H=this.messageHandler.sendWithPromise(c,null).then(d=>{var W,K,tt,rt;return{info:d[0],metadata:d[1]?new _metadata.Metadata(d[1]):null,contentDispositionFilename:(K=(W=this._fullReader)==null?void 0:W.filename)!=null?K:null,contentLength:(rt=(tt=this._fullReader)==null?void 0:tt.contentLength)!=null?rt:null}});return M(this,k).set(c,H),H}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(c=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const v of M(this,L).values())if(!v.cleanup())throw new Error(`startCleanup: Page ${v.pageNumber} is currently rendering.`);this.commonObjs.clear(),c||this.fontLoader.clear(),M(this,k).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:c,enableXfa:v}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:c,enableXfa:v})}}k=new WeakMap,L=new WeakMap,C=new WeakMap,y=new WeakSet,pe=function(c,v=null){const H=M(this,k).get(c);if(H)return H;const d=this.messageHandler.sendWithPromise(c,v);return M(this,k).set(c,d),d};class PDFObjects{constructor(){at(this,N);at(this,F,Object.create(null))}get(c,v=null){if(v){const d=ut(this,N,ge).call(this,c);return d.capability.promise.then(()=>v(d.data)),null}const H=M(this,F)[c];if(!(H!=null&&H.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${c}.`);return H.data}has(c){const v=M(this,F)[c];return(v==null?void 0:v.capability.settled)||!1}resolve(c,v=null){const H=ut(this,N,ge).call(this,c);H.data=v,H.capability.resolve()}clear(){var c;for(const v in M(this,F)){const{data:H}=M(this,F)[v];(c=H==null?void 0:H.bitmap)==null||c.close()}mt(this,F,Object.create(null))}}F=new WeakMap,N=new WeakSet,ge=function(c){const v=M(this,F)[c];return v||(M(this,F)[c]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(c){at(this,A,null);mt(this,A,c),this.onContinue=null}get promise(){return M(this,A).capability.promise}cancel(c=0){M(this,A).cancel(null,c)}get separateAnnots(){const{separateAnnots:c}=M(this,A).operatorList;if(!c)return!1;const{annotationCanvasMap:v}=M(this,A);return c.form||c.canvas&&(v==null?void 0:v.size)>0}}A=new WeakMap,exports.RenderTask=RenderTask;const g=class{constructor({callback:c,params:v,objs:H,commonObjs:d,annotationCanvasMap:W,operatorList:K,pageIndex:tt,canvasFactory:rt,filterFactory:ot,useRequestAnimationFrame:ht=!1,pdfBug:lt=!1,pageColors:gt=null}){this.callback=c,this.params=v,this.objs=H,this.commonObjs=d,this.annotationCanvasMap=W,this.operatorListIdx=null,this.operatorList=K,this._pageIndex=tt,this.canvasFactory=rt,this.filterFactory=ot,this._pdfBug=lt,this.pageColors=gt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ht===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=v.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:c=!1,optionalContentConfig:v}){var tt,rt;if(this.cancelled)return;if(this._canvas){if(M(g,a).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");M(g,a).add(this._canvas)}this._pdfBug&&((tt=globalThis.StepperManager)==null?void 0:tt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:H,viewport:d,transform:W,background:K}=this.params;this.gfx=new _canvas.CanvasGraphics(H,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:v},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:W,viewport:d,transparency:c,background:K}),this.operatorListIdx=0,this.graphicsReady=!0,(rt=this.graphicsReadyCallback)==null||rt.call(this)}cancel(c=null,v=0){var H;this.running=!1,this.cancelled=!0,(H=this.gfx)==null||H.endDrawing(),this._canvas&&M(g,a).delete(this._canvas),this.callback(c||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",v))}operatorListChanged(){var c;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(c=this.stepper)==null||c.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&M(g,a).delete(this._canvas),this.callback())))}};let InternalRenderTask=g;a=new WeakMap,at(InternalRenderTask,a,new WeakSet);const version="3.6.172";exports.version=version;const build="4d3dfe254";exports.build=build},(t,e,s)=>{var x,w,E,Le,k;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=s(1),i=s(4),l=s(8);class _{constructor(){at(this,E);at(this,x,!1);at(this,w,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(C,y){const u=M(this,w).get(C);return u===void 0?y:Object.assign(y,u)}getRawValue(C){return M(this,w).get(C)}remove(C){if(M(this,w).delete(C),M(this,w).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const y of M(this,w).values())if(y instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(C,y){const u=M(this,w).get(C);let F=!1;if(u!==void 0)for(const[N,B]of Object.entries(y))u[N]!==B&&(F=!0,u[N]=B);else F=!0,M(this,w).set(C,y);F&&ut(this,E,Le).call(this),y instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(y.constructor._type)}has(C){return M(this,w).has(C)}getAll(){return M(this,w).size>0?(0,n.objectFromMap)(M(this,w)):null}setAll(C){for(const[y,u]of Object.entries(C))this.setValue(y,u)}get size(){return M(this,w).size}resetModified(){M(this,x)&&(mt(this,x,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new D(this)}get serializable(){if(M(this,w).size===0)return null;const C=new Map;for(const[y,u]of M(this,w)){const F=u instanceof i.AnnotationEditor?u.serialize():u;F&&C.set(y,F)}return C}static getHash(C){if(!C)return"";const y=new l.MurmurHash3_64;for(const[u,F]of C)y.update(`${u}:${JSON.stringify(F)}`);return y.hexdigest()}}x=new WeakMap,w=new WeakMap,E=new WeakSet,Le=function(){M(this,x)||(mt(this,x,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=_;class D extends _{constructor(y){super();at(this,k,null);mt(this,k,structuredClone(y.serializable))}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return M(this,k)}}k=new WeakMap,e.PrintAnnotationStorage=D},(t,e,s)=>{var _,D,x,w,E,I;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=s(5),i=s(1);const k=class{constructor(C){at(this,_,this.focusin.bind(this));at(this,D,this.focusout.bind(this));at(this,x,!1);at(this,w,!1);at(this,E,!1);Lt(this,"_uiManager",null);at(this,I,k._zIndex++);this.constructor===k&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=C.parent,this.id=C.id,this.width=this.height=null,this.pageIndex=C.parent.pageIndex,this.name=C.name,this.div=null,this._uiManager=C.uiManager;const{rotation:y,rawDims:{pageWidth:u,pageHeight:F,pageX:N,pageY:B}}=this.parent.viewport;this.rotation=y,this.pageRotation=(360+y-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[u,F],this.pageTranslation=[N,B];const[A,a]=this.parentDimensions;this.x=C.x/A,this.y=C.y/a,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(C){this._uiManager.addCommands(C)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=M(this,I)}setParent(C){C!==null&&(this.pageIndex=C.pageIndex,this.pageDimensions=C.pageDimensions),this.parent=C}focusin(C){M(this,x)?mt(this,x,!1):this.parent.setSelected(this)}focusout(C){var u;if(!this.isAttachedToDOM)return;const y=C.relatedTarget;y!=null&&y.closest(`#${this.id}`)||(C.preventDefault(),(u=this.parent)!=null&&u.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(C){const y=this.parent.div.getBoundingClientRect();this.startX=C.clientX-y.x,this.startY=C.clientY-y.y,C.dataTransfer.setData("text/plain",this.id),C.dataTransfer.effectAllowed="move"}setAt(C,y,u,F){const[N,B]=this.parentDimensions;[u,F]=this.screenToPageTranslation(u,F),this.x=(C+u)/N,this.y=(y+F)/B,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(C,y){const[u,F]=this.parentDimensions;[C,y]=this.screenToPageTranslation(C,y),this.x+=C/u,this.y+=y/F,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(C,y){switch(this.parentRotation){case 90:return[y,-C];case 180:return[-C,-y];case 270:return[-y,C];default:return[C,y]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:C}=this._uiManager.viewParameters,[y,u]=this.pageDimensions;return[y*C,u*C]}setDims(C,y){const[u,F]=this.parentDimensions;this.div.style.width=`${100*C/u}%`,this.div.style.height=`${100*y/F}%`}fixDims(){const{style:C}=this.div,{height:y,width:u}=C,F=u.endsWith("%"),N=y.endsWith("%");if(F&&N)return;const[B,A]=this.parentDimensions;F||(C.width=`${100*parseFloat(u)/B}%`),N||(C.height=`${100*parseFloat(y)/A}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",M(this,_)),this.div.addEventListener("focusout",M(this,D));const[C,y]=this.getInitialTranslation();return this.translate(C,y),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(C){const{isMac:y}=i.FeatureTest.platform;if(C.button!==0||C.ctrlKey&&y){C.preventDefault();return}C.ctrlKey&&!y||C.shiftKey||C.metaKey&&y?this.parent.toggleSelected(this):this.parent.setSelected(this),mt(this,x,!0)}getRect(C,y){const u=this.parentScale,[F,N]=this.pageDimensions,[B,A]=this.pageTranslation,a=C/u,g=y/u,b=this.x*F,c=this.y*N,v=this.width*F,H=this.height*N;switch(this.rotation){case 0:return[b+a+B,N-c-g-H+A,b+a+v+B,N-c-g+A];case 90:return[b+g+B,N-c+a+A,b+g+H+B,N-c+a+v+A];case 180:return[b-a-v+B,N-c+g+A,b-a+B,N-c+g+H+A];case 270:return[b-g-H+B,N-c-a-v+A,b-g+B,N-c-a+A];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(C,y){const[u,F,N,B]=C,A=N-u,a=B-F;switch(this.rotation){case 0:return[u,y-B,A,a];case 90:return[u,y-F,a,A];case 180:return[N,y-F,A,a];case 270:return[N,y-B,a,A];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){mt(this,E,!0)}disableEditMode(){mt(this,E,!1)}isInEditMode(){return M(this,E)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var C;(C=this.div)==null||C.addEventListener("focusin",M(this,_))}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(C,y,u){const F=new this.prototype.constructor({parent:y,id:y.getNextId(),uiManager:u});F.rotation=C.rotation;const[N,B]=F.pageDimensions,[A,a,g,b]=F.getRectInCurrentCoords(C.rect,B);return F.x=A/N,F.y=a/B,F.width=g/N,F.height=b/B,F}remove(){this.div.removeEventListener("focusin",M(this,_)),this.div.removeEventListener("focusout",M(this,D)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var C;(C=this.div)==null||C.classList.add("selectedEditor")}unselect(){var C;(C=this.div)==null||C.classList.remove("selectedEditor")}updateParams(C,y){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return M(this,w)}set isEditing(C){mt(this,w,C),C?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let l=k;_=new WeakMap,D=new WeakMap,x=new WeakMap,w=new WeakMap,E=new WeakMap,I=new WeakMap,Lt(l,"_colorManager",new n.ColorManager),Lt(l,"_zIndex",1),e.AnnotationEditor=l},(t,e,s)=>{var k,L,C,y,u,F,Ne,A,a,g,b,c,v,H,d,W,K,tt,rt,ot,ht,lt,gt,yt,St,Tt,Et,J,T,P,j,Be,$,me,G,je,S,He,o,Vt,R,ne,q,Ue,z,We,nt,be,it,se,pt,_e;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=l,e.opacityToHex=_;var n=s(1),i=s(6);function l(xt,st,vt){for(const Ct of vt)st.addEventListener(Ct,xt[Ct].bind(xt))}function _(xt){return Math.round(Math.min(255,Math.max(1,255*xt))).toString(16).padStart(2,"0")}class D{constructor(){at(this,k,0)}getId(){return`${n.AnnotationEditorPrefix}${ae(this,k)._++}`}}k=new WeakMap;class x{constructor(st=128){at(this,L,[]);at(this,C,!1);at(this,y,void 0);at(this,u,-1);mt(this,y,st)}add({cmd:st,undo:vt,mustExec:Ct,type:Mt=NaN,overwriteIfSameType:dt=!1,keepUndo:U=!1}){if(Ct&&st(),M(this,C))return;const V={cmd:st,undo:vt,type:Mt};if(M(this,u)===-1){M(this,L).length>0&&(M(this,L).length=0),mt(this,u,0),M(this,L).push(V);return}if(dt&&M(this,L)[M(this,u)].type===Mt){U&&(V.undo=M(this,L)[M(this,u)].undo),M(this,L)[M(this,u)]=V;return}const ft=M(this,u)+1;ft===M(this,y)?M(this,L).splice(0,1):(mt(this,u,ft),ft<M(this,L).length&&M(this,L).splice(ft)),M(this,L).push(V)}undo(){M(this,u)!==-1&&(mt(this,C,!0),M(this,L)[M(this,u)].undo(),mt(this,C,!1),mt(this,u,M(this,u)-1))}redo(){M(this,u)<M(this,L).length-1&&(mt(this,u,M(this,u)+1),mt(this,C,!0),M(this,L)[M(this,u)].cmd(),mt(this,C,!1))}hasSomethingToUndo(){return M(this,u)!==-1}hasSomethingToRedo(){return M(this,u)<M(this,L).length-1}destroy(){mt(this,L,null)}}L=new WeakMap,C=new WeakMap,y=new WeakMap,u=new WeakMap,e.CommandManager=x;class w{constructor(st){at(this,F);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:vt}=n.FeatureTest.platform;for(const[Ct,Mt]of st)for(const dt of Ct){const U=dt.startsWith("mac+");vt&&U?(this.callbacks.set(dt.slice(4),Mt),this.allKeys.add(dt.split("+").at(-1))):!vt&&!U&&(this.callbacks.set(dt,Mt),this.allKeys.add(dt.split("+").at(-1)))}}exec(st,vt){if(!this.allKeys.has(vt.key))return;const Ct=this.callbacks.get(ut(this,F,Ne).call(this,vt));!Ct||(Ct.bind(st)(),vt.stopPropagation(),vt.preventDefault())}}F=new WeakSet,Ne=function(st){st.altKey&&this.buffer.push("alt"),st.ctrlKey&&this.buffer.push("ctrl"),st.metaKey&&this.buffer.push("meta"),st.shiftKey&&this.buffer.push("shift"),this.buffer.push(st.key);const vt=this.buffer.join("+");return this.buffer.length=0,vt},e.KeyboardManager=w;const B=class{get _colors(){const st=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(st),(0,n.shadow)(this,"_colors",st)}convert(st){const vt=(0,i.getRGB)(st);if(!window.matchMedia("(forced-colors: active)").matches)return vt;for(const[Ct,Mt]of this._colors)if(Mt.every((dt,U)=>dt===vt[U]))return B._colorsMapping.get(Ct);return vt}getHexCode(st){const vt=this._colors.get(st);return vt?n.Util.makeHexColor(...vt):st}};let E=B;Lt(E,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),e.ColorManager=E;const bt=class{constructor(st,vt,Ct){at(this,j);at(this,$);at(this,G);at(this,S);at(this,o);at(this,R);at(this,q);at(this,z);at(this,nt);at(this,it);at(this,pt);at(this,A,null);at(this,a,new Map);at(this,g,new Map);at(this,b,null);at(this,c,new x);at(this,v,0);at(this,H,null);at(this,d,new Set);at(this,W,null);at(this,K,new D);at(this,tt,!1);at(this,rt,n.AnnotationEditorType.NONE);at(this,ot,new Set);at(this,ht,this.copy.bind(this));at(this,lt,this.cut.bind(this));at(this,gt,this.paste.bind(this));at(this,yt,this.keydown.bind(this));at(this,St,this.onEditingAction.bind(this));at(this,Tt,this.onPageChanging.bind(this));at(this,Et,this.onScaleChanging.bind(this));at(this,J,this.onRotationChanging.bind(this));at(this,T,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});at(this,P,null);mt(this,P,st),mt(this,W,vt),M(this,W)._on("editingaction",M(this,St)),M(this,W)._on("pagechanging",M(this,Tt)),M(this,W)._on("scalechanging",M(this,Et)),M(this,W)._on("rotationchanging",M(this,J)),mt(this,b,Ct),this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ut(this,$,me).call(this),M(this,W)._off("editingaction",M(this,St)),M(this,W)._off("pagechanging",M(this,Tt)),M(this,W)._off("scalechanging",M(this,Et)),M(this,W)._off("rotationchanging",M(this,J));for(const st of M(this,g).values())st.destroy();M(this,g).clear(),M(this,a).clear(),M(this,d).clear(),mt(this,A,null),M(this,ot).clear(),M(this,c).destroy()}onPageChanging({pageNumber:st}){mt(this,v,st-1)}focusMainContainer(){M(this,P).focus()}addShouldRescale(st){M(this,d).add(st)}removeShouldRescale(st){M(this,d).delete(st)}onScaleChanging({scale:st}){this.commitOrRemove(),this.viewParameters.realScale=st*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const vt of M(this,d))vt.onScaleChanging()}onRotationChanging({pagesRotation:st}){this.commitOrRemove(),this.viewParameters.rotation=st}addToAnnotationStorage(st){!st.isEmpty()&&M(this,b)&&!M(this,b).has(st.id)&&M(this,b).setValue(st.id,st)}copy(st){if(st.preventDefault(),M(this,A)&&M(this,A).commitOrRemove(),!this.hasSelection)return;const vt=[];for(const Ct of M(this,ot))Ct.isEmpty()||vt.push(Ct.serialize());vt.length!==0&&st.clipboardData.setData("application/pdfjs",JSON.stringify(vt))}cut(st){this.copy(st),this.delete()}paste(st){st.preventDefault();let vt=st.clipboardData.getData("application/pdfjs");if(!vt)return;try{vt=JSON.parse(vt)}catch(Mt){(0,n.warn)(`paste: "${Mt.message}".`);return}if(!Array.isArray(vt))return;this.unselectAll();const Ct=M(this,g).get(M(this,v));try{const Mt=[];for(const V of vt){const ft=Ct.deserialize(V);if(!ft)return;Mt.push(ft)}const dt=()=>{for(const V of Mt)ut(this,nt,be).call(this,V);ut(this,pt,_e).call(this,Mt)},U=()=>{for(const V of Mt)V.remove()};this.addCommands({cmd:dt,undo:U,mustExec:!0})}catch(Mt){(0,n.warn)(`paste: "${Mt.message}".`)}}keydown(st){var vt;(vt=this.getActive())!=null&&vt.shouldGetKeyboardEvents()||bt._keyboardManager.exec(this,st)}onEditingAction(st){["undo","redo","delete","selectAll"].includes(st.name)&&this[st.name]()}setEditingState(st){st?(ut(this,j,Be).call(this),ut(this,G,je).call(this),ut(this,o,Vt).call(this,{isEditing:M(this,rt)!==n.AnnotationEditorType.NONE,isEmpty:ut(this,it,se).call(this),hasSomethingToUndo:M(this,c).hasSomethingToUndo(),hasSomethingToRedo:M(this,c).hasSomethingToRedo(),hasSelectedEditor:!1})):(ut(this,$,me).call(this),ut(this,S,He).call(this),ut(this,o,Vt).call(this,{isEditing:!1}))}registerEditorTypes(st){if(!M(this,H)){mt(this,H,st);for(const vt of M(this,H))ut(this,R,ne).call(this,vt.defaultPropertiesToUpdate)}}getId(){return M(this,K).getId()}get currentLayer(){return M(this,g).get(M(this,v))}get currentPageIndex(){return M(this,v)}addLayer(st){M(this,g).set(st.pageIndex,st),M(this,tt)?st.enable():st.disable()}removeLayer(st){M(this,g).delete(st.pageIndex)}updateMode(st){if(mt(this,rt,st),st===n.AnnotationEditorType.NONE)this.setEditingState(!1),ut(this,z,We).call(this);else{this.setEditingState(!0),ut(this,q,Ue).call(this);for(const vt of M(this,g).values())vt.updateMode(st)}}updateToolbar(st){st!==M(this,rt)&&M(this,W).dispatch("switchannotationeditormode",{source:this,mode:st})}updateParams(st,vt){if(!!M(this,H)){for(const Ct of M(this,ot))Ct.updateParams(st,vt);for(const Ct of M(this,H))Ct.updateDefaultParams(st,vt)}}getEditors(st){const vt=[];for(const Ct of M(this,a).values())Ct.pageIndex===st&&vt.push(Ct);return vt}getEditor(st){return M(this,a).get(st)}addEditor(st){M(this,a).set(st.id,st)}removeEditor(st){var vt;M(this,a).delete(st.id),this.unselect(st),(vt=M(this,b))==null||vt.remove(st.id)}setActiveEditor(st){M(this,A)!==st&&(mt(this,A,st),st&&ut(this,R,ne).call(this,st.propertiesToUpdate))}toggleSelected(st){if(M(this,ot).has(st)){M(this,ot).delete(st),st.unselect(),ut(this,o,Vt).call(this,{hasSelectedEditor:this.hasSelection});return}M(this,ot).add(st),st.select(),ut(this,R,ne).call(this,st.propertiesToUpdate),ut(this,o,Vt).call(this,{hasSelectedEditor:!0})}setSelected(st){for(const vt of M(this,ot))vt!==st&&vt.unselect();M(this,ot).clear(),M(this,ot).add(st),st.select(),ut(this,R,ne).call(this,st.propertiesToUpdate),ut(this,o,Vt).call(this,{hasSelectedEditor:!0})}isSelected(st){return M(this,ot).has(st)}unselect(st){st.unselect(),M(this,ot).delete(st),ut(this,o,Vt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return M(this,ot).size!==0}undo(){M(this,c).undo(),ut(this,o,Vt).call(this,{hasSomethingToUndo:M(this,c).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ut(this,it,se).call(this)})}redo(){M(this,c).redo(),ut(this,o,Vt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:M(this,c).hasSomethingToRedo(),isEmpty:ut(this,it,se).call(this)})}addCommands(st){M(this,c).add(st),ut(this,o,Vt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ut(this,it,se).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const st=[...M(this,ot)],vt=()=>{for(const Mt of st)Mt.remove()},Ct=()=>{for(const Mt of st)ut(this,nt,be).call(this,Mt)};this.addCommands({cmd:vt,undo:Ct,mustExec:!0})}commitOrRemove(){var st;(st=M(this,A))==null||st.commitOrRemove()}selectAll(){for(const st of M(this,ot))st.commit();ut(this,pt,_e).call(this,M(this,a).values())}unselectAll(){if(M(this,A)){M(this,A).commitOrRemove();return}if(M(this,ot).size!==0){for(const st of M(this,ot))st.unselect();M(this,ot).clear(),ut(this,o,Vt).call(this,{hasSelectedEditor:!1})}}isActive(st){return M(this,A)===st}getActive(){return M(this,A)}getMode(){return M(this,rt)}};let I=bt;A=new WeakMap,a=new WeakMap,g=new WeakMap,b=new WeakMap,c=new WeakMap,v=new WeakMap,H=new WeakMap,d=new WeakMap,W=new WeakMap,K=new WeakMap,tt=new WeakMap,rt=new WeakMap,ot=new WeakMap,ht=new WeakMap,lt=new WeakMap,gt=new WeakMap,yt=new WeakMap,St=new WeakMap,Tt=new WeakMap,Et=new WeakMap,J=new WeakMap,T=new WeakMap,P=new WeakMap,j=new WeakSet,Be=function(){M(this,P).addEventListener("keydown",M(this,yt))},$=new WeakSet,me=function(){M(this,P).removeEventListener("keydown",M(this,yt))},G=new WeakSet,je=function(){document.addEventListener("copy",M(this,ht)),document.addEventListener("cut",M(this,lt)),document.addEventListener("paste",M(this,gt))},S=new WeakSet,He=function(){document.removeEventListener("copy",M(this,ht)),document.removeEventListener("cut",M(this,lt)),document.removeEventListener("paste",M(this,gt))},o=new WeakSet,Vt=function(st){Object.entries(st).some(([Ct,Mt])=>M(this,T)[Ct]!==Mt)&&M(this,W).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(M(this,T),st)})},R=new WeakSet,ne=function(st){M(this,W).dispatch("annotationeditorparamschanged",{source:this,details:st})},q=new WeakSet,Ue=function(){if(!M(this,tt)){mt(this,tt,!0);for(const st of M(this,g).values())st.enable()}},z=new WeakSet,We=function(){if(this.unselectAll(),M(this,tt)){mt(this,tt,!1);for(const st of M(this,g).values())st.disable()}},nt=new WeakSet,be=function(st){const vt=M(this,g).get(st.pageIndex);vt?vt.addOrRebuild(st):this.addEditor(st)},it=new WeakSet,se=function(){if(M(this,a).size===0)return!0;if(M(this,a).size===1)for(const st of M(this,a).values())return st.isEmpty();return!1},pt=new WeakSet,_e=function(st){M(this,ot).clear();for(const vt of st)vt.isEmpty()||(M(this,ot).add(vt),vt.select());ut(this,o,Vt).call(this,{hasSelectedEditor:!0})},Lt(I,"_keyboardManager",new w([[["ctrl+a","mac+meta+a"],bt.prototype.selectAll],[["ctrl+z","mac+meta+z"],bt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],bt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],bt.prototype.delete],[["Escape","mac+Escape"],bt.prototype.unselectAll]])),e.AnnotationEditorUIManager=I},(t,e,s)=>{var ht,lt,gt,yt,St,Tt,Et,J,T,Zt,j,Yt,$,Gt;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=b,e.getColorValues=W,e.getCurrentTransform=K,e.getCurrentTransformInverse=tt,e.getFilenameFromUrl=N,e.getPdfFilenameFromUrl=B,e.getRGB=d,e.getXfaPageViewport=H,e.isDataScheme=u,e.isPdfFile=F,e.isValidFetchUrl=a,e.loadScript=g,e.setLayerDimensions=rt;var n=s(7),i=s(1);const l="http://www.w3.org/2000/svg",_="pdfjs_internal_id_";e.AnnotationPrefix=_;const ot=class{};let D=ot;Lt(D,"CSS",96),Lt(D,"PDF",72),Lt(D,"PDF_TO_CSS_UNITS",ot.CSS/ot.PDF),e.PixelsPerInch=D;class x extends n.BaseFilterFactory{constructor({docId:S,ownerDocument:r=globalThis.document}={}){super();at(this,T);at(this,j);at(this,$);at(this,ht,void 0);at(this,lt,void 0);at(this,gt,void 0);at(this,yt,void 0);at(this,St,void 0);at(this,Tt,void 0);at(this,Et,void 0);at(this,J,0);mt(this,gt,S),mt(this,yt,r)}addFilter(S){if(!S)return"none";let r=M(this,T,Zt).get(S);if(r)return r;let o,f,R,O;if(S.length===1){const nt=S[0],Z=new Array(256);for(let it=0;it<256;it++)Z[it]=nt[it]/255;O=o=f=R=Z.join(",")}else{const[nt,Z,it]=S,ct=new Array(256),pt=new Array(256),At=new Array(256);for(let bt=0;bt<256;bt++)ct[bt]=nt[bt]/255,pt[bt]=Z[bt]/255,At[bt]=it[bt]/255;o=ct.join(","),f=pt.join(","),R=At.join(","),O=`${o}${f}${R}`}if(r=M(this,T,Zt).get(O),r)return M(this,T,Zt).set(S,r),r;const q=`g_${M(this,gt)}_transfer_map_${ae(this,J)._++}`,Y=`url(#${q})`;M(this,T,Zt).set(S,Y),M(this,T,Zt).set(O,Y);const z=M(this,yt).createElementNS(l,"filter",l);z.setAttribute("id",q),z.setAttribute("color-interpolation-filters","sRGB");const et=M(this,yt).createElementNS(l,"feComponentTransfer");return z.append(et),ut(this,$,Gt).call(this,et,"feFuncR",o),ut(this,$,Gt).call(this,et,"feFuncG",f),ut(this,$,Gt).call(this,et,"feFuncB",R),M(this,j,Yt).append(z),Y}addHCMFilter(S,r){var it;const o=`${S}-${r}`;if(M(this,Tt)===o)return M(this,Et);if(mt(this,Tt,o),mt(this,Et,"none"),(it=M(this,St))==null||it.remove(),!S||!r)return M(this,Et);M(this,j,Yt).style.color=S,S=getComputedStyle(M(this,j,Yt)).getPropertyValue("color");const f=d(S);S=i.Util.makeHexColor(...f),M(this,j,Yt).style.color=r,r=getComputedStyle(M(this,j,Yt)).getPropertyValue("color");const R=d(r);if(r=i.Util.makeHexColor(...R),M(this,j,Yt).style.color="",S==="#000000"&&r==="#ffffff"||S===r)return M(this,Et);const O=new Array(256);for(let ct=0;ct<=255;ct++){const pt=ct/255;O[ct]=pt<=.03928?pt/12.92:((pt+.055)/1.055)**2.4}const q=O.join(","),Y=`g_${M(this,gt)}_hcm_filter`,z=mt(this,St,M(this,yt).createElementNS(l,"filter",l));z.setAttribute("id",Y),z.setAttribute("color-interpolation-filters","sRGB");let et=M(this,yt).createElementNS(l,"feComponentTransfer");z.append(et),ut(this,$,Gt).call(this,et,"feFuncR",q),ut(this,$,Gt).call(this,et,"feFuncG",q),ut(this,$,Gt).call(this,et,"feFuncB",q);const nt=M(this,yt).createElementNS(l,"feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),z.append(nt),et=M(this,yt).createElementNS(l,"feComponentTransfer"),z.append(et);const Z=(ct,pt)=>{const At=f[ct]/255,bt=R[ct]/255,xt=new Array(pt+1);for(let st=0;st<=pt;st++)xt[st]=At+st/pt*(bt-At);return xt.join(",")};return ut(this,$,Gt).call(this,et,"feFuncR",Z(0,5)),ut(this,$,Gt).call(this,et,"feFuncG",Z(1,5)),ut(this,$,Gt).call(this,et,"feFuncB",Z(2,5)),M(this,j,Yt).append(z),mt(this,Et,`url(#${Y})`),M(this,Et)}destroy(S=!1){S&&M(this,Et)||(M(this,lt)&&(M(this,lt).parentNode.parentNode.remove(),mt(this,lt,null)),M(this,ht)&&(M(this,ht).clear(),mt(this,ht,null)),mt(this,J,0))}}ht=new WeakMap,lt=new WeakMap,gt=new WeakMap,yt=new WeakMap,St=new WeakMap,Tt=new WeakMap,Et=new WeakMap,J=new WeakMap,T=new WeakSet,Zt=function(){return M(this,ht)||mt(this,ht,new Map)},j=new WeakSet,Yt=function(){if(!M(this,lt)){const S=M(this,yt).createElement("div"),{style:r}=S;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const o=M(this,yt).createElementNS(l,"svg");o.setAttribute("width",0),o.setAttribute("height",0),mt(this,lt,M(this,yt).createElementNS(l,"defs")),S.append(o),o.append(M(this,lt)),M(this,yt).body.append(S)}return M(this,lt)},$=new WeakSet,Gt=function(S,r,o){const f=M(this,yt).createElementNS(l,r);f.setAttribute("type","discrete"),f.setAttribute("tableValues",o),S.append(f)},e.DOMFilterFactory=x;class w extends n.BaseCanvasFactory{constructor({ownerDocument:m=globalThis.document}={}){super(),this._document=m}_createCanvas(m,S){const r=this._document.createElement("canvas");return r.width=m,r.height=S,r}}e.DOMCanvasFactory=w;async function E(G,m=!1){if(a(G,document.baseURI)){const S=await fetch(G);if(!S.ok)throw new Error(S.statusText);return m?new Uint8Array(await S.arrayBuffer()):(0,i.stringToBytes)(await S.text())}return new Promise((S,r)=>{const o=new XMLHttpRequest;o.open("GET",G,!0),m&&(o.responseType="arraybuffer"),o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){let f;if(m&&o.response?f=new Uint8Array(o.response):!m&&o.responseText&&(f=(0,i.stringToBytes)(o.responseText)),f){S(f);return}}r(new Error(o.statusText))}},o.send(null)})}class I extends n.BaseCMapReaderFactory{_fetchData(m,S){return E(m,this.isCompressed).then(r=>({cMapData:r,compressionType:S}))}}e.DOMCMapReaderFactory=I;class k extends n.BaseStandardFontDataFactory{_fetchData(m){return E(m,!0)}}e.DOMStandardFontDataFactory=k;class L extends n.BaseSVGFactory{_createSVG(m){return document.createElementNS(l,m)}}e.DOMSVGFactory=L;class C{constructor({viewBox:m,scale:S,rotation:r,offsetX:o=0,offsetY:f=0,dontFlip:R=!1}){this.viewBox=m,this.scale=S,this.rotation=r,this.offsetX=o,this.offsetY=f;const O=(m[2]+m[0])/2,q=(m[3]+m[1])/2;let Y,z,et,nt;switch(r%=360,r<0&&(r+=360),r){case 180:Y=-1,z=0,et=0,nt=1;break;case 90:Y=0,z=1,et=1,nt=0;break;case 270:Y=0,z=-1,et=-1,nt=0;break;case 0:Y=1,z=0,et=0,nt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}R&&(et=-et,nt=-nt);let Z,it,ct,pt;Y===0?(Z=Math.abs(q-m[1])*S+o,it=Math.abs(O-m[0])*S+f,ct=(m[3]-m[1])*S,pt=(m[2]-m[0])*S):(Z=Math.abs(O-m[0])*S+o,it=Math.abs(q-m[1])*S+f,ct=(m[2]-m[0])*S,pt=(m[3]-m[1])*S),this.transform=[Y*S,z*S,et*S,nt*S,Z-Y*S*O-et*S*q,it-z*S*O-nt*S*q],this.width=ct,this.height=pt}get rawDims(){const{viewBox:m}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:m[2]-m[0],pageHeight:m[3]-m[1],pageX:m[0],pageY:m[1]})}clone({scale:m=this.scale,rotation:S=this.rotation,offsetX:r=this.offsetX,offsetY:o=this.offsetY,dontFlip:f=!1}={}){return new C({viewBox:this.viewBox.slice(),scale:m,rotation:S,offsetX:r,offsetY:o,dontFlip:f})}convertToViewportPoint(m,S){return i.Util.applyTransform([m,S],this.transform)}convertToViewportRectangle(m){const S=i.Util.applyTransform([m[0],m[1]],this.transform),r=i.Util.applyTransform([m[2],m[3]],this.transform);return[S[0],S[1],r[0],r[1]]}convertToPdfPoint(m,S){return i.Util.applyInverseTransform([m,S],this.transform)}}e.PageViewport=C;class y extends i.BaseException{constructor(m,S,r=0){super(m,"RenderingCancelledException"),this.type=S,this.extraDelay=r}}e.RenderingCancelledException=y;function u(G){const m=G.length;let S=0;for(;S<m&&G[S].trim()==="";)S++;return G.substring(S,S+5).toLowerCase()==="data:"}function F(G){return typeof G=="string"&&/\.pdf$/i.test(G)}function N(G,m=!1){return m||([G]=G.split(/[#?]/,1)),G.substring(G.lastIndexOf("/")+1)}function B(G,m="document.pdf"){if(typeof G!="string")return m;if(u(G))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),m;const S=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=S.exec(G);let f=r.exec(o[1])||r.exec(o[2])||r.exec(o[3]);if(f&&(f=f[0],f.includes("%")))try{f=r.exec(decodeURIComponent(f))[0]}catch{}return f||m}class A{constructor(){Lt(this,"started",Object.create(null));Lt(this,"times",[])}time(m){m in this.started&&(0,i.warn)(`Timer is already running for ${m}`),this.started[m]=Date.now()}timeEnd(m){m in this.started||(0,i.warn)(`Timer has not been started for ${m}`),this.times.push({name:m,start:this.started[m],end:Date.now()}),delete this.started[m]}toString(){const m=[];let S=0;for(const{name:r}of this.times)S=Math.max(r.length,S);for(const{name:r,start:o,end:f}of this.times)m.push(`${r.padEnd(S)} ${f-o}ms
`);return m.join("")}}e.StatTimer=A;function a(G,m){try{const{protocol:S}=m?new URL(G,m):new URL(G);return S==="http:"||S==="https:"}catch{return!1}}function g(G,m=!1){return new Promise((S,r)=>{const o=document.createElement("script");o.src=G,o.onload=function(f){m&&o.remove(),S(f)},o.onerror=function(){r(new Error(`Cannot load script at: ${o.src}`))},(document.head||document.documentElement).append(o)})}function b(G){console.log("Deprecated API usage: "+G)}let c;class v{static toDateObject(m){if(!m||typeof m!="string")return null;c||(c=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const S=c.exec(m);if(!S)return null;const r=parseInt(S[1],10);let o=parseInt(S[2],10);o=o>=1&&o<=12?o-1:0;let f=parseInt(S[3],10);f=f>=1&&f<=31?f:1;let R=parseInt(S[4],10);R=R>=0&&R<=23?R:0;let O=parseInt(S[5],10);O=O>=0&&O<=59?O:0;let q=parseInt(S[6],10);q=q>=0&&q<=59?q:0;const Y=S[7]||"Z";let z=parseInt(S[8],10);z=z>=0&&z<=23?z:0;let et=parseInt(S[9],10)||0;return et=et>=0&&et<=59?et:0,Y==="-"?(R+=z,O+=et):Y==="+"&&(R-=z,O-=et),new Date(Date.UTC(r,o,f,R,O,q))}}e.PDFDateString=v;function H(G,{scale:m=1,rotation:S=0}){const{width:r,height:o}=G.attributes.style,f=[0,0,parseInt(r),parseInt(o)];return new C({viewBox:f,scale:m,rotation:S})}function d(G){if(G.startsWith("#")){const m=parseInt(G.slice(1),16);return[(m&16711680)>>16,(m&65280)>>8,m&255]}return G.startsWith("rgb(")?G.slice(4,-1).split(",").map(m=>parseInt(m)):G.startsWith("rgba(")?G.slice(5,-1).split(",").map(m=>parseInt(m)).slice(0,3):((0,i.warn)(`Not a valid color format: "${G}"`),[0,0,0])}function W(G){const m=document.createElement("span");m.style.visibility="hidden",document.body.append(m);for(const S of G.keys()){m.style.color=S;const r=window.getComputedStyle(m).color;G.set(S,d(r))}m.remove()}function K(G){const{a:m,b:S,c:r,d:o,e:f,f:R}=G.getTransform();return[m,S,r,o,f,R]}function tt(G){const{a:m,b:S,c:r,d:o,e:f,f:R}=G.getTransform().invertSelf();return[m,S,r,o,f,R]}function rt(G,m,S=!1,r=!0){if(m instanceof C){const{pageWidth:o,pageHeight:f}=m.rawDims,{style:R}=G,O=`calc(var(--scale-factor) * ${o}px)`,q=`calc(var(--scale-factor) * ${f}px)`;!S||m.rotation%180===0?(R.width=O,R.height=q):(R.width=q,R.height=O)}r&&G.setAttribute("data-main-rotation",m.rotation)}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=s(1);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(E){return"none"}addHCMFilter(E,I){return"none"}destroy(E=!1){}}e.BaseFilterFactory=i;class l{constructor(){this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(E,I){if(E<=0||I<=0)throw new Error("Invalid canvas size");const k=this._createCanvas(E,I);return{canvas:k,context:k.getContext("2d")}}reset(E,I,k){if(!E.canvas)throw new Error("Canvas is not specified");if(I<=0||k<=0)throw new Error("Invalid canvas size");E.canvas.width=I,E.canvas.height=k}destroy(E){if(!E.canvas)throw new Error("Canvas is not specified");E.canvas.width=0,E.canvas.height=0,E.canvas=null,E.context=null}_createCanvas(E,I){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=l;class _{constructor({baseUrl:E=null,isCompressed:I=!0}){this.constructor===_&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=E,this.isCompressed=I}async fetch({name:E}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!E)throw new Error("CMap name must be specified.");const I=this.baseUrl+E+(this.isCompressed?".bcmap":""),k=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(I,k).catch(L=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${I}`)})}_fetchData(E,I){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=_;class D{constructor({baseUrl:E=null}){this.constructor===D&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=E}async fetch({filename:E}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!E)throw new Error("Font filename must be specified.");const I=`${this.baseUrl}${E}`;return this._fetchData(I).catch(k=>{throw new Error(`Unable to load font data at: ${I}`)})}_fetchData(E){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=D;class x{constructor(){this.constructor===x&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(E,I,k=!1){if(E<=0||I<=0)throw new Error("Invalid SVG dimensions");const L=this._createSVG("svg:svg");return L.setAttribute("version","1.1"),k||(L.setAttribute("width",`${E}px`),L.setAttribute("height",`${I}px`)),L.setAttribute("preserveAspectRatio","none"),L.setAttribute("viewBox",`0 0 ${E} ${I}`),L}createElement(E){if(typeof E!="string")throw new Error("Invalid SVG element type");return this._createSVG(E)}_createSVG(E){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=x},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=s(1);const i=3285377520,l=4294901760,_=65535;class D{constructor(w){this.h1=w?w&4294967295:i,this.h2=w?w&4294967295:i}update(w){let E,I;if(typeof w=="string"){E=new Uint8Array(w.length*2),I=0;for(let b=0,c=w.length;b<c;b++){const v=w.charCodeAt(b);v<=255?E[I++]=v:(E[I++]=v>>>8,E[I++]=v&255)}}else if((0,n.isArrayBuffer)(w))E=w.slice(),I=E.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const k=I>>2,L=I-k*4,C=new Uint32Array(E.buffer,0,k);let y=0,u=0,F=this.h1,N=this.h2;const B=3432918353,A=461845907,a=B&_,g=A&_;for(let b=0;b<k;b++)b&1?(y=C[b],y=y*B&l|y*a&_,y=y<<15|y>>>17,y=y*A&l|y*g&_,F^=y,F=F<<13|F>>>19,F=F*5+3864292196):(u=C[b],u=u*B&l|u*a&_,u=u<<15|u>>>17,u=u*A&l|u*g&_,N^=u,N=N<<13|N>>>19,N=N*5+3864292196);switch(y=0,L){case 3:y^=E[k*4+2]<<16;case 2:y^=E[k*4+1]<<8;case 1:y^=E[k*4],y=y*B&l|y*a&_,y=y<<15|y>>>17,y=y*A&l|y*g&_,k&1?F^=y:N^=y}this.h1=F,this.h2=N}hexdigest(){let w=this.h1,E=this.h2;return w^=E>>>1,w=w*3981806797&l|w*36045&_,E=E*4283543511&l|((E<<16|w>>>16)*2950163797&l)>>>16,w^=E>>>1,w=w*444984403&l|w*60499&_,E=E*3301882366&l|((E<<16|w>>>16)*3120437893&l)>>>16,w^=E>>>1,(w>>>0).toString(16).padStart(8,"0")+(E>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=D},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=s(1),i=s(10);class l{constructor({ownerDocument:x=globalThis.document,styleElement:w=null}){this._document=x,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(x){this.nativeFontFaces.push(x),this._document.fonts.add(x)}insertRule(x){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const w=this.styleElement.sheet;w.insertRule(x,w.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(x){if(x.attached||x.missingFile)return;if(x.attached=!0,this.isFontLoadingAPISupported){const E=x.createNativeFontFace();if(E){this.addNativeFontFace(E);try{await E.loaded}catch(I){throw(0,n.warn)(`Failed to load font '${E.family}': '${I}'.`),x.disableFontFace=!0,I}}return}const w=x.createFontFaceRule();if(w){if(this.insertRule(w),this.isSyncFontLoadingSupported)return;await new Promise(E=>{const I=this._queueLoadingCallback(E);this._prepareFontLoadEvent(x,I)})}}get isFontLoadingAPISupported(){var w;const x=!!((w=this._document)!=null&&w.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",x)}get isSyncFontLoadingSupported(){let x=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(x=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){function w(){for((0,n.assert)(!I.done,"completeRequest() cannot be called twice."),I.done=!0;E.length>0&&E[0].done;){const k=E.shift();setTimeout(k.callback,0)}}const{loadingRequests:E}=this,I={done:!1,complete:w,callback:x};return E.push(I),I}get _loadTestFont(){const x=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",x)}_prepareFontLoadEvent(x,w){function E(d,W){return d.charCodeAt(W)<<24|d.charCodeAt(W+1)<<16|d.charCodeAt(W+2)<<8|d.charCodeAt(W+3)&255}function I(d,W,K,tt){const rt=d.substring(0,W),ot=d.substring(W+K);return rt+tt+ot}let k,L;const C=this._document.createElement("canvas");C.width=1,C.height=1;const y=C.getContext("2d");let u=0;function F(d,W){if(++u>30){(0,n.warn)("Load test font never loaded."),W();return}if(y.font="30px "+d,y.fillText(".",0,20),y.getImageData(0,0,1,1).data[3]>0){W();return}setTimeout(F.bind(null,d,W))}const N=`lt${Date.now()}${this.loadTestFontId++}`;let B=this._loadTestFont;B=I(B,976,N.length,N);const a=16,g=1482184792;let b=E(B,a);for(k=0,L=N.length-3;k<L;k+=4)b=b-g+E(N,k)|0;k<N.length&&(b=b-g+E(N+"XXX",k)|0),B=I(B,a,4,(0,n.string32)(b));const c=`url(data:font/opentype;base64,${btoa(B)});`,v=`@font-face {font-family:"${N}";src:${c}}`;this.insertRule(v);const H=this._document.createElement("div");H.style.visibility="hidden",H.style.width=H.style.height="10px",H.style.position="absolute",H.style.top=H.style.left="0px";for(const d of[x.loadedName,N]){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=d,H.append(W)}this._document.body.append(H),F(N,()=>{H.remove(),w.complete()})}}e.FontLoader=l;class _{constructor(x,{isEvalSupported:w=!0,disableFontFace:E=!1,ignoreErrors:I=!1,inspectFont:k=null}){this.compiledGlyphs=Object.create(null);for(const L in x)this[L]=x[L];this.isEvalSupported=w!==!1,this.disableFontFace=E===!0,this.ignoreErrors=I===!0,this._inspectFont=k}createNativeFontFace(){var w;if(!this.data||this.disableFontFace)return null;let x;if(!this.cssFontInfo)x=new FontFace(this.loadedName,this.data,{});else{const E={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(E.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,E)}return(w=this._inspectFont)==null||w.call(this,this),x}createFontFaceRule(){var I;if(!this.data||this.disableFontFace)return null;const x=(0,n.bytesToString)(this.data),w=`url(data:${this.mimetype};base64,${btoa(x)});`;let E;if(!this.cssFontInfo)E=`@font-face {font-family:"${this.loadedName}";src:${w}}`;else{let k=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(k+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),E=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${k}src:${w}}`}return(I=this._inspectFont)==null||I.call(this,this,w),E}getPathGenerator(x,w){if(this.compiledGlyphs[w]!==void 0)return this.compiledGlyphs[w];let E;try{E=x.get(this.loadedName+"_path_"+w)}catch(I){if(!this.ignoreErrors)throw I;return(0,n.warn)(`getPathGenerator - ignoring character: "${I}".`),this.compiledGlyphs[w]=function(k,L){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const I=[];for(const k of E){const L=k.args!==void 0?k.args.join(","):"";I.push("c.",k.cmd,"(",L,`);
`)}return this.compiledGlyphs[w]=new Function("c","size",I.join(""))}return this.compiledGlyphs[w]=function(I,k){for(const L of E)L.cmd==="scale"&&(L.args=[k,-k]),I[L.cmd].apply(I,L.args)}}}e.FontFaceObject=_},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=s},(t,e,s)=>{var gt,Ae,St,ye;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=s(1),i=s(6),l=s(12),_=s(13),D=s(10);const x=16,w=100,E=4096,I=15,k=10,L=1e3,C=16;function y(J,T){if(J._removeMirroring)throw new Error("Context is already forwarding operations.");J.__originalSave=J.save,J.__originalRestore=J.restore,J.__originalRotate=J.rotate,J.__originalScale=J.scale,J.__originalTranslate=J.translate,J.__originalTransform=J.transform,J.__originalSetTransform=J.setTransform,J.__originalResetTransform=J.resetTransform,J.__originalClip=J.clip,J.__originalMoveTo=J.moveTo,J.__originalLineTo=J.lineTo,J.__originalBezierCurveTo=J.bezierCurveTo,J.__originalRect=J.rect,J.__originalClosePath=J.closePath,J.__originalBeginPath=J.beginPath,J._removeMirroring=()=>{J.save=J.__originalSave,J.restore=J.__originalRestore,J.rotate=J.__originalRotate,J.scale=J.__originalScale,J.translate=J.__originalTranslate,J.transform=J.__originalTransform,J.setTransform=J.__originalSetTransform,J.resetTransform=J.__originalResetTransform,J.clip=J.__originalClip,J.moveTo=J.__originalMoveTo,J.lineTo=J.__originalLineTo,J.bezierCurveTo=J.__originalBezierCurveTo,J.rect=J.__originalRect,J.closePath=J.__originalClosePath,J.beginPath=J.__originalBeginPath,delete J._removeMirroring},J.save=function(){T.save(),this.__originalSave()},J.restore=function(){T.restore(),this.__originalRestore()},J.translate=function(j,X){T.translate(j,X),this.__originalTranslate(j,X)},J.scale=function(j,X){T.scale(j,X),this.__originalScale(j,X)},J.transform=function(j,X,$,Q,G,m){T.transform(j,X,$,Q,G,m),this.__originalTransform(j,X,$,Q,G,m)},J.setTransform=function(j,X,$,Q,G,m){T.setTransform(j,X,$,Q,G,m),this.__originalSetTransform(j,X,$,Q,G,m)},J.resetTransform=function(){T.resetTransform(),this.__originalResetTransform()},J.rotate=function(j){T.rotate(j),this.__originalRotate(j)},J.clip=function(j){T.clip(j),this.__originalClip(j)},J.moveTo=function(P,j){T.moveTo(P,j),this.__originalMoveTo(P,j)},J.lineTo=function(P,j){T.lineTo(P,j),this.__originalLineTo(P,j)},J.bezierCurveTo=function(P,j,X,$,Q,G){T.bezierCurveTo(P,j,X,$,Q,G),this.__originalBezierCurveTo(P,j,X,$,Q,G)},J.rect=function(P,j,X,$){T.rect(P,j,X,$),this.__originalRect(P,j,X,$)},J.closePath=function(){T.closePath(),this.__originalClosePath()},J.beginPath=function(){T.beginPath(),this.__originalBeginPath()}}class u{constructor(T){this.canvasFactory=T,this.cache=Object.create(null)}getCanvas(T,P,j){let X;return this.cache[T]!==void 0?(X=this.cache[T],this.canvasFactory.reset(X,P,j)):(X=this.canvasFactory.create(P,j),this.cache[T]=X),X}delete(T){delete this.cache[T]}clear(){for(const T in this.cache){const P=this.cache[T];this.canvasFactory.destroy(P),delete this.cache[T]}}}function F(J,T,P,j,X,$,Q,G,m,S){const[r,o,f,R,O,q]=(0,i.getCurrentTransform)(J);if(o===0&&f===0){const et=Q*r+O,nt=Math.round(et),Z=G*R+q,it=Math.round(Z),ct=(Q+m)*r+O,pt=Math.abs(Math.round(ct)-nt)||1,At=(G+S)*R+q,bt=Math.abs(Math.round(At)-it)||1;return J.setTransform(Math.sign(r),0,0,Math.sign(R),nt,it),J.drawImage(T,P,j,X,$,0,0,pt,bt),J.setTransform(r,o,f,R,O,q),[pt,bt]}if(r===0&&R===0){const et=G*f+O,nt=Math.round(et),Z=Q*o+q,it=Math.round(Z),ct=(G+S)*f+O,pt=Math.abs(Math.round(ct)-nt)||1,At=(Q+m)*o+q,bt=Math.abs(Math.round(At)-it)||1;return J.setTransform(0,Math.sign(o),Math.sign(f),0,nt,it),J.drawImage(T,P,j,X,$,0,0,bt,pt),J.setTransform(r,o,f,R,O,q),[bt,pt]}J.drawImage(T,P,j,X,$,Q,G,m,S);const Y=Math.hypot(r,o),z=Math.hypot(f,R);return[Y*m,z*S]}function N(J){const{width:T,height:P}=J;if(T>L||P>L)return null;const j=1e3,X=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),$=T+1;let Q=new Uint8Array($*(P+1)),G,m,S;const r=T+7&-8;let o=new Uint8Array(r*P),f=0;for(const z of J.data){let et=128;for(;et>0;)o[f++]=z&et?0:255,et>>=1}let R=0;for(f=0,o[f]!==0&&(Q[0]=1,++R),m=1;m<T;m++)o[f]!==o[f+1]&&(Q[m]=o[f]?2:1,++R),f++;for(o[f]!==0&&(Q[m]=2,++R),G=1;G<P;G++){f=G*r,S=G*$,o[f-r]!==o[f]&&(Q[S]=o[f]?1:8,++R);let z=(o[f]?4:0)+(o[f-r]?8:0);for(m=1;m<T;m++)z=(z>>2)+(o[f+1]?4:0)+(o[f-r+1]?8:0),X[z]&&(Q[S+m]=X[z],++R),f++;if(o[f-r]!==o[f]&&(Q[S+m]=o[f]?2:4,++R),R>j)return null}for(f=r*(P-1),S=G*$,o[f]!==0&&(Q[S]=8,++R),m=1;m<T;m++)o[f]!==o[f+1]&&(Q[S+m]=o[f]?4:8,++R),f++;if(o[f]!==0&&(Q[S+m]=4,++R),R>j)return null;const O=new Int32Array([0,$,-1,0,-$,0,0,0,1]),q=new Path2D;for(G=0;R&&G<=P;G++){let z=G*$;const et=z+T;for(;z<et&&!Q[z];)z++;if(z===et)continue;q.moveTo(z%$,G);const nt=z;let Z=Q[z];do{const it=O[Z];do z+=it;while(!Q[z]);const ct=Q[z];ct!==5&&ct!==10?(Z=ct,Q[z]=0):(Z=ct&51*Z>>4,Q[z]&=Z>>2|Z<<2),q.lineTo(z%$,z/$|0),Q[z]||--R}while(nt!==z);--G}return o=null,Q=null,function(z){z.save(),z.scale(1/T,-1/P),z.translate(0,-P),z.fill(q),z.beginPath(),z.restore()}}class B{constructor(T,P){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,T,P])}clone(){const T=Object.create(this);return T.clipBox=this.clipBox.slice(),T}setCurrentPoint(T,P){this.x=T,this.y=P}updatePathMinMax(T,P,j){[P,j]=n.Util.applyTransform([P,j],T),this.minX=Math.min(this.minX,P),this.minY=Math.min(this.minY,j),this.maxX=Math.max(this.maxX,P),this.maxY=Math.max(this.maxY,j)}updateRectMinMax(T,P){const j=n.Util.applyTransform(P,T),X=n.Util.applyTransform(P.slice(2),T);this.minX=Math.min(this.minX,j[0],X[0]),this.minY=Math.min(this.minY,j[1],X[1]),this.maxX=Math.max(this.maxX,j[0],X[0]),this.maxY=Math.max(this.maxY,j[1],X[1])}updateScalingPathMinMax(T,P){n.Util.scaleMinMax(T,P),this.minX=Math.min(this.minX,P[0]),this.maxX=Math.max(this.maxX,P[1]),this.minY=Math.min(this.minY,P[2]),this.maxY=Math.max(this.maxY,P[3])}updateCurvePathMinMax(T,P,j,X,$,Q,G,m,S,r){const o=n.Util.bezierBoundingBox(P,j,X,$,Q,G,m,S);if(r){r[0]=Math.min(r[0],o[0],o[2]),r[1]=Math.max(r[1],o[0],o[2]),r[2]=Math.min(r[2],o[1],o[3]),r[3]=Math.max(r[3],o[1],o[3]);return}this.updateRectMinMax(T,o)}getPathBoundingBox(T=l.PathType.FILL,P=null){const j=[this.minX,this.minY,this.maxX,this.maxY];if(T===l.PathType.STROKE){P||(0,n.unreachable)("Stroke bounding box must include transform.");const X=n.Util.singularValueDecompose2dScale(P),$=X[0]*this.lineWidth/2,Q=X[1]*this.lineWidth/2;j[0]-=$,j[1]-=Q,j[2]+=$,j[3]+=Q}return j}updateClipFromPath(){const T=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(T||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(T){this.clipBox=T,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(T=l.PathType.FILL,P=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(T,P))}}function A(J,T){if(typeof ImageData<"u"&&T instanceof ImageData){J.putImageData(T,0,0);return}const P=T.height,j=T.width,X=P%C,$=(P-X)/C,Q=X===0?$:$+1,G=J.createImageData(j,C);let m=0,S;const r=T.data,o=G.data;let f,R,O,q;if(T.kind===n.ImageKind.GRAYSCALE_1BPP){const Y=r.byteLength,z=new Uint32Array(o.buffer,0,o.byteLength>>2),et=z.length,nt=j+7>>3,Z=4294967295,it=n.FeatureTest.isLittleEndian?4278190080:255;for(f=0;f<Q;f++){for(O=f<$?C:X,S=0,R=0;R<O;R++){const ct=Y-m;let pt=0;const At=ct>nt?j:ct*8-7,bt=At&-8;let xt=0,st=0;for(;pt<bt;pt+=8)st=r[m++],z[S++]=st&128?Z:it,z[S++]=st&64?Z:it,z[S++]=st&32?Z:it,z[S++]=st&16?Z:it,z[S++]=st&8?Z:it,z[S++]=st&4?Z:it,z[S++]=st&2?Z:it,z[S++]=st&1?Z:it;for(;pt<At;pt++)xt===0&&(st=r[m++],xt=128),z[S++]=st&xt?Z:it,xt>>=1}for(;S<et;)z[S++]=0;J.putImageData(G,0,f*C)}}else if(T.kind===n.ImageKind.RGBA_32BPP){for(R=0,q=j*C*4,f=0;f<$;f++)o.set(r.subarray(m,m+q)),m+=q,J.putImageData(G,0,R),R+=C;f<Q&&(q=j*X*4,o.set(r.subarray(m,m+q)),J.putImageData(G,0,R))}else if(T.kind===n.ImageKind.RGB_24BPP)for(O=C,q=j*O,f=0;f<Q;f++){for(f>=$&&(O=X,q=j*O),S=0,R=q;R--;)o[S++]=r[m++],o[S++]=r[m++],o[S++]=r[m++],o[S++]=255;J.putImageData(G,0,f*C)}else throw new Error(`bad image kind: ${T.kind}`)}function a(J,T){if(T.bitmap){J.drawImage(T.bitmap,0,0);return}const P=T.height,j=T.width,X=P%C,$=(P-X)/C,Q=X===0?$:$+1,G=J.createImageData(j,C);let m=0;const S=T.data,r=G.data;for(let o=0;o<Q;o++){const f=o<$?C:X;({srcPos:m}=(0,_.convertBlackAndWhiteToRGBA)({src:S,srcPos:m,dest:r,width:j,height:f,nonBlackColor:0})),J.putImageData(G,0,o*C)}}function g(J,T){const P=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const j of P)J[j]!==void 0&&(T[j]=J[j]);J.setLineDash!==void 0&&(T.setLineDash(J.getLineDash()),T.lineDashOffset=J.lineDashOffset)}function b(J){J.strokeStyle=J.fillStyle="#000000",J.fillRule="nonzero",J.globalAlpha=1,J.lineWidth=1,J.lineCap="butt",J.lineJoin="miter",J.miterLimit=10,J.globalCompositeOperation="source-over",J.font="10px sans-serif",J.setLineDash!==void 0&&(J.setLineDash([]),J.lineDashOffset=0),D.isNodeJS||(J.filter="none")}function c(J,T,P,j){const X=J.length;for(let $=3;$<X;$+=4){const Q=J[$];if(Q===0)J[$-3]=T,J[$-2]=P,J[$-1]=j;else if(Q<255){const G=255-Q;J[$-3]=J[$-3]*Q+T*G>>8,J[$-2]=J[$-2]*Q+P*G>>8,J[$-1]=J[$-1]*Q+j*G>>8}}}function v(J,T,P){const j=J.length,X=1/255;for(let $=3;$<j;$+=4){const Q=P?P[J[$]]:J[$];T[$]=T[$]*Q*X|0}}function H(J,T,P){const j=J.length;for(let X=3;X<j;X+=4){const $=J[X-3]*77+J[X-2]*152+J[X-1]*28;T[X]=P?T[X]*P[$>>8]>>8:T[X]*$>>16}}function d(J,T,P,j,X,$,Q,G,m,S,r){const o=!!$,f=o?$[0]:0,R=o?$[1]:0,O=o?$[2]:0;let q;X==="Luminosity"?q=H:q=v;const z=Math.min(j,Math.ceil(1048576/P));for(let et=0;et<j;et+=z){const nt=Math.min(z,j-et),Z=J.getImageData(G-S,et+(m-r),P,nt),it=T.getImageData(G,et+m,P,nt);o&&c(Z.data,f,R,O),q(Z.data,it.data,Q),T.putImageData(it,G,et+m)}}function W(J,T,P,j){const X=j[0],$=j[1],Q=j[2]-X,G=j[3]-$;Q===0||G===0||(d(T.context,P,Q,G,T.subtype,T.backdrop,T.transferMap,X,$,T.offsetX,T.offsetY),J.save(),J.globalAlpha=1,J.globalCompositeOperation="source-over",J.setTransform(1,0,0,1,0,0),J.drawImage(P.canvas,0,0),J.restore())}function K(J,T){const P=n.Util.singularValueDecompose2dScale(J);P[0]=Math.fround(P[0]),P[1]=Math.fround(P[1]);const j=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return T!==void 0?T:P[0]<=j||P[1]<=j}const tt=["butt","round","square"],rt=["miter","round","bevel"],ot={},ht={},Et=class{constructor(T,P,j,X,$,{optionalContentConfig:Q,markedContentStack:G=null},m,S){at(this,gt);at(this,St);this.ctx=T,this.current=new B(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=P,this.objs=j,this.canvasFactory=X,this.filterFactory=$,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=G||[],this.optionalContentConfig=Q,this.cachedCanvases=new u(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=m,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=S,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(T,P=null){return typeof T=="string"?T.startsWith("g_")?this.commonObjs.get(T):this.objs.get(T):P}beginDrawing({transform:T,viewport:P,transparency:j=!1,background:X=null}){const $=this.ctx.canvas.width,Q=this.ctx.canvas.height,G=this.ctx.fillStyle;if(this.ctx.fillStyle=X||"#ffffff",this.ctx.fillRect(0,0,$,Q),this.ctx.fillStyle=G,j){const m=this.cachedCanvases.getCanvas("transparent",$,Q);this.compositeCtx=this.ctx,this.transparentCanvas=m.canvas,this.ctx=m.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),b(this.ctx),T&&(this.ctx.transform(...T),this.outputScaleX=T[0],this.outputScaleY=T[0]),this.ctx.transform(...P.transform),this.viewportScale=P.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(T,P,j,X){const $=T.argsArray,Q=T.fnArray;let G=P||0;const m=$.length;if(m===G)return G;const S=m-G>k&&typeof j=="function",r=S?Date.now()+I:0;let o=0;const f=this.commonObjs,R=this.objs;let O;for(;;){if(X!==void 0&&G===X.nextBreakPoint)return X.breakIt(G,j),G;if(O=Q[G],O!==n.OPS.dependency)this[O].apply(this,$[G]);else for(const q of $[G]){const Y=q.startsWith("g_")?f:R;if(!Y.has(q))return Y.get(q,j),G}if(G++,G===m)return G;if(S&&++o>k){if(Date.now()>r)return j(),G;o=0}}}endDrawing(){ut(this,gt,Ae).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const T of this._cachedBitmapsMap.values()){for(const P of T.values())typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement&&(P.width=P.height=0);T.clear()}this._cachedBitmapsMap.clear(),ut(this,St,ye).call(this)}_scaleImage(T,P){const j=T.width,X=T.height;let $=Math.max(Math.hypot(P[0],P[1]),1),Q=Math.max(Math.hypot(P[2],P[3]),1),G=j,m=X,S="prescale1",r,o;for(;$>2&&G>1||Q>2&&m>1;){let f=G,R=m;$>2&&G>1&&(f=G>=16384?Math.floor(G/2)-1||1:Math.ceil(G/2),$/=G/f),Q>2&&m>1&&(R=m>=16384?Math.floor(m/2)-1||1:Math.ceil(m)/2,Q/=m/R),r=this.cachedCanvases.getCanvas(S,f,R),o=r.context,o.clearRect(0,0,f,R),o.drawImage(T,0,0,G,m,0,0,f,R),T=r.canvas,G=f,m=R,S=S==="prescale1"?"prescale2":"prescale1"}return{img:T,paintWidth:G,paintHeight:m}}_createMaskCanvas(T){const P=this.ctx,{width:j,height:X}=T,$=this.current.fillColor,Q=this.current.patternFill,G=(0,i.getCurrentTransform)(P);let m,S,r,o;if((T.bitmap||T.data)&&T.count>1){const pt=T.bitmap||T.data.buffer;S=JSON.stringify(Q?G:[G.slice(0,4),$]),m=this._cachedBitmapsMap.get(pt),m||(m=new Map,this._cachedBitmapsMap.set(pt,m));const At=m.get(S);if(At&&!Q){const bt=Math.round(Math.min(G[0],G[2])+G[4]),xt=Math.round(Math.min(G[1],G[3])+G[5]);return{canvas:At,offsetX:bt,offsetY:xt}}r=At}r||(o=this.cachedCanvases.getCanvas("maskCanvas",j,X),a(o.context,T));let f=n.Util.transform(G,[1/j,0,0,-1/X,0,0]);f=n.Util.transform(f,[1,0,0,1,0,-X]);const R=n.Util.applyTransform([0,0],f),O=n.Util.applyTransform([j,X],f),q=n.Util.normalizeRect([R[0],R[1],O[0],O[1]]),Y=Math.round(q[2]-q[0])||1,z=Math.round(q[3]-q[1])||1,et=this.cachedCanvases.getCanvas("fillCanvas",Y,z),nt=et.context,Z=Math.min(R[0],O[0]),it=Math.min(R[1],O[1]);nt.translate(-Z,-it),nt.transform(...f),r||(r=this._scaleImage(o.canvas,(0,i.getCurrentTransformInverse)(nt)),r=r.img,m&&Q&&m.set(S,r)),nt.imageSmoothingEnabled=K((0,i.getCurrentTransform)(nt),T.interpolate),F(nt,r,0,0,r.width,r.height,0,0,j,X),nt.globalCompositeOperation="source-in";const ct=n.Util.transform((0,i.getCurrentTransformInverse)(nt),[1,0,0,1,-Z,-it]);return nt.fillStyle=Q?$.getPattern(P,this,ct,l.PathType.FILL):$,nt.fillRect(0,0,j,X),m&&!Q&&(this.cachedCanvases.delete("fillCanvas"),m.set(S,et.canvas)),{canvas:et.canvas,offsetX:Math.round(Z),offsetY:Math.round(it)}}setLineWidth(T){T!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=T,this.ctx.lineWidth=T}setLineCap(T){this.ctx.lineCap=tt[T]}setLineJoin(T){this.ctx.lineJoin=rt[T]}setMiterLimit(T){this.ctx.miterLimit=T}setDash(T,P){const j=this.ctx;j.setLineDash!==void 0&&(j.setLineDash(T),j.lineDashOffset=P)}setRenderingIntent(T){}setFlatness(T){}setGState(T){for(const[P,j]of T)switch(P){case"LW":this.setLineWidth(j);break;case"LC":this.setLineCap(j);break;case"LJ":this.setLineJoin(j);break;case"ML":this.setMiterLimit(j);break;case"D":this.setDash(j[0],j[1]);break;case"RI":this.setRenderingIntent(j);break;case"FL":this.setFlatness(j);break;case"Font":this.setFont(j[0],j[1]);break;case"CA":this.current.strokeAlpha=j;break;case"ca":this.current.fillAlpha=j,this.ctx.globalAlpha=j;break;case"BM":this.ctx.globalCompositeOperation=j;break;case"SMask":this.current.activeSMask=j?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(j);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const T=this.inSMaskMode;this.current.activeSMask&&!T?this.beginSMaskMode():!this.current.activeSMask&&T&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const T=this.ctx.canvas.width,P=this.ctx.canvas.height,j="smaskGroupAt"+this.groupLevel,X=this.cachedCanvases.getCanvas(j,T,P);this.suspendedCtx=this.ctx,this.ctx=X.context;const $=this.ctx;$.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),g(this.suspendedCtx,$),y($,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),g(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(T){if(!this.current.activeSMask)return;T?(T[0]=Math.floor(T[0]),T[1]=Math.floor(T[1]),T[2]=Math.ceil(T[2]),T[3]=Math.ceil(T[3])):T=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const P=this.current.activeSMask,j=this.suspendedCtx;W(j,P,this.ctx,T),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(g(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const T=this.current;this.stateStack.push(T),this.current=T.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),g(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(T,P,j,X,$,Q){this.ctx.transform(T,P,j,X,$,Q),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(T,P,j){const X=this.ctx,$=this.current;let Q=$.x,G=$.y,m,S;const r=(0,i.getCurrentTransform)(X),o=r[0]===0&&r[3]===0||r[1]===0&&r[2]===0,f=o?j.slice(0):null;for(let R=0,O=0,q=T.length;R<q;R++)switch(T[R]|0){case n.OPS.rectangle:Q=P[O++],G=P[O++];const Y=P[O++],z=P[O++],et=Q+Y,nt=G+z;X.moveTo(Q,G),Y===0||z===0?X.lineTo(et,nt):(X.lineTo(et,G),X.lineTo(et,nt),X.lineTo(Q,nt)),o||$.updateRectMinMax(r,[Q,G,et,nt]),X.closePath();break;case n.OPS.moveTo:Q=P[O++],G=P[O++],X.moveTo(Q,G),o||$.updatePathMinMax(r,Q,G);break;case n.OPS.lineTo:Q=P[O++],G=P[O++],X.lineTo(Q,G),o||$.updatePathMinMax(r,Q,G);break;case n.OPS.curveTo:m=Q,S=G,Q=P[O+4],G=P[O+5],X.bezierCurveTo(P[O],P[O+1],P[O+2],P[O+3],Q,G),$.updateCurvePathMinMax(r,m,S,P[O],P[O+1],P[O+2],P[O+3],Q,G,f),O+=6;break;case n.OPS.curveTo2:m=Q,S=G,X.bezierCurveTo(Q,G,P[O],P[O+1],P[O+2],P[O+3]),$.updateCurvePathMinMax(r,m,S,Q,G,P[O],P[O+1],P[O+2],P[O+3],f),Q=P[O+2],G=P[O+3],O+=4;break;case n.OPS.curveTo3:m=Q,S=G,Q=P[O+2],G=P[O+3],X.bezierCurveTo(P[O],P[O+1],Q,G,Q,G),$.updateCurvePathMinMax(r,m,S,P[O],P[O+1],Q,G,Q,G,f),O+=4;break;case n.OPS.closePath:X.closePath();break}o&&$.updateScalingPathMinMax(r,f),$.setCurrentPoint(Q,G)}closePath(){this.ctx.closePath()}stroke(T=!0){const P=this.ctx,j=this.current.strokeColor;P.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof j=="object"&&(j==null?void 0:j.getPattern)?(P.save(),P.strokeStyle=j.getPattern(P,this,(0,i.getCurrentTransformInverse)(P),l.PathType.STROKE),this.rescaleAndStroke(!1),P.restore()):this.rescaleAndStroke(!0)),T&&this.consumePath(this.current.getClippedPathBoundingBox()),P.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(T=!0){const P=this.ctx,j=this.current.fillColor,X=this.current.patternFill;let $=!1;X&&(P.save(),P.fillStyle=j.getPattern(P,this,(0,i.getCurrentTransformInverse)(P),l.PathType.FILL),$=!0);const Q=this.current.getClippedPathBoundingBox();this.contentVisible&&Q!==null&&(this.pendingEOFill?(P.fill("evenodd"),this.pendingEOFill=!1):P.fill()),$&&P.restore(),T&&this.consumePath(Q)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ot}eoClip(){this.pendingClip=ht}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const T=this.pendingTextPaths,P=this.ctx;if(T===void 0){P.beginPath();return}P.save(),P.beginPath();for(const j of T)P.setTransform(...j.transform),P.translate(j.x,j.y),j.addToPath(P,j.fontSize);P.restore(),P.clip(),P.beginPath(),delete this.pendingTextPaths}setCharSpacing(T){this.current.charSpacing=T}setWordSpacing(T){this.current.wordSpacing=T}setHScale(T){this.current.textHScale=T/100}setLeading(T){this.current.leading=-T}setFont(T,P){const j=this.commonObjs.get(T),X=this.current;if(!j)throw new Error(`Can't find font for ${T}`);if(X.fontMatrix=j.fontMatrix||n.FONT_IDENTITY_MATRIX,(X.fontMatrix[0]===0||X.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+T),P<0?(P=-P,X.fontDirection=-1):X.fontDirection=1,this.current.font=j,this.current.fontSize=P,j.isType3Font)return;const $=j.loadedName||"sans-serif";let Q="normal";j.black?Q="900":j.bold&&(Q="bold");const G=j.italic?"italic":"normal",m=`"${$}", ${j.fallbackName}`;let S=P;P<x?S=x:P>w&&(S=w),this.current.fontSizeScale=P/S,this.ctx.font=`${G} ${Q} ${S}px ${m}`}setTextRenderingMode(T){this.current.textRenderingMode=T}setTextRise(T){this.current.textRise=T}moveText(T,P){this.current.x=this.current.lineX+=T,this.current.y=this.current.lineY+=P}setLeadingMoveText(T,P){this.setLeading(-P),this.moveText(T,P)}setTextMatrix(T,P,j,X,$,Q){this.current.textMatrix=[T,P,j,X,$,Q],this.current.textMatrixScale=Math.hypot(T,P),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(T,P,j,X){const $=this.ctx,Q=this.current,G=Q.font,m=Q.textRenderingMode,S=Q.fontSize/Q.fontSizeScale,r=m&n.TextRenderingMode.FILL_STROKE_MASK,o=!!(m&n.TextRenderingMode.ADD_TO_PATH_FLAG),f=Q.patternFill&&!G.missingFile;let R;(G.disableFontFace||o||f)&&(R=G.getPathGenerator(this.commonObjs,T)),G.disableFontFace||f?($.save(),$.translate(P,j),$.beginPath(),R($,S),X&&$.setTransform(...X),(r===n.TextRenderingMode.FILL||r===n.TextRenderingMode.FILL_STROKE)&&$.fill(),(r===n.TextRenderingMode.STROKE||r===n.TextRenderingMode.FILL_STROKE)&&$.stroke(),$.restore()):((r===n.TextRenderingMode.FILL||r===n.TextRenderingMode.FILL_STROKE)&&$.fillText(T,P,j),(r===n.TextRenderingMode.STROKE||r===n.TextRenderingMode.FILL_STROKE)&&$.strokeText(T,P,j)),o&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)($),x:P,y:j,fontSize:S,addToPath:R})}get isFontSubpixelAAEnabled(){const{context:T}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);T.scale(1.5,1),T.fillText("I",0,10);const P=T.getImageData(0,0,10,10).data;let j=!1;for(let X=3;X<P.length;X+=4)if(P[X]>0&&P[X]<255){j=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",j)}showText(T){const P=this.current,j=P.font;if(j.isType3Font)return this.showType3Text(T);const X=P.fontSize;if(X===0)return;const $=this.ctx,Q=P.fontSizeScale,G=P.charSpacing,m=P.wordSpacing,S=P.fontDirection,r=P.textHScale*S,o=T.length,f=j.vertical,R=f?1:-1,O=j.defaultVMetrics,q=X*P.fontMatrix[0],Y=P.textRenderingMode===n.TextRenderingMode.FILL&&!j.disableFontFace&&!P.patternFill;$.save(),$.transform(...P.textMatrix),$.translate(P.x,P.y+P.textRise),S>0?$.scale(r,-1):$.scale(r,1);let z;if(P.patternFill){$.save();const ct=P.fillColor.getPattern($,this,(0,i.getCurrentTransformInverse)($),l.PathType.FILL);z=(0,i.getCurrentTransform)($),$.restore(),$.fillStyle=ct}let et=P.lineWidth;const nt=P.textMatrixScale;if(nt===0||et===0){const ct=P.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(ct===n.TextRenderingMode.STROKE||ct===n.TextRenderingMode.FILL_STROKE)&&(et=this.getSinglePixelWidth())}else et/=nt;if(Q!==1&&($.scale(Q,Q),et/=Q),$.lineWidth=et,j.isInvalidPDFjsFont){const ct=[];let pt=0;for(const At of T)ct.push(At.unicode),pt+=At.width;$.fillText(ct.join(""),0,0),P.x+=pt*q*r,$.restore(),this.compose();return}let Z=0,it;for(it=0;it<o;++it){const ct=T[it];if(typeof ct=="number"){Z+=R*ct*X/1e3;continue}let pt=!1;const At=(ct.isSpace?m:0)+G,bt=ct.fontChar,xt=ct.accent;let st,vt,Ct=ct.width;if(f){const dt=ct.vmetric||O,U=-(ct.vmetric?dt[1]:Ct*.5)*q,V=dt[2]*q;Ct=dt?-dt[0]:Ct,st=U/Q,vt=(Z+V)/Q}else st=Z/Q,vt=0;if(j.remeasure&&Ct>0){const dt=$.measureText(bt).width*1e3/X*Q;if(Ct<dt&&this.isFontSubpixelAAEnabled){const U=Ct/dt;pt=!0,$.save(),$.scale(U,1),st/=U}else Ct!==dt&&(st+=(Ct-dt)/2e3*X/Q)}if(this.contentVisible&&(ct.isInFont||j.missingFile)){if(Y&&!xt)$.fillText(bt,st,vt);else if(this.paintChar(bt,st,vt,z),xt){const dt=st+X*xt.offset.x/Q,U=vt-X*xt.offset.y/Q;this.paintChar(xt.fontChar,dt,U,z)}}let Mt;f?Mt=Ct*q-At*S:Mt=Ct*q+At*S,Z+=Mt,pt&&$.restore()}f?P.y-=Z:P.x+=Z*r,$.restore(),this.compose()}showType3Text(T){const P=this.ctx,j=this.current,X=j.font,$=j.fontSize,Q=j.fontDirection,G=X.vertical?1:-1,m=j.charSpacing,S=j.wordSpacing,r=j.textHScale*Q,o=j.fontMatrix||n.FONT_IDENTITY_MATRIX,f=T.length,R=j.textRenderingMode===n.TextRenderingMode.INVISIBLE;let O,q,Y,z;if(!(R||$===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,P.save(),P.transform(...j.textMatrix),P.translate(j.x,j.y),P.scale(r,Q),O=0;O<f;++O){if(q=T[O],typeof q=="number"){z=G*q*$/1e3,this.ctx.translate(z,0),j.x+=z*r;continue}const et=(q.isSpace?S:0)+m,nt=X.charProcOperatorList[q.operatorListId];if(!nt){(0,n.warn)(`Type3 character "${q.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=q,this.save(),P.scale($,$),P.transform(...o),this.executeOperatorList(nt),this.restore()),Y=n.Util.applyTransform([q.width,0],o)[0]*$+et,P.translate(Y,0),j.x+=Y*r}P.restore(),this.processingType3=null}}setCharWidth(T,P){}setCharWidthAndBounds(T,P,j,X,$,Q){this.ctx.rect(j,X,$-j,Q-X),this.ctx.clip(),this.endPath()}getColorN_Pattern(T){let P;if(T[0]==="TilingPattern"){const j=T[1],X=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),$={createCanvasGraphics:Q=>new Et(Q,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};P=new l.TilingPattern(T,j,this.ctx,$,X)}else P=this._getPattern(T[1],T[2]);return P}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(T,P,j){const X=n.Util.makeHexColor(T,P,j);this.ctx.strokeStyle=X,this.current.strokeColor=X}setFillRGBColor(T,P,j){const X=n.Util.makeHexColor(T,P,j);this.ctx.fillStyle=X,this.current.fillColor=X,this.current.patternFill=!1}_getPattern(T,P=null){let j;return this.cachedPatterns.has(T)?j=this.cachedPatterns.get(T):(j=(0,l.getShadingPattern)(this.getObject(T)),this.cachedPatterns.set(T,j)),P&&(j.matrix=P),j}shadingFill(T){if(!this.contentVisible)return;const P=this.ctx;this.save();const j=this._getPattern(T);P.fillStyle=j.getPattern(P,this,(0,i.getCurrentTransformInverse)(P),l.PathType.SHADING);const X=(0,i.getCurrentTransformInverse)(P);if(X){const $=P.canvas,Q=$.width,G=$.height,m=n.Util.applyTransform([0,0],X),S=n.Util.applyTransform([0,G],X),r=n.Util.applyTransform([Q,0],X),o=n.Util.applyTransform([Q,G],X),f=Math.min(m[0],S[0],r[0],o[0]),R=Math.min(m[1],S[1],r[1],o[1]),O=Math.max(m[0],S[0],r[0],o[0]),q=Math.max(m[1],S[1],r[1],o[1]);this.ctx.fillRect(f,R,O-f,q-R)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(T,P){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(T)&&T.length===6&&this.transform(...T),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),P)){const j=P[2]-P[0],X=P[3]-P[1];this.ctx.rect(P[0],P[1],j,X),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),P),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(T){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const P=this.ctx;T.isolated||(0,n.info)("TODO: Support non-isolated groups."),T.knockout&&(0,n.warn)("Knockout groups not supported.");const j=(0,i.getCurrentTransform)(P);if(T.matrix&&P.transform(...T.matrix),!T.bbox)throw new Error("Bounding box is required.");let X=n.Util.getAxialAlignedBoundingBox(T.bbox,(0,i.getCurrentTransform)(P));const $=[0,0,P.canvas.width,P.canvas.height];X=n.Util.intersect(X,$)||[0,0,0,0];const Q=Math.floor(X[0]),G=Math.floor(X[1]);let m=Math.max(Math.ceil(X[2])-Q,1),S=Math.max(Math.ceil(X[3])-G,1),r=1,o=1;m>E&&(r=m/E,m=E),S>E&&(o=S/E,S=E),this.current.startNewPathAndClipBox([0,0,m,S]);let f="groupAt"+this.groupLevel;T.smask&&(f+="_smask_"+this.smaskCounter++%2);const R=this.cachedCanvases.getCanvas(f,m,S),O=R.context;O.scale(1/r,1/o),O.translate(-Q,-G),O.transform(...j),T.smask?this.smaskStack.push({canvas:R.canvas,context:O,offsetX:Q,offsetY:G,scaleX:r,scaleY:o,subtype:T.smask.subtype,backdrop:T.smask.backdrop,transferMap:T.smask.transferMap||null,startTransformInverse:null}):(P.setTransform(1,0,0,1,0,0),P.translate(Q,G),P.scale(r,o),P.save()),g(P,O),this.ctx=O,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(P),this.groupLevel++}endGroup(T){if(!this.contentVisible)return;this.groupLevel--;const P=this.ctx,j=this.groupStack.pop();if(this.ctx=j,this.ctx.imageSmoothingEnabled=!1,T.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const X=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...X);const $=n.Util.getAxialAlignedBoundingBox([0,0,P.canvas.width,P.canvas.height],X);this.ctx.drawImage(P.canvas,0,0),this.ctx.restore(),this.compose($)}}beginAnnotation(T,P,j,X,$){if(ut(this,gt,Ae).call(this),b(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(P)&&P.length===4){const Q=P[2]-P[0],G=P[3]-P[1];if($&&this.annotationCanvasMap){j=j.slice(),j[4]-=P[0],j[5]-=P[1],P=P.slice(),P[0]=P[1]=0,P[2]=Q,P[3]=G;const[m,S]=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:r}=this,o=Math.ceil(Q*this.outputScaleX*r),f=Math.ceil(G*this.outputScaleY*r);this.annotationCanvas=this.canvasFactory.create(o,f);const{canvas:R,context:O}=this.annotationCanvas;this.annotationCanvasMap.set(T,R),this.annotationCanvas.savedCtx=this.ctx,this.ctx=O,this.ctx.save(),this.ctx.setTransform(m,0,0,-S,0,G*S),b(this.ctx)}else b(this.ctx),this.ctx.rect(P[0],P[1],Q,G),this.ctx.clip(),this.endPath()}this.current=new B(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...j),this.transform(...X)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ut(this,St,ye).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(T){if(!this.contentVisible)return;const P=T.count;T=this.getObject(T.data,T),T.count=P;const j=this.ctx,X=this.processingType3;if(X&&(X.compiled===void 0&&(X.compiled=N(T)),X.compiled)){X.compiled(j);return}const $=this._createMaskCanvas(T),Q=$.canvas;j.save(),j.setTransform(1,0,0,1,0,0),j.drawImage(Q,$.offsetX,$.offsetY),j.restore(),this.compose()}paintImageMaskXObjectRepeat(T,P,j=0,X=0,$,Q){if(!this.contentVisible)return;T=this.getObject(T.data,T);const G=this.ctx;G.save();const m=(0,i.getCurrentTransform)(G);G.transform(P,j,X,$,0,0);const S=this._createMaskCanvas(T);G.setTransform(1,0,0,1,S.offsetX-m[4],S.offsetY-m[5]);for(let r=0,o=Q.length;r<o;r+=2){const f=n.Util.transform(m,[P,j,X,$,Q[r],Q[r+1]]),[R,O]=n.Util.applyTransform([0,0],f);G.drawImage(S.canvas,R,O)}G.restore(),this.compose()}paintImageMaskXObjectGroup(T){if(!this.contentVisible)return;const P=this.ctx,j=this.current.fillColor,X=this.current.patternFill;for(const $ of T){const{data:Q,width:G,height:m,transform:S}=$,r=this.cachedCanvases.getCanvas("maskCanvas",G,m),o=r.context;o.save();const f=this.getObject(Q,$);a(o,f),o.globalCompositeOperation="source-in",o.fillStyle=X?j.getPattern(o,this,(0,i.getCurrentTransformInverse)(P),l.PathType.FILL):j,o.fillRect(0,0,G,m),o.restore(),P.save(),P.transform(...S),P.scale(1,-1),F(P,r.canvas,0,0,G,m,0,-1,1,1),P.restore()}this.compose()}paintImageXObject(T){if(!this.contentVisible)return;const P=this.getObject(T);if(!P){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(P)}paintImageXObjectRepeat(T,P,j,X){if(!this.contentVisible)return;const $=this.getObject(T);if(!$){(0,n.warn)("Dependent image isn't ready yet");return}const Q=$.width,G=$.height,m=[];for(let S=0,r=X.length;S<r;S+=2)m.push({transform:[P,0,0,j,X[S],X[S+1]],x:0,y:0,w:Q,h:G});this.paintInlineImageXObjectGroup($,m)}applyTransferMapsToCanvas(T){return this.current.transferMaps!=="none"&&(T.filter=this.current.transferMaps,T.drawImage(T.canvas,0,0),T.filter="none"),T.canvas}applyTransferMapsToBitmap(T){if(this.current.transferMaps==="none")return T.bitmap;const{bitmap:P,width:j,height:X}=T,$=this.cachedCanvases.getCanvas("inlineImage",j,X),Q=$.context;return Q.filter=this.current.transferMaps,Q.drawImage(P,0,0),Q.filter="none",$.canvas}paintInlineImageXObject(T){if(!this.contentVisible)return;const P=T.width,j=T.height,X=this.ctx;this.save(),D.isNodeJS||(X.filter="none"),X.scale(1/P,-1/j);let $;if(T.bitmap)$=this.applyTransferMapsToBitmap(T);else if(typeof HTMLElement=="function"&&T instanceof HTMLElement||!T.data)$=T;else{const m=this.cachedCanvases.getCanvas("inlineImage",P,j).context;A(m,T),$=this.applyTransferMapsToCanvas(m)}const Q=this._scaleImage($,(0,i.getCurrentTransformInverse)(X));X.imageSmoothingEnabled=K((0,i.getCurrentTransform)(X),T.interpolate),F(X,Q.img,0,0,Q.paintWidth,Q.paintHeight,0,-j,P,j),this.compose(),this.restore()}paintInlineImageXObjectGroup(T,P){if(!this.contentVisible)return;const j=this.ctx;let X;if(T.bitmap)X=T.bitmap;else{const $=T.width,Q=T.height,m=this.cachedCanvases.getCanvas("inlineImage",$,Q).context;A(m,T),X=this.applyTransferMapsToCanvas(m)}for(const $ of P)j.save(),j.transform(...$.transform),j.scale(1,-1),F(j,X,$.x,$.y,$.w,$.h,0,-1,1,1),j.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(T){}markPointProps(T,P){}beginMarkedContent(T){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(T,P){T==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(P)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(T){const P=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(T);const j=this.ctx;this.pendingClip&&(P||(this.pendingClip===ht?j.clip("evenodd"):j.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),j.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const T=(0,i.getCurrentTransform)(this.ctx);if(T[1]===0&&T[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(T[0]),Math.abs(T[3]));else{const P=Math.abs(T[0]*T[3]-T[2]*T[1]),j=Math.hypot(T[0],T[2]),X=Math.hypot(T[1],T[3]);this._cachedGetSinglePixelWidth=Math.max(j,X)/P}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:T}=this.current,P=(0,i.getCurrentTransform)(this.ctx);let j,X;if(P[1]===0&&P[2]===0){const $=Math.abs(P[0]),Q=Math.abs(P[3]);if(T===0)j=1/$,X=1/Q;else{const G=$*T,m=Q*T;j=G<1?1/G:1,X=m<1?1/m:1}}else{const $=Math.abs(P[0]*P[3]-P[2]*P[1]),Q=Math.hypot(P[0],P[1]),G=Math.hypot(P[2],P[3]);if(T===0)j=G/$,X=Q/$;else{const m=T*$;j=G>m?G/m:1,X=Q>m?Q/m:1}}this._cachedScaleForStroking=[j,X]}return this._cachedScaleForStroking}rescaleAndStroke(T){const{ctx:P}=this,{lineWidth:j}=this.current,[X,$]=this.getScaleForStroking();if(P.lineWidth=j||1,X===1&&$===1){P.stroke();return}let Q,G,m;T&&(Q=(0,i.getCurrentTransform)(P),G=P.getLineDash().slice(),m=P.lineDashOffset),P.scale(X,$);const S=Math.max(X,$);P.setLineDash(P.getLineDash().map(r=>r/S)),P.lineDashOffset/=S,P.stroke(),T&&(P.setTransform(...Q),P.setLineDash(G),P.lineDashOffset=m)}isContentVisible(){for(let T=this.markedContentStack.length-1;T>=0;T--)if(!this.markedContentStack[T].visible)return!1;return!0}};let lt=Et;gt=new WeakSet,Ae=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},St=new WeakSet,ye=function(){if(this.pageColors){const T=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(T!=="none"){const P=this.ctx.filter;this.ctx.filter=T,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=P}}},e.CanvasGraphics=lt;for(const J in n.OPS)lt.prototype[J]!==void 0&&(lt.prototype[n.OPS[J]]=lt.prototype[J])},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=L;var n=s(1),i=s(6);const l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=l;function _(F,N){if(!N)return;const B=N[2]-N[0],A=N[3]-N[1],a=new Path2D;a.rect(N[0],N[1],B,A),F.clip(a)}class D{constructor(){this.constructor===D&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class x extends D{constructor(N){super(),this._type=N[1],this._bbox=N[2],this._colorStops=N[3],this._p0=N[4],this._p1=N[5],this._r0=N[6],this._r1=N[7],this.matrix=null}_createGradient(N){let B;this._type==="axial"?B=N.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(B=N.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const A of this._colorStops)B.addColorStop(A[0],A[1]);return B}getPattern(N,B,A,a){let g;if(a===l.STROKE||a===l.FILL){const b=B.current.getClippedPathBoundingBox(a,(0,i.getCurrentTransform)(N))||[0,0,0,0],c=Math.ceil(b[2]-b[0])||1,v=Math.ceil(b[3]-b[1])||1,H=B.cachedCanvases.getCanvas("pattern",c,v,!0),d=H.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-b[0],-b[1]),A=n.Util.transform(A,[1,0,0,1,b[0],b[1]]),d.transform(...B.baseTransform),this.matrix&&d.transform(...this.matrix),_(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),g=N.createPattern(H.canvas,"no-repeat");const W=new DOMMatrix(A);g.setTransform(W)}else _(N,this._bbox),g=this._createGradient(N);return g}}function w(F,N,B,A,a,g,b,c){const v=N.coords,H=N.colors,d=F.data,W=F.width*4;let K;v[B+1]>v[A+1]&&(K=B,B=A,A=K,K=g,g=b,b=K),v[A+1]>v[a+1]&&(K=A,A=a,a=K,K=b,b=c,c=K),v[B+1]>v[A+1]&&(K=B,B=A,A=K,K=g,g=b,b=K);const tt=(v[B]+N.offsetX)*N.scaleX,rt=(v[B+1]+N.offsetY)*N.scaleY,ot=(v[A]+N.offsetX)*N.scaleX,ht=(v[A+1]+N.offsetY)*N.scaleY,lt=(v[a]+N.offsetX)*N.scaleX,gt=(v[a+1]+N.offsetY)*N.scaleY;if(rt>=gt)return;const yt=H[g],St=H[g+1],Tt=H[g+2],Et=H[b],J=H[b+1],T=H[b+2],P=H[c],j=H[c+1],X=H[c+2],$=Math.round(rt),Q=Math.round(gt);let G,m,S,r,o,f,R,O;for(let q=$;q<=Q;q++){if(q<ht){let Z;q<rt?Z=0:Z=(rt-q)/(rt-ht),G=tt-(tt-ot)*Z,m=yt-(yt-Et)*Z,S=St-(St-J)*Z,r=Tt-(Tt-T)*Z}else{let Z;q>gt?Z=1:ht===gt?Z=0:Z=(ht-q)/(ht-gt),G=ot-(ot-lt)*Z,m=Et-(Et-P)*Z,S=J-(J-j)*Z,r=T-(T-X)*Z}let Y;q<rt?Y=0:q>gt?Y=1:Y=(rt-q)/(rt-gt),o=tt-(tt-lt)*Y,f=yt-(yt-P)*Y,R=St-(St-j)*Y,O=Tt-(Tt-X)*Y;const z=Math.round(Math.min(G,o)),et=Math.round(Math.max(G,o));let nt=W*q+z*4;for(let Z=z;Z<=et;Z++)Y=(G-Z)/(G-o),Y<0?Y=0:Y>1&&(Y=1),d[nt++]=m-(m-f)*Y|0,d[nt++]=S-(S-R)*Y|0,d[nt++]=r-(r-O)*Y|0,d[nt++]=255}}function E(F,N,B){const A=N.coords,a=N.colors;let g,b;switch(N.type){case"lattice":const c=N.verticesPerRow,v=Math.floor(A.length/c)-1,H=c-1;for(g=0;g<v;g++){let d=g*c;for(let W=0;W<H;W++,d++)w(F,B,A[d],A[d+1],A[d+c],a[d],a[d+1],a[d+c]),w(F,B,A[d+c+1],A[d+1],A[d+c],a[d+c+1],a[d+1],a[d+c])}break;case"triangles":for(g=0,b=A.length;g<b;g+=3)w(F,B,A[g],A[g+1],A[g+2],a[g],a[g+1],a[g+2]);break;default:throw new Error("illegal figure")}}class I extends D{constructor(N){super(),this._coords=N[2],this._colors=N[3],this._figures=N[4],this._bounds=N[5],this._bbox=N[7],this._background=N[8],this.matrix=null}_createMeshCanvas(N,B,A){const c=Math.floor(this._bounds[0]),v=Math.floor(this._bounds[1]),H=Math.ceil(this._bounds[2])-c,d=Math.ceil(this._bounds[3])-v,W=Math.min(Math.ceil(Math.abs(H*N[0]*1.1)),3e3),K=Math.min(Math.ceil(Math.abs(d*N[1]*1.1)),3e3),tt=H/W,rt=d/K,ot={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-v,scaleX:1/tt,scaleY:1/rt},ht=W+2*2,lt=K+2*2,gt=A.getCanvas("mesh",ht,lt,!1),yt=gt.context,St=yt.createImageData(W,K);if(B){const Et=St.data;for(let J=0,T=Et.length;J<T;J+=4)Et[J]=B[0],Et[J+1]=B[1],Et[J+2]=B[2],Et[J+3]=255}for(const Et of this._figures)E(St,Et,ot);return yt.putImageData(St,2,2),{canvas:gt.canvas,offsetX:c-2*tt,offsetY:v-2*rt,scaleX:tt,scaleY:rt}}getPattern(N,B,A,a){_(N,this._bbox);let g;if(a===l.SHADING)g=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(N));else if(g=n.Util.singularValueDecompose2dScale(B.baseTransform),this.matrix){const c=n.Util.singularValueDecompose2dScale(this.matrix);g=[g[0]*c[0],g[1]*c[1]]}const b=this._createMeshCanvas(g,a===l.SHADING?null:this._background,B.cachedCanvases);return a!==l.SHADING&&(N.setTransform(...B.baseTransform),this.matrix&&N.transform(...this.matrix)),N.translate(b.offsetX,b.offsetY),N.scale(b.scaleX,b.scaleY),N.createPattern(b.canvas,"no-repeat")}}class k extends D{getPattern(){return"hotpink"}}function L(F){switch(F[0]){case"RadialAxial":return new x(F);case"Mesh":return new I(F);case"Dummy":return new k}throw new Error(`Unknown IR type: ${F[0]}`)}const C={COLORED:1,UNCOLORED:2},u=class{constructor(N,B,A,a,g){this.operatorList=N[2],this.matrix=N[3]||[1,0,0,1,0,0],this.bbox=N[4],this.xstep=N[5],this.ystep=N[6],this.paintType=N[7],this.tilingType=N[8],this.color=B,this.ctx=A,this.canvasGraphicsFactory=a,this.baseTransform=g}createPatternCanvas(N){const B=this.operatorList,A=this.bbox,a=this.xstep,g=this.ystep,b=this.paintType,c=this.tilingType,v=this.color,H=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+c);const d=A[0],W=A[1],K=A[2],tt=A[3],rt=n.Util.singularValueDecompose2dScale(this.matrix),ot=n.Util.singularValueDecompose2dScale(this.baseTransform),ht=[rt[0]*ot[0],rt[1]*ot[1]],lt=this.getSizeAndScale(a,this.ctx.canvas.width,ht[0]),gt=this.getSizeAndScale(g,this.ctx.canvas.height,ht[1]),yt=N.cachedCanvases.getCanvas("pattern",lt.size,gt.size,!0),St=yt.context,Tt=H.createCanvasGraphics(St);Tt.groupLevel=N.groupLevel,this.setFillAndStrokeStyleToContext(Tt,b,v);let Et=d,J=W,T=K,P=tt;return d<0&&(Et=0,T+=Math.abs(d)),W<0&&(J=0,P+=Math.abs(W)),St.translate(-(lt.scale*Et),-(gt.scale*J)),Tt.transform(lt.scale,0,0,gt.scale,0,0),St.save(),this.clipBbox(Tt,Et,J,T,P),Tt.baseTransform=(0,i.getCurrentTransform)(Tt.ctx),Tt.executeOperatorList(B),Tt.endDrawing(),{canvas:yt.canvas,scaleX:lt.scale,scaleY:gt.scale,offsetX:Et,offsetY:J}}getSizeAndScale(N,B,A){N=Math.abs(N);const a=Math.max(u.MAX_PATTERN_SIZE,B);let g=Math.ceil(N*A);return g>=a?g=a:A=g/N,{scale:A,size:g}}clipBbox(N,B,A,a,g){const b=a-B,c=g-A;N.ctx.rect(B,A,b,c),N.current.updateRectMinMax((0,i.getCurrentTransform)(N.ctx),[B,A,a,g]),N.clip(),N.endPath()}setFillAndStrokeStyleToContext(N,B,A){const a=N.ctx,g=N.current;switch(B){case C.COLORED:const b=this.ctx;a.fillStyle=b.fillStyle,a.strokeStyle=b.strokeStyle,g.fillColor=b.fillStyle,g.strokeColor=b.strokeStyle;break;case C.UNCOLORED:const c=n.Util.makeHexColor(A[0],A[1],A[2]);a.fillStyle=c,a.strokeStyle=c,g.fillColor=c,g.strokeColor=c;break;default:throw new n.FormatError(`Unsupported paint type: ${B}`)}}getPattern(N,B,A,a){let g=A;a!==l.SHADING&&(g=n.Util.transform(g,B.baseTransform),this.matrix&&(g=n.Util.transform(g,this.matrix)));const b=this.createPatternCanvas(B);let c=new DOMMatrix(g);c=c.translate(b.offsetX,b.offsetY),c=c.scale(1/b.scaleX,1/b.scaleY);const v=N.createPattern(b.canvas,"repeat");return v.setTransform(c),v}};let y=u;Lt(y,"MAX_PATTERN_SIZE",3e3),e.TilingPattern=y},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=l,e.convertToRGBA=i,e.grayToRGBA=D;var n=s(1);function i(x){switch(x.kind){case n.ImageKind.GRAYSCALE_1BPP:return l(x);case n.ImageKind.RGB_24BPP:return _(x)}return null}function l({src:x,srcPos:w=0,dest:E,width:I,height:k,nonBlackColor:L=4294967295,inverseDecode:C=!1}){const y=n.FeatureTest.isLittleEndian?4278190080:255,[u,F]=C?[L,y]:[y,L],N=I>>3,B=I&7,A=x.length;E=new Uint32Array(E.buffer);let a=0;for(let g=0;g<k;g++){for(const c=w+N;w<c;w++){const v=w<A?x[w]:255;E[a++]=v&128?F:u,E[a++]=v&64?F:u,E[a++]=v&32?F:u,E[a++]=v&16?F:u,E[a++]=v&8?F:u,E[a++]=v&4?F:u,E[a++]=v&2?F:u,E[a++]=v&1?F:u}if(B===0)continue;const b=w<A?x[w++]:255;for(let c=0;c<B;c++)E[a++]=b&1<<7-c?F:u}return{srcPos:w,destPos:a}}function _({src:x,srcPos:w=0,dest:E,destPos:I=0,width:k,height:L}){let C=0;const y=x.length>>2,u=new Uint32Array(x.buffer,w,y);if(n.FeatureTest.isLittleEndian){for(;C<y-2;C+=3,I+=4){const F=u[C],N=u[C+1],B=u[C+2];E[I]=F|4278190080,E[I+1]=F>>>24|N<<8|4278190080,E[I+2]=N>>>16|B<<16|4278190080,E[I+3]=B>>>8|4278190080}for(let F=C*4,N=x.length;F<N;F+=3)E[I++]=x[F]|x[F+1]<<8|x[F+2]<<16|4278190080}else{for(;C<y-2;C+=3,I+=4){const F=u[C],N=u[C+1],B=u[C+2];E[I]=F|255,E[I+1]=F<<24|N>>>8|255,E[I+2]=N<<16|B>>>16|255,E[I+3]=B<<8|255}for(let F=C*4,N=x.length;F<N;F+=3)E[I++]=x[F]<<24|x[F+1]<<16|x[F+2]<<8|255}return{srcPos:w,destPos:I}}function D(x,w){if(n.FeatureTest.isLittleEndian)for(let E=0,I=x.length;E<I;E++)w[E]=x[E]*65793|4278190080;else for(let E=0,I=x.length;E<I;E++)w[E]=x[E]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const s=Object.create(null);e.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(t,e,s)=>{var x,qe,E,Ve,k,le;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=s(1);const i={UNKNOWN:0,DATA:1,ERROR:2},l={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _(C){switch(C instanceof Error||typeof C=="object"&&C!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),C.name){case"AbortException":return new n.AbortException(C.message);case"MissingPDFException":return new n.MissingPDFException(C.message);case"PasswordException":return new n.PasswordException(C.message,C.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(C.message,C.status);case"UnknownErrorException":return new n.UnknownErrorException(C.message,C.details);default:return new n.UnknownErrorException(C.message,C.toString())}}class D{constructor(y,u,F){at(this,x);at(this,E);at(this,k);this.sourceName=y,this.targetName=u,this.comObj=F,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=N=>{const B=N.data;if(B.targetName!==this.sourceName)return;if(B.stream){ut(this,E,Ve).call(this,B);return}if(B.callback){const a=B.callbackId,g=this.callbackCapabilities[a];if(!g)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],B.callback===i.DATA)g.resolve(B.data);else if(B.callback===i.ERROR)g.reject(_(B.reason));else throw new Error("Unexpected callback case");return}const A=this.actionHandler[B.action];if(!A)throw new Error(`Unknown action from worker: ${B.action}`);if(B.callbackId){const a=this.sourceName,g=B.sourceName;new Promise(function(b){b(A(B.data))}).then(function(b){F.postMessage({sourceName:a,targetName:g,callback:i.DATA,callbackId:B.callbackId,data:b})},function(b){F.postMessage({sourceName:a,targetName:g,callback:i.ERROR,callbackId:B.callbackId,reason:_(b)})});return}if(B.streamId){ut(this,x,qe).call(this,B);return}A(B.data)},F.addEventListener("message",this._onComObjOnMessage)}on(y,u){const F=this.actionHandler;if(F[y])throw new Error(`There is already an actionName called "${y}"`);F[y]=u}send(y,u,F){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,data:u},F)}sendWithPromise(y,u,F){const N=this.callbackId++,B=new n.PromiseCapability;this.callbackCapabilities[N]=B;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,callbackId:N,data:u},F)}catch(A){B.reject(A)}return B.promise}sendWithStream(y,u,F,N){const B=this.streamId++,A=this.sourceName,a=this.targetName,g=this.comObj;return new ReadableStream({start:b=>{const c=new n.PromiseCapability;return this.streamControllers[B]={controller:b,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},g.postMessage({sourceName:A,targetName:a,action:y,streamId:B,data:u,desiredSize:b.desiredSize},N),c.promise},pull:b=>{const c=new n.PromiseCapability;return this.streamControllers[B].pullCall=c,g.postMessage({sourceName:A,targetName:a,stream:l.PULL,streamId:B,desiredSize:b.desiredSize}),c.promise},cancel:b=>{(0,n.assert)(b instanceof Error,"cancel must have a valid reason");const c=new n.PromiseCapability;return this.streamControllers[B].cancelCall=c,this.streamControllers[B].isClosed=!0,g.postMessage({sourceName:A,targetName:a,stream:l.CANCEL,streamId:B,reason:_(b)}),c.promise}},F)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}x=new WeakSet,qe=function(y){const u=y.streamId,F=this.sourceName,N=y.sourceName,B=this.comObj,A=this,a=this.actionHandler[y.action],g={enqueue(b,c=1,v){if(this.isCancelled)return;const H=this.desiredSize;this.desiredSize-=c,H>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),B.postMessage({sourceName:F,targetName:N,stream:l.ENQUEUE,streamId:u,chunk:b},v)},close(){this.isCancelled||(this.isCancelled=!0,B.postMessage({sourceName:F,targetName:N,stream:l.CLOSE,streamId:u}),delete A.streamSinks[u])},error(b){(0,n.assert)(b instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,B.postMessage({sourceName:F,targetName:N,stream:l.ERROR,streamId:u,reason:_(b)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:y.desiredSize,ready:null};g.sinkCapability.resolve(),g.ready=g.sinkCapability.promise,this.streamSinks[u]=g,new Promise(function(b){b(a(y.data,g))}).then(function(){B.postMessage({sourceName:F,targetName:N,stream:l.START_COMPLETE,streamId:u,success:!0})},function(b){B.postMessage({sourceName:F,targetName:N,stream:l.START_COMPLETE,streamId:u,reason:_(b)})})},E=new WeakSet,Ve=function(y){const u=y.streamId,F=this.sourceName,N=y.sourceName,B=this.comObj,A=this.streamControllers[u],a=this.streamSinks[u];switch(y.stream){case l.START_COMPLETE:y.success?A.startCall.resolve():A.startCall.reject(_(y.reason));break;case l.PULL_COMPLETE:y.success?A.pullCall.resolve():A.pullCall.reject(_(y.reason));break;case l.PULL:if(!a){B.postMessage({sourceName:F,targetName:N,stream:l.PULL_COMPLETE,streamId:u,success:!0});break}a.desiredSize<=0&&y.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=y.desiredSize,new Promise(function(g){var b;g((b=a.onPull)==null?void 0:b.call(a))}).then(function(){B.postMessage({sourceName:F,targetName:N,stream:l.PULL_COMPLETE,streamId:u,success:!0})},function(g){B.postMessage({sourceName:F,targetName:N,stream:l.PULL_COMPLETE,streamId:u,reason:_(g)})});break;case l.ENQUEUE:if((0,n.assert)(A,"enqueue should have stream controller"),A.isClosed)break;A.controller.enqueue(y.chunk);break;case l.CLOSE:if((0,n.assert)(A,"close should have stream controller"),A.isClosed)break;A.isClosed=!0,A.controller.close(),ut(this,k,le).call(this,A,u);break;case l.ERROR:(0,n.assert)(A,"error should have stream controller"),A.controller.error(_(y.reason)),ut(this,k,le).call(this,A,u);break;case l.CANCEL_COMPLETE:y.success?A.cancelCall.resolve():A.cancelCall.reject(_(y.reason)),ut(this,k,le).call(this,A,u);break;case l.CANCEL:if(!a)break;new Promise(function(g){var b;g((b=a.onCancel)==null?void 0:b.call(a,_(y.reason)))}).then(function(){B.postMessage({sourceName:F,targetName:N,stream:l.CANCEL_COMPLETE,streamId:u,success:!0})},function(g){B.postMessage({sourceName:F,targetName:N,stream:l.CANCEL_COMPLETE,streamId:u,reason:_(g)})}),a.sinkCapability.reject(_(y.reason)),a.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}},k=new WeakSet,le=async function(y,u){var F,N,B;await Promise.allSettled([(F=y.startCall)==null?void 0:F.promise,(N=y.pullCall)==null?void 0:N.promise,(B=y.cancelCall)==null?void 0:B.promise]),delete this.streamControllers[u]},e.MessageHandler=D},(t,e,s)=>{var l,_;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=s(1);class i{constructor({parsedData:x,rawData:w}){at(this,l,void 0);at(this,_,void 0);mt(this,l,x),mt(this,_,w)}getRaw(){return M(this,_)}get(x){var w;return(w=M(this,l).get(x))!=null?w:null}getAll(){return(0,n.objectFromMap)(M(this,l))}has(x){return M(this,l).has(x)}}l=new WeakMap,_=new WeakMap,e.Metadata=i},(t,e,s)=>{var x,w,E,I,k,L,ve;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=s(1),i=s(8);const l=Symbol("INTERNAL");class _{constructor(u,F){at(this,x,!0);this.name=u,this.intent=F}get visible(){return M(this,x)}_setVisible(u,F){u!==l&&(0,n.unreachable)("Internal method `_setVisible` called."),mt(this,x,F)}}x=new WeakMap;class D{constructor(u){at(this,L);at(this,w,null);at(this,E,new Map);at(this,I,null);at(this,k,null);if(this.name=null,this.creator=null,u!==null){this.name=u.name,this.creator=u.creator,mt(this,k,u.order);for(const F of u.groups)M(this,E).set(F.id,new _(F.name,F.intent));if(u.baseState==="OFF")for(const F of M(this,E).values())F._setVisible(l,!1);for(const F of u.on)M(this,E).get(F)._setVisible(l,!0);for(const F of u.off)M(this,E).get(F)._setVisible(l,!1);mt(this,I,this.getHash())}}isVisible(u){if(M(this,E).size===0)return!0;if(!u)return(0,n.warn)("Optional content group not defined."),!0;if(u.type==="OCG")return M(this,E).has(u.id)?M(this,E).get(u.id).visible:((0,n.warn)(`Optional content group not found: ${u.id}`),!0);if(u.type==="OCMD"){if(u.expression)return ut(this,L,ve).call(this,u.expression);if(!u.policy||u.policy==="AnyOn"){for(const F of u.ids){if(!M(this,E).has(F))return(0,n.warn)(`Optional content group not found: ${F}`),!0;if(M(this,E).get(F).visible)return!0}return!1}else if(u.policy==="AllOn"){for(const F of u.ids){if(!M(this,E).has(F))return(0,n.warn)(`Optional content group not found: ${F}`),!0;if(!M(this,E).get(F).visible)return!1}return!0}else if(u.policy==="AnyOff"){for(const F of u.ids){if(!M(this,E).has(F))return(0,n.warn)(`Optional content group not found: ${F}`),!0;if(!M(this,E).get(F).visible)return!0}return!1}else if(u.policy==="AllOff"){for(const F of u.ids){if(!M(this,E).has(F))return(0,n.warn)(`Optional content group not found: ${F}`),!0;if(M(this,E).get(F).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${u.policy}.`),!0}return(0,n.warn)(`Unknown group type ${u.type}.`),!0}setVisibility(u,F=!0){if(!M(this,E).has(u)){(0,n.warn)(`Optional content group not found: ${u}`);return}M(this,E).get(u)._setVisible(l,!!F),mt(this,w,null)}get hasInitialVisibility(){return this.getHash()===M(this,I)}getOrder(){return M(this,E).size?M(this,k)?M(this,k).slice():[...M(this,E).keys()]:null}getGroups(){return M(this,E).size>0?(0,n.objectFromMap)(M(this,E)):null}getGroup(u){return M(this,E).get(u)||null}getHash(){if(M(this,w)!==null)return M(this,w);const u=new i.MurmurHash3_64;for(const[F,N]of M(this,E))u.update(`${F}:${N.visible}`);return mt(this,w,u.hexdigest())}}w=new WeakMap,E=new WeakMap,I=new WeakMap,k=new WeakMap,L=new WeakSet,ve=function(u){const F=u.length;if(F<2)return!0;const N=u[0];for(let B=1;B<F;B++){const A=u[B];let a;if(Array.isArray(A))a=ut(this,L,ve).call(this,A);else if(M(this,E).has(A))a=M(this,E).get(A).visible;else return(0,n.warn)(`Optional content group not found: ${A}`),!0;switch(N){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return N==="And"},e.OptionalContentConfig=D},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=s(1),i=s(6);class l{constructor({length:w,initialData:E,progressiveDone:I=!1,contentDispositionFilename:k=null,disableRange:L=!1,disableStream:C=!1},y){if((0,n.assert)(y,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=I,this._contentDispositionFilename=k,(E==null?void 0:E.length)>0){const u=E instanceof Uint8Array&&E.byteLength===E.buffer.byteLength?E.buffer:new Uint8Array(E).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=y,this._isStreamingSupported=!C,this._isRangeSupported=!L,this._contentLength=w,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((u,F)=>{this._onReceiveData({begin:u,chunk:F})}),this._pdfDataRangeTransport.addProgressListener((u,F)=>{this._onProgress({loaded:u,total:F})}),this._pdfDataRangeTransport.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:w,chunk:E}){const I=E instanceof Uint8Array&&E.byteLength===E.buffer.byteLength?E.buffer:new Uint8Array(E).buffer;if(w===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(I):this._queuedChunks.push(I);else{const k=this._rangeReaders.some(function(L){return L._begin!==w?!1:(L._enqueue(I),!0)});(0,n.assert)(k,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var w,E;return(E=(w=this._fullRequestReader)==null?void 0:w._loaded)!=null?E:0}_onProgress(w){var E,I,k,L;w.total===void 0?(I=(E=this._rangeReaders[0])==null?void 0:E.onProgress)==null||I.call(E,{loaded:w.loaded}):(L=(k=this._fullRequestReader)==null?void 0:k.onProgress)==null||L.call(k,{loaded:w.loaded,total:w.total})}_onProgressiveDone(){var w;(w=this._fullRequestReader)==null||w.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(w){const E=this._rangeReaders.indexOf(w);E>=0&&this._rangeReaders.splice(E,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const w=this._queuedChunks;return this._queuedChunks=null,new _(this,w,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(w,E){if(E<=this._progressiveDataLength)return null;const I=new D(this,w,E);return this._pdfDataRangeTransport.requestDataRange(w,E),this._rangeReaders.push(I),I}cancelAllRequests(w){var E;(E=this._fullRequestReader)==null||E.cancel(w);for(const I of this._rangeReaders.slice(0))I.cancel(w);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=l;class _{constructor(w,E,I=!1,k=null){this._stream=w,this._done=I||!1,this._filename=(0,i.isPdfFile)(k)?k:null,this._queuedChunks=E||[],this._loaded=0;for(const L of this._queuedChunks)this._loaded+=L.byteLength;this._requests=[],this._headersReady=Promise.resolve(),w._fullRequestReader=this,this.onProgress=null}_enqueue(w){this._done||(this._requests.length>0?this._requests.shift().resolve({value:w,done:!1}):this._queuedChunks.push(w),this._loaded+=w.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const w=new n.PromiseCapability;return this._requests.push(w),w.promise}cancel(w){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class D{constructor(w,E,I){this._stream=w,this._begin=E,this._end=I,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(w){if(!this._done){if(this._requests.length===0)this._queuedChunk=w;else{this._requests.shift().resolve({value:w,done:!1});for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const E=this._queuedChunk;return this._queuedChunk=null,{value:E,done:!1}}if(this._done)return{value:void 0,done:!0};const w=new n.PromiseCapability;return this._requests.push(w),w.promise}cancel(w){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class s{static textContent(i){const l=[],_={items:l,styles:Object.create(null)};function D(x){var I;if(!x)return;let w=null;const E=x.name;if(E==="#text")w=x.value;else if(s.shouldBuildText(E))(I=x==null?void 0:x.attributes)!=null&&I.textContent?w=x.attributes.textContent:x.value&&(w=x.value);else return;if(w!==null&&l.push({str:w}),!!x.children)for(const k of x.children)D(k)}return D(i),_}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=s},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=s(7);const i=function(w){return new Promise((E,I)=>{require$$5.readFile(w,(L,C)=>{if(L||!C){I(new Error(L));return}E(new Uint8Array(C))})})};class l extends n.BaseFilterFactory{}e.NodeFilterFactory=l;class _ extends n.BaseCanvasFactory{_createCanvas(E,I){return require$$5.createCanvas(E,I)}}e.NodeCanvasFactory=_;class D extends n.BaseCMapReaderFactory{_fetchData(E,I){return i(E).then(k=>({cMapData:k,compressionType:I}))}}e.NodeCMapReaderFactory=D;class x extends n.BaseStandardFontDataFactory{_fetchData(E){return i(E)}}e.NodeStandardFontDataFactory=x},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=s(1),i=s(22);const l=require$$5,_=require$$5,D=require$$5,x=require$$5,w=/^file:\/\/\/[a-zA-Z]:\//;function E(B){const A=x.parse(B);return A.protocol==="file:"||A.host?A:/^[a-z]:[/\\]/i.test(B)?x.parse(`file:///${B}`):(A.host||(A.protocol="file:"),A)}class I{constructor(A){this.source=A,this.url=E(A.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&A.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var A,a;return(a=(A=this._fullRequestReader)==null?void 0:A._loaded)!=null?a:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new F(this):new y(this),this._fullRequestReader}getRangeReader(A,a){if(a<=this._progressiveDataLength)return null;const g=this.isFsUrl?new N(this,A,a):new u(this,A,a);return this._rangeRequestReaders.push(g),g}cancelAllRequests(A){var a;(a=this._fullRequestReader)==null||a.cancel(A);for(const g of this._rangeRequestReaders.slice(0))g.cancel(A)}}e.PDFNodeStream=I;class k{constructor(A){this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null;const a=A.source;this._contentLength=a.length,this._loaded=0,this._filename=null,this._disableRange=a.disableRange||!1,this._rangeChunkSize=a.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!a.disableStream,this._isRangeSupported=!a.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var g;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const A=this._readableStream.read();return A===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=A.length,(g=this.onProgress)==null||g.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(A).buffer,done:!1})}cancel(A){if(!this._readableStream){this._error(A);return}this._readableStream.destroy(A)}_error(A){this._storedError=A,this._readCapability.resolve()}_setReadableStream(A){this._readableStream=A,A.on("readable",()=>{this._readCapability.resolve()}),A.on("end",()=>{A.destroy(),this._done=!0,this._readCapability.resolve()}),A.on("error",a=>{this._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class L{constructor(A){this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const a=A.source;this._isStreamingSupported=!a.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var g;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const A=this._readableStream.read();return A===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=A.length,(g=this.onProgress)==null||g.call(this,{loaded:this._loaded}),{value:new Uint8Array(A).buffer,done:!1})}cancel(A){if(!this._readableStream){this._error(A);return}this._readableStream.destroy(A)}_error(A){this._storedError=A,this._readCapability.resolve()}_setReadableStream(A){this._readableStream=A,A.on("readable",()=>{this._readCapability.resolve()}),A.on("end",()=>{A.destroy(),this._done=!0,this._readCapability.resolve()}),A.on("error",a=>{this._error(a)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function C(B,A){return{protocol:B.protocol,auth:B.auth,host:B.hostname,port:B.port,path:B.path,method:"GET",headers:A}}class y extends k{constructor(A){super(A);const a=g=>{if(g.statusCode===404){const H=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=H,this._headersCapability.reject(H);return}this._headersCapability.resolve(),this._setReadableStream(g);const b=H=>this._readableStream.headers[H.toLowerCase()],{allowRangeRequests:c,suggestedLength:v}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:A.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=v||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(b)};this._request=null,this._url.protocol==="http:"?this._request=_.request(C(this._url,A.httpHeaders),a):this._request=D.request(C(this._url,A.httpHeaders),a),this._request.on("error",g=>{this._storedError=g,this._headersCapability.reject(g)}),this._request.end()}}class u extends L{constructor(A,a,g){super(A),this._httpHeaders={};for(const c in A.httpHeaders){const v=A.httpHeaders[c];v!==void 0&&(this._httpHeaders[c]=v)}this._httpHeaders.Range=`bytes=${a}-${g-1}`;const b=c=>{if(c.statusCode===404){const v=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v;return}this._setReadableStream(c)};this._request=null,this._url.protocol==="http:"?this._request=_.request(C(this._url,this._httpHeaders),b):this._request=D.request(C(this._url,this._httpHeaders),b),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class F extends k{constructor(A){super(A);let a=decodeURIComponent(this._url.path);w.test(this._url.href)&&(a=a.replace(/^\//,"")),l.lstat(a,(g,b)=>{if(g){g.code==="ENOENT"&&(g=new n.MissingPDFException(`Missing PDF "${a}".`)),this._storedError=g,this._headersCapability.reject(g);return}this._contentLength=b.size,this._setReadableStream(l.createReadStream(a)),this._headersCapability.resolve()})}}class N extends L{constructor(A,a,g){super(A);let b=decodeURIComponent(this._url.path);w.test(this._url.href)&&(b=b.replace(/^\//,"")),this._setReadableStream(l.createReadStream(b,{start:a,end:g-1}))}}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=x,e.extractFilenameFromHeader=D,e.validateRangeRequestCapabilities=_,e.validateResponseStatus=w;var n=s(1),i=s(23),l=s(6);function _({getResponseHeader:E,isHttp:I,rangeChunkSize:k,disableRange:L}){const C={allowRangeRequests:!1,suggestedLength:void 0},y=parseInt(E("Content-Length"),10);return!Number.isInteger(y)||(C.suggestedLength=y,y<=2*k)||L||!I||E("Accept-Ranges")!=="bytes"||(E("Content-Encoding")||"identity")!=="identity"||(C.allowRangeRequests=!0),C}function D(E){const I=E("Content-Disposition");if(I){let k=(0,i.getFilenameFromContentDispositionHeader)(I);if(k.includes("%"))try{k=decodeURIComponent(k)}catch{}if((0,l.isPdfFile)(k))return k}return null}function x(E,I){return E===404||E===0&&I.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+I+'".'):new n.UnexpectedResponseException(`Unexpected server response (${E}) while retrieving PDF "${I}".`,E)}function w(E){return E===200||E===206}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var n=s(1);function i(l){let _=!0,D=x("filename\\*","i").exec(l);if(D){D=D[1];let y=k(D);return y=unescape(y),y=L(y),y=C(y),E(y)}if(D=I(l),D){const y=C(D);return E(y)}if(D=x("filename","i").exec(l),D){D=D[1];let y=k(D);return y=C(y),E(y)}function x(y,u){return new RegExp("(?:^|;)\\s*"+y+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function w(y,u){if(y){if(!/^[\x00-\xFF]+$/.test(u))return u;try{const F=new TextDecoder(y,{fatal:!0}),N=(0,n.stringToBytes)(u);u=F.decode(N),_=!1}catch{}}return u}function E(y){return _&&/[\x80-\xff]/.test(y)&&(y=w("utf-8",y),_&&(y=w("iso-8859-1",y))),y}function I(y){const u=[];let F;const N=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(F=N.exec(y))!==null;){let[,A,a,g]=F;if(A=parseInt(A,10),A in u){if(A===0)break;continue}u[A]=[a,g]}const B=[];for(let A=0;A<u.length&&A in u;++A){let[a,g]=u[A];g=k(g),a&&(g=unescape(g),A===0&&(g=L(g))),B.push(g)}return B.join("")}function k(y){if(y.startsWith('"')){const u=y.slice(1).split('\\"');for(let F=0;F<u.length;++F){const N=u[F].indexOf('"');N!==-1&&(u[F]=u[F].slice(0,N),u.length=F+1),u[F]=u[F].replaceAll(/\\(.)/g,"$1")}y=u.join('"')}return y}function L(y){const u=y.indexOf("'");if(u===-1)return y;const F=y.slice(0,u),B=y.slice(u+1).replace(/^[^']*'/,"");return w(F,B)}function C(y){return!y.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(y)?y:y.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,F,N,B){if(N==="q"||N==="Q")return B=B.replaceAll("_"," "),B=B.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,a){return String.fromCharCode(parseInt(a,16))}),w(F,B);try{B=atob(B)}catch{}return w(F,B)})}return""}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=s(1),i=s(22);const l=200,_=206;function D(k){const L=k.response;return typeof L!="string"?L:(0,n.stringToBytes)(L).buffer}class x{constructor(L,C={}){this.url=L,this.isHttp=/^https?:/i.test(L),this.httpHeaders=this.isHttp&&C.httpHeaders||Object.create(null),this.withCredentials=C.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(L,C,y){const u={begin:L,end:C};for(const F in y)u[F]=y[F];return this.request(u)}requestFull(L){return this.request(L)}request(L){const C=new XMLHttpRequest,y=this.currXhrId++,u=this.pendingRequests[y]={xhr:C};C.open("GET",this.url),C.withCredentials=this.withCredentials;for(const F in this.httpHeaders){const N=this.httpHeaders[F];N!==void 0&&C.setRequestHeader(F,N)}return this.isHttp&&"begin"in L&&"end"in L?(C.setRequestHeader("Range",`bytes=${L.begin}-${L.end-1}`),u.expectedStatus=_):u.expectedStatus=l,C.responseType="arraybuffer",L.onError&&(C.onerror=function(F){L.onError(C.status)}),C.onreadystatechange=this.onStateChange.bind(this,y),C.onprogress=this.onProgress.bind(this,y),u.onHeadersReceived=L.onHeadersReceived,u.onDone=L.onDone,u.onError=L.onError,u.onProgress=L.onProgress,C.send(null),y}onProgress(L,C){var u;const y=this.pendingRequests[L];!y||(u=y.onProgress)==null||u.call(y,C)}onStateChange(L,C){var A,a,g;const y=this.pendingRequests[L];if(!y)return;const u=y.xhr;if(u.readyState>=2&&y.onHeadersReceived&&(y.onHeadersReceived(),delete y.onHeadersReceived),u.readyState!==4||!(L in this.pendingRequests))return;if(delete this.pendingRequests[L],u.status===0&&this.isHttp){(A=y.onError)==null||A.call(y,u.status);return}const F=u.status||l;if(!(F===l&&y.expectedStatus===_)&&F!==y.expectedStatus){(a=y.onError)==null||a.call(y,u.status);return}const B=D(u);if(F===_){const b=u.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);y.onDone({begin:parseInt(c[1],10),chunk:B})}else B?y.onDone({begin:0,chunk:B}):(g=y.onError)==null||g.call(y,u.status)}getRequestXhr(L){return this.pendingRequests[L].xhr}isPendingRequest(L){return L in this.pendingRequests}abortRequest(L){const C=this.pendingRequests[L].xhr;delete this.pendingRequests[L],C.abort()}}class w{constructor(L){this._source=L,this._manager=new x(L.url,{httpHeaders:L.httpHeaders,withCredentials:L.withCredentials}),this._rangeChunkSize=L.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(L){const C=this._rangeRequestReaders.indexOf(L);C>=0&&this._rangeRequestReaders.splice(C,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new E(this._manager,this._source),this._fullRequestReader}getRangeReader(L,C){const y=new I(this._manager,L,C);return y.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(y),y}cancelAllRequests(L){var C;(C=this._fullRequestReader)==null||C.cancel(L);for(const y of this._rangeRequestReaders.slice(0))y.cancel(L)}}e.PDFNetworkStream=w;class E{constructor(L,C){this._manager=L;const y={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._fullRequestId=L.requestFull(y),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=C.disableRange||!1,this._contentLength=C.length,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const L=this._fullRequestId,C=this._manager.getRequestXhr(L),y=N=>C.getResponseHeader(N),{allowRangeRequests:u,suggestedLength:F}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});u&&(this._isRangeSupported=!0),this._contentLength=F||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(y),this._isRangeSupported&&this._manager.abortRequest(L),this._headersReceivedCapability.resolve()}_onDone(L){if(L&&(this._requests.length>0?this._requests.shift().resolve({value:L.chunk,done:!1}):this._cachedChunks.push(L.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(L){this._storedError=(0,i.createResponseStatusError)(L,this._url),this._headersReceivedCapability.reject(this._storedError);for(const C of this._requests)C.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(L){var C;(C=this.onProgress)==null||C.call(this,{loaded:L.loaded,total:L.lengthComputable?L.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const L=new n.PromiseCapability;return this._requests.push(L),L.promise}cancel(L){this._done=!0,this._headersReceivedCapability.reject(L);for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class I{constructor(L,C,y){this._manager=L;const u={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=L.url,this._requestId=L.requestRange(C,y,u),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var L;(L=this.onClosed)==null||L.call(this,this)}_onDone(L){const C=L.chunk;this._requests.length>0?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunk=C,this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(L){this._storedError=(0,i.createResponseStatusError)(L,this._url);for(const C of this._requests)C.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(L){var C;this.isStreamingSupported||(C=this.onProgress)==null||C.call(this,{loaded:L.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const C=this._queuedChunk;return this._queuedChunk=null,{value:C,done:!1}}if(this._done)return{value:void 0,done:!0};const L=new n.PromiseCapability;return this._requests.push(L),L.promise}cancel(L){this._done=!0;for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=s(1),i=s(22);function l(I,k,L){return{method:"GET",headers:I,signal:L.signal,mode:"cors",credentials:k?"include":"same-origin",redirect:"follow"}}function _(I){const k=new Headers;for(const L in I){const C=I[L];C!==void 0&&k.append(L,C)}return k}function D(I){return I instanceof Uint8Array?I.buffer:I instanceof ArrayBuffer?I:((0,n.warn)(`getArrayBuffer - unexpected data format: ${I}`),new Uint8Array(I).buffer)}class x{constructor(k){this.source=k,this.isHttp=/^https?:/i.test(k.url),this.httpHeaders=this.isHttp&&k.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var k,L;return(L=(k=this._fullRequestReader)==null?void 0:k._loaded)!=null?L:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new w(this),this._fullRequestReader}getRangeReader(k,L){if(L<=this._progressiveDataLength)return null;const C=new E(this,k,L);return this._rangeRequestReaders.push(C),C}cancelAllRequests(k){var L;(L=this._fullRequestReader)==null||L.cancel(k);for(const C of this._rangeRequestReaders.slice(0))C.cancel(k)}}e.PDFFetchStream=x;class w{constructor(k){this._stream=k,this._reader=null,this._loaded=0,this._filename=null;const L=k.source;this._withCredentials=L.withCredentials||!1,this._contentLength=L.length,this._headersCapability=new n.PromiseCapability,this._disableRange=L.disableRange||!1,this._rangeChunkSize=L.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!L.disableStream,this._isRangeSupported=!L.disableRange,this._headers=_(this._stream.httpHeaders);const C=L.url;fetch(C,l(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,i.validateResponseStatus)(y.status))throw(0,i.createResponseStatusError)(y.status,C);this._reader=y.body.getReader(),this._headersCapability.resolve();const u=B=>y.headers.get(B),{allowRangeRequests:F,suggestedLength:N}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=F,this._contentLength=N||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var C;await this._headersCapability.promise;const{value:k,done:L}=await this._reader.read();return L?{value:k,done:L}:(this._loaded+=k.byteLength,(C=this.onProgress)==null||C.call(this,{loaded:this._loaded,total:this._contentLength}),{value:D(k),done:!1})}cancel(k){var L;(L=this._reader)==null||L.cancel(k),this._abortController.abort()}}class E{constructor(k,L,C){this._stream=k,this._reader=null,this._loaded=0;const y=k.source;this._withCredentials=y.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!y.disableStream,this._abortController=new AbortController,this._headers=_(this._stream.httpHeaders),this._headers.append("Range",`bytes=${L}-${C-1}`);const u=y.url;fetch(u,l(this._headers,this._withCredentials,this._abortController)).then(F=>{if(!(0,i.validateResponseStatus)(F.status))throw(0,i.createResponseStatusError)(F.status,u);this._readCapability.resolve(),this._reader=F.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var C;await this._readCapability.promise;const{value:k,done:L}=await this._reader.read();return L?{value:k,done:L}:(this._loaded+=k.byteLength,(C=this.onProgress)==null||C.call(this,{loaded:this._loaded}),{value:D(k),done:!1})}cancel(k){var L;(L=this._reader)==null||L.cancel(k),this._abortController.abort()}}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=y,e.updateTextLayer=u;var n=s(1),i=s(6);const l=1e5,_=30,D=.8,x=new Map;function w(F,N){let B;if(N&&n.FeatureTest.isOffscreenCanvasSupported)B=new OffscreenCanvas(F,F).getContext("2d",{alpha:!1});else{const A=document.createElement("canvas");A.width=A.height=F,B=A.getContext("2d",{alpha:!1})}return B}function E(F,N){const B=x.get(F);if(B)return B;const A=w(_,N);A.font=`${_}px ${F}`;const a=A.measureText("");let g=a.fontBoundingBoxAscent,b=Math.abs(a.fontBoundingBoxDescent);if(g){const v=g/(g+b);return x.set(F,v),A.canvas.width=A.canvas.height=0,v}A.strokeStyle="red",A.clearRect(0,0,_,_),A.strokeText("g",0,0);let c=A.getImageData(0,0,_,_).data;b=0;for(let v=c.length-1-3;v>=0;v-=4)if(c[v]>0){b=Math.ceil(v/4/_);break}A.clearRect(0,0,_,_),A.strokeText("A",0,_),c=A.getImageData(0,0,_,_).data,g=0;for(let v=0,H=c.length;v<H;v+=4)if(c[v]>0){g=_-Math.floor(v/4/_);break}if(A.canvas.width=A.canvas.height=0,g){const v=g/(g+b);return x.set(F,v),v}return x.set(F,D),D}function I(F,N,B){const A=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:N.str!=="",hasEOL:N.hasEOL,fontSize:0};F._textDivs.push(A);const g=n.Util.transform(F._transform,N.transform);let b=Math.atan2(g[1],g[0]);const c=B[N.fontName];c.vertical&&(b+=Math.PI/2);const v=Math.hypot(g[2],g[3]),H=v*E(c.fontFamily,F._isOffscreenCanvasSupported);let d,W;b===0?(d=g[4],W=g[5]-H):(d=g[4]+H*Math.sin(b),W=g[5]-H*Math.cos(b));const K="calc(var(--scale-factor)*",tt=A.style;F._container===F._rootContainer?(tt.left=`${(100*d/F._pageWidth).toFixed(2)}%`,tt.top=`${(100*W/F._pageHeight).toFixed(2)}%`):(tt.left=`${K}${d.toFixed(2)}px)`,tt.top=`${K}${W.toFixed(2)}px)`),tt.fontSize=`${K}${v.toFixed(2)}px)`,tt.fontFamily=c.fontFamily,a.fontSize=v,A.setAttribute("role","presentation"),A.textContent=N.str,A.dir=N.dir,F._fontInspectorEnabled&&(A.dataset.fontName=N.fontName),b!==0&&(a.angle=b*(180/Math.PI));let rt=!1;if(N.str.length>1)rt=!0;else if(N.str!==" "&&N.transform[0]!==N.transform[3]){const ot=Math.abs(N.transform[0]),ht=Math.abs(N.transform[3]);ot!==ht&&Math.max(ot,ht)/Math.min(ot,ht)>1.5&&(rt=!0)}rt&&(a.canvasWidth=c.vertical?N.height:N.width),F._textDivProperties.set(A,a),F._isReadableStream&&F._layoutText(A)}function k(F){const{div:N,scale:B,properties:A,ctx:a,prevFontSize:g,prevFontFamily:b}=F,{style:c}=N;let v="";if(A.canvasWidth!==0&&A.hasText){const{fontFamily:H}=c,{canvasWidth:d,fontSize:W}=A;(g!==W||b!==H)&&(a.font=`${W*B}px ${H}`,F.prevFontSize=W,F.prevFontFamily=H);const{width:K}=a.measureText(N.textContent);K>0&&(v=`scaleX(${d*B/K})`)}A.angle!==0&&(v=`rotate(${A.angle}deg) ${v}`),v.length>0&&(c.transform=v)}function L(F){if(F._canceled)return;const N=F._textDivs,B=F._capability;if(N.length>l){B.resolve();return}if(!F._isReadableStream)for(const a of N)F._layoutText(a);B.resolve()}class C{constructor({textContentSource:N,container:B,viewport:A,textDivs:a,textDivProperties:g,textContentItemsStr:b,isOffscreenCanvasSupported:c}){var K;this._textContentSource=N,this._isReadableStream=N instanceof ReadableStream,this._container=this._rootContainer=B,this._textDivs=a||[],this._textContentItemsStr=b||[],this._isOffscreenCanvasSupported=c,this._fontInspectorEnabled=!!((K=globalThis.FontInspector)!=null&&K.enabled),this._reader=null,this._textDivProperties=g||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:A.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:w(0,c)};const{pageWidth:v,pageHeight:H,pageX:d,pageY:W}=A.rawDims;this._transform=[1,0,0,-1,-d,W+H],this._pageWidth=v,this._pageHeight=H,(0,i.setLayerDimensions)(B,A),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(N,B){for(const A of N){if(A.str===void 0){if(A.type==="beginMarkedContentProps"||A.type==="beginMarkedContent"){const a=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),A.id!==null&&this._container.setAttribute("id",`${A.id}`),a.append(this._container)}else A.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(A.str),I(this,A,B)}}_layoutText(N){const B=this._layoutTextParams.properties=this._textDivProperties.get(N);if(this._layoutTextParams.div=N,k(this._layoutTextParams),B.hasText&&this._container.append(N),B.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.append(A)}}_render(){const N=new n.PromiseCapability;let B=Object.create(null);if(this._isReadableStream){const A=()=>{this._reader.read().then(({value:a,done:g})=>{if(g){N.resolve();return}Object.assign(B,a.styles),this._processItems(a.items,B),A()},N.reject)};this._reader=this._textContentSource.getReader(),A()}else if(this._textContentSource){const{items:A,styles:a}=this._textContentSource;this._processItems(A,a),N.resolve()}else throw new Error('No "textContentSource" parameter specified.');N.promise.then(()=>{B=null,L(this)},this._capability.reject)}}e.TextLayerRenderTask=C;function y(F){!F.textContentSource&&(F.textContent||F.textContentStream)&&((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),F.textContentSource=F.textContent||F.textContentStream);const{container:N,viewport:B}=F,A=getComputedStyle(N),a=A.getPropertyValue("visibility"),g=parseFloat(A.getPropertyValue("--scale-factor"));a==="visible"&&(!g||Math.abs(g-B.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const b=new C(F);return b._render(),b}function u({container:F,viewport:N,textDivs:B,textDivProperties:A,isOffscreenCanvasSupported:a,mustRotate:g=!0,mustRescale:b=!0}){if(g&&(0,i.setLayerDimensions)(F,{rotation:N.rotation}),b){const c=w(0,a),H={prevFontSize:null,prevFontFamily:null,div:null,scale:N.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:c};for(const d of B)H.properties=A.get(d),H.div=d,k(H)}}},(t,e,s)=>{var w,E,I,k,L,C,y,u,F,Se,B,ze,a,Ee,b,Ce;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=s(1),i=s(5),l=s(28),_=s(29),D=s(6);const v=class{constructor(d){at(this,F);at(this,B);at(this,a);at(this,b);at(this,w,void 0);at(this,E,!1);at(this,I,this.pointerup.bind(this));at(this,k,this.pointerdown.bind(this));at(this,L,new Map);at(this,C,!1);at(this,y,!1);at(this,u,void 0);v._initialized||(v._initialized=!0,l.FreeTextEditor.initialize(d.l10n),_.InkEditor.initialize(d.l10n)),d.uiManager.registerEditorTypes([l.FreeTextEditor,_.InkEditor]),mt(this,u,d.uiManager),this.pageIndex=d.pageIndex,this.div=d.div,mt(this,w,d.accessibilityManager),M(this,u).addLayer(this)}get isEmpty(){return M(this,L).size===0}updateToolbar(d){M(this,u).updateToolbar(d)}updateMode(d=M(this,u).getMode()){ut(this,b,Ce).call(this),d===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),M(this,u).unselectAll(),d!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",d===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",d===n.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(d){if(!d&&M(this,u).getMode()!==n.AnnotationEditorType.INK)return;if(!d){for(const K of M(this,L).values())if(K.isEmpty()){K.setInBackground();return}}ut(this,a,Ee).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(d){M(this,u).setEditingState(d)}addCommands(d){M(this,u).addCommands(d)}enable(){this.div.style.pointerEvents="auto";for(const d of M(this,L).values())d.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const d of M(this,L).values())d.disableEditing();ut(this,b,Ce).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(d){M(this,u).getActive()!==d&&M(this,u).setActiveEditor(d)}enableClick(){this.div.addEventListener("pointerdown",M(this,k)),this.div.addEventListener("pointerup",M(this,I))}disableClick(){this.div.removeEventListener("pointerdown",M(this,k)),this.div.removeEventListener("pointerup",M(this,I))}attach(d){M(this,L).set(d.id,d)}detach(d){var W;M(this,L).delete(d.id),(W=M(this,w))==null||W.removePointerInTextLayer(d.contentDiv)}remove(d){M(this,u).removeEditor(d),this.detach(d),d.div.style.display="none",setTimeout(()=>{d.div.style.display="",d.div.remove(),d.isAttachedToDOM=!1,document.activeElement===document.body&&M(this,u).focusMainContainer()},0),M(this,y)||this.addInkEditorIfNeeded(!1)}add(d){if(ut(this,F,Se).call(this,d),M(this,u).addEditor(d),this.attach(d),!d.isAttachedToDOM){const W=d.render();this.div.append(W),d.isAttachedToDOM=!0}this.moveEditorInDOM(d),d.onceAdded(),M(this,u).addToAnnotationStorage(d)}moveEditorInDOM(d){var W;(W=M(this,w))==null||W.moveElementInDOM(this.div,d.div,d.contentDiv,!0)}addOrRebuild(d){d.needsToBeRebuilt()?d.rebuild():this.add(d)}addANewEditor(d){const W=()=>{this.addOrRebuild(d)},K=()=>{d.remove()};this.addCommands({cmd:W,undo:K,mustExec:!0})}addUndoableEditor(d){const W=()=>{this.addOrRebuild(d)},K=()=>{d.remove()};this.addCommands({cmd:W,undo:K,mustExec:!1})}getNextId(){return M(this,u).getId()}deserialize(d){switch(d.annotationType){case n.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize(d,this,M(this,u));case n.AnnotationEditorType.INK:return _.InkEditor.deserialize(d,this,M(this,u))}return null}setSelected(d){M(this,u).setSelected(d)}toggleSelected(d){M(this,u).toggleSelected(d)}isSelected(d){return M(this,u).isSelected(d)}unselect(d){M(this,u).unselect(d)}pointerup(d){const{isMac:W}=n.FeatureTest.platform;if(!(d.button!==0||d.ctrlKey&&W)&&d.target===this.div&&!!M(this,C)){if(mt(this,C,!1),!M(this,E)){mt(this,E,!0);return}ut(this,a,Ee).call(this,d)}}pointerdown(d){const{isMac:W}=n.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&W||d.target!==this.div)return;mt(this,C,!0);const K=M(this,u).getActive();mt(this,E,!K||K.isEmpty())}drop(d){const W=d.dataTransfer.getData("text/plain"),K=M(this,u).getEditor(W);if(!K)return;d.preventDefault(),d.dataTransfer.dropEffect="move",ut(this,F,Se).call(this,K);const tt=this.div.getBoundingClientRect(),rt=d.clientX-tt.x,ot=d.clientY-tt.y;K.translate(rt-K.startX,ot-K.startY),this.moveEditorInDOM(K),K.div.focus()}dragover(d){d.preventDefault()}destroy(){var d,W;((d=M(this,u).getActive())==null?void 0:d.parent)===this&&M(this,u).setActiveEditor(null);for(const K of M(this,L).values())(W=M(this,w))==null||W.removePointerInTextLayer(K.contentDiv),K.setParent(null),K.isAttachedToDOM=!1,K.div.remove();this.div=null,M(this,L).clear(),M(this,u).removeLayer(this)}render({viewport:d}){this.viewport=d,(0,D.setLayerDimensions)(this.div,d),(0,i.bindEvents)(this,this.div,["dragover","drop"]);for(const W of M(this,u).getEditors(this.pageIndex))this.add(W);this.updateMode()}update({viewport:d}){M(this,u).commitOrRemove(),this.viewport=d,(0,D.setLayerDimensions)(this.div,{rotation:d.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:d,pageHeight:W}=this.viewport.rawDims;return[d,W]}};let x=v;w=new WeakMap,E=new WeakMap,I=new WeakMap,k=new WeakMap,L=new WeakMap,C=new WeakMap,y=new WeakMap,u=new WeakMap,F=new WeakSet,Se=function(d){var W;d.parent!==this&&(this.attach(d),(W=d.parent)==null||W.detach(d),d.setParent(this),d.div&&d.isAttachedToDOM&&(d.div.remove(),this.div.append(d.div)))},B=new WeakSet,ze=function(d){switch(M(this,u).getMode()){case n.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor(d);case n.AnnotationEditorType.INK:return new _.InkEditor(d)}return null},a=new WeakSet,Ee=function(d){const W=this.getNextId(),K=ut(this,B,ze).call(this,{parent:this,id:W,x:d.offsetX,y:d.offsetY,uiManager:M(this,u)});return K&&this.add(K),K},b=new WeakSet,Ce=function(){mt(this,y,!0);for(const d of M(this,L).values())d.isEmpty()&&d.remove();mt(this,y,!1)},Lt(x,"_initialized",!1),e.AnnotationEditorLayer=x},(t,e,s)=>{var D,x,w,E,I,k,L,C,y,u,$e,N,Ge,A,Xe,g,Te;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=s(1),i=s(5),l=s(4);const c=class extends l.AnnotationEditor{constructor(d){super({...d,name:"freeTextEditor"});at(this,u);at(this,N);at(this,A);at(this,g);at(this,D,this.editorDivBlur.bind(this));at(this,x,this.editorDivFocus.bind(this));at(this,w,this.editorDivInput.bind(this));at(this,E,this.editorDivKeydown.bind(this));at(this,I,void 0);at(this,k,"");at(this,L,`${this.id}-editor`);at(this,C,!1);at(this,y,void 0);mt(this,I,d.color||c._defaultColor||l.AnnotationEditor._defaultLineColor),mt(this,y,d.fontSize||c._defaultFontSize)}static initialize(d){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(K=>[K,d.get(K)]));const W=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(W.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,W){switch(d){case n.AnnotationEditorParamsType.FREETEXT_SIZE:c._defaultFontSize=W;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:c._defaultColor=W;break}}updateParams(d,W){switch(d){case n.AnnotationEditorParamsType.FREETEXT_SIZE:ut(this,u,$e).call(this,W);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:ut(this,N,Ge).call(this,W);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,c._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,c._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,M(this,y)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,M(this,I)]]}getInitialTranslation(){const d=this.parentScale;return[-c._internalPadding*d,-(c._internalPadding+M(this,y))*d]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",M(this,E)),this.editorDiv.addEventListener("focus",M(this,x)),this.editorDiv.addEventListener("blur",M(this,D)),this.editorDiv.addEventListener("input",M(this,w)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",M(this,L)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",M(this,E)),this.editorDiv.removeEventListener("focus",M(this,x)),this.editorDiv.removeEventListener("blur",M(this,D)),this.editorDiv.removeEventListener("input",M(this,w)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(d){super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){!this.isInEditMode()||(super.commit(),M(this,C)||(mt(this,C,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),mt(this,k,ut(this,A,Xe).call(this).trimEnd()),ut(this,g,Te).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(d){this.enableEditMode(),this.editorDiv.focus()}keydown(d){d.target===this.div&&d.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(d){c._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}editorDivInput(d){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,W;this.width&&(d=this.x,W=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",M(this,L)),this.enableEditing(),c._l10nPromise.get("editor_free_text2_aria_label").then(tt=>{var rt;return(rt=this.editorDiv)==null?void 0:rt.setAttribute("aria-label",tt)}),c._l10nPromise.get("free_text2_default_content").then(tt=>{var rt;return(rt=this.editorDiv)==null?void 0:rt.setAttribute("default-content",tt)}),this.editorDiv.contentEditable=!0;const{style:K}=this.editorDiv;if(K.fontSize=`calc(${M(this,y)}px * var(--scale-factor))`,K.color=M(this,I),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[tt,rt]=this.parentDimensions;this.setAt(d*tt,W*rt,this.width*tt,this.height*rt);for(const ot of M(this,k).split(`
`)){const ht=document.createElement("div");ht.append(ot?document.createTextNode(ot):document.createElement("br")),this.editorDiv.append(ht)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(d,W,K){const tt=super.deserialize(d,W,K);return mt(tt,y,d.fontSize),mt(tt,I,n.Util.makeHexColor(...d.color)),mt(tt,k,d.value),tt}serialize(){if(this.isEmpty())return null;const d=c._internalPadding*this.parentScale,W=this.getRect(d,d),K=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:M(this,I));return{annotationType:n.AnnotationEditorType.FREETEXT,color:K,fontSize:M(this,y),value:M(this,k),pageIndex:this.pageIndex,rect:W,rotation:this.rotation}}};let _=c;D=new WeakMap,x=new WeakMap,w=new WeakMap,E=new WeakMap,I=new WeakMap,k=new WeakMap,L=new WeakMap,C=new WeakMap,y=new WeakMap,u=new WeakSet,$e=function(d){const W=tt=>{this.editorDiv.style.fontSize=`calc(${tt}px * var(--scale-factor))`,this.translate(0,-(tt-M(this,y))*this.parentScale),mt(this,y,tt),ut(this,g,Te).call(this)},K=M(this,y);this.addCommands({cmd:()=>{W(d)},undo:()=>{W(K)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},N=new WeakSet,Ge=function(d){const W=M(this,I);this.addCommands({cmd:()=>{mt(this,I,this.editorDiv.style.color=d)},undo:()=>{mt(this,I,this.editorDiv.style.color=W)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},A=new WeakSet,Xe=function(){const d=this.editorDiv.getElementsByTagName("div");if(d.length===0)return this.editorDiv.innerText;const W=[];for(const K of d)W.push(K.innerText.replace(/\r\n?|\n/,""));return W.join(`
`)},g=new WeakSet,Te=function(){const[d,W]=this.parentDimensions;let K;if(this.isAttachedToDOM)K=this.div.getBoundingClientRect();else{const{currentLayer:tt,div:rt}=this,ot=rt.style.display;rt.style.display="hidden",tt.div.append(this.div),K=rt.getBoundingClientRect(),rt.remove(),rt.style.display=ot}this.width=K.width/d,this.height=K.height/W},Lt(_,"_freeTextDefaultContent",""),Lt(_,"_l10nPromise"),Lt(_,"_internalPadding",0),Lt(_,"_defaultColor",null),Lt(_,"_defaultFontSize",10),Lt(_,"_keyboardManager",new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],c.prototype.commitOrRemove]])),Lt(_,"_type","freetext"),e.FreeTextEditor=_},(t,e,s)=>{var w,E,I,k,L,C,y,u,F,N,B,A,a,g,b,Ke,v,Ye,d,Je,K,Qe,rt,xe,ht,Ze,gt,tn,St,en,Et,Xt,T,we,j,ce,$,ue,G,te,S,Pe,o,he,R,Re,q,nn,z,sn,nt,rn,it,ke,pt,de,bt,ee,st,Fe;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return l.fitCurve}});var n=s(1),i=s(4),l=s(30),_=s(5);const D=16,Ct=class extends i.AnnotationEditor{constructor(U){super({...U,name:"inkEditor"});at(this,b);at(this,v);at(this,d);at(this,K);at(this,rt);at(this,ht);at(this,gt);at(this,St);at(this,Et);at(this,T);at(this,j);at(this,$);at(this,G);at(this,S);at(this,o);at(this,q);at(this,z);at(this,nt);at(this,it);at(this,pt);at(this,bt);at(this,st);at(this,w,0);at(this,E,0);at(this,I,0);at(this,k,this.canvasPointermove.bind(this));at(this,L,this.canvasPointerleave.bind(this));at(this,C,this.canvasPointerup.bind(this));at(this,y,this.canvasPointerdown.bind(this));at(this,u,!1);at(this,F,!1);at(this,N,null);at(this,B,null);at(this,A,0);at(this,a,0);at(this,g,null);this.color=U.color||null,this.thickness=U.thickness||null,this.opacity=U.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(U){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(V=>[V,U.get(V)]))}static updateDefaultParams(U,V){switch(U){case n.AnnotationEditorParamsType.INK_THICKNESS:Ct._defaultThickness=V;break;case n.AnnotationEditorParamsType.INK_COLOR:Ct._defaultColor=V;break;case n.AnnotationEditorParamsType.INK_OPACITY:Ct._defaultOpacity=V/100;break}}updateParams(U,V){switch(U){case n.AnnotationEditorParamsType.INK_THICKNESS:ut(this,b,Ke).call(this,V);break;case n.AnnotationEditorParamsType.INK_COLOR:ut(this,v,Ye).call(this,V);break;case n.AnnotationEditorParamsType.INK_OPACITY:ut(this,d,Je).call(this,V);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,Ct._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,Ct._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ct._defaultOpacity*100)]]}get propertiesToUpdate(){var U;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ct._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||Ct._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((U=this.opacity)!=null?U:Ct._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ut(this,j,ce).call(this),ut(this,$,ue).call(this)),this.isAttachedToDOM||(this.parent.add(this),ut(this,G,te).call(this)),ut(this,bt,ee).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,M(this,B).disconnect(),mt(this,B,null),super.remove())}setParent(U){!this.parent&&U?this._uiManager.removeShouldRescale(this):this.parent&&U===null&&this._uiManager.addShouldRescale(this),super.setParent(U)}onScaleChanging(){const[U,V]=this.parentDimensions,ft=this.width*U,_t=this.height*V;this.setDimensions(ft,_t)}enableEditMode(){M(this,u)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",M(this,y)),this.canvas.addEventListener("pointerup",M(this,C)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",M(this,y)),this.canvas.removeEventListener("pointerup",M(this,C)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){M(this,u)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),mt(this,u,!0),this.div.classList.add("disabled"),ut(this,bt,ee).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(U){super.focusin(U),this.enableEditMode()}canvasPointerdown(U){U.button!==0||!this.isInEditMode()||M(this,u)||(this.setInForeground(),U.type!=="mouse"&&this.div.focus(),U.stopPropagation(),this.canvas.addEventListener("pointerleave",M(this,L)),this.canvas.addEventListener("pointermove",M(this,k)),ut(this,ht,Ze).call(this,U.offsetX,U.offsetY))}canvasPointermove(U){U.stopPropagation(),ut(this,gt,tn).call(this,U.offsetX,U.offsetY)}canvasPointerup(U){U.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(U.stopPropagation(),ut(this,T,we).call(this,U),this.setInBackground())}canvasPointerleave(U){ut(this,T,we).call(this,U),this.setInBackground()}render(){if(this.div)return this.div;let U,V;this.width&&(U=this.x,V=this.y),super.render(),Ct._l10nPromise.get("editor_ink2_aria_label").then(Ft=>{var kt;return(kt=this.div)==null?void 0:kt.setAttribute("aria-label",Ft)});const[ft,_t,wt,Rt]=ut(this,K,Qe).call(this);if(this.setAt(ft,_t,0,0),this.setDims(wt,Rt),ut(this,j,ce).call(this),this.width){const[Ft,kt]=this.parentDimensions;this.setAt(U*Ft,V*kt,this.width*Ft,this.height*kt),mt(this,F,!0),ut(this,G,te).call(this),this.setDims(this.width*Ft,this.height*kt),ut(this,Et,Xt).call(this),ut(this,st,Fe).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ut(this,$,ue).call(this),this.div}setDimensions(U,V){const ft=Math.round(U),_t=Math.round(V);if(M(this,A)===ft&&M(this,a)===_t)return;mt(this,A,ft),mt(this,a,_t),this.canvas.style.visibility="hidden",M(this,w)&&Math.abs(M(this,w)-U/V)>.01&&(V=Math.ceil(U/M(this,w)),this.setDims(U,V));const[wt,Rt]=this.parentDimensions;this.width=U/wt,this.height=V/Rt,M(this,u)&&ut(this,S,Pe).call(this,U,V),ut(this,G,te).call(this),ut(this,Et,Xt).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(U,V,ft){var Dt,Nt;const _t=super.deserialize(U,V,ft);_t.thickness=U.thickness,_t.color=n.Util.makeHexColor(...U.color),_t.opacity=U.opacity;const[wt,Rt]=_t.pageDimensions,Ft=_t.width*wt,kt=_t.height*Rt,It=_t.parentScale,Pt=U.thickness/2;mt(_t,w,Ft/kt),mt(_t,u,!0),mt(_t,A,Math.round(Ft)),mt(_t,a,Math.round(kt));for(const{bezier:Ot}of U.paths){const Ut=[];_t.paths.push(Ut);let Wt=It*(Ot[0]-Pt),qt=It*(kt-Ot[1]-Pt);for(let jt=2,Ht=Ot.length;jt<Ht;jt+=6){const $t=It*(Ot[jt]-Pt),Kt=It*(kt-Ot[jt+1]-Pt),ie=It*(Ot[jt+2]-Pt),re=It*(kt-Ot[jt+3]-Pt),Ie=It*(Ot[jt+4]-Pt),De=It*(kt-Ot[jt+5]-Pt);Ut.push([[Wt,qt],[$t,Kt],[ie,re],[Ie,De]]),Wt=Ie,qt=De}const zt=ut(this,R,Re).call(this,Ut);_t.bezierPath2D.push(zt)}const Bt=ut(Dt=_t,it,ke).call(Dt);return mt(_t,I,Math.max(D,Bt[2]-Bt[0])),mt(_t,E,Math.max(D,Bt[3]-Bt[1])),ut(Nt=_t,S,Pe).call(Nt,Ft,kt),_t}serialize(){if(this.isEmpty())return null;const U=this.getRect(0,0),V=this.rotation%180===0?U[3]-U[1]:U[2]-U[0],ft=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:ft,thickness:this.thickness,opacity:this.opacity,paths:ut(this,q,nn).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,V),pageIndex:this.pageIndex,rect:U,rotation:this.rotation}}};let x=Ct;w=new WeakMap,E=new WeakMap,I=new WeakMap,k=new WeakMap,L=new WeakMap,C=new WeakMap,y=new WeakMap,u=new WeakMap,F=new WeakMap,N=new WeakMap,B=new WeakMap,A=new WeakMap,a=new WeakMap,g=new WeakMap,b=new WeakSet,Ke=function(U){const V=this.thickness;this.addCommands({cmd:()=>{this.thickness=U,ut(this,bt,ee).call(this)},undo:()=>{this.thickness=V,ut(this,bt,ee).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},v=new WeakSet,Ye=function(U){const V=this.color;this.addCommands({cmd:()=>{this.color=U,ut(this,Et,Xt).call(this)},undo:()=>{this.color=V,ut(this,Et,Xt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},d=new WeakSet,Je=function(U){U/=100;const V=this.opacity;this.addCommands({cmd:()=>{this.opacity=U,ut(this,Et,Xt).call(this)},undo:()=>{this.opacity=V,ut(this,Et,Xt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},K=new WeakSet,Qe=function(){const{parentRotation:U,parentDimensions:[V,ft]}=this;switch(U){case 90:return[0,ft,ft,V];case 180:return[V,ft,V,ft];case 270:return[V,0,ft,V];default:return[0,0,V,ft]}},rt=new WeakSet,xe=function(){const{ctx:U,color:V,opacity:ft,thickness:_t,parentScale:wt,scaleFactor:Rt}=this;U.lineWidth=_t*wt/Rt,U.lineCap="round",U.lineJoin="round",U.miterLimit=10,U.strokeStyle=`${V}${(0,_.opacityToHex)(ft)}`},ht=new WeakSet,Ze=function(U,V){var ft;this.isEditing=!0,M(this,F)||(mt(this,F,!0),ut(this,G,te).call(this),this.thickness||(this.thickness=Ct._defaultThickness),this.color||(this.color=Ct._defaultColor||i.AnnotationEditor._defaultLineColor),(ft=this.opacity)!=null||(this.opacity=Ct._defaultOpacity)),this.currentPath.push([U,V]),mt(this,N,null),ut(this,rt,xe).call(this),this.ctx.beginPath(),this.ctx.moveTo(U,V),mt(this,g,()=>{!M(this,g)||(M(this,N)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ut(this,Et,Xt).call(this),this.ctx.lineTo(...M(this,N)),mt(this,N,null),this.ctx.stroke()),window.requestAnimationFrame(M(this,g)))}),window.requestAnimationFrame(M(this,g))},gt=new WeakSet,tn=function(U,V){const[ft,_t]=this.currentPath.at(-1);U===ft&&V===_t||(this.currentPath.push([U,V]),mt(this,N,[U,V]))},St=new WeakSet,en=function(U,V){var It;this.ctx.closePath(),mt(this,g,null),U=Math.min(Math.max(U,0),this.canvas.width),V=Math.min(Math.max(V,0),this.canvas.height);const[ft,_t]=this.currentPath.at(-1);(U!==ft||V!==_t)&&this.currentPath.push([U,V]);let wt;if(this.currentPath.length!==1)wt=(0,l.fitCurve)(this.currentPath,30,null);else{const Pt=[U,V];wt=[[Pt,Pt.slice(),Pt.slice(),Pt]]}const Rt=ut(It=Ct,R,Re).call(It,wt);this.currentPath.length=0;const Ft=()=>{this.paths.push(wt),this.bezierPath2D.push(Rt),this.rebuild()},kt=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ut(this,j,ce).call(this),ut(this,$,ue).call(this)),ut(this,bt,ee).call(this))};this.addCommands({cmd:Ft,undo:kt,mustExec:!0})},Et=new WeakSet,Xt=function(){if(this.isEmpty()){ut(this,o,he).call(this);return}ut(this,rt,xe).call(this);const{canvas:U,ctx:V}=this;V.setTransform(1,0,0,1,0,0),V.clearRect(0,0,U.width,U.height),ut(this,o,he).call(this);for(const ft of this.bezierPath2D)V.stroke(ft)},T=new WeakSet,we=function(U){ut(this,St,en).call(this,U.offsetX,U.offsetY),this.canvas.removeEventListener("pointerleave",M(this,L)),this.canvas.removeEventListener("pointermove",M(this,k)),this.addToAnnotationStorage()},j=new WeakSet,ce=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ct._l10nPromise.get("editor_ink_canvas_aria_label").then(U=>{var V;return(V=this.canvas)==null?void 0:V.setAttribute("aria-label",U)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},$=new WeakSet,ue=function(){mt(this,B,new ResizeObserver(U=>{const V=U[0].contentRect;V.width&&V.height&&this.setDimensions(V.width,V.height)})),M(this,B).observe(this.div)},G=new WeakSet,te=function(){if(!M(this,F))return;const[U,V]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*U),this.canvas.height=Math.ceil(this.height*V),ut(this,o,he).call(this)},S=new WeakSet,Pe=function(U,V){const ft=ut(this,pt,de).call(this),_t=(U-ft)/M(this,I),wt=(V-ft)/M(this,E);this.scaleFactor=Math.min(_t,wt)},o=new WeakSet,he=function(){const U=ut(this,pt,de).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+U,this.translationY*this.scaleFactor+U)},R=new WeakSet,Re=function(U){const V=new Path2D;for(let ft=0,_t=U.length;ft<_t;ft++){const[wt,Rt,Ft,kt]=U[ft];ft===0&&V.moveTo(...wt),V.bezierCurveTo(Rt[0],Rt[1],Ft[0],Ft[1],kt[0],kt[1])}return V},q=new WeakSet,nn=function(U,V,ft,_t){const Rt=[],Ft=this.thickness/2;let kt,It;for(const Pt of this.paths){kt=[],It=[];for(let Bt=0,Dt=Pt.length;Bt<Dt;Bt++){const[Nt,Ot,Ut,Wt]=Pt[Bt],qt=U*(Nt[0]+V)+Ft,zt=_t-U*(Nt[1]+ft)-Ft,jt=U*(Ot[0]+V)+Ft,Ht=_t-U*(Ot[1]+ft)-Ft,$t=U*(Ut[0]+V)+Ft,Kt=_t-U*(Ut[1]+ft)-Ft,ie=U*(Wt[0]+V)+Ft,re=_t-U*(Wt[1]+ft)-Ft;Bt===0&&(kt.push(qt,zt),It.push(qt,zt)),kt.push(jt,Ht,$t,Kt,ie,re),ut(this,z,sn).call(this,qt,zt,jt,Ht,$t,Kt,ie,re,4,It)}Rt.push({bezier:kt,points:It})}return Rt},z=new WeakSet,sn=function(U,V,ft,_t,wt,Rt,Ft,kt,It,Pt){if(ut(this,nt,rn).call(this,U,V,ft,_t,wt,Rt,Ft,kt)){Pt.push(Ft,kt);return}for(let Bt=1;Bt<It-1;Bt++){const Dt=Bt/It,Nt=1-Dt;let Ot=Dt*U+Nt*ft,Ut=Dt*V+Nt*_t,Wt=Dt*ft+Nt*wt,qt=Dt*_t+Nt*Rt;const zt=Dt*wt+Nt*Ft,jt=Dt*Rt+Nt*kt;Ot=Dt*Ot+Nt*Wt,Ut=Dt*Ut+Nt*qt,Wt=Dt*Wt+Nt*zt,qt=Dt*qt+Nt*jt,Ot=Dt*Ot+Nt*Wt,Ut=Dt*Ut+Nt*qt,Pt.push(Ot,Ut)}Pt.push(Ft,kt)},nt=new WeakSet,rn=function(U,V,ft,_t,wt,Rt,Ft,kt){const Pt=(3*ft-2*U-Ft)**2,Bt=(3*_t-2*V-kt)**2,Dt=(3*wt-U-2*Ft)**2,Nt=(3*Rt-V-2*kt)**2;return Math.max(Pt,Dt)+Math.max(Bt,Nt)<=10},it=new WeakSet,ke=function(){let U=1/0,V=-1/0,ft=1/0,_t=-1/0;for(const wt of this.paths)for(const[Rt,Ft,kt,It]of wt){const Pt=n.Util.bezierBoundingBox(...Rt,...Ft,...kt,...It);U=Math.min(U,Pt[0]),ft=Math.min(ft,Pt[1]),V=Math.max(V,Pt[2]),_t=Math.max(_t,Pt[3])}return[U,ft,V,_t]},pt=new WeakSet,de=function(){return M(this,u)?Math.ceil(this.thickness*this.parentScale):0},bt=new WeakSet,ee=function(U=!1){if(this.isEmpty())return;if(!M(this,u)){ut(this,Et,Xt).call(this);return}const V=ut(this,it,ke).call(this),ft=ut(this,pt,de).call(this);mt(this,I,Math.max(D,V[2]-V[0])),mt(this,E,Math.max(D,V[3]-V[1]));const _t=Math.ceil(ft+M(this,I)*this.scaleFactor),wt=Math.ceil(ft+M(this,E)*this.scaleFactor),[Rt,Ft]=this.parentDimensions;this.width=_t/Rt,this.height=wt/Ft,mt(this,w,_t/wt),ut(this,st,Fe).call(this);const kt=this.translationX,It=this.translationY;this.translationX=-V[0],this.translationY=-V[1],ut(this,G,te).call(this),ut(this,Et,Xt).call(this),mt(this,A,_t),mt(this,a,wt),this.setDims(_t,wt);const Pt=U?ft/this.scaleFactor/2:0;this.translate(kt-this.translationX-Pt,It-this.translationY-Pt)},st=new WeakSet,Fe=function(){const{style:U}=this.div;M(this,w)>=1?(U.minHeight=`${D}px`,U.minWidth=`${Math.round(M(this,w)*D)}px`):(U.minWidth=`${D}px`,U.minHeight=`${Math.round(D/M(this,w))}px`)},at(x,R),Lt(x,"_defaultColor",null),Lt(x,"_defaultOpacity",1),Lt(x,"_defaultThickness",1),Lt(x,"_l10nPromise"),Lt(x,"_type","ink"),e.InkEditor=x},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const n=s(31);e.fitCurve=n},t=>{function e(C,y,u){if(!Array.isArray(C))throw new TypeError("First argument should be an array");if(C.forEach(A=>{if(!Array.isArray(A)||A.some(a=>typeof a!="number")||A.length!==C[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),C=C.filter((A,a)=>a===0||!A.every((g,b)=>g===C[a-1][b])),C.length<2)return[];const F=C.length,N=I(C[1],C[0]),B=I(C[F-2],C[F-1]);return s(C,N,B,y,u)}function s(C,y,u,F,N){var A,a,g,b,c,v,H,d,W,K,tt,rt,ot;if(C.length===2)return rt=k.vectorLen(k.subtract(C[0],C[1]))/3,A=[C[0],k.addArrays(C[0],k.mulItems(y,rt)),k.addArrays(C[1],k.mulItems(u,rt)),C[1]],[A];if(a=D(C),[A,b,v]=n(C,a,a,y,u,N),b===0||b<F)return[A];if(b<F*F)for(g=a,c=b,H=v,ot=0;ot<20;ot++){if(g=l(A,C,g),[A,b,v]=n(C,a,g,y,u,N),b<F)return[A];if(v===H){let ht=b/c;if(ht>.9999&&ht<1.0001)break}c=b,H=v}return tt=[],d=k.subtract(C[v-1],C[v+1]),d.every(ht=>ht===0)&&(d=k.subtract(C[v-1],C[v]),[d[0],d[1]]=[-d[1],d[0]]),W=k.normalize(d),K=k.mulItems(W,-1),tt=tt.concat(s(C.slice(0,v+1),y,W,F,N)),tt=tt.concat(s(C.slice(v),K,u,F,N)),tt}function n(C,y,u,F,N,B){var A,a,g;return A=i(C,u,F,N),[a,g]=x(C,A,y),B&&B({bez:A,points:C,params:y,maxErr:a,maxPoint:g}),[A,a,g]}function i(C,y,u,F){var N,B,A,a,g,b,c,v,H,d,W,K,tt,rt,ot,ht,lt,gt=C[0],yt=C[C.length-1];for(N=[gt,null,null,yt],B=k.zeros_Xx2x2(y.length),tt=0,rt=y.length;tt<rt;tt++)ht=y[tt],lt=1-ht,A=B[tt],A[0]=k.mulItems(u,3*ht*(lt*lt)),A[1]=k.mulItems(F,3*lt*(ht*ht));for(a=[[0,0],[0,0]],g=[0,0],tt=0,rt=C.length;tt<rt;tt++)ht=y[tt],A=B[tt],a[0][0]+=k.dot(A[0],A[0]),a[0][1]+=k.dot(A[0],A[1]),a[1][0]+=k.dot(A[0],A[1]),a[1][1]+=k.dot(A[1],A[1]),ot=k.subtract(C[tt],L.q([gt,gt,yt,yt],ht)),g[0]+=k.dot(A[0],ot),g[1]+=k.dot(A[1],ot);return b=a[0][0]*a[1][1]-a[1][0]*a[0][1],c=a[0][0]*g[1]-a[1][0]*g[0],v=g[0]*a[1][1]-g[1]*a[0][1],H=b===0?0:v/b,d=b===0?0:c/b,K=k.vectorLen(k.subtract(gt,yt)),W=1e-6*K,H<W||d<W?(N[1]=k.addArrays(gt,k.mulItems(u,K/3)),N[2]=k.addArrays(yt,k.mulItems(F,K/3))):(N[1]=k.addArrays(gt,k.mulItems(u,H)),N[2]=k.addArrays(yt,k.mulItems(F,d))),N}function l(C,y,u){return u.map((F,N)=>_(C,y[N],F))}function _(C,y,u){var F=k.subtract(L.q(C,u),y),N=L.qprime(C,u),B=k.mulMatrix(F,N),A=k.sum(k.squareItems(N))+2*k.mulMatrix(F,L.qprimeprime(C,u));return A===0?u:u-B/A}function D(C){var y=[],u,F,N;return C.forEach((B,A)=>{u=A?F+k.vectorLen(k.subtract(B,N)):0,y.push(u),F=u,N=B}),y=y.map(B=>B/F),y}function x(C,y,u){var F,N,B,A,a,g,b,c;N=0,B=Math.floor(C.length/2);const v=w(y,10);for(a=0,g=C.length;a<g;a++)b=C[a],c=E(y,u[a],v,10),A=k.subtract(L.q(y,c),b),F=A[0]*A[0]+A[1]*A[1],F>N&&(N=F,B=a);return[N,B]}var w=function(C,y){for(var u,F=[0],N=C[0],B=0,A=1;A<=y;A++)u=L.q(C,A/y),B+=k.vectorLen(k.subtract(u,N)),F.push(B),N=u;return F=F.map(a=>a/B),F};function E(C,y,u,F){if(y<0)return 0;if(y>1)return 1;for(var N,B,A,a,g,b=1;b<=F;b++)if(y<=u[b]){a=(b-1)/F,A=b/F,B=u[b-1],N=u[b],g=(y-B)/(N-B)*(A-a)+a;break}return g}function I(C,y){return k.normalize(k.subtract(C,y))}class k{static zeros_Xx2x2(y){for(var u=[];y--;)u.push([0,0]);return u}static mulItems(y,u){return y.map(F=>F*u)}static mulMatrix(y,u){return y.reduce((F,N,B)=>F+N*u[B],0)}static subtract(y,u){return y.map((F,N)=>F-u[N])}static addArrays(y,u){return y.map((F,N)=>F+u[N])}static addItems(y,u){return y.map(F=>F+u)}static sum(y){return y.reduce((u,F)=>u+F)}static dot(y,u){return k.mulMatrix(y,u)}static vectorLen(y){return Math.hypot(...y)}static divItems(y,u){return y.map(F=>F/u)}static squareItems(y){return y.map(u=>u*u)}static normalize(y){return this.divItems(y,this.vectorLen(y))}}class L{static q(y,u){var F=1-u,N=k.mulItems(y[0],F*F*F),B=k.mulItems(y[1],3*F*F*u),A=k.mulItems(y[2],3*F*u*u),a=k.mulItems(y[3],u*u*u);return k.addArrays(k.addArrays(N,B),k.addArrays(A,a))}static qprime(y,u){var F=1-u,N=k.mulItems(k.subtract(y[1],y[0]),3*F*F),B=k.mulItems(k.subtract(y[2],y[1]),6*F*u),A=k.mulItems(k.subtract(y[3],y[2]),3*u*u);return k.addArrays(k.addArrays(N,B),A)}static qprimeprime(y,u){return k.addArrays(k.mulItems(k.addArrays(k.subtract(y[2],k.mulItems(y[1],2)),y[0]),6*(1-u)),k.mulItems(k.addArrays(k.subtract(y[3],k.mulItems(y[2],2)),y[1]),6*u))}}t.exports=e,t.exports.fitCubic=s,t.exports.createTangent=I},(t,e,s)=>{var Et,Jt,T,an,X,Me,Q,Oe;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var n=s(1),i=s(6),l=s(3),_=s(33),D=s(34);const x=1e3,w=9,E=new WeakSet;function I(S){return{width:S[2]-S[0],height:S[3]-S[1]}}class k{static create(r){switch(r.data.annotationType){case n.AnnotationType.LINK:return new C(r);case n.AnnotationType.TEXT:return new y(r);case n.AnnotationType.WIDGET:switch(r.data.fieldType){case"Tx":return new F(r);case"Btn":return r.data.radioButton?new B(r):r.data.checkBox?new N(r):new A(r);case"Ch":return new a(r)}return new u(r);case n.AnnotationType.POPUP:return new g(r);case n.AnnotationType.FREETEXT:return new c(r);case n.AnnotationType.LINE:return new v(r);case n.AnnotationType.SQUARE:return new H(r);case n.AnnotationType.CIRCLE:return new d(r);case n.AnnotationType.POLYLINE:return new W(r);case n.AnnotationType.CARET:return new tt(r);case n.AnnotationType.INK:return new rt(r);case n.AnnotationType.POLYGON:return new K(r);case n.AnnotationType.HIGHLIGHT:return new ot(r);case n.AnnotationType.UNDERLINE:return new ht(r);case n.AnnotationType.SQUIGGLY:return new lt(r);case n.AnnotationType.STRIKEOUT:return new gt(r);case n.AnnotationType.STAMP:return new yt(r);case n.AnnotationType.FILEATTACHMENT:return new St(r);default:return new L(r)}}}class L{constructor(r,{isRenderable:o=!1,ignoreBorder:f=!1,createQuadrilaterals:R=!1}={}){this.isRenderable=o,this.data=r.data,this.layer=r.layer,this.page=r.page,this.viewport=r.viewport,this.linkService=r.linkService,this.downloadManager=r.downloadManager,this.imageResourcesPath=r.imageResourcesPath,this.renderForms=r.renderForms,this.svgFactory=r.svgFactory,this.annotationStorage=r.annotationStorage,this.enableScripting=r.enableScripting,this.hasJSActions=r.hasJSActions,this._fieldObjects=r.fieldObjects,o&&(this.container=this._createContainer(f)),R&&(this.quadrilaterals=this._createQuadrilaterals(f))}_createContainer(r=!1){const{data:o,page:f,viewport:R}=this,O=document.createElement("section");O.setAttribute("data-annotation-id",o.id),o.noRotate&&O.classList.add("norotate");const{pageWidth:q,pageHeight:Y,pageX:z,pageY:et}=R.rawDims,{width:nt,height:Z}=I(o.rect),it=n.Util.normalizeRect([o.rect[0],f.view[3]-o.rect[1]+f.view[1],o.rect[2],f.view[3]-o.rect[3]+f.view[1]]);if(!r&&o.borderStyle.width>0){O.style.borderWidth=`${o.borderStyle.width}px`;const pt=o.borderStyle.horizontalCornerRadius,At=o.borderStyle.verticalCornerRadius;if(pt>0||At>0){const xt=`calc(${pt}px * var(--scale-factor)) / calc(${At}px * var(--scale-factor))`;O.style.borderRadius=xt}else if(this instanceof B){const xt=`calc(${nt}px * var(--scale-factor)) / calc(${Z}px * var(--scale-factor))`;O.style.borderRadius=xt}switch(o.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:O.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:O.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:O.style.borderBottomStyle="solid";break}const bt=o.borderColor||null;bt?O.style.borderColor=n.Util.makeHexColor(bt[0]|0,bt[1]|0,bt[2]|0):O.style.borderWidth=0}O.style.left=`${100*(it[0]-z)/q}%`,O.style.top=`${100*(it[1]-et)/Y}%`;const{rotation:ct}=o;return o.hasOwnCanvas||ct===0?(O.style.width=`${100*nt/q}%`,O.style.height=`${100*Z/Y}%`):this.setRotation(ct,O),O}setRotation(r,o=this.container){const{pageWidth:f,pageHeight:R}=this.viewport.rawDims,{width:O,height:q}=I(this.data.rect);let Y,z;r%180===0?(Y=100*O/f,z=100*q/R):(Y=100*q/f,z=100*O/R),o.style.width=`${Y}%`,o.style.height=`${z}%`,o.setAttribute("data-main-rotation",(360-r)%360)}get _commonActions(){const r=(o,f,R)=>{const O=R.detail[o];R.target.style[f]=_.ColorConverters[`${O[0]}_HTML`](O.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:o=>{const f=o.detail.display%2===1;this.container.style.visibility=f?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:f,print:o.detail.display===0||o.detail.display===3})},print:o=>{this.annotationStorage.setValue(this.data.id,{print:o.detail.print})},hidden:o=>{this.container.style.visibility=o.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o.detail.hidden})},focus:o=>{setTimeout(()=>o.target.focus({preventScroll:!1}),0)},userName:o=>{o.target.title=o.detail.userName},readonly:o=>{o.detail.readonly?o.target.setAttribute("readonly",""):o.target.removeAttribute("readonly")},required:o=>{this._setRequired(o.target,o.detail.required)},bgColor:o=>{r("bgColor","backgroundColor",o)},fillColor:o=>{r("fillColor","backgroundColor",o)},fgColor:o=>{r("fgColor","color",o)},textColor:o=>{r("textColor","color",o)},borderColor:o=>{r("borderColor","borderColor",o)},strokeColor:o=>{r("strokeColor","borderColor",o)},rotation:o=>{const f=o.detail.rotation;this.setRotation(f),this.annotationStorage.setValue(this.data.id,{rotation:f})}})}_dispatchEventFromSandbox(r,o){const f=this._commonActions;for(const R of Object.keys(o.detail)){const O=r[R]||f[R];O==null||O(o)}}_setDefaultPropertiesFromJS(r){if(!this.enableScripting)return;const o=this.annotationStorage.getRawValue(this.data.id);if(!o)return;const f=this._commonActions;for(const[R,O]of Object.entries(o)){const q=f[R];if(q){const Y={detail:{[R]:O},target:r};q(Y),delete o[R]}}}_createQuadrilaterals(r=!1){if(!this.data.quadPoints)return null;const o=[],f=this.data.rect;for(const R of this.data.quadPoints)this.data.rect=[R[2].x,R[2].y,R[1].x,R[1].y],o.push(this._createContainer(r));return this.data.rect=f,o}_createPopup(r,o){let f=this.container;this.quadrilaterals&&(r||(r=this.quadrilaterals),f=this.quadrilaterals[0]),r||(r=document.createElement("div"),r.classList.add("popupTriggerArea"),f.append(r));const O=new b({container:f,trigger:r,color:o.color,titleObj:o.titleObj,modificationDate:o.modificationDate,contentsObj:o.contentsObj,richText:o.richText,hideWrapper:!0}).render();O.style.left="100%",f.append(O)}_renderQuadrilaterals(r){for(const o of this.quadrilaterals)o.classList.add(r);return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(r,o=null){const f=[];if(this._fieldObjects){const R=this._fieldObjects[r];if(R)for(const{page:O,id:q,exportValues:Y}of R){if(O===-1||q===o)continue;const z=typeof Y=="string"?Y:null,et=document.querySelector(`[data-element-id="${q}"]`);if(et&&!E.has(et)){(0,n.warn)(`_getElementsByName - element not allowed: ${q}`);continue}f.push({id:q,exportValue:z,domElement:et})}return f}for(const R of document.getElementsByName(r)){const{exportValue:O}=R,q=R.getAttribute("data-element-id");q!==o&&(!E.has(R)||f.push({id:q,exportValue:O,domElement:R}))}return f}}class C extends L{constructor(o,f=null){super(o,{isRenderable:!0,ignoreBorder:!!(f!=null&&f.ignoreBorder),createQuadrilaterals:!0});at(this,Et);at(this,T);this.isTooltipOnly=o.data.isTooltipOnly}render(){const{data:o,linkService:f}=this,R=document.createElement("a");R.setAttribute("data-element-id",o.id);let O=!1;return o.url?(f.addLinkAttributes(R,o.url,o.newWindow),O=!0):o.action?(this._bindNamedAction(R,o.action),O=!0):o.attachment?(this._bindAttachment(R,o.attachment),O=!0):o.setOCGState?(ut(this,T,an).call(this,R,o.setOCGState),O=!0):o.dest?(this._bindLink(R,o.dest),O=!0):(o.actions&&(o.actions.Action||o.actions["Mouse Up"]||o.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(R,o),O=!0),o.resetForm?(this._bindResetFormAction(R,o.resetForm),O=!0):this.isTooltipOnly&&!O&&(this._bindLink(R,""),O=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((q,Y)=>{const z=Y===0?R:R.cloneNode();return q.append(z),q}):(this.container.classList.add("linkAnnotation"),O&&this.container.append(R),this.container)}_bindLink(o,f){o.href=this.linkService.getDestinationHash(f),o.onclick=()=>(f&&this.linkService.goToDestination(f),!1),(f||f==="")&&ut(this,Et,Jt).call(this)}_bindNamedAction(o,f){o.href=this.linkService.getAnchorUrl(""),o.onclick=()=>(this.linkService.executeNamedAction(f),!1),ut(this,Et,Jt).call(this)}_bindAttachment(o,f){o.href=this.linkService.getAnchorUrl(""),o.onclick=()=>{var R;return(R=this.downloadManager)==null||R.openOrDownloadData(this.container,f.content,f.filename),!1},ut(this,Et,Jt).call(this)}_bindJSAction(o,f){o.href=this.linkService.getAnchorUrl("");const R=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const O of Object.keys(f.actions)){const q=R.get(O);!q||(o[q]=()=>{var Y;return(Y=this.linkService.eventBus)==null||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:f.id,name:O}}),!1})}o.onclick||(o.onclick=()=>!1),ut(this,Et,Jt).call(this)}_bindResetFormAction(o,f){const R=o.onclick;if(R||(o.href=this.linkService.getAnchorUrl("")),ut(this,Et,Jt).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),R||(o.onclick=()=>!1);return}o.onclick=()=>{var Z;R==null||R();const{fields:O,refs:q,include:Y}=f,z=[];if(O.length!==0||q.length!==0){const it=new Set(q);for(const ct of O){const pt=this._fieldObjects[ct]||[];for(const{id:At}of pt)it.add(At)}for(const ct of Object.values(this._fieldObjects))for(const pt of ct)it.has(pt.id)===Y&&z.push(pt)}else for(const it of Object.values(this._fieldObjects))z.push(...it);const et=this.annotationStorage,nt=[];for(const it of z){const{id:ct}=it;switch(nt.push(ct),it.type){case"text":{const At=it.defaultValue||"";et.setValue(ct,{value:At});break}case"checkbox":case"radiobutton":{const At=it.defaultValue===it.exportValues;et.setValue(ct,{value:At});break}case"combobox":case"listbox":{const At=it.defaultValue||"";et.setValue(ct,{value:At});break}default:continue}const pt=document.querySelector(`[data-element-id="${ct}"]`);if(pt){if(!E.has(pt)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${ct}`);continue}}else continue;pt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Z=this.linkService.eventBus)==null||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:nt,name:"ResetForm"}})),!1}}}Et=new WeakSet,Jt=function(){this.container.setAttribute("data-internal-link","")},T=new WeakSet,an=function(o,f){o.href=this.linkService.getAnchorUrl(""),o.onclick=()=>(this.linkService.executeSetOCGState(f),!1),ut(this,Et,Jt).call(this)};class y extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o})}render(){this.container.classList.add("textAnnotation");const r=document.createElement("img");return r.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",r.alt="[{{type}} Annotation]",r.dataset.l10nId="text_annotation_type",r.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(r,this.data),this.container.append(r),this.container}}class u extends L{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(r){var o;this.data.hasOwnCanvas&&(((o=r.previousSibling)==null?void 0:o.nodeName)==="CANVAS"&&(r.previousSibling.hidden=!0),r.hidden=!1)}_getKeyModifier(r){const{isWin:o,isMac:f}=n.FeatureTest.platform;return o&&r.ctrlKey||f&&r.metaKey}_setEventListener(r,o,f,R){o.includes("mouse")?r.addEventListener(o,O=>{var q;(q=this.linkService.eventBus)==null||q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:f,value:R(O),shift:O.shiftKey,modifier:this._getKeyModifier(O)}})}):r.addEventListener(o,O=>{var q;(q=this.linkService.eventBus)==null||q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:f,value:R(O)}})})}_setEventListeners(r,o,f){var R;for(const[O,q]of o)(q==="Action"||((R=this.data.actions)==null?void 0:R[q]))&&this._setEventListener(r,O,q,f)}_setBackgroundColor(r){const o=this.data.backgroundColor||null;r.style.backgroundColor=o===null?"transparent":n.Util.makeHexColor(o[0],o[1],o[2])}_setTextStyle(r){const o=["left","center","right"],{fontColor:f}=this.data.defaultAppearanceData,R=this.data.defaultAppearanceData.fontSize||w,O=r.style;let q;const Y=2,z=et=>Math.round(10*et)/10;if(this.data.multiLine){const et=Math.abs(this.data.rect[3]-this.data.rect[1]-Y),nt=Math.round(et/(n.LINE_FACTOR*R))||1,Z=et/nt;q=Math.min(R,z(Z/n.LINE_FACTOR))}else{const et=Math.abs(this.data.rect[3]-this.data.rect[1]-Y);q=Math.min(R,z(et/n.LINE_FACTOR))}O.fontSize=`calc(${q}px * var(--scale-factor))`,O.color=n.Util.makeHexColor(f[0],f[1],f[2]),this.data.textAlignment!==null&&(O.textAlign=o[this.data.textAlignment])}_setRequired(r,o){o?r.setAttribute("required",!0):r.removeAttribute("required"),r.setAttribute("aria-required",o)}}class F extends u{constructor(r){const o=r.renderForms||!r.data.hasAppearance&&!!r.data.fieldValue;super(r,{isRenderable:o})}setPropertyOnSiblings(r,o,f,R){const O=this.annotationStorage;for(const q of this._getElementsByName(r.name,r.id))q.domElement&&(q.domElement[o]=f),O.setValue(q.id,{[R]:f})}render(){var R;const r=this.annotationStorage,o=this.data.id;this.container.classList.add("textWidgetAnnotation");let f=null;if(this.renderForms){const O=r.getValue(o,{value:this.data.fieldValue});let q=O.formattedValue||O.value||"";const Y=r.getValue(o,{charLimit:this.data.maxLen}).charLimit;Y&&q.length>Y&&(q=q.slice(0,Y));const z={userValue:q,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(f=document.createElement("textarea"),f.textContent=q,this.data.doNotScroll&&(f.style.overflowY="hidden")):(f=document.createElement("input"),f.type="text",f.setAttribute("value",q),this.data.doNotScroll&&(f.style.overflowX="hidden")),this.data.hasOwnCanvas&&(f.hidden=!0),E.add(f),f.setAttribute("data-element-id",o),f.disabled=this.data.readOnly,f.name=this.data.fieldName,f.tabIndex=x,this._setRequired(f,this.data.required),Y&&(f.maxLength=Y),f.addEventListener("input",nt=>{r.setValue(o,{value:nt.target.value}),this.setPropertyOnSiblings(f,"value",nt.target.value,"value")}),f.addEventListener("resetform",nt=>{var it;const Z=(it=this.data.defaultFieldValue)!=null?it:"";f.value=z.userValue=Z,z.formattedValue=null});let et=nt=>{const{formattedValue:Z}=z;Z!=null&&(nt.target.value=Z),nt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){f.addEventListener("focus",Z=>{const{target:it}=Z;z.userValue&&(it.value=z.userValue),z.lastCommittedValue=it.value,z.commitKey=1}),f.addEventListener("updatefromsandbox",Z=>{this.showElementAndHideCanvas(Z.target);const it={value(ct){var pt;z.userValue=(pt=ct.detail.value)!=null?pt:"",r.setValue(o,{value:z.userValue.toString()}),ct.target.value=z.userValue},formattedValue(ct){const{formattedValue:pt}=ct.detail;z.formattedValue=pt,pt!=null&&ct.target!==document.activeElement&&(ct.target.value=pt),r.setValue(o,{formattedValue:pt})},selRange(ct){ct.target.setSelectionRange(...ct.detail.selRange)},charLimit:ct=>{var xt;const{charLimit:pt}=ct.detail,{target:At}=ct;if(pt===0){At.removeAttribute("maxLength");return}At.setAttribute("maxLength",pt);let bt=z.userValue;!bt||bt.length<=pt||(bt=bt.slice(0,pt),At.value=z.userValue=bt,r.setValue(o,{value:bt}),(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:bt,willCommit:!0,commitKey:1,selStart:At.selectionStart,selEnd:At.selectionEnd}}))}};this._dispatchEventFromSandbox(it,Z)}),f.addEventListener("keydown",Z=>{var pt;z.commitKey=1;let it=-1;if(Z.key==="Escape"?it=0:Z.key==="Enter"&&!this.data.multiLine?it=2:Z.key==="Tab"&&(z.commitKey=3),it===-1)return;const{value:ct}=Z.target;z.lastCommittedValue!==ct&&(z.lastCommittedValue=ct,z.userValue=ct,(pt=this.linkService.eventBus)==null||pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:ct,willCommit:!0,commitKey:it,selStart:Z.target.selectionStart,selEnd:Z.target.selectionEnd}}))});const nt=et;et=null,f.addEventListener("blur",Z=>{var ct;if(!Z.relatedTarget)return;const{value:it}=Z.target;z.userValue=it,z.lastCommittedValue!==it&&((ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:it,willCommit:!0,commitKey:z.commitKey,selStart:Z.target.selectionStart,selEnd:Z.target.selectionEnd}})),nt(Z)}),(R=this.data.actions)!=null&&R.Keystroke&&f.addEventListener("beforeinput",Z=>{var vt;z.lastCommittedValue=null;const{data:it,target:ct}=Z,{value:pt,selectionStart:At,selectionEnd:bt}=ct;let xt=At,st=bt;switch(Z.inputType){case"deleteWordBackward":{const Ct=pt.substring(0,At).match(/\w*[^\w]*$/);Ct&&(xt-=Ct[0].length);break}case"deleteWordForward":{const Ct=pt.substring(At).match(/^[^\w]*\w*/);Ct&&(st+=Ct[0].length);break}case"deleteContentBackward":At===bt&&(xt-=1);break;case"deleteContentForward":At===bt&&(st+=1);break}Z.preventDefault(),(vt=this.linkService.eventBus)==null||vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:pt,change:it||"",willCommit:!1,selStart:xt,selEnd:st}})}),this._setEventListeners(f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Z=>Z.target.value)}if(et&&f.addEventListener("blur",et),this.data.comb){const Z=(this.data.rect[2]-this.data.rect[0])/Y;f.classList.add("comb"),f.style.letterSpacing=`calc(${Z}px * var(--scale-factor) - 1ch)`}}else f=document.createElement("div"),f.textContent=this.data.fieldValue,f.style.verticalAlign="middle",f.style.display="table-cell";return this._setTextStyle(f),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.append(f),this.container}}class N extends u{constructor(r){super(r,{isRenderable:r.renderForms})}render(){const r=this.annotationStorage,o=this.data,f=o.id;let R=r.getValue(f,{value:o.exportValue===o.fieldValue}).value;typeof R=="string"&&(R=R!=="Off",r.setValue(f,{value:R})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const O=document.createElement("input");return E.add(O),O.setAttribute("data-element-id",f),O.disabled=o.readOnly,this._setRequired(O,this.data.required),O.type="checkbox",O.name=o.fieldName,R&&O.setAttribute("checked",!0),O.setAttribute("exportValue",o.exportValue),O.tabIndex=x,O.addEventListener("change",q=>{const{name:Y,checked:z}=q.target;for(const et of this._getElementsByName(Y,f)){const nt=z&&et.exportValue===o.exportValue;et.domElement&&(et.domElement.checked=nt),r.setValue(et.id,{value:nt})}r.setValue(f,{value:z})}),O.addEventListener("resetform",q=>{const Y=o.defaultFieldValue||"Off";q.target.checked=Y===o.exportValue}),this.enableScripting&&this.hasJSActions&&(O.addEventListener("updatefromsandbox",q=>{const Y={value(z){z.target.checked=z.detail.value!=="Off",r.setValue(f,{value:z.target.checked})}};this._dispatchEventFromSandbox(Y,q)}),this._setEventListeners(O,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class B extends u{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const r=this.annotationStorage,o=this.data,f=o.id;let R=r.getValue(f,{value:o.fieldValue===o.buttonValue}).value;typeof R=="string"&&(R=R!==o.buttonValue,r.setValue(f,{value:R}));const O=document.createElement("input");if(E.add(O),O.setAttribute("data-element-id",f),O.disabled=o.readOnly,this._setRequired(O,this.data.required),O.type="radio",O.name=o.fieldName,R&&O.setAttribute("checked",!0),O.tabIndex=x,O.addEventListener("change",q=>{const{name:Y,checked:z}=q.target;for(const et of this._getElementsByName(Y,f))r.setValue(et.id,{value:!1});r.setValue(f,{value:z})}),O.addEventListener("resetform",q=>{const Y=o.defaultFieldValue;q.target.checked=Y!=null&&Y===o.buttonValue}),this.enableScripting&&this.hasJSActions){const q=o.buttonValue;O.addEventListener("updatefromsandbox",Y=>{const z={value:et=>{const nt=q===et.detail.value;for(const Z of this._getElementsByName(et.target.name)){const it=nt&&Z.id===f;Z.domElement&&(Z.domElement.checked=it),r.setValue(Z.id,{value:it})}}};this._dispatchEventFromSandbox(z,Y)}),this._setEventListeners(O,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.checked)}return this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class A extends C{constructor(r){super(r,{ignoreBorder:r.data.hasAppearance})}render(){const r=super.render();r.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(r.title=this.data.alternativeText);const o=r.lastChild;return this.enableScripting&&this.hasJSActions&&o&&(this._setDefaultPropertiesFromJS(o),o.addEventListener("updatefromsandbox",f=>{this._dispatchEventFromSandbox({},f)})),r}}class a extends u{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const r=this.annotationStorage,o=this.data.id,f=r.getValue(o,{value:this.data.fieldValue}),R=document.createElement("select");E.add(R),R.setAttribute("data-element-id",o),R.disabled=this.data.readOnly,this._setRequired(R,this.data.required),R.name=this.data.fieldName,R.tabIndex=x;let O=this.data.combo&&this.data.options.length>0;this.data.combo||(R.size=this.data.options.length,this.data.multiSelect&&(R.multiple=!0)),R.addEventListener("resetform",nt=>{const Z=this.data.defaultFieldValue;for(const it of R.options)it.selected=it.value===Z});for(const nt of this.data.options){const Z=document.createElement("option");Z.textContent=nt.displayValue,Z.value=nt.exportValue,f.value.includes(nt.exportValue)&&(Z.setAttribute("selected",!0),O=!1),R.append(Z)}let q=null;if(O){const nt=document.createElement("option");nt.value=" ",nt.setAttribute("hidden",!0),nt.setAttribute("selected",!0),R.prepend(nt),q=()=>{nt.remove(),R.removeEventListener("input",q),q=null},R.addEventListener("input",q)}const Y=nt=>{const Z=nt?"value":"textContent",{options:it,multiple:ct}=R;return ct?Array.prototype.filter.call(it,pt=>pt.selected).map(pt=>pt[Z]):it.selectedIndex===-1?null:it[it.selectedIndex][Z]};let z=Y(!1);const et=nt=>{const Z=nt.target.options;return Array.prototype.map.call(Z,it=>({displayValue:it.textContent,exportValue:it.value}))};return this.enableScripting&&this.hasJSActions?(R.addEventListener("updatefromsandbox",nt=>{const Z={value(it){q==null||q();const ct=it.detail.value,pt=new Set(Array.isArray(ct)?ct:[ct]);for(const At of R.options)At.selected=pt.has(At.value);r.setValue(o,{value:Y(!0)}),z=Y(!1)},multipleSelection(it){R.multiple=!0},remove(it){const ct=R.options,pt=it.detail.remove;ct[pt].selected=!1,R.remove(pt),ct.length>0&&Array.prototype.findIndex.call(ct,bt=>bt.selected)===-1&&(ct[0].selected=!0),r.setValue(o,{value:Y(!0),items:et(it)}),z=Y(!1)},clear(it){for(;R.length!==0;)R.remove(0);r.setValue(o,{value:null,items:[]}),z=Y(!1)},insert(it){const{index:ct,displayValue:pt,exportValue:At}=it.detail.insert,bt=R.children[ct],xt=document.createElement("option");xt.textContent=pt,xt.value=At,bt?bt.before(xt):R.append(xt),r.setValue(o,{value:Y(!0),items:et(it)}),z=Y(!1)},items(it){const{items:ct}=it.detail;for(;R.length!==0;)R.remove(0);for(const pt of ct){const{displayValue:At,exportValue:bt}=pt,xt=document.createElement("option");xt.textContent=At,xt.value=bt,R.append(xt)}R.options.length>0&&(R.options[0].selected=!0),r.setValue(o,{value:Y(!0),items:et(it)}),z=Y(!1)},indices(it){const ct=new Set(it.detail.indices);for(const pt of it.target.options)pt.selected=ct.has(pt.index);r.setValue(o,{value:Y(!0)}),z=Y(!1)},editable(it){it.target.disabled=!it.detail.editable}};this._dispatchEventFromSandbox(Z,nt)}),R.addEventListener("input",nt=>{var it;const Z=Y(!0);r.setValue(o,{value:Z}),nt.preventDefault(),(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:z,changeEx:Z,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(R,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],nt=>nt.target.value)):R.addEventListener("input",function(nt){r.setValue(o,{value:Y(!0)})}),this.data.combo&&this._setTextStyle(R),this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.append(R),this.container}}const j=class extends L{constructor(r){var R,O,q;const{data:o}=r,f=!j.IGNORE_TYPES.has(o.parentType)&&!!(((R=o.titleObj)==null?void 0:R.str)||((O=o.contentsObj)==null?void 0:O.str)||((q=o.richText)==null?void 0:q.str));super(r,{isRenderable:f})}render(){this.container.classList.add("popupAnnotation");const r=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(r.length===0)return this.container;const o=new b({container:this.container,trigger:Array.from(r),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),f=this.page,R=n.Util.normalizeRect([this.data.parentRect[0],f.view[3]-this.data.parentRect[1]+f.view[1],this.data.parentRect[2],f.view[3]-this.data.parentRect[3]+f.view[1]]),O=R[0]+this.data.parentRect[2]-this.data.parentRect[0],q=R[1],{pageWidth:Y,pageHeight:z,pageX:et,pageY:nt}=this.viewport.rawDims;return this.container.style.left=`${100*(O-et)/Y}%`,this.container.style.top=`${100*(q-nt)/z}%`,this.container.append(o.render()),this.container}};let g=j;Lt(g,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class b{constructor(r){this.container=r.container,this.trigger=r.trigger,this.color=r.color,this.titleObj=r.titleObj,this.modificationDate=r.modificationDate,this.contentsObj=r.contentsObj,this.richText=r.richText,this.hideWrapper=r.hideWrapper||!1,this.pinned=!1}render(){var Y,z;const o=document.createElement("div");o.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?o:this.container,this.hideElement.hidden=!0;const f=document.createElement("div");f.classList.add("popup");const R=this.color;if(R){const et=.7*(255-R[0])+R[0],nt=.7*(255-R[1])+R[1],Z=.7*(255-R[2])+R[2];f.style.backgroundColor=n.Util.makeHexColor(et|0,nt|0,Z|0)}const O=document.createElement("h1");O.dir=this.titleObj.dir,O.textContent=this.titleObj.str,f.append(O);const q=i.PDFDateString.toDateObject(this.modificationDate);if(q){const et=document.createElement("span");et.classList.add("popupDate"),et.textContent="{{date}}, {{time}}",et.dataset.l10nId="annotation_date_string",et.dataset.l10nArgs=JSON.stringify({date:q.toLocaleDateString(),time:q.toLocaleTimeString()}),f.append(et)}if(((Y=this.richText)==null?void 0:Y.str)&&(!((z=this.contentsObj)!=null&&z.str)||this.contentsObj.str===this.richText.str))D.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:f}),f.lastChild.classList.add("richText","popupContent");else{const et=this._formatContents(this.contentsObj);f.append(et)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const et of this.trigger)et.addEventListener("click",this._toggle.bind(this)),et.addEventListener("mouseover",this._show.bind(this,!1)),et.addEventListener("mouseout",this._hide.bind(this,!1));return f.addEventListener("click",this._hide.bind(this,!0)),o.append(f),o}_formatContents({str:r,dir:o}){const f=document.createElement("p");f.classList.add("popupContent"),f.dir=o;const R=r.split(/(?:\r\n?|\n)/);for(let O=0,q=R.length;O<q;++O){const Y=R[O];f.append(document.createTextNode(Y)),O<q-1&&f.append(document.createElement("br"))}return f}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(r=!1){r&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(r=!0){r&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class c extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0}),this.textContent=r.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const r=document.createElement("div");r.classList.add("annotationTextContent"),r.setAttribute("role","comment");for(const o of this.textContent){const f=document.createElement("span");f.textContent=o,r.append(f)}this.container.append(r)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class v extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const r=this.data,{width:o,height:f}=I(r.rect),R=this.svgFactory.create(o,f,!0),O=this.svgFactory.createElement("svg:line");return O.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),O.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),O.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),O.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),O.setAttribute("stroke-width",r.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),R.append(O),this.container.append(R),this._createPopup(O,r),this.container}}class H extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const r=this.data,{width:o,height:f}=I(r.rect),R=this.svgFactory.create(o,f,!0),O=r.borderStyle.width,q=this.svgFactory.createElement("svg:rect");return q.setAttribute("x",O/2),q.setAttribute("y",O/2),q.setAttribute("width",o-O),q.setAttribute("height",f-O),q.setAttribute("stroke-width",O||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),R.append(q),this.container.append(R),this._createPopup(q,r),this.container}}class d extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const r=this.data,{width:o,height:f}=I(r.rect),R=this.svgFactory.create(o,f,!0),O=r.borderStyle.width,q=this.svgFactory.createElement("svg:ellipse");return q.setAttribute("cx",o/2),q.setAttribute("cy",f/2),q.setAttribute("rx",o/2-O/2),q.setAttribute("ry",f/2-O/2),q.setAttribute("stroke-width",O||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),R.append(q),this.container.append(R),this._createPopup(q,r),this.container}}class W extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const r=this.data,{width:o,height:f}=I(r.rect),R=this.svgFactory.create(o,f,!0);let O=[];for(const Y of r.vertices){const z=Y.x-r.rect[0],et=r.rect[3]-Y.y;O.push(z+","+et)}O=O.join(" ");const q=this.svgFactory.createElement(this.svgElementName);return q.setAttribute("points",O),q.setAttribute("stroke-width",r.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),R.append(q),this.container.append(R),this._createPopup(q,r),this.container}}class K extends W{constructor(r){super(r),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tt extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class rt extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const r=this.data,{width:o,height:f}=I(r.rect),R=this.svgFactory.create(o,f,!0);for(const O of r.inkLists){let q=[];for(const z of O){const et=z.x-r.rect[0],nt=r.rect[3]-z.y;q.push(`${et},${nt}`)}q=q.join(" ");const Y=this.svgFactory.createElement(this.svgElementName);Y.setAttribute("points",q),Y.setAttribute("stroke-width",r.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),this._createPopup(Y,r),R.append(Y)}return this.container.append(R),this.container}}class ot extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class ht extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class lt extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class gt extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class yt extends L{constructor(r){var f,R,O;const o=!!(r.data.hasPopup||((f=r.data.titleObj)==null?void 0:f.str)||((R=r.data.contentsObj)==null?void 0:R.str)||((O=r.data.richText)==null?void 0:O.str));super(r,{isRenderable:o,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class St extends L{constructor(r){var R;super(r,{isRenderable:!0});const{filename:o,content:f}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(o,!0),this.content=f,(R=this.linkService.eventBus)==null||R.dispatch("fileattachmentannotation",{source:this,filename:o,content:f})}render(){var o,f;this.container.classList.add("fileAttachmentAnnotation");let r;return this.data.hasAppearance?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),r.classList.add("popupTriggerArea"),r.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((o=this.data.titleObj)==null?void 0:o.str)||((f=this.data.contentsObj)==null?void 0:f.str)||this.data.richText)&&this._createPopup(r,this.data),this.container.append(r),this.container}_download(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.container,this.content,this.filename)}}const m=class{static render(r){var z,et;const{annotations:o,div:f,viewport:R,accessibilityManager:O}=r;(0,i.setLayerDimensions)(f,R);const q={data:null,layer:f,page:r.page,viewport:R,linkService:r.linkService,downloadManager:r.downloadManager,imageResourcesPath:r.imageResourcesPath||"",renderForms:r.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:r.annotationStorage||new l.AnnotationStorage,enableScripting:r.enableScripting===!0,hasJSActions:r.hasJSActions,fieldObjects:r.fieldObjects};let Y=0;for(const nt of o){if(nt.noHTML)continue;if(nt.annotationType!==n.AnnotationType.POPUP){const{width:ct,height:pt}=I(nt.rect);if(ct<=0||pt<=0)continue}q.data=nt;const Z=k.create(q);if(!Z.isRenderable)continue;const it=Z.render();if(nt.hidden&&(it.style.visibility="hidden"),Array.isArray(it))for(const ct of it)ct.style.zIndex=Y++,ut(z=m,X,Me).call(z,ct,nt.id,f,O);else it.style.zIndex=Y++,Z instanceof g?f.prepend(it):ut(et=m,X,Me).call(et,it,nt.id,f,O)}ut(this,Q,Oe).call(this,f,r.annotationCanvasMap)}static update(r){const{annotationCanvasMap:o,div:f,viewport:R}=r;(0,i.setLayerDimensions)(f,{rotation:R.rotation}),ut(this,Q,Oe).call(this,f,o),f.hidden=!1}};let Tt=m;X=new WeakSet,Me=function(r,o,f,R){const O=r.firstChild||r;O.id=`${i.AnnotationPrefix}${o}`,f.append(r),R==null||R.moveElementInDOM(f,r,O,!1)},Q=new WeakSet,Oe=function(r,o){if(!!o){for(const[f,R]of o){const O=r.querySelector(`[data-annotation-id="${f}"]`);if(!O)continue;const{firstChild:q}=O;q?q.nodeName==="CANVAS"?q.replaceWith(R):q.before(R):O.append(R)}o.clear()}},at(Tt,X),at(Tt,Q),e.AnnotationLayer=Tt},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function s(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}class n{static CMYK_G([l,_,D,x]){return["G",1-Math.min(1,.3*l+.59*D+.11*_+x)]}static G_CMYK([l]){return["CMYK",0,0,0,1-l]}static G_RGB([l]){return["RGB",l,l,l]}static G_HTML([l]){const _=s(l);return`#${_}${_}${_}`}static RGB_G([l,_,D]){return["G",.3*l+.59*_+.11*D]}static RGB_HTML([l,_,D]){const x=s(l),w=s(_),E=s(D);return`#${x}${w}${E}`}static T_HTML(){return"#00000000"}static CMYK_RGB([l,_,D,x]){return["RGB",1-Math.min(1,l+x),1-Math.min(1,D+x),1-Math.min(1,_+x)]}static CMYK_HTML(l){const _=this.CMYK_RGB(l).slice(1);return this.RGB_HTML(_)}static RGB_CMYK([l,_,D]){const x=1-l,w=1-_,E=1-D,I=Math.min(x,w,E);return["CMYK",x,w,E,I]}}e.ColorConverters=n},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=s(19);class i{static setupStorage(_,D,x,w,E){const I=w.getValue(D,{value:null});switch(x.name){case"textarea":if(I.value!==null&&(_.textContent=I.value),E==="print")break;_.addEventListener("input",k=>{w.setValue(D,{value:k.target.value})});break;case"input":if(x.attributes.type==="radio"||x.attributes.type==="checkbox"){if(I.value===x.attributes.xfaOn?_.setAttribute("checked",!0):I.value===x.attributes.xfaOff&&_.removeAttribute("checked"),E==="print")break;_.addEventListener("change",k=>{w.setValue(D,{value:k.target.checked?k.target.getAttribute("xfaOn"):k.target.getAttribute("xfaOff")})})}else{if(I.value!==null&&_.setAttribute("value",I.value),E==="print")break;_.addEventListener("input",k=>{w.setValue(D,{value:k.target.value})})}break;case"select":if(I.value!==null)for(const k of x.children)k.attributes.value===I.value&&(k.attributes.selected=!0);_.addEventListener("input",k=>{const L=k.target.options,C=L.selectedIndex===-1?"":L[L.selectedIndex].value;w.setValue(D,{value:C})});break}}static setAttributes({html:_,element:D,storage:x=null,intent:w,linkService:E}){const{attributes:I}=D,k=_ instanceof HTMLAnchorElement;I.type==="radio"&&(I.name=`${I.name}-${w}`);for(const[L,C]of Object.entries(I))if(C!=null)switch(L){case"class":C.length&&_.setAttribute(L,C.join(" "));break;case"dataId":break;case"id":_.setAttribute("data-element-id",C);break;case"style":Object.assign(_.style,C);break;case"textContent":_.textContent=C;break;default:(!k||L!=="href"&&L!=="newWindow")&&_.setAttribute(L,C)}k&&E.addLinkAttributes(_,I.href,I.newWindow),x&&I.dataId&&this.setupStorage(_,I.dataId,D,x)}static render(_){var y;const D=_.annotationStorage,x=_.linkService,w=_.xfaHtml,E=_.intent||"display",I=document.createElement(w.name);w.attributes&&this.setAttributes({html:I,element:w,intent:E,linkService:x});const k=[[w,-1,I]],L=_.div;if(L.append(I),_.viewport){const u=`matrix(${_.viewport.transform.join(",")})`;L.style.transform=u}E!=="richText"&&L.setAttribute("class","xfaLayer xfaFont");const C=[];for(;k.length>0;){const[u,F,N]=k.at(-1);if(F+1===u.children.length){k.pop();continue}const B=u.children[++k.at(-1)[1]];if(B===null)continue;const{name:A}=B;if(A==="#text"){const g=document.createTextNode(B.value);C.push(g),N.append(g);continue}let a;if((y=B==null?void 0:B.attributes)!=null&&y.xmlns?a=document.createElementNS(B.attributes.xmlns,A):a=document.createElement(A),N.append(a),B.attributes&&this.setAttributes({html:a,element:B,storage:D,intent:E,linkService:x}),B.children&&B.children.length>0)k.push([B,-1,a]);else if(B.value){const g=document.createTextNode(B.value);n.XfaText.shouldBuildText(A)&&C.push(g),a.append(g)}}for(const u of L.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:C}}static update(_){const D=`matrix(${_.viewport.transform.join(",")})`;_.div.style.transform=D,_.div.hidden=!1}}e.XfaLayer=i},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=s(6),i=s(1),l=s(10);let _=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=_;{let y=function(a){let g=[];const b=[];for(const c of a){if(c.fn==="save"){g.push({fnId:92,fn:"group",items:[]}),b.push(g),g=g.at(-1).items;continue}c.fn==="restore"?g=b.pop():g.push(c)}return g},u=function(a){if(Number.isInteger(a))return a.toString();const g=a.toFixed(10);let b=g.length-1;if(g[b]!=="0")return g;do b--;while(g[b]==="0");return g.substring(0,g[b]==="."?b:b+1)},F=function(a){if(a[4]===0&&a[5]===0){if(a[1]===0&&a[2]===0)return a[0]===1&&a[3]===1?"":`scale(${u(a[0])} ${u(a[3])})`;if(a[0]===a[3]&&a[1]===-a[2]){const g=Math.acos(a[0])*180/Math.PI;return`rotate(${u(g)})`}}else if(a[0]===1&&a[1]===0&&a[2]===0&&a[3]===1)return`translate(${u(a[4])} ${u(a[5])})`;return`matrix(${u(a[0])} ${u(a[1])} ${u(a[2])} ${u(a[3])} ${u(a[4])} ${u(a[5])})`};const D={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},x="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/1999/xlink",E=["butt","round","square"],I=["miter","round","bevel"],k=function(a,g="",b=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!b)return URL.createObjectURL(new Blob([a],{type:g}));const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${g};base64,`;for(let H=0,d=a.length;H<d;H+=3){const W=a[H]&255,K=a[H+1]&255,tt=a[H+2]&255,rt=W>>2,ot=(W&3)<<4|K>>4,ht=H+1<d?(K&15)<<2|tt>>6:64,lt=H+2<d?tt&63:64;v+=c[rt]+c[ot]+c[ht]+c[lt]}return v},L=function(){const a=new Uint8Array([137,80,78,71,13,10,26,10]),g=12,b=new Int32Array(256);for(let tt=0;tt<256;tt++){let rt=tt;for(let ot=0;ot<8;ot++)rt&1?rt=3988292384^rt>>1&2147483647:rt=rt>>1&2147483647;b[tt]=rt}function c(tt,rt,ot){let ht=-1;for(let lt=rt;lt<ot;lt++){const gt=(ht^tt[lt])&255,yt=b[gt];ht=ht>>>8^yt}return ht^-1}function v(tt,rt,ot,ht){let lt=ht;const gt=rt.length;ot[lt]=gt>>24&255,ot[lt+1]=gt>>16&255,ot[lt+2]=gt>>8&255,ot[lt+3]=gt&255,lt+=4,ot[lt]=tt.charCodeAt(0)&255,ot[lt+1]=tt.charCodeAt(1)&255,ot[lt+2]=tt.charCodeAt(2)&255,ot[lt+3]=tt.charCodeAt(3)&255,lt+=4,ot.set(rt,lt),lt+=rt.length;const yt=c(ot,ht+4,lt);ot[lt]=yt>>24&255,ot[lt+1]=yt>>16&255,ot[lt+2]=yt>>8&255,ot[lt+3]=yt&255}function H(tt,rt,ot){let ht=1,lt=0;for(let gt=rt;gt<ot;++gt)ht=(ht+(tt[gt]&255))%65521,lt=(lt+ht)%65521;return lt<<16|ht}function d(tt){if(!l.isNodeJS)return W(tt);try{let rt;parseInt(process.versions.node)>=8?rt=tt:rt=Buffer.from(tt);const ot=require$$5.deflateSync(rt,{level:9});return ot instanceof Uint8Array?ot:new Uint8Array(ot)}catch(rt){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+rt)}return W(tt)}function W(tt){let rt=tt.length;const ot=65535,ht=Math.ceil(rt/ot),lt=new Uint8Array(2+rt+ht*5+4);let gt=0;lt[gt++]=120,lt[gt++]=156;let yt=0;for(;rt>ot;)lt[gt++]=0,lt[gt++]=255,lt[gt++]=255,lt[gt++]=0,lt[gt++]=0,lt.set(tt.subarray(yt,yt+ot),gt),gt+=ot,yt+=ot,rt-=ot;lt[gt++]=1,lt[gt++]=rt&255,lt[gt++]=rt>>8&255,lt[gt++]=~rt&65535&255,lt[gt++]=(~rt&65535)>>8&255,lt.set(tt.subarray(yt),gt),gt+=tt.length-yt;const St=H(tt,0,tt.length);return lt[gt++]=St>>24&255,lt[gt++]=St>>16&255,lt[gt++]=St>>8&255,lt[gt++]=St&255,lt}function K(tt,rt,ot,ht){const lt=tt.width,gt=tt.height;let yt,St,Tt;const Et=tt.data;switch(rt){case i.ImageKind.GRAYSCALE_1BPP:St=0,yt=1,Tt=lt+7>>3;break;case i.ImageKind.RGB_24BPP:St=2,yt=8,Tt=lt*3;break;case i.ImageKind.RGBA_32BPP:St=6,yt=8,Tt=lt*4;break;default:throw new Error("invalid format")}const J=new Uint8Array((1+Tt)*gt);let T=0,P=0;for(let m=0;m<gt;++m)J[T++]=0,J.set(Et.subarray(P,P+Tt),T),P+=Tt,T+=Tt;if(rt===i.ImageKind.GRAYSCALE_1BPP&&ht){T=0;for(let m=0;m<gt;m++){T++;for(let S=0;S<Tt;S++)J[T++]^=255}}const j=new Uint8Array([lt>>24&255,lt>>16&255,lt>>8&255,lt&255,gt>>24&255,gt>>16&255,gt>>8&255,gt&255,yt,St,0,0,0]),X=d(J),$=a.length+g*3+j.length+X.length,Q=new Uint8Array($);let G=0;return Q.set(a,G),G+=a.length,v("IHDR",j,Q,G),G+=g+j.length,v("IDATA",X,Q,G),G+=g+X.length,v("IEND",new Uint8Array(0),Q,G),k(Q,"image/png",ot)}return function(rt,ot,ht){const lt=rt.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:rt.kind;return K(rt,lt,ot,ht)}}();class C{constructor(){this.fontSizeScale=1,this.fontWeight=D.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=D.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(g,b){this.x=g,this.y=b}}let N=0,B=0,A=0;e.SVGGraphics=_=class{constructor(a,g,b=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new C,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=a,this.objs=g,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!b,this._operatorIdMapping=[];for(const c in i.OPS)this._operatorIdMapping[i.OPS[c]]=c}getObject(a,g=null){return typeof a=="string"?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):g}save(){this.transformStack.push(this.transformMatrix);const a=this.current;this.extraStack.push(a),this.current=a.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(a){this.save(),this.executeOpTree(a),this.restore()}loadDependencies(a){const g=a.fnArray,b=a.argsArray;for(let c=0,v=g.length;c<v;c++)if(g[c]===i.OPS.dependency)for(const H of b[c]){const d=H.startsWith("g_")?this.commonObjs:this.objs,W=new Promise(K=>{d.get(H,K)});this.current.dependencies.push(W)}return Promise.all(this.current.dependencies)}transform(a,g,b,c,v,H){const d=[a,g,b,c,v,H];this.transformMatrix=i.Util.transform(this.transformMatrix,d),this.tgrp=null}getSVG(a,g){this.viewport=g;const b=this._initialize(g);return this.loadDependencies(a).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(a)),b))}convertOpList(a){const g=this._operatorIdMapping,b=a.argsArray,c=a.fnArray,v=[];for(let H=0,d=c.length;H<d;H++){const W=c[H];v.push({fnId:W,fn:g[W],args:b[H]})}return y(v)}executeOpTree(a){for(const g of a){const b=g.fn,c=g.fnId,v=g.args;switch(c|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(v);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(v[0],v[1]);break;case i.OPS.setFont:this.setFont(v);break;case i.OPS.showText:this.showText(v[0]);break;case i.OPS.showSpacedText:this.showText(v[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(v[0],v[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(v[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(v[0]);break;case i.OPS.setHScale:this.setHScale(v[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(v[0],v[1],v[2],v[3],v[4],v[5]);break;case i.OPS.setTextRise:this.setTextRise(v[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(v[0]);break;case i.OPS.setLineWidth:this.setLineWidth(v[0]);break;case i.OPS.setLineJoin:this.setLineJoin(v[0]);break;case i.OPS.setLineCap:this.setLineCap(v[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(v[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(v[0],v[1],v[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(v[0],v[1],v[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(v);break;case i.OPS.setFillColorN:this.setFillColorN(v);break;case i.OPS.shadingFill:this.shadingFill(v[0]);break;case i.OPS.setDash:this.setDash(v[0],v[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(v[0]);break;case i.OPS.setFlatness:this.setFlatness(v[0]);break;case i.OPS.setGState:this.setGState(v[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(v[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(v[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(v[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(v[0],v[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(v[0],v[1],v[2],v[3],v[4],v[5]);break;case i.OPS.constructPath:this.constructPath(v[0],v[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(g.items);break;default:(0,i.warn)(`Unimplemented operator ${b}`);break}}}setWordSpacing(a){this.current.wordSpacing=a}setCharSpacing(a){this.current.charSpacing=a}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(a,g,b,c,v,H){const d=this.current;d.textMatrix=d.lineMatrix=[a,g,b,c,v,H],d.textMatrixScale=Math.hypot(a,g),d.x=d.lineX=0,d.y=d.lineY=0,d.xcoords=[],d.ycoords=[],d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",`${u(d.fontSize)}px`),d.tspan.setAttributeNS(null,"y",u(-d.y)),d.txtElement=this.svgFactory.createElement("svg:text"),d.txtElement.append(d.tspan)}beginText(){const a=this.current;a.x=a.lineX=0,a.y=a.lineY=0,a.textMatrix=i.IDENTITY_MATRIX,a.lineMatrix=i.IDENTITY_MATRIX,a.textMatrixScale=1,a.tspan=this.svgFactory.createElement("svg:tspan"),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtgrp=this.svgFactory.createElement("svg:g"),a.xcoords=[],a.ycoords=[]}moveText(a,g){const b=this.current;b.x=b.lineX+=a,b.y=b.lineY+=g,b.xcoords=[],b.ycoords=[],b.tspan=this.svgFactory.createElement("svg:tspan"),b.tspan.setAttributeNS(null,"font-family",b.fontFamily),b.tspan.setAttributeNS(null,"font-size",`${u(b.fontSize)}px`),b.tspan.setAttributeNS(null,"y",u(-b.y))}showText(a){const g=this.current,b=g.font,c=g.fontSize;if(c===0)return;const v=g.fontSizeScale,H=g.charSpacing,d=g.wordSpacing,W=g.fontDirection,K=g.textHScale*W,tt=b.vertical,rt=tt?1:-1,ot=b.defaultVMetrics,ht=c*g.fontMatrix[0];let lt=0;for(const St of a){if(St===null){lt+=W*d;continue}else if(typeof St=="number"){lt+=rt*St*c/1e3;continue}const Tt=(St.isSpace?d:0)+H,Et=St.fontChar;let J,T,P=St.width;if(tt){let X;const $=St.vmetric||ot;X=St.vmetric?$[1]:P*.5,X=-X*ht;const Q=$[2]*ht;P=$?-$[0]:P,J=X/v,T=(lt+Q)/v}else J=lt/v,T=0;(St.isInFont||b.missingFile)&&(g.xcoords.push(g.x+J),tt&&g.ycoords.push(-g.y+T),g.tspan.textContent+=Et);let j;tt?j=P*ht-Tt*W:j=P*ht+Tt*W,lt+=j}g.tspan.setAttributeNS(null,"x",g.xcoords.map(u).join(" ")),tt?g.tspan.setAttributeNS(null,"y",g.ycoords.map(u).join(" ")):g.tspan.setAttributeNS(null,"y",u(-g.y)),tt?g.y-=lt:g.x+=lt*K,g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${u(g.fontSize)}px`),g.fontStyle!==D.fontStyle&&g.tspan.setAttributeNS(null,"font-style",g.fontStyle),g.fontWeight!==D.fontWeight&&g.tspan.setAttributeNS(null,"font-weight",g.fontWeight);const gt=g.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(gt===i.TextRenderingMode.FILL||gt===i.TextRenderingMode.FILL_STROKE?(g.fillColor!==D.fillColor&&g.tspan.setAttributeNS(null,"fill",g.fillColor),g.fillAlpha<1&&g.tspan.setAttributeNS(null,"fill-opacity",g.fillAlpha)):g.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?g.tspan.setAttributeNS(null,"fill","transparent"):g.tspan.setAttributeNS(null,"fill","none"),gt===i.TextRenderingMode.STROKE||gt===i.TextRenderingMode.FILL_STROKE){const St=1/(g.textMatrixScale||1);this._setStrokeAttributes(g.tspan,St)}let yt=g.textMatrix;g.textRise!==0&&(yt=yt.slice(),yt[5]+=g.textRise),g.txtElement.setAttributeNS(null,"transform",`${F(yt)} scale(${u(K)}, -1)`),g.txtElement.setAttributeNS(x,"xml:space","preserve"),g.txtElement.append(g.tspan),g.txtgrp.append(g.txtElement),this._ensureTransformGroup().append(g.txtElement)}setLeadingMoveText(a,g){this.setLeading(-g),this.moveText(a,g)}addFontStyle(a){if(!a.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const g=k(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${a.loadedName}"; src: url(${g}); }
`}setFont(a){const g=this.current,b=this.commonObjs.get(a[0]);let c=a[1];g.font=b,this.embedFonts&&!b.missingFile&&!this.embeddedFonts[b.loadedName]&&(this.addFontStyle(b),this.embeddedFonts[b.loadedName]=b),g.fontMatrix=b.fontMatrix||i.FONT_IDENTITY_MATRIX;let v="normal";b.black?v="900":b.bold&&(v="bold");const H=b.italic?"italic":"normal";c<0?(c=-c,g.fontDirection=-1):g.fontDirection=1,g.fontSize=c,g.fontFamily=b.loadedName,g.fontWeight=v,g.fontStyle=H,g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"y",u(-g.y)),g.xcoords=[],g.ycoords=[]}endText(){var g;const a=this.current;a.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&((g=a.txtElement)==null?void 0:g.hasChildNodes())&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(a){a>0&&(this.current.lineWidth=a)}setLineCap(a){this.current.lineCap=E[a]}setLineJoin(a){this.current.lineJoin=I[a]}setMiterLimit(a){this.current.miterLimit=a}setStrokeAlpha(a){this.current.strokeAlpha=a}setStrokeRGBColor(a,g,b){this.current.strokeColor=i.Util.makeHexColor(a,g,b)}setFillAlpha(a){this.current.fillAlpha=a}setFillRGBColor(a,g,b){this.current.fillColor=i.Util.makeHexColor(a,g,b),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(a){this.current.strokeColor=this._makeColorN_Pattern(a)}setFillColorN(a){this.current.fillColor=this._makeColorN_Pattern(a)}shadingFill(a){const g=this.viewport.width,b=this.viewport.height,c=i.Util.inverseTransform(this.transformMatrix),v=i.Util.applyTransform([0,0],c),H=i.Util.applyTransform([0,b],c),d=i.Util.applyTransform([g,0],c),W=i.Util.applyTransform([g,b],c),K=Math.min(v[0],H[0],d[0],W[0]),tt=Math.min(v[1],H[1],d[1],W[1]),rt=Math.max(v[0],H[0],d[0],W[0]),ot=Math.max(v[1],H[1],d[1],W[1]),ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x",K),ht.setAttributeNS(null,"y",tt),ht.setAttributeNS(null,"width",rt-K),ht.setAttributeNS(null,"height",ot-tt),ht.setAttributeNS(null,"fill",this._makeShadingPattern(a)),this.current.fillAlpha<1&&ht.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ht)}_makeColorN_Pattern(a){return a[0]==="TilingPattern"?this._makeTilingPattern(a):this._makeShadingPattern(a)}_makeTilingPattern(a){const g=a[1],b=a[2],c=a[3]||i.IDENTITY_MATRIX,[v,H,d,W]=a[4],K=a[5],tt=a[6],rt=a[7],ot=`shading${A++}`,[ht,lt,gt,yt]=i.Util.normalizeRect([...i.Util.applyTransform([v,H],c),...i.Util.applyTransform([d,W],c)]),[St,Tt]=i.Util.singularValueDecompose2dScale(c),Et=K*St,J=tt*Tt,T=this.svgFactory.createElement("svg:pattern");T.setAttributeNS(null,"id",ot),T.setAttributeNS(null,"patternUnits","userSpaceOnUse"),T.setAttributeNS(null,"width",Et),T.setAttributeNS(null,"height",J),T.setAttributeNS(null,"x",`${ht}`),T.setAttributeNS(null,"y",`${lt}`);const P=this.svg,j=this.transformMatrix,X=this.current.fillColor,$=this.current.strokeColor,Q=this.svgFactory.create(gt-ht,yt-lt);if(this.svg=Q,this.transformMatrix=c,rt===2){const G=i.Util.makeHexColor(...g);this.current.fillColor=G,this.current.strokeColor=G}return this.executeOpTree(this.convertOpList(b)),this.svg=P,this.transformMatrix=j,this.current.fillColor=X,this.current.strokeColor=$,T.append(Q.childNodes[0]),this.defs.append(T),`url(#${ot})`}_makeShadingPattern(a){switch(typeof a=="string"&&(a=this.objs.get(a)),a[0]){case"RadialAxial":const g=`shading${A++}`,b=a[3];let c;switch(a[1]){case"axial":const v=a[4],H=a[5];c=this.svgFactory.createElement("svg:linearGradient"),c.setAttributeNS(null,"id",g),c.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),c.setAttributeNS(null,"x1",v[0]),c.setAttributeNS(null,"y1",v[1]),c.setAttributeNS(null,"x2",H[0]),c.setAttributeNS(null,"y2",H[1]);break;case"radial":const d=a[4],W=a[5],K=a[6],tt=a[7];c=this.svgFactory.createElement("svg:radialGradient"),c.setAttributeNS(null,"id",g),c.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),c.setAttributeNS(null,"cx",W[0]),c.setAttributeNS(null,"cy",W[1]),c.setAttributeNS(null,"r",tt),c.setAttributeNS(null,"fx",d[0]),c.setAttributeNS(null,"fy",d[1]),c.setAttributeNS(null,"fr",K);break;default:throw new Error(`Unknown RadialAxial type: ${a[1]}`)}for(const v of b){const H=this.svgFactory.createElement("svg:stop");H.setAttributeNS(null,"offset",v[0]),H.setAttributeNS(null,"stop-color",v[1]),c.append(H)}return this.defs.append(c),`url(#${g})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${a[0]}`)}}setDash(a,g){this.current.dashArray=a,this.current.dashPhase=g}constructPath(a,g){const b=this.current;let c=b.x,v=b.y,H=[],d=0;for(const W of a)switch(W|0){case i.OPS.rectangle:c=g[d++],v=g[d++];const K=g[d++],tt=g[d++],rt=c+K,ot=v+tt;H.push("M",u(c),u(v),"L",u(rt),u(v),"L",u(rt),u(ot),"L",u(c),u(ot),"Z");break;case i.OPS.moveTo:c=g[d++],v=g[d++],H.push("M",u(c),u(v));break;case i.OPS.lineTo:c=g[d++],v=g[d++],H.push("L",u(c),u(v));break;case i.OPS.curveTo:c=g[d+4],v=g[d+5],H.push("C",u(g[d]),u(g[d+1]),u(g[d+2]),u(g[d+3]),u(c),u(v)),d+=6;break;case i.OPS.curveTo2:H.push("C",u(c),u(v),u(g[d]),u(g[d+1]),u(g[d+2]),u(g[d+3])),c=g[d+2],v=g[d+3],d+=4;break;case i.OPS.curveTo3:c=g[d+2],v=g[d+3],H.push("C",u(g[d]),u(g[d+1]),u(c),u(v),u(c),u(v)),d+=4;break;case i.OPS.closePath:H.push("Z");break}H=H.join(" "),b.path&&a.length>0&&a[0]!==i.OPS.rectangle&&a[0]!==i.OPS.moveTo?H=b.path.getAttributeNS(null,"d")+H:(b.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(b.path)),b.path.setAttributeNS(null,"d",H),b.path.setAttributeNS(null,"fill","none"),b.element=b.path,b.setCurrentPoint(c,v)}endPath(){const a=this.current;if(a.path=null,!this.pendingClip)return;if(!a.element){this.pendingClip=null;return}const g=`clippath${N++}`,b=this.svgFactory.createElement("svg:clipPath");b.setAttributeNS(null,"id",g),b.setAttributeNS(null,"transform",F(this.transformMatrix));const c=a.element.cloneNode(!0);if(this.pendingClip==="evenodd"?c.setAttributeNS(null,"clip-rule","evenodd"):c.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,b.append(c),this.defs.append(b),a.activeClipUrl){a.clipGroup=null;for(const v of this.extraStack)v.clipGroup=null;b.setAttributeNS(null,"clip-path",a.activeClipUrl)}a.activeClipUrl=`url(#${g})`,this.tgrp=null}clip(a){this.pendingClip=a}closePath(){const a=this.current;if(a.path){const g=`${a.path.getAttributeNS(null,"d")}Z`;a.path.setAttributeNS(null,"d",g)}}setLeading(a){this.current.leading=-a}setTextRise(a){this.current.textRise=a}setTextRenderingMode(a){this.current.textRenderingMode=a}setHScale(a){this.current.textHScale=a/100}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(const[g,b]of a)switch(g){case"LW":this.setLineWidth(b);break;case"LC":this.setLineCap(b);break;case"LJ":this.setLineJoin(b);break;case"ML":this.setMiterLimit(b);break;case"D":this.setDash(b[0],b[1]);break;case"RI":this.setRenderingIntent(b);break;case"FL":this.setFlatness(b);break;case"Font":this.setFont(b);break;case"CA":this.setStrokeAlpha(b);break;case"ca":this.setFillAlpha(b);break;default:(0,i.warn)(`Unimplemented graphic state operator ${g}`);break}}fill(){const a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())}stroke(){const a=this.current;a.element&&(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(a,g=1){const b=this.current;let c=b.dashArray;g!==1&&c.length>0&&(c=c.map(function(v){return g*v})),a.setAttributeNS(null,"stroke",b.strokeColor),a.setAttributeNS(null,"stroke-opacity",b.strokeAlpha),a.setAttributeNS(null,"stroke-miterlimit",u(b.miterLimit)),a.setAttributeNS(null,"stroke-linecap",b.lineCap),a.setAttributeNS(null,"stroke-linejoin",b.lineJoin),a.setAttributeNS(null,"stroke-width",u(g*b.lineWidth)+"px"),a.setAttributeNS(null,"stroke-dasharray",c.map(u).join(" ")),a.setAttributeNS(null,"stroke-dashoffset",u(g*b.dashPhase)+"px")}eoFill(){var a;(a=this.current.element)==null||a.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var a;(a=this.current.element)==null||a.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width","1px"),a.setAttributeNS(null,"height","1px"),a.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(a)}paintImageXObject(a){const g=this.getObject(a);if(!g){(0,i.warn)(`Dependent image with object ID ${a} is not ready yet`);return}this.paintInlineImageXObject(g)}paintInlineImageXObject(a,g){const b=a.width,c=a.height,v=L(a,this.forceDataSchema,!!g),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",u(b)),H.setAttributeNS(null,"height",u(c)),this.current.element=H,this.clip("nonzero");const d=this.svgFactory.createElement("svg:image");d.setAttributeNS(w,"xlink:href",v),d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y",u(-c)),d.setAttributeNS(null,"width",u(b)+"px"),d.setAttributeNS(null,"height",u(c)+"px"),d.setAttributeNS(null,"transform",`scale(${u(1/b)} ${u(-1/c)})`),g?g.append(d):this._ensureTransformGroup().append(d)}paintImageMaskXObject(a){const g=this.getObject(a.data,a);if(g.bitmap){(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const b=this.current,c=g.width,v=g.height,H=b.fillColor;b.maskId=`mask${B++}`;const d=this.svgFactory.createElement("svg:mask");d.setAttributeNS(null,"id",b.maskId);const W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y","0"),W.setAttributeNS(null,"width",u(c)),W.setAttributeNS(null,"height",u(v)),W.setAttributeNS(null,"fill",H),W.setAttributeNS(null,"mask",`url(#${b.maskId})`),this.defs.append(d),this._ensureTransformGroup().append(W),this.paintInlineImageXObject(g,d)}paintFormXObjectBegin(a,g){if(Array.isArray(a)&&a.length===6&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]),g){const b=g[2]-g[0],c=g[3]-g[1],v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",g[0]),v.setAttributeNS(null,"y",g[1]),v.setAttributeNS(null,"width",u(b)),v.setAttributeNS(null,"height",u(c)),this.current.element=v,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(a){const g=this.svgFactory.create(a.width,a.height),b=this.svgFactory.createElement("svg:defs");g.append(b),this.defs=b;const c=this.svgFactory.createElement("svg:g");return c.setAttributeNS(null,"transform",F(a.transform)),g.append(c),this.svg=c,g}_ensureClipGroup(){if(!this.current.clipGroup){const a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(a),this.current.clipGroup=a}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",F(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var s=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return _.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return D.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return x.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return w.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return E.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return s.version}});var e=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),l=__w_pdfjs_require__(27),_=__w_pdfjs_require__(5),D=__w_pdfjs_require__(32),x=__w_pdfjs_require__(14),w=__w_pdfjs_require__(35),E=__w_pdfjs_require__(34)})(),__webpack_exports__})())}(pdf)),pdf.exports}export{requirePdf as A,withDirectives as B,vShow as C,withKeys as D,vModelText as E,Fragment as F,provide as G,createApp as H,Suspense as S,Transition as T,createBaseVNode as a,computed as b,createElementBlock as c,defineComponent as d,onBeforeUnmount as e,normalizeStyle as f,withModifiers as g,onMounted as h,createCommentVNode as i,createVNode as j,createBlock as k,withCtx as l,popScopeId as m,normalizeClass as n,openBlock as o,pushScopeId as p,reactive as q,ref as r,inject as s,toDisplayString as t,unref as u,toRaw as v,watch as w,withAsyncContext as x,nextTick as y,renderList as z};
