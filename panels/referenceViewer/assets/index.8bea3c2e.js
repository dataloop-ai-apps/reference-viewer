var ts=Object.defineProperty;var ns=(e,t,i)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var nt=(e,t,i)=>(ns(e,typeof t!="symbol"?t+"":t,i),i),zt=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)};var a=(e,t,i)=>(zt(e,t,"read from private field"),i?i.call(e):t.get(e)),K=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},me=(e,t,i,n)=>(zt(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i),ct=(e,t,i,n)=>({set _(s){me(e,t,s,i)},get _(){return a(e,t,n)}}),ae=(e,t,i)=>(zt(e,t,"access private method"),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const l of f.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerpolicy&&(f.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?f.credentials="include":s.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function n(s){if(s.ep)return;s.ep=!0;const f=i(s);fetch(s.href,f)}})();function makeMap(e,t){const i=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)i[n[s]]=!0;return t?s=>!!i[s.toLowerCase()]:s=>!!i[s]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>isObject(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,i)=>i?i.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},def=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],s=isString(n)?parseStringStyle(n):normalizeStyle(n);if(s)for(const f in s)t[f]=s[f]}return t}else{if(isString(e))return e;if(isObject(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(i=>{if(i){const n=i.split(propertyDelimiterRE);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let i=0;i<e.length;i++){const n=normalizeClass(e[i]);n&&(t+=n+" ")}else if(isObject(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const toDisplayString=e=>isString(e)?e:e==null?"":isArray(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[n,s])=>(i[`${n} =>`]=s,i),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject(t)&&!isArray(t)&&!isPlainObject$1(t)?String(t):t;let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=i}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let i=0;for(let n=0;n<t.length;n++){const s=t[n];wasTracked(s)&&!newTracked(s)?s.delete(e):t[i++]=s,s.w&=~trackOpBit,s.n&=~trackOpBit}t.length=i}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,i=null,n){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let t=activeEffect,i=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,i){if(shouldTrack&&activeEffect){let n=targetMap.get(e);n||targetMap.set(e,n=new Map);let s=n.get(i);s||n.set(i,s=createDep()),trackEffects(s)}}function trackEffects(e,t){let i=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,i=!wasTracked(e)):i=!e.has(activeEffect),i&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,i,n,s,f){const l=targetMap.get(e);if(!l)return;let g=[];if(t==="clear")g=[...l.values()];else if(i==="length"&&isArray(e)){const c=Number(n);l.forEach((r,o)=>{(o==="length"||o>=c)&&g.push(r)})}else switch(i!==void 0&&g.push(l.get(i)),t){case"add":isArray(e)?isIntegerKey(i)&&g.push(l.get("length")):(g.push(l.get(ITERATE_KEY)),isMap(e)&&g.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(g.push(l.get(ITERATE_KEY)),isMap(e)&&g.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&g.push(l.get(ITERATE_KEY));break}if(g.length===1)g[0]&&triggerEffects(g[0]);else{const c=[];for(const r of g)r&&c.push(...r);triggerEffects(createDep(c))}}function triggerEffects(e,t){const i=isArray(e)?e:[...e];for(const n of i)n.computed&&triggerEffect(n);for(const n of i)n.computed||triggerEffect(n)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const n=toRaw(this);for(let f=0,l=this.length;f<l;f++)track(n,"get",f+"");const s=n[t](...i);return s===-1||s===!1?n[t](...i.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){pauseTracking();const n=toRaw(this)[t].apply(this,i);return resetTracking(),n}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(n,s,f){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&f===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(n))return n;const l=isArray(n);if(!e){if(l&&hasOwn(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,f);if(s==="hasOwnProperty")return hasOwnProperty}const g=Reflect.get(n,s,f);return(isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(e||track(n,"get",s),t)?g:isRef(g)?l&&isIntegerKey(s)?g:g.value:isObject(g)?e?readonly(g):reactive(g):g}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(i,n,s,f){let l=i[n];if(isReadonly(l)&&isRef(l)&&!isRef(s))return!1;if(!e&&(!isShallow(s)&&!isReadonly(s)&&(l=toRaw(l),s=toRaw(s)),!isArray(i)&&isRef(l)&&!isRef(s)))return l.value=s,!0;const g=isArray(i)&&isIntegerKey(n)?Number(n)<i.length:hasOwn(i,n),c=Reflect.set(i,n,s,f);return i===toRaw(f)&&(g?hasChanged(s,l)&&trigger(i,"set",n,s):trigger(i,"add",n,s)),c}}function deleteProperty(e,t){const i=hasOwn(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&trigger(e,"delete",t,void 0),n}function has$1(e,t){const i=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),i}function ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,i=!1,n=!1){e=e.__v_raw;const s=toRaw(e),f=toRaw(t);i||(t!==f&&track(s,"get",t),track(s,"get",f));const{has:l}=getProto(s),g=n?toShallow:i?toReadonly:toReactive;if(l.call(s,t))return g(e.get(t));if(l.call(s,f))return g(e.get(f));e!==s&&e.get(t)}function has(e,t=!1){const i=this.__v_raw,n=toRaw(i),s=toRaw(e);return t||(e!==s&&track(n,"has",e),track(n,"has",s)),e===s?i.has(e):i.has(e)||i.has(s)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const i=toRaw(this),{has:n,get:s}=getProto(i);let f=n.call(i,e);f||(e=toRaw(e),f=n.call(i,e));const l=s.call(i,e);return i.set(e,t),f?hasChanged(t,l)&&trigger(i,"set",e,t):trigger(i,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:i,get:n}=getProto(t);let s=i.call(t,e);s||(e=toRaw(e),s=i.call(t,e)),n&&n.call(t,e);const f=t.delete(e);return s&&trigger(t,"delete",e,void 0),f}function clear(){const e=toRaw(this),t=e.size!==0,i=e.clear();return t&&trigger(e,"clear",void 0,void 0),i}function createForEach(e,t){return function(n,s){const f=this,l=f.__v_raw,g=toRaw(l),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(g,"iterate",ITERATE_KEY),l.forEach((r,o)=>n.call(s,c(r),c(o),f))}}function createIterableMethod(e,t,i){return function(...n){const s=this.__v_raw,f=toRaw(s),l=isMap(f),g=e==="entries"||e===Symbol.iterator&&l,c=e==="keys"&&l,r=s[e](...n),o=i?toShallow:t?toReadonly:toReactive;return!t&&track(f,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:A,done:S}=r.next();return S?{value:A,done:S}:{value:g?[o(A[0]),o(A[1])]:o(A),done:S}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(f){return get(this,f)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(f){return get(this,f,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},i={get(f){return get(this,f,!0)},get size(){return size(this,!0)},has(f){return has.call(this,f,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(f){return get(this,f,!0,!0)},get size(){return size(this,!0)},has(f){return has.call(this,f,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{e[f]=createIterableMethod(f,!1,!1),i[f]=createIterableMethod(f,!0,!1),t[f]=createIterableMethod(f,!1,!0),n[f]=createIterableMethod(f,!0,!0)}),[e,i,t,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const i=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(n,s,f)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(hasOwn(i,s)&&s in n?i:n,s,f)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,i,n,s){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const f=s.get(e);if(f)return f;const l=getTargetType(e);if(l===0)return e;const g=new Proxy(e,l===2?n:i);return s.set(e,g),g}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e);const i=e.dep;i&&triggerEffects(i)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:toRaw(t),this._value=i?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const i=this.__v_isShallow||isShallow(t)||isReadonly(t);t=i?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,i)=>unref(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const s=e[t];return isRef(s)&&!isRef(i)?(s.value=i,!0):Reflect.set(e,t,i,n)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,i,n,s){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(e,t,i=!1){let n,s;const f=isFunction(e);return f?(n=e,s=NOOP):(n=e.get,s=e.set),new ComputedRefImpl(n,s,f||!s,i)}function warn(e,...t){}function callWithErrorHandling(e,t,i,n){let s;try{s=n?e(...n):e()}catch(f){handleError(f,t,i)}return s}function callWithAsyncErrorHandling(e,t,i,n){if(isFunction(e)){const f=callWithErrorHandling(e,t,i,n);return f&&isPromise(f)&&f.catch(l=>{handleError(l,t,i)}),f}const s=[];for(let f=0;f<e.length;f++)s.push(callWithAsyncErrorHandling(e[f],t,i,n));return s}function handleError(e,t,i,n=!0){const s=t?t.vnode:null;if(t){let f=t.parent;const l=t.proxy,g=i;for(;f;){const r=f.ec;if(r){for(let o=0;o<r.length;o++)if(r[o](e,l,g)===!1)return}f=f.parent}const c=t.appContext.config.errorHandler;if(c){callWithErrorHandling(c,null,10,[e,l,g]);return}}logError(e,i,s,n)}function logError(e,t,i,n=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,i=queue.length;for(;t<i;){const n=t+i>>>1;getId(queue[n])<e?t=n+1:i=n}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const i=queue[t];i&&i.pre&&(queue.splice(t,1),t--,i())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((i,n)=>getId(i)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const i=getId(e)-getId(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const i=queue[flushIndex];i&&i.active!==!1&&callWithErrorHandling(i,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||EMPTY_OBJ;let s=i;const f=t.startsWith("update:"),l=f&&t.slice(7);if(l&&l in n){const o=`${l==="modelValue"?"model":l}Modifiers`,{number:A,trim:S}=n[o]||EMPTY_OBJ;S&&(s=i.map(E=>isString(E)?E.trim():E)),A&&(s=i.map(looseToNumber))}let g,c=n[g=toHandlerKey(t)]||n[g=toHandlerKey(camelize(t))];!c&&f&&(c=n[g=toHandlerKey(hyphenate(t))]),c&&callWithAsyncErrorHandling(c,e,6,s);const r=n[g+"Once"];if(r){if(!e.emitted)e.emitted={};else if(e.emitted[g])return;e.emitted[g]=!0,callWithAsyncErrorHandling(r,e,6,s)}}function normalizeEmitsOptions(e,t,i=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const f=e.emits;let l={},g=!1;if(!isFunction(e)){const c=r=>{const o=normalizeEmitsOptions(r,t,!0);o&&(g=!0,extend(l,o))};!i&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!f&&!g?(isObject(e)&&n.set(e,null),null):(isArray(f)?f.forEach(c=>l[c]=null):extend(l,f),isObject(e)&&n.set(e,l),l)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,i){if(!t||e._n)return e;const n=(...s)=>{n._d&&setBlockTracking(-1);const f=setCurrentRenderingInstance(t);let l;try{l=e(...s)}finally{setCurrentRenderingInstance(f),n._d&&setBlockTracking(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:i,proxy:n,withProxy:s,props:f,propsOptions:[l],slots:g,attrs:c,emit:r,render:o,renderCache:A,data:S,setupState:E,ctx:_,inheritAttrs:v}=e;let w,R;const F=setCurrentRenderingInstance(e);try{if(i.shapeFlag&4){const T=s||n;w=normalizeVNode(o.call(T,T,A,f,E,S,_)),R=c}else{const T=t;w=normalizeVNode(T.length>1?T(f,{attrs:c,slots:g,emit:r}):T(f,null)),R=t.props?c:getFunctionalFallthrough(c)}}catch(T){blockStack.length=0,handleError(T,e,1),w=createVNode(Comment)}let M=w;if(R&&v!==!1){const T=Object.keys(R),{shapeFlag:d}=M;T.length&&d&7&&(l&&T.some(isModelListener)&&(R=filterModelListeners(R,l)),M=cloneVNode(M,R))}return i.dirs&&(M=cloneVNode(M),M.dirs=M.dirs?M.dirs.concat(i.dirs):i.dirs),i.transition&&(M.transition=i.transition),w=M,setCurrentRenderingInstance(F),w}function filterSingleRoot(e){let t;for(let i=0;i<e.length;i++){const n=e[i];if(isVNode(n)){if(n.type!==Comment||n.children==="v-if"){if(t)return;t=n}}else return}return t}const getFunctionalFallthrough=e=>{let t;for(const i in e)(i==="class"||i==="style"||isOn(i))&&((t||(t={}))[i]=e[i]);return t},filterModelListeners=(e,t)=>{const i={};for(const n in e)(!isModelListener(n)||!(n.slice(9)in t))&&(i[n]=e[n]);return i};function shouldUpdateComponent(e,t,i){const{props:n,children:s,component:f}=e,{props:l,children:g,patchFlag:c}=t,r=f.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&c>=0){if(c&1024)return!0;if(c&16)return n?hasPropsChanged(n,l,r):!!l;if(c&8){const o=t.dynamicProps;for(let A=0;A<o.length;A++){const S=o[A];if(l[S]!==n[S]&&!isEmitListener(r,S))return!0}}}else return(s||g)&&(!g||!g.$stable)?!0:n===l?!1:n?l?hasPropsChanged(n,l,r):!0:!!l;return!1}function hasPropsChanged(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const f=n[s];if(t[f]!==e[f]&&!isEmitListener(i,f))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const isSuspense=e=>e.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,t,i,n,s,f,l,g,c,r){e==null?mountSuspense(t,i,n,s,f,l,g,c,r):patchSuspense(e,t,i,n,s,l,g,c,r)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,t){const i=e.props&&e.props[t];isFunction(i)&&i()}function mountSuspense(e,t,i,n,s,f,l,g,c){const{p:r,o:{createElement:o}}=c,A=o("div"),S=e.suspense=createSuspenseBoundary(e,s,n,t,A,i,f,l,g,c);r(null,S.pendingBranch=e.ssContent,A,null,n,S,f,l),S.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),r(null,e.ssFallback,t,i,n,null,f,l),setActiveBranch(S,e.ssFallback)):S.resolve(!1,!0)}function patchSuspense(e,t,i,n,s,f,l,g,{p:c,um:r,o:{createElement:o}}){const A=t.suspense=e.suspense;A.vnode=t,t.el=e.el;const S=t.ssContent,E=t.ssFallback,{activeBranch:_,pendingBranch:v,isInFallback:w,isHydrating:R}=A;if(v)A.pendingBranch=S,isSameVNodeType(S,v)?(c(v,S,A.hiddenContainer,null,s,A,f,l,g),A.deps<=0?A.resolve():w&&(c(_,E,i,n,s,null,f,l,g),setActiveBranch(A,E))):(A.pendingId++,R?(A.isHydrating=!1,A.activeBranch=v):r(v,s,A),A.deps=0,A.effects.length=0,A.hiddenContainer=o("div"),w?(c(null,S,A.hiddenContainer,null,s,A,f,l,g),A.deps<=0?A.resolve():(c(_,E,i,n,s,null,f,l,g),setActiveBranch(A,E))):_&&isSameVNodeType(S,_)?(c(_,S,i,n,s,A,f,l,g),A.resolve(!0)):(c(null,S,A.hiddenContainer,null,s,A,f,l,g),A.deps<=0&&A.resolve()));else if(_&&isSameVNodeType(S,_))c(_,S,i,n,s,A,f,l,g),setActiveBranch(A,S);else if(triggerEvent(t,"onPending"),A.pendingBranch=S,A.pendingId++,c(null,S,A.hiddenContainer,null,s,A,f,l,g),A.deps<=0)A.resolve();else{const{timeout:F,pendingId:M}=A;F>0?setTimeout(()=>{A.pendingId===M&&A.fallback(E)},F):F===0&&A.fallback(E)}}function createSuspenseBoundary(e,t,i,n,s,f,l,g,c,r,o=!1){const{p:A,m:S,um:E,n:_,o:{parentNode:v,remove:w}}=r;let R;const F=isVNodeSuspensible(e);F&&t!=null&&t.pendingBranch&&(R=t.pendingId,t.deps++);const M=e.props?toNumber(e.props.timeout):void 0,T={vnode:e,parent:t,parentComponent:i,isSVG:l,container:n,hiddenContainer:s,anchor:f,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:o,isUnmounted:!1,effects:[],resolve(d=!1,u=!1){const{vnode:D,activeBranch:b,pendingBranch:m,pendingId:L,effects:C,parentComponent:N,container:q}=T;if(T.isHydrating)T.isHydrating=!1;else if(!d){const Y=b&&m.transition&&m.transition.mode==="out-in";Y&&(b.transition.afterLeave=()=>{L===T.pendingId&&S(m,q,j,0)});let{anchor:j}=T;b&&(j=_(b),E(b,N,T,!0)),Y||S(m,q,j,0)}setActiveBranch(T,m),T.pendingBranch=null,T.isInFallback=!1;let I=T.parent,z=!1;for(;I;){if(I.pendingBranch){I.effects.push(...C),z=!0;break}I=I.parent}z||queuePostFlushCb(C),T.effects=[],F&&t&&t.pendingBranch&&R===t.pendingId&&(t.deps--,t.deps===0&&!u&&t.resolve()),triggerEvent(D,"onResolve")},fallback(d){if(!T.pendingBranch)return;const{vnode:u,activeBranch:D,parentComponent:b,container:m,isSVG:L}=T;triggerEvent(u,"onFallback");const C=_(D),N=()=>{!T.isInFallback||(A(null,d,m,C,b,null,L,g,c),setActiveBranch(T,d))},q=d.transition&&d.transition.mode==="out-in";q&&(D.transition.afterLeave=N),T.isInFallback=!0,E(D,b,null,!0),q||N()},move(d,u,D){T.activeBranch&&S(T.activeBranch,d,u,D),T.container=d},next(){return T.activeBranch&&_(T.activeBranch)},registerDep(d,u){const D=!!T.pendingBranch;D&&T.deps++;const b=d.vnode.el;d.asyncDep.catch(m=>{handleError(m,d,0)}).then(m=>{if(d.isUnmounted||T.isUnmounted||T.pendingId!==d.suspenseId)return;d.asyncResolved=!0;const{vnode:L}=d;handleSetupResult(d,m,!1),b&&(L.el=b);const C=!b&&d.subTree.el;u(d,L,v(b||d.subTree.el),b?null:_(d.subTree),T,l,c),C&&w(C),updateHOCHostEl(d,L.el),D&&--T.deps===0&&T.resolve()})},unmount(d,u){T.isUnmounted=!0,T.activeBranch&&E(T.activeBranch,i,d,u),T.pendingBranch&&E(T.pendingBranch,i,d,u)}};return T}function hydrateSuspense(e,t,i,n,s,f,l,g,c){const r=t.suspense=createSuspenseBoundary(t,n,i,e.parentNode,document.createElement("div"),null,s,f,l,g,!0),o=c(e,r.pendingBranch=t.ssContent,i,r,f,l);return r.deps===0&&r.resolve(!1,!0),o}function normalizeSuspenseChildren(e){const{shapeFlag:t,children:i}=e,n=t&32;e.ssContent=normalizeSuspenseSlot(n?i.default:i),e.ssFallback=n?normalizeSuspenseSlot(i.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let t;if(isFunction(e)){const i=isBlockTreeEnabled&&e._c;i&&(e._d=!1,openBlock()),e=e(),i&&(e._d=!0,t=currentBlock,closeBlock())}return isArray(e)&&(e=filterSingleRoot(e)),e=normalizeVNode(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,t){e.activeBranch=t;const{vnode:i,parentComponent:n}=e,s=i.el=t.el;n&&n.subTree===i&&(n.vnode.el=s,updateHOCHostEl(n,s))}function isVNodeSuspensible(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}const INITIAL_WATCHER_VALUE={};function watch(e,t,i){return doWatch(e,t,i)}function doWatch(e,t,{immediate:i,deep:n,flush:s,onTrack:f,onTrigger:l}=EMPTY_OBJ){var g;const c=getCurrentScope()===((g=currentInstance)==null?void 0:g.scope)?currentInstance:null;let r,o=!1,A=!1;if(isRef(e)?(r=()=>e.value,o=isShallow(e)):isReactive(e)?(r=()=>e,n=!0):isArray(e)?(A=!0,o=e.some(T=>isReactive(T)||isShallow(T)),r=()=>e.map(T=>{if(isRef(T))return T.value;if(isReactive(T))return traverse(T);if(isFunction(T))return callWithErrorHandling(T,c,2)})):isFunction(e)?t?r=()=>callWithErrorHandling(e,c,2):r=()=>{if(!(c&&c.isUnmounted))return S&&S(),callWithAsyncErrorHandling(e,c,3,[E])}:r=NOOP,t&&n){const T=r;r=()=>traverse(T())}let S,E=T=>{S=F.onStop=()=>{callWithErrorHandling(T,c,4)}},_;if(isInSSRComponentSetup)if(E=NOOP,t?i&&callWithAsyncErrorHandling(t,c,3,[r(),A?[]:void 0,E]):r(),s==="sync"){const T=useSSRContext();_=T.__watcherHandles||(T.__watcherHandles=[])}else return NOOP;let v=A?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const w=()=>{if(!!F.active)if(t){const T=F.run();(n||o||(A?T.some((d,u)=>hasChanged(d,v[u])):hasChanged(T,v)))&&(S&&S(),callWithAsyncErrorHandling(t,c,3,[T,v===INITIAL_WATCHER_VALUE?void 0:A&&v[0]===INITIAL_WATCHER_VALUE?[]:v,E]),v=T)}else F.run()};w.allowRecurse=!!t;let R;s==="sync"?R=w:s==="post"?R=()=>queuePostRenderEffect(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),R=()=>queueJob(w));const F=new ReactiveEffect(r,R);t?i?w():v=F.run():s==="post"?queuePostRenderEffect(F.run.bind(F),c&&c.suspense):F.run();const M=()=>{F.stop(),c&&c.scope&&remove(c.scope.effects,F)};return _&&_.push(M),M}function instanceWatch(e,t,i){const n=this.proxy,s=isString(e)?e.includes(".")?createPathGetter(n,e):()=>n[e]:e.bind(n,n);let f;isFunction(t)?f=t:(f=t.handler,i=t);const l=currentInstance;setCurrentInstance(this);const g=doWatch(s,f.bind(n),i);return l?setCurrentInstance(l):unsetCurrentInstance(),g}function createPathGetter(e,t){const i=t.split(".");return()=>{let n=e;for(let s=0;s<i.length&&n;s++)n=n[i[s]];return n}}function traverse(e,t){if(!isObject(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray(e))for(let i=0;i<e.length;i++)traverse(e[i],t);else if(isSet(e)||isMap(e))e.forEach(i=>{traverse(i,t)});else if(isPlainObject$1(e))for(const i in e)traverse(e[i],t);return e}function withDirectives(e,t){const i=currentRenderingInstance;if(i===null)return e;const n=getExposeProxy(i)||i.proxy,s=e.dirs||(e.dirs=[]);for(let f=0;f<t.length;f++){let[l,g,c,r=EMPTY_OBJ]=t[f];l&&(isFunction(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(g),s.push({dir:l,instance:n,value:g,oldValue:void 0,arg:c,modifiers:r}))}return e}function invokeDirectiveHook(e,t,i,n){const s=e.dirs,f=t&&t.dirs;for(let l=0;l<s.length;l++){const g=s[l];f&&(g.oldValue=f[l].value);let c=g.dir[n];c&&(pauseTracking(),callWithAsyncErrorHandling(c,i,8,[e.el,g,e,t]),resetTracking())}}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const i=getCurrentInstance(),n=useTransitionState();let s;return()=>{const f=t.default&&getTransitionRawChildren(t.default(),!0);if(!f||!f.length)return;let l=f[0];if(f.length>1){for(const v of f)if(v.type!==Comment){l=v;break}}const g=toRaw(e),{mode:c}=g;if(n.isLeaving)return emptyPlaceholder(l);const r=getKeepAliveChild(l);if(!r)return emptyPlaceholder(l);const o=resolveTransitionHooks(r,g,n,i);setTransitionHooks(r,o);const A=i.subTree,S=A&&getKeepAliveChild(A);let E=!1;const{getTransitionKey:_}=r.type;if(_){const v=_();s===void 0?s=v:v!==s&&(s=v,E=!0)}if(S&&S.type!==Comment&&(!isSameVNodeType(r,S)||E)){const v=resolveTransitionHooks(S,g,n,i);if(setTransitionHooks(S,v),c==="out-in")return n.isLeaving=!0,v.afterLeave=()=>{n.isLeaving=!1,i.update.active!==!1&&i.update()},emptyPlaceholder(l);c==="in-out"&&r.type!==Comment&&(v.delayLeave=(w,R,F)=>{const M=getLeavingNodesForType(n,S);M[String(S.key)]=S,w._leaveCb=()=>{R(),w._leaveCb=void 0,delete o.delayedLeave},o.delayedLeave=F})}return l}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:i}=e;let n=i.get(t.type);return n||(n=Object.create(null),i.set(t.type,n)),n}function resolveTransitionHooks(e,t,i,n){const{appear:s,mode:f,persisted:l=!1,onBeforeEnter:g,onEnter:c,onAfterEnter:r,onEnterCancelled:o,onBeforeLeave:A,onLeave:S,onAfterLeave:E,onLeaveCancelled:_,onBeforeAppear:v,onAppear:w,onAfterAppear:R,onAppearCancelled:F}=t,M=String(e.key),T=getLeavingNodesForType(i,e),d=(b,m)=>{b&&callWithAsyncErrorHandling(b,n,9,m)},u=(b,m)=>{const L=m[1];d(b,m),isArray(b)?b.every(C=>C.length<=1)&&L():b.length<=1&&L()},D={mode:f,persisted:l,beforeEnter(b){let m=g;if(!i.isMounted)if(s)m=v||g;else return;b._leaveCb&&b._leaveCb(!0);const L=T[M];L&&isSameVNodeType(e,L)&&L.el._leaveCb&&L.el._leaveCb(),d(m,[b])},enter(b){let m=c,L=r,C=o;if(!i.isMounted)if(s)m=w||c,L=R||r,C=F||o;else return;let N=!1;const q=b._enterCb=I=>{N||(N=!0,I?d(C,[b]):d(L,[b]),D.delayedLeave&&D.delayedLeave(),b._enterCb=void 0)};m?u(m,[b,q]):q()},leave(b,m){const L=String(e.key);if(b._enterCb&&b._enterCb(!0),i.isUnmounting)return m();d(A,[b]);let C=!1;const N=b._leaveCb=q=>{C||(C=!0,m(),q?d(_,[b]):d(E,[b]),b._leaveCb=void 0,T[L]===e&&delete T[L])};T[L]=e,S?u(S,[b,N]):N()},clone(b){return resolveTransitionHooks(b,t,i,n)}};return D}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,i){let n=[],s=0;for(let f=0;f<e.length;f++){let l=e[f];const g=i==null?l.key:String(i)+String(l.key!=null?l.key:f);l.type===Fragment?(l.patchFlag&128&&s++,n=n.concat(getTransitionRawChildren(l.children,t,g))):(t||l.type!==Comment)&&n.push(g!=null?cloneVNode(l,{key:g}):l)}if(s>1)for(let f=0;f<n.length;f++)n[f].patchFlag=-2;return n}function defineComponent(e,t){return isFunction(e)?(()=>extend({name:e.name},t,{setup:e}))():e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,i=currentInstance){const n=e.__wdc||(e.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(injectHook(t,n,i),i){let s=i.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(n,t,i,s),s=s.parent}}function injectToKeepAliveRoot(e,t,i,n){const s=injectHook(t,e,n,!0);onUnmounted(()=>{remove(n[t],s)},i)}function injectHook(e,t,i=currentInstance,n=!1){if(i){const s=i[e]||(i[e]=[]),f=t.__weh||(t.__weh=(...l)=>{if(i.isUnmounted)return;pauseTracking(),setCurrentInstance(i);const g=callWithAsyncErrorHandling(t,i,e,l);return unsetCurrentInstance(),resetTracking(),g});return n?s.unshift(f):s.push(f),f}}const createHook=e=>(t,i=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...n)=>t(...n),i),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(e,t,i,n){let s;const f=i&&i[n];if(isArray(e)||isString(e)){s=new Array(e.length);for(let l=0,g=e.length;l<g;l++)s[l]=t(e[l],l,void 0,f&&f[l])}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,f&&f[l])}else if(isObject(e))if(e[Symbol.iterator])s=Array.from(e,(l,g)=>t(l,g,void 0,f&&f[g]));else{const l=Object.keys(e);s=new Array(l.length);for(let g=0,c=l.length;g<c;g++){const r=l[g];s[g]=t(e[r],r,g,f&&f[g])}}else s=[];return i&&(i[n]=s),s}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:i,setupState:n,data:s,props:f,accessCache:l,type:g,appContext:c}=e;let r;if(t[0]!=="$"){const E=l[t];if(E!==void 0)switch(E){case 1:return n[t];case 2:return s[t];case 4:return i[t];case 3:return f[t]}else{if(hasSetupBinding(n,t))return l[t]=1,n[t];if(s!==EMPTY_OBJ&&hasOwn(s,t))return l[t]=2,s[t];if((r=e.propsOptions[0])&&hasOwn(r,t))return l[t]=3,f[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return l[t]=4,i[t];shouldCacheAccess&&(l[t]=0)}}const o=publicPropertiesMap[t];let A,S;if(o)return t==="$attrs"&&track(e,"get",t),o(e);if((A=g.__cssModules)&&(A=A[t]))return A;if(i!==EMPTY_OBJ&&hasOwn(i,t))return l[t]=4,i[t];if(S=c.config.globalProperties,hasOwn(S,t))return S[t]},set({_:e},t,i){const{data:n,setupState:s,ctx:f}=e;return hasSetupBinding(s,t)?(s[t]=i,!0):n!==EMPTY_OBJ&&hasOwn(n,t)?(n[t]=i,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(f[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:s,propsOptions:f}},l){let g;return!!i[l]||e!==EMPTY_OBJ&&hasOwn(e,l)||hasSetupBinding(t,l)||(g=f[0])&&hasOwn(g,l)||hasOwn(n,l)||hasOwn(publicPropertiesMap,l)||hasOwn(s.config.globalProperties,l)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:hasOwn(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function normalizePropsOrEmits(e){return isArray(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function withAsyncContext(e){const t=getCurrentInstance();let i=e();return unsetCurrentInstance(),isPromise(i)&&(i=i.catch(n=>{throw setCurrentInstance(t),n})),[i,()=>setCurrentInstance(t)]}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),i=e.proxy,n=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:s,computed:f,methods:l,watch:g,provide:c,inject:r,created:o,beforeMount:A,mounted:S,beforeUpdate:E,updated:_,activated:v,deactivated:w,beforeDestroy:R,beforeUnmount:F,destroyed:M,unmounted:T,render:d,renderTracked:u,renderTriggered:D,errorCaptured:b,serverPrefetch:m,expose:L,inheritAttrs:C,components:N,directives:q,filters:I}=t;if(r&&resolveInjections(r,n,null),l)for(const j in l){const P=l[j];isFunction(P)&&(n[j]=P.bind(i))}if(s){const j=s.call(i,i);isObject(j)&&(e.data=reactive(j))}if(shouldCacheAccess=!0,f)for(const j in f){const P=f[j],$=isFunction(P)?P.bind(i,i):isFunction(P.get)?P.get.bind(i,i):NOOP,B=!isFunction(P)&&isFunction(P.set)?P.set.bind(i):NOOP,pe=computed({get:$,set:B});Object.defineProperty(n,j,{enumerable:!0,configurable:!0,get:()=>pe.value,set:Ae=>pe.value=Ae})}if(g)for(const j in g)createWatcher(g[j],n,i,j);if(c){const j=isFunction(c)?c.call(i):c;Reflect.ownKeys(j).forEach(P=>{provide(P,j[P])})}o&&callHook$1(o,e,"c");function Y(j,P){isArray(P)?P.forEach($=>j($.bind(i))):P&&j(P.bind(i))}if(Y(onBeforeMount,A),Y(onMounted,S),Y(onBeforeUpdate,E),Y(onUpdated,_),Y(onActivated,v),Y(onDeactivated,w),Y(onErrorCaptured,b),Y(onRenderTracked,u),Y(onRenderTriggered,D),Y(onBeforeUnmount,F),Y(onUnmounted,T),Y(onServerPrefetch,m),isArray(L))if(L.length){const j=e.exposed||(e.exposed={});L.forEach(P=>{Object.defineProperty(j,P,{get:()=>i[P],set:$=>i[P]=$})})}else e.exposed||(e.exposed={});d&&e.render===NOOP&&(e.render=d),C!=null&&(e.inheritAttrs=C),N&&(e.components=N),q&&(e.directives=q)}function resolveInjections(e,t,i=NOOP){isArray(e)&&(e=normalizeInject(e));for(const n in e){const s=e[n];let f;isObject(s)?"default"in s?f=inject(s.from||n,s.default,!0):f=inject(s.from||n):f=inject(s),isRef(f)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>f.value,set:l=>f.value=l}):t[n]=f}}function callHook$1(e,t,i){callWithAsyncErrorHandling(isArray(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,i)}function createWatcher(e,t,i,n){const s=n.includes(".")?createPathGetter(i,n):()=>i[n];if(isString(e)){const f=t[e];isFunction(f)&&watch(s,f)}else if(isFunction(e))watch(s,e.bind(i));else if(isObject(e))if(isArray(e))e.forEach(f=>createWatcher(f,t,i,n));else{const f=isFunction(e.handler)?e.handler.bind(i):t[e.handler];isFunction(f)&&watch(s,f,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:s,optionsCache:f,config:{optionMergeStrategies:l}}=e.appContext,g=f.get(t);let c;return g?c=g:!s.length&&!i&&!n?c=t:(c={},s.length&&s.forEach(r=>mergeOptions(c,r,l,!0)),mergeOptions(c,t,l)),isObject(t)&&f.set(t,c),c}function mergeOptions(e,t,i,n=!1){const{mixins:s,extends:f}=t;f&&mergeOptions(e,f,i,!0),s&&s.forEach(l=>mergeOptions(e,l,i,!0));for(const l in t)if(!(n&&l==="expose")){const g=internalOptionMergeStrats[l]||i&&i[l];e[l]=g?g(e[l],t[l]):t[l]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray(e)&&isArray(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t!=null?t:{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const i=extend(Object.create(null),e);for(const n in t)i[n]=mergeAsArray(e[n],t[n]);return i}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(n,s=null){isFunction(n)||(n=extend({},n)),s!=null&&!isObject(s)&&(s=null);const f=createAppContext(),l=new Set;let g=!1;const c=f.app={_uid:uid$1++,_component:n,_props:s,_container:null,_context:f,_instance:null,version,get config(){return f.config},set config(r){},use(r,...o){return l.has(r)||(r&&isFunction(r.install)?(l.add(r),r.install(c,...o)):isFunction(r)&&(l.add(r),r(c,...o))),c},mixin(r){return f.mixins.includes(r)||f.mixins.push(r),c},component(r,o){return o?(f.components[r]=o,c):f.components[r]},directive(r,o){return o?(f.directives[r]=o,c):f.directives[r]},mount(r,o,A){if(!g){const S=createVNode(n,s);return S.appContext=f,o&&t?t(S,r):e(S,r,A),g=!0,c._container=r,r.__vue_app__=c,getExposeProxy(S.component)||S.component.proxy}},unmount(){g&&(e(null,c._container),delete c._container.__vue_app__)},provide(r,o){return f.provides[r]=o,c},runWithContext(r){currentApp=c;try{return r()}finally{currentApp=null}}};return c}}let currentApp=null;function provide(e,t){if(currentInstance){let i=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===i&&(i=currentInstance.provides=Object.create(n)),i[e]=t}}function inject(e,t,i=!1){const n=currentInstance||currentRenderingInstance;if(n||currentApp){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:currentApp._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return i&&isFunction(t)?t.call(n&&n.proxy):t}}function initProps(e,t,i,n=!1){const s={},f={};def(f,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,s,f);for(const l in e.propsOptions[0])l in s||(s[l]=void 0);i?e.props=n?s:shallowReactive(s):e.type.props?e.props=s:e.props=f,e.attrs=f}function updateProps(e,t,i,n){const{props:s,attrs:f,vnode:{patchFlag:l}}=e,g=toRaw(s),[c]=e.propsOptions;let r=!1;if((n||l>0)&&!(l&16)){if(l&8){const o=e.vnode.dynamicProps;for(let A=0;A<o.length;A++){let S=o[A];if(isEmitListener(e.emitsOptions,S))continue;const E=t[S];if(c)if(hasOwn(f,S))E!==f[S]&&(f[S]=E,r=!0);else{const _=camelize(S);s[_]=resolvePropValue(c,g,_,E,e,!1)}else E!==f[S]&&(f[S]=E,r=!0)}}}else{setFullProps(e,t,s,f)&&(r=!0);let o;for(const A in g)(!t||!hasOwn(t,A)&&((o=hyphenate(A))===A||!hasOwn(t,o)))&&(c?i&&(i[A]!==void 0||i[o]!==void 0)&&(s[A]=resolvePropValue(c,g,A,void 0,e,!0)):delete s[A]);if(f!==g)for(const A in f)(!t||!hasOwn(t,A)&&!0)&&(delete f[A],r=!0)}r&&trigger(e,"set","$attrs")}function setFullProps(e,t,i,n){const[s,f]=e.propsOptions;let l=!1,g;if(t)for(let c in t){if(isReservedProp(c))continue;const r=t[c];let o;s&&hasOwn(s,o=camelize(c))?!f||!f.includes(o)?i[o]=r:(g||(g={}))[o]=r:isEmitListener(e.emitsOptions,c)||(!(c in n)||r!==n[c])&&(n[c]=r,l=!0)}if(f){const c=toRaw(i),r=g||EMPTY_OBJ;for(let o=0;o<f.length;o++){const A=f[o];i[A]=resolvePropValue(s,c,A,r[A],e,!hasOwn(r,A))}}return l}function resolvePropValue(e,t,i,n,s,f){const l=e[i];if(l!=null){const g=hasOwn(l,"default");if(g&&n===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&isFunction(c)){const{propsDefaults:r}=s;i in r?n=r[i]:(setCurrentInstance(s),n=r[i]=c.call(null,t),unsetCurrentInstance())}else n=c}l[0]&&(f&&!g?n=!1:l[1]&&(n===""||n===hyphenate(i))&&(n=!0))}return n}function normalizePropsOptions(e,t,i=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const f=e.props,l={},g=[];let c=!1;if(!isFunction(e)){const o=A=>{c=!0;const[S,E]=normalizePropsOptions(A,t,!0);extend(l,S),E&&g.push(...E)};!i&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!f&&!c)return isObject(e)&&n.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(f))for(let o=0;o<f.length;o++){const A=camelize(f[o]);validatePropName(A)&&(l[A]=EMPTY_OBJ)}else if(f)for(const o in f){const A=camelize(o);if(validatePropName(A)){const S=f[o],E=l[A]=isArray(S)||isFunction(S)?{type:S}:extend({},S);if(E){const _=getTypeIndex(Boolean,E.type),v=getTypeIndex(String,E.type);E[0]=_>-1,E[1]=v<0||_<v,(_>-1||hasOwn(E,"default"))&&g.push(A)}}}const r=[l,g];return isObject(e)&&n.set(e,r),r}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(i=>isSameType(i,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,i)=>{if(t._n)return t;const n=withCtx((...s)=>normalizeSlotValue(t(...s)),i);return n._c=!1,n},normalizeObjectSlots=(e,t,i)=>{const n=e._ctx;for(const s in e){if(isInternalKey(s))continue;const f=e[s];if(isFunction(f))t[s]=normalizeSlot(s,f,n);else if(f!=null){const l=normalizeSlotValue(f);t[s]=()=>l}}},normalizeVNodeSlots=(e,t)=>{const i=normalizeSlotValue(t);e.slots.default=()=>i},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=toRaw(t),def(t,"_",i)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,i)=>{const{vnode:n,slots:s}=e;let f=!0,l=EMPTY_OBJ;if(n.shapeFlag&32){const g=t._;g?i&&g===1?f=!1:(extend(s,t),!i&&g===1&&delete s._):(f=!t.$stable,normalizeObjectSlots(t,s)),l=t}else t&&(normalizeVNodeSlots(e,t),l={default:1});if(f)for(const g in s)!isInternalKey(g)&&!(g in l)&&delete s[g]};function setRef(e,t,i,n,s=!1){if(isArray(e)){e.forEach((S,E)=>setRef(S,t&&(isArray(t)?t[E]:t),i,n,s));return}if(isAsyncWrapper(n)&&!s)return;const f=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,l=s?null:f,{i:g,r:c}=e,r=t&&t.r,o=g.refs===EMPTY_OBJ?g.refs={}:g.refs,A=g.setupState;if(r!=null&&r!==c&&(isString(r)?(o[r]=null,hasOwn(A,r)&&(A[r]=null)):isRef(r)&&(r.value=null)),isFunction(c))callWithErrorHandling(c,g,12,[l,o]);else{const S=isString(c),E=isRef(c);if(S||E){const _=()=>{if(e.f){const v=S?hasOwn(A,c)?A[c]:o[c]:c.value;s?isArray(v)&&remove(v,f):isArray(v)?v.includes(f)||v.push(f):S?(o[c]=[f],hasOwn(A,c)&&(A[c]=o[c])):(c.value=[f],e.k&&(o[e.k]=c.value))}else S?(o[c]=l,hasOwn(A,c)&&(A[c]=l)):E&&(c.value=l,e.k&&(o[e.k]=l))};l?(_.id=-1,queuePostRenderEffect(_,i)):_()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const i=getGlobalThis();i.__VUE__=!0;const{insert:n,remove:s,patchProp:f,createElement:l,createText:g,createComment:c,setText:r,setElementText:o,parentNode:A,nextSibling:S,setScopeId:E=NOOP,insertStaticContent:_}=e,v=(W,J,ce,Z=null,ue=null,_e=null,Ee=!1,Pe=null,Se=!!J.dynamicChildren)=>{if(W===J)return;W&&!isSameVNodeType(W,J)&&(Z=se(W),Ae(W,ue,_e,!0),W=null),J.patchFlag===-2&&(Se=!1,J.dynamicChildren=null);const{type:we,ref:le,shapeFlag:te}=J;switch(we){case Text:w(W,J,ce,Z);break;case Comment:R(W,J,ce,Z);break;case Static:W==null&&F(J,ce,Z,Ee);break;case Fragment:N(W,J,ce,Z,ue,_e,Ee,Pe,Se);break;default:te&1?d(W,J,ce,Z,ue,_e,Ee,Pe,Se):te&6?q(W,J,ce,Z,ue,_e,Ee,Pe,Se):(te&64||te&128)&&we.process(W,J,ce,Z,ue,_e,Ee,Pe,Se,de)}le!=null&&ue&&setRef(le,W&&W.ref,_e,J||W,!J)},w=(W,J,ce,Z)=>{if(W==null)n(J.el=g(J.children),ce,Z);else{const ue=J.el=W.el;J.children!==W.children&&r(ue,J.children)}},R=(W,J,ce,Z)=>{W==null?n(J.el=c(J.children||""),ce,Z):J.el=W.el},F=(W,J,ce,Z)=>{[W.el,W.anchor]=_(W.children,J,ce,Z,W.el,W.anchor)},M=({el:W,anchor:J},ce,Z)=>{let ue;for(;W&&W!==J;)ue=S(W),n(W,ce,Z),W=ue;n(J,ce,Z)},T=({el:W,anchor:J})=>{let ce;for(;W&&W!==J;)ce=S(W),s(W),W=ce;s(J)},d=(W,J,ce,Z,ue,_e,Ee,Pe,Se)=>{Ee=Ee||J.type==="svg",W==null?u(J,ce,Z,ue,_e,Ee,Pe,Se):m(W,J,ue,_e,Ee,Pe,Se)},u=(W,J,ce,Z,ue,_e,Ee,Pe)=>{let Se,we;const{type:le,props:te,shapeFlag:oe,transition:he,dirs:Me}=W;if(Se=W.el=l(W.type,_e,te&&te.is,te),oe&8?o(Se,W.children):oe&16&&b(W.children,Se,null,Z,ue,_e&&le!=="foreignObject",Ee,Pe),Me&&invokeDirectiveHook(W,null,Z,"created"),D(Se,W,W.scopeId,Ee,Z),te){for(const je in te)je!=="value"&&!isReservedProp(je)&&f(Se,je,null,te[je],_e,W.children,Z,ue,H);"value"in te&&f(Se,"value",null,te.value),(we=te.onVnodeBeforeMount)&&invokeVNodeHook(we,Z,W)}Me&&invokeDirectiveHook(W,null,Z,"beforeMount");const Oe=(!ue||ue&&!ue.pendingBranch)&&he&&!he.persisted;Oe&&he.beforeEnter(Se),n(Se,J,ce),((we=te&&te.onVnodeMounted)||Oe||Me)&&queuePostRenderEffect(()=>{we&&invokeVNodeHook(we,Z,W),Oe&&he.enter(Se),Me&&invokeDirectiveHook(W,null,Z,"mounted")},ue)},D=(W,J,ce,Z,ue)=>{if(ce&&E(W,ce),Z)for(let _e=0;_e<Z.length;_e++)E(W,Z[_e]);if(ue){let _e=ue.subTree;if(J===_e){const Ee=ue.vnode;D(W,Ee,Ee.scopeId,Ee.slotScopeIds,ue.parent)}}},b=(W,J,ce,Z,ue,_e,Ee,Pe,Se=0)=>{for(let we=Se;we<W.length;we++){const le=W[we]=Pe?cloneIfMounted(W[we]):normalizeVNode(W[we]);v(null,le,J,ce,Z,ue,_e,Ee,Pe)}},m=(W,J,ce,Z,ue,_e,Ee)=>{const Pe=J.el=W.el;let{patchFlag:Se,dynamicChildren:we,dirs:le}=J;Se|=W.patchFlag&16;const te=W.props||EMPTY_OBJ,oe=J.props||EMPTY_OBJ;let he;ce&&toggleRecurse(ce,!1),(he=oe.onVnodeBeforeUpdate)&&invokeVNodeHook(he,ce,J,W),le&&invokeDirectiveHook(J,W,ce,"beforeUpdate"),ce&&toggleRecurse(ce,!0);const Me=ue&&J.type!=="foreignObject";if(we?L(W.dynamicChildren,we,Pe,ce,Z,Me,_e):Ee||P(W,J,Pe,null,ce,Z,Me,_e,!1),Se>0){if(Se&16)C(Pe,J,te,oe,ce,Z,ue);else if(Se&2&&te.class!==oe.class&&f(Pe,"class",null,oe.class,ue),Se&4&&f(Pe,"style",te.style,oe.style,ue),Se&8){const Oe=J.dynamicProps;for(let je=0;je<Oe.length;je++){const ze=Oe[je],He=te[ze],Ge=oe[ze];(Ge!==He||ze==="value")&&f(Pe,ze,He,Ge,ue,W.children,ce,Z,H)}}Se&1&&W.children!==J.children&&o(Pe,J.children)}else!Ee&&we==null&&C(Pe,J,te,oe,ce,Z,ue);((he=oe.onVnodeUpdated)||le)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,ce,J,W),le&&invokeDirectiveHook(J,W,ce,"updated")},Z)},L=(W,J,ce,Z,ue,_e,Ee)=>{for(let Pe=0;Pe<J.length;Pe++){const Se=W[Pe],we=J[Pe],le=Se.el&&(Se.type===Fragment||!isSameVNodeType(Se,we)||Se.shapeFlag&70)?A(Se.el):ce;v(Se,we,le,null,Z,ue,_e,Ee,!0)}},C=(W,J,ce,Z,ue,_e,Ee)=>{if(ce!==Z){if(ce!==EMPTY_OBJ)for(const Pe in ce)!isReservedProp(Pe)&&!(Pe in Z)&&f(W,Pe,ce[Pe],null,Ee,J.children,ue,_e,H);for(const Pe in Z){if(isReservedProp(Pe))continue;const Se=Z[Pe],we=ce[Pe];Se!==we&&Pe!=="value"&&f(W,Pe,we,Se,Ee,J.children,ue,_e,H)}"value"in Z&&f(W,"value",ce.value,Z.value)}},N=(W,J,ce,Z,ue,_e,Ee,Pe,Se)=>{const we=J.el=W?W.el:g(""),le=J.anchor=W?W.anchor:g("");let{patchFlag:te,dynamicChildren:oe,slotScopeIds:he}=J;he&&(Pe=Pe?Pe.concat(he):he),W==null?(n(we,ce,Z),n(le,ce,Z),b(J.children,ce,le,ue,_e,Ee,Pe,Se)):te>0&&te&64&&oe&&W.dynamicChildren?(L(W.dynamicChildren,oe,ce,ue,_e,Ee,Pe),(J.key!=null||ue&&J===ue.subTree)&&traverseStaticChildren(W,J,!0)):P(W,J,ce,le,ue,_e,Ee,Pe,Se)},q=(W,J,ce,Z,ue,_e,Ee,Pe,Se)=>{J.slotScopeIds=Pe,W==null?J.shapeFlag&512?ue.ctx.activate(J,ce,Z,Ee,Se):I(J,ce,Z,ue,_e,Ee,Se):z(W,J,Se)},I=(W,J,ce,Z,ue,_e,Ee)=>{const Pe=W.component=createComponentInstance(W,Z,ue);if(isKeepAlive(W)&&(Pe.ctx.renderer=de),setupComponent(Pe),Pe.asyncDep){if(ue&&ue.registerDep(Pe,Y),!W.el){const Se=Pe.subTree=createVNode(Comment);R(null,Se,J,ce)}return}Y(Pe,W,J,ce,ue,_e,Ee)},z=(W,J,ce)=>{const Z=J.component=W.component;if(shouldUpdateComponent(W,J,ce))if(Z.asyncDep&&!Z.asyncResolved){j(Z,J,ce);return}else Z.next=J,invalidateJob(Z.update),Z.update();else J.el=W.el,Z.vnode=J},Y=(W,J,ce,Z,ue,_e,Ee)=>{const Pe=()=>{if(W.isMounted){let{next:le,bu:te,u:oe,parent:he,vnode:Me}=W,Oe=le,je;toggleRecurse(W,!1),le?(le.el=Me.el,j(W,le,Ee)):le=Me,te&&invokeArrayFns(te),(je=le.props&&le.props.onVnodeBeforeUpdate)&&invokeVNodeHook(je,he,le,Me),toggleRecurse(W,!0);const ze=renderComponentRoot(W),He=W.subTree;W.subTree=ze,v(He,ze,A(He.el),se(He),W,ue,_e),le.el=ze.el,Oe===null&&updateHOCHostEl(W,ze.el),oe&&queuePostRenderEffect(oe,ue),(je=le.props&&le.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(je,he,le,Me),ue)}else{let le;const{el:te,props:oe}=J,{bm:he,m:Me,parent:Oe}=W,je=isAsyncWrapper(J);if(toggleRecurse(W,!1),he&&invokeArrayFns(he),!je&&(le=oe&&oe.onVnodeBeforeMount)&&invokeVNodeHook(le,Oe,J),toggleRecurse(W,!0),te&&ye){const ze=()=>{W.subTree=renderComponentRoot(W),ye(te,W.subTree,W,ue,null)};je?J.type.__asyncLoader().then(()=>!W.isUnmounted&&ze()):ze()}else{const ze=W.subTree=renderComponentRoot(W);v(null,ze,ce,Z,W,ue,_e),J.el=ze.el}if(Me&&queuePostRenderEffect(Me,ue),!je&&(le=oe&&oe.onVnodeMounted)){const ze=J;queuePostRenderEffect(()=>invokeVNodeHook(le,Oe,ze),ue)}(J.shapeFlag&256||Oe&&isAsyncWrapper(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&W.a&&queuePostRenderEffect(W.a,ue),W.isMounted=!0,J=ce=Z=null}},Se=W.effect=new ReactiveEffect(Pe,()=>queueJob(we),W.scope),we=W.update=()=>Se.run();we.id=W.uid,toggleRecurse(W,!0),we()},j=(W,J,ce)=>{J.component=W;const Z=W.vnode.props;W.vnode=J,W.next=null,updateProps(W,J.props,Z,ce),updateSlots(W,J.children,ce),pauseTracking(),flushPreFlushCbs(),resetTracking()},P=(W,J,ce,Z,ue,_e,Ee,Pe,Se=!1)=>{const we=W&&W.children,le=W?W.shapeFlag:0,te=J.children,{patchFlag:oe,shapeFlag:he}=J;if(oe>0){if(oe&128){B(we,te,ce,Z,ue,_e,Ee,Pe,Se);return}else if(oe&256){$(we,te,ce,Z,ue,_e,Ee,Pe,Se);return}}he&8?(le&16&&H(we,ue,_e),te!==we&&o(ce,te)):le&16?he&16?B(we,te,ce,Z,ue,_e,Ee,Pe,Se):H(we,ue,_e,!0):(le&8&&o(ce,""),he&16&&b(te,ce,Z,ue,_e,Ee,Pe,Se))},$=(W,J,ce,Z,ue,_e,Ee,Pe,Se)=>{W=W||EMPTY_ARR,J=J||EMPTY_ARR;const we=W.length,le=J.length,te=Math.min(we,le);let oe;for(oe=0;oe<te;oe++){const he=J[oe]=Se?cloneIfMounted(J[oe]):normalizeVNode(J[oe]);v(W[oe],he,ce,null,ue,_e,Ee,Pe,Se)}we>le?H(W,ue,_e,!0,!1,te):b(J,ce,Z,ue,_e,Ee,Pe,Se,te)},B=(W,J,ce,Z,ue,_e,Ee,Pe,Se)=>{let we=0;const le=J.length;let te=W.length-1,oe=le-1;for(;we<=te&&we<=oe;){const he=W[we],Me=J[we]=Se?cloneIfMounted(J[we]):normalizeVNode(J[we]);if(isSameVNodeType(he,Me))v(he,Me,ce,null,ue,_e,Ee,Pe,Se);else break;we++}for(;we<=te&&we<=oe;){const he=W[te],Me=J[oe]=Se?cloneIfMounted(J[oe]):normalizeVNode(J[oe]);if(isSameVNodeType(he,Me))v(he,Me,ce,null,ue,_e,Ee,Pe,Se);else break;te--,oe--}if(we>te){if(we<=oe){const he=oe+1,Me=he<le?J[he].el:Z;for(;we<=oe;)v(null,J[we]=Se?cloneIfMounted(J[we]):normalizeVNode(J[we]),ce,Me,ue,_e,Ee,Pe,Se),we++}}else if(we>oe)for(;we<=te;)Ae(W[we],ue,_e,!0),we++;else{const he=we,Me=we,Oe=new Map;for(we=Me;we<=oe;we++){const O=J[we]=Se?cloneIfMounted(J[we]):normalizeVNode(J[we]);O.key!=null&&Oe.set(O.key,we)}let je,ze=0;const He=oe-Me+1;let Ge=!1,Ke=0;const qe=new Array(He);for(we=0;we<He;we++)qe[we]=0;for(we=he;we<=te;we++){const O=W[we];if(ze>=He){Ae(O,ue,_e,!0);continue}let G;if(O.key!=null)G=Oe.get(O.key);else for(je=Me;je<=oe;je++)if(qe[je-Me]===0&&isSameVNodeType(O,J[je])){G=je;break}G===void 0?Ae(O,ue,_e,!0):(qe[G-Me]=we+1,G>=Ke?Ke=G:Ge=!0,v(O,J[G],ce,null,ue,_e,Ee,Pe,Se),ze++)}const Fe=Ge?getSequence(qe):EMPTY_ARR;for(je=Fe.length-1,we=He-1;we>=0;we--){const O=Me+we,G=J[O],be=O+1<le?J[O+1].el:Z;qe[we]===0?v(null,G,ce,be,ue,_e,Ee,Pe,Se):Ge&&(je<0||we!==Fe[je]?pe(G,ce,be,2):je--)}}},pe=(W,J,ce,Z,ue=null)=>{const{el:_e,type:Ee,transition:Pe,children:Se,shapeFlag:we}=W;if(we&6){pe(W.component.subTree,J,ce,Z);return}if(we&128){W.suspense.move(J,ce,Z);return}if(we&64){Ee.move(W,J,ce,de);return}if(Ee===Fragment){n(_e,J,ce);for(let te=0;te<Se.length;te++)pe(Se[te],J,ce,Z);n(W.anchor,J,ce);return}if(Ee===Static){M(W,J,ce);return}if(Z!==2&&we&1&&Pe)if(Z===0)Pe.beforeEnter(_e),n(_e,J,ce),queuePostRenderEffect(()=>Pe.enter(_e),ue);else{const{leave:te,delayLeave:oe,afterLeave:he}=Pe,Me=()=>n(_e,J,ce),Oe=()=>{te(_e,()=>{Me(),he&&he()})};oe?oe(_e,Me,Oe):Oe()}else n(_e,J,ce)},Ae=(W,J,ce,Z=!1,ue=!1)=>{const{type:_e,props:Ee,ref:Pe,children:Se,dynamicChildren:we,shapeFlag:le,patchFlag:te,dirs:oe}=W;if(Pe!=null&&setRef(Pe,null,ce,W,!0),le&256){J.ctx.deactivate(W);return}const he=le&1&&oe,Me=!isAsyncWrapper(W);let Oe;if(Me&&(Oe=Ee&&Ee.onVnodeBeforeUnmount)&&invokeVNodeHook(Oe,J,W),le&6)k(W.component,ce,Z);else{if(le&128){W.suspense.unmount(ce,Z);return}he&&invokeDirectiveHook(W,null,J,"beforeUnmount"),le&64?W.type.remove(W,J,ce,ue,de,Z):we&&(_e!==Fragment||te>0&&te&64)?H(we,J,ce,!1,!0):(_e===Fragment&&te&384||!ue&&le&16)&&H(Se,J,ce),Z&&U(W)}(Me&&(Oe=Ee&&Ee.onVnodeUnmounted)||he)&&queuePostRenderEffect(()=>{Oe&&invokeVNodeHook(Oe,J,W),he&&invokeDirectiveHook(W,null,J,"unmounted")},ce)},U=W=>{const{type:J,el:ce,anchor:Z,transition:ue}=W;if(J===Fragment){y(ce,Z);return}if(J===Static){T(W);return}const _e=()=>{s(ce),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(W.shapeFlag&1&&ue&&!ue.persisted){const{leave:Ee,delayLeave:Pe}=ue,Se=()=>Ee(ce,_e);Pe?Pe(W.el,_e,Se):Se()}else _e()},y=(W,J)=>{let ce;for(;W!==J;)ce=S(W),s(W),W=ce;s(J)},k=(W,J,ce)=>{const{bum:Z,scope:ue,update:_e,subTree:Ee,um:Pe}=W;Z&&invokeArrayFns(Z),ue.stop(),_e&&(_e.active=!1,Ae(Ee,W,J,ce)),Pe&&queuePostRenderEffect(Pe,J),queuePostRenderEffect(()=>{W.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},H=(W,J,ce,Z=!1,ue=!1,_e=0)=>{for(let Ee=_e;Ee<W.length;Ee++)Ae(W[Ee],J,ce,Z,ue)},se=W=>W.shapeFlag&6?se(W.component.subTree):W.shapeFlag&128?W.suspense.next():S(W.anchor||W.el),Q=(W,J,ce)=>{W==null?J._vnode&&Ae(J._vnode,null,null,!0):v(J._vnode||null,W,J,null,null,null,ce),flushPreFlushCbs(),flushPostFlushCbs(),J._vnode=W},de={p:v,um:Ae,m:pe,r:U,mt:I,mc:b,pc:P,pbc:L,n:se,o:e};let ge,ye;return t&&([ge,ye]=t(de)),{render:Q,hydrate:ge,createApp:createAppAPI(Q,ge)}}function toggleRecurse({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function traverseStaticChildren(e,t,i=!1){const n=e.children,s=t.children;if(isArray(n)&&isArray(s))for(let f=0;f<n.length;f++){const l=n[f];let g=s[f];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=s[f]=cloneIfMounted(s[f]),g.el=l.el),i||traverseStaticChildren(l,g)),g.type===Text&&(g.el=l.el)}}function getSequence(e){const t=e.slice(),i=[0];let n,s,f,l,g;const c=e.length;for(n=0;n<c;n++){const r=e[n];if(r!==0){if(s=i[i.length-1],e[s]<r){t[n]=s,i.push(n);continue}for(f=0,l=i.length-1;f<l;)g=f+l>>1,e[i[g]]<r?f=g+1:l=g;r<e[i[f]]&&(f>0&&(t[n]=i[f-1]),i[f]=n)}}for(f=i.length,l=i[f-1];f-- >0;)i[f]=l,l=t[l];return i}const isTeleport=e=>e.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,i,n,s,f){return setupBlock(createBaseVNode(e,t,i,n,s,f,!0))}function createBlock(e,t,i,n,s){return setupBlock(createVNode(e,t,i,n,s,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e!=null?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!i}:e:null);function createBaseVNode(e,t=null,i=null,n=0,s=null,f=e===Fragment?0:1,l=!1,g=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return g?(normalizeChildren(c,i),f&128&&e.normalize(c)):i&&(c.shapeFlag|=isString(i)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(c.patchFlag>0||f&6)&&c.patchFlag!==32&&currentBlock.push(c),c}const createVNode=_createVNode;function _createVNode(e,t=null,i=null,n=0,s=null,f=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const g=cloneVNode(e,t,!0);return i&&normalizeChildren(g,i),isBlockTreeEnabled>0&&!f&&currentBlock&&(g.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=g:currentBlock.push(g)),g.patchFlag|=-2,g}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:g,style:c}=t;g&&!isString(g)&&(t.class=normalizeClass(g)),isObject(c)&&(isProxy(c)&&!isArray(c)&&(c=extend({},c)),t.style=normalizeStyle(c))}const l=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,i,n,s,l,f,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,i=!1){const{props:n,ref:s,patchFlag:f,children:l}=e,g=t?mergeProps(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:g,key:g&&normalizeKey(g),ref:t&&t.ref?i&&s?isArray(s)?s.concat(normalizeRef(t)):[s,normalizeRef(t)]:normalizeRef(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?f===-1?16:f|16:f,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let i=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(isArray(t))i=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),normalizeChildren(e,s()),s._c&&(s._d=!0));return}else{i=32;const s=t._;!s&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},i=32):(t=String(t),n&64?(i=16,t=[createTextVNode(t)]):i=8);e.children=t,e.shapeFlag|=i}function mergeProps(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=normalizeClass([t.class,n.class]));else if(s==="style")t.style=normalizeStyle([t.style,n.style]);else if(isOn(s)){const f=t[s],l=n[s];l&&f!==l&&!(isArray(f)&&f.includes(l))&&(t[s]=f?[].concat(f,l):l)}else s!==""&&(t[s]=n[s])}return t}function invokeVNodeHook(e,t,i,n=null){callWithAsyncErrorHandling(e,t,7,[i,n])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,i){const n=e.type,s=(t?t.appContext:e.appContext)||emptyAppContext,f={uid:uid++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,s),emitsOptions:normalizeEmitsOptions(n,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=t?t.root:f,f.emit=emit.bind(null,f),e.ce&&e.ce(f),f}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(e=>currentInstance=e),internalSetCurrentInstance=e=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(t=>t(e)):globalCurrentInstanceSetters[0](e)};const setCurrentInstance=e=>{internalSetCurrentInstance(e),e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:i,children:n}=e.vnode,s=isStatefulComponent(e);initProps(e,i,s,t),initSlots(e,n);const f=s?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,f}function setupStatefulComponent(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:n}=i;if(n){const s=e.setupContext=n.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const f=callWithErrorHandling(n,e,0,[e.props,s]);if(resetTracking(),unsetCurrentInstance(),isPromise(f)){if(f.then(unsetCurrentInstance,unsetCurrentInstance),t)return f.then(l=>{handleSetupResult(e,l,t)}).catch(l=>{handleError(l,e,0)});e.asyncDep=f}else handleSetupResult(e,f,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,i){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,i)}let compile;function finishComponentSetup(e,t,i){const n=e.type;if(!e.render){if(!t&&compile&&!n.render){const s=n.template||resolveMergedOptions(e).template;if(s){const{isCustomElement:f,compilerOptions:l}=e.appContext.config,{delimiters:g,compilerOptions:c}=n,r=extend(extend({isCustomElement:f,delimiters:g},l),c);n.render=compile(s,r)}}e.render=n.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,i){return track(e,"get","$attrs"),t[i]}}))}function createSetupContext(e){const t=i=>{e.exposed=i||{}};return{get attrs(){return getAttrsProxy(e)},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in publicPropertiesMap)return publicPropertiesMap[i](e)},has(t,i){return i in t||i in publicPropertiesMap}}))}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,i){const n=arguments.length;return n===2?isObject(t)&&!isArray(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&isVNode(i)&&(i=[i]),createVNode(e,t,i))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const s=t?doc.createElementNS(svgNS,e):doc.createElement(e,i?{is:i}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,s,f){const l=i?i.previousSibling:t.lastChild;if(s&&(s===f||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),!(s===f||!(s=s.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${e}</svg>`:e;const g=templateContainer.content;if(n){const c=g.firstChild;for(;c.firstChild;)g.appendChild(c.firstChild);g.removeChild(c)}t.insertBefore(g,i)}return[l?l.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function patchClass(e,t,i){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,i){const n=e.style,s=isString(i);if(i&&!s){if(t&&!isString(t))for(const f in t)i[f]==null&&setStyle(n,f,"");for(const f in i)setStyle(n,f,i[f])}else{const f=n.display;s?t!==i&&(n.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=f)}}const importantRE=/\s*!important$/;function setStyle(e,t,i){if(isArray(i))i.forEach(n=>setStyle(e,t,n));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const n=autoPrefix(e,t);importantRE.test(i)?e.setProperty(hyphenate(n),i.replace(importantRE,""),"important"):e[n]=i}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const i=prefixCache[t];if(i)return i;let n=camelize(t);if(n!=="filter"&&n in e)return prefixCache[t]=n;n=capitalize(n);for(let s=0;s<prefixes.length;s++){const f=prefixes[s]+n;if(f in e)return prefixCache[t]=f}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,i,n,s){if(n&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,i);else{const f=isSpecialBooleanAttr(t);i==null||f&&!includeBooleanAttr(i)?e.removeAttribute(t):e.setAttribute(t,f?"":i)}}function patchDOMProp(e,t,i,n,s,f,l){if(t==="innerHTML"||t==="textContent"){n&&l(n,s,f),e[t]=i==null?"":i;return}const g=e.tagName;if(t==="value"&&g!=="PROGRESS"&&!g.includes("-")){e._value=i;const r=g==="OPTION"?e.getAttribute("value"):e.value,o=i==null?"":i;r!==o&&(e.value=o),i==null&&e.removeAttribute(t);return}let c=!1;if(i===""||i==null){const r=typeof e[t];r==="boolean"?i=includeBooleanAttr(i):i==null&&r==="string"?(i="",c=!0):r==="number"&&(i=0,c=!0)}try{e[t]=i}catch{}c&&e.removeAttribute(t)}function addEventListener(e,t,i,n){e.addEventListener(t,i,n)}function removeEventListener(e,t,i,n){e.removeEventListener(t,i,n)}function patchEvent(e,t,i,n,s=null){const f=e._vei||(e._vei={}),l=f[t];if(n&&l)l.value=n;else{const[g,c]=parseName(t);if(n){const r=f[t]=createInvoker(n,s);addEventListener(e,g,r,c)}else l&&(removeEventListener(e,g,l,c),f[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let n;for(;n=e.match(optionsModifierRE);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,i.value),t,5,[n])};return i.value=e,i.attached=getNow(),i}function patchStopImmediatePropagation(e,t){if(isArray(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,i,n,s=!1,f,l,g,c)=>{t==="class"?patchClass(e,n,s):t==="style"?patchStyle(e,i,n):isOn(t)?isModelListener(t)||patchEvent(e,t,i,n,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,n,s))?patchDOMProp(e,t,n,f,l,g,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),patchAttr(e,t,n,s))};function shouldSetAsProp(e,t,i,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(i)?!1:t in e}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=(e,t=[])=>{isArray(e)?e.forEach(i=>i(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const N in e)N in DOMTransitionPropsValidators||(t[N]=e[N]);if(e.css===!1)return t;const{name:i="v",type:n,duration:s,enterFromClass:f=`${i}-enter-from`,enterActiveClass:l=`${i}-enter-active`,enterToClass:g=`${i}-enter-to`,appearFromClass:c=f,appearActiveClass:r=l,appearToClass:o=g,leaveFromClass:A=`${i}-leave-from`,leaveActiveClass:S=`${i}-leave-active`,leaveToClass:E=`${i}-leave-to`}=e,_=normalizeDuration(s),v=_&&_[0],w=_&&_[1],{onBeforeEnter:R,onEnter:F,onEnterCancelled:M,onLeave:T,onLeaveCancelled:d,onBeforeAppear:u=R,onAppear:D=F,onAppearCancelled:b=M}=t,m=(N,q,I)=>{removeTransitionClass(N,q?o:g),removeTransitionClass(N,q?r:l),I&&I()},L=(N,q)=>{N._isLeaving=!1,removeTransitionClass(N,A),removeTransitionClass(N,E),removeTransitionClass(N,S),q&&q()},C=N=>(q,I)=>{const z=N?D:F,Y=()=>m(q,N,I);callHook(z,[q,Y]),nextFrame(()=>{removeTransitionClass(q,N?c:f),addTransitionClass(q,N?o:g),hasExplicitCallback(z)||whenTransitionEnds(q,n,v,Y)})};return extend(t,{onBeforeEnter(N){callHook(R,[N]),addTransitionClass(N,f),addTransitionClass(N,l)},onBeforeAppear(N){callHook(u,[N]),addTransitionClass(N,c),addTransitionClass(N,r)},onEnter:C(!1),onAppear:C(!0),onLeave(N,q){N._isLeaving=!0;const I=()=>L(N,q);addTransitionClass(N,A),forceReflow(),addTransitionClass(N,S),nextFrame(()=>{!N._isLeaving||(removeTransitionClass(N,A),addTransitionClass(N,E),hasExplicitCallback(T)||whenTransitionEnds(N,n,w,I))}),callHook(T,[N,I])},onEnterCancelled(N){m(N,!1),callHook(M,[N])},onAppearCancelled(N){m(N,!0),callHook(b,[N])},onLeaveCancelled(N){L(N),callHook(d,[N])}})}function normalizeDuration(e){if(e==null)return null;if(isObject(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,i,n){const s=e._endId=++endId,f=()=>{s===e._endId&&n()};if(i)return setTimeout(f,i);const{type:l,timeout:g,propCount:c}=getTransitionInfo(e,t);if(!l)return n();const r=l+"end";let o=0;const A=()=>{e.removeEventListener(r,S),f()},S=E=>{E.target===e&&++o>=c&&A()};setTimeout(()=>{o<c&&A()},g+1),e.addEventListener(r,S)}function getTransitionInfo(e,t){const i=window.getComputedStyle(e),n=_=>(i[_]||"").split(", "),s=n(`${TRANSITION}Delay`),f=n(`${TRANSITION}Duration`),l=getTimeout(s,f),g=n(`${ANIMATION}Delay`),c=n(`${ANIMATION}Duration`),r=getTimeout(g,c);let o=null,A=0,S=0;t===TRANSITION?l>0&&(o=TRANSITION,A=l,S=f.length):t===ANIMATION?r>0&&(o=ANIMATION,A=r,S=c.length):(A=Math.max(l,r),o=A>0?l>r?TRANSITION:ANIMATION:null,S=o?o===TRANSITION?f.length:c.length:0);const E=o===TRANSITION&&/\b(transform|all)(,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:o,timeout:A,propCount:S,hasTransform:E}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,n)=>toMs(i)+toMs(e[n])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray(t)?i=>invokeArrayFns(t,i):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:i,number:n}},s){e._assign=getModelAssigner(s);const f=n||s.props&&s.props.type==="number";addEventListener(e,t?"change":"input",l=>{if(l.target.composing)return;let g=e.value;i&&(g=g.trim()),f&&(g=looseToNumber(g)),e._assign(g)}),i&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:n,number:s}},f){if(e._assign=getModelAssigner(f),e.composing||document.activeElement===e&&e.type!=="range"&&(i||n&&e.value.trim()===t||(s||e.type==="number")&&looseToNumber(e.value)===t))return;const l=t==null?"":t;e.value!==l&&(e.value=l)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(i=>e[`${i}Key`]&&!t.includes(i))},withModifiers=(e,t)=>(i,...n)=>{for(let s=0;s<t.length;s++){const f=modifierGuards[t[s]];if(f&&f(i,t))return}return e(i,...n)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>i=>{if(!("key"in i))return;const n=hyphenate(i.key);if(t.some(s=>s===n||keyNames[s]===n))return e(i)},vShow={beforeMount(e,{value:t},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:n}){!t!=!i&&(n?t?(n.beforeEnter(e),setDisplay(e,!0),n.enter(e)):n.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:i}=t;return t.mount=n=>{const s=normalizeContainer(n);if(!s)return;const f=t._component;!isFunction(f)&&!f.render&&!f.template&&(f.template=s.innerHTML),s.innerHTML="";const l=i(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t};function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const style$1="",style="",_hoisted_1$n={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_hoisted_2$l=createBaseVNode("g",{fill:"none","fill-rule":"evenodd"},[createBaseVNode("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),createBaseVNode("path",{fill:"currentColor",d:"M5.669 4.76a1.469 1.469 0 0 1 2.04-1.177c1.062.454 3.442 1.533 6.462 3.276c3.021 1.744 5.146 3.267 6.069 3.958c.788.591.79 1.763.001 2.356c-.914.687-3.013 2.19-6.07 3.956c-3.06 1.766-5.412 2.832-6.464 3.28c-.906.387-1.92-.2-2.038-1.177c-.138-1.142-.396-3.735-.396-7.237c0-3.5.257-6.092.396-7.235Z"})],-1),_hoisted_3$k=[_hoisted_2$l];function render$d(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$n,_hoisted_3$k)}const __unplugin_components_3$1={name:"mingcute-play-fill",render:render$d},_hoisted_1$m={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},_hoisted_2$k=createBaseVNode("path",{fill:"currentColor",d:"M5.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75A.75.75 0 0 0 7.25 3h-1.5Zm7 0a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75a.75.75 0 0 0-.75-.75h-1.5Z"},null,-1),_hoisted_3$j=[_hoisted_2$k];function render$c(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$m,_hoisted_3$j)}const __unplugin_components_2$1={name:"heroicons-pause20-solid",render:render$c},_hoisted_1$l=["onClick","onPointerdown","onPointermove","onPointerup"],frameRequest=null,_sfc_main$b=defineComponent({__name:"Slider",props:{modelValue:{type:Number,required:!0},position:{type:String,default:"horizontal",required:!1,validator:e=>["horizontal","vertical"].includes(e)}},emits:["update:modelValue","click","dragStart","dragMove","dragEnd"],setup(e,{emit:t}){const i=e,n=i.position==="vertical",s=ref(10);let f,l=null;const g=ref(!1),c=ref(null),r=computed({get(){return i.modelValue},set(v){t("update:modelValue",v)}});watch(r,v=>{s.value=v},{immediate:!0}),watch(s,v=>{r.value=v});const o=v=>{const{clientX:w,clientY:R}=v,{left:F,bottom:M,width:T,height:d}=c.value.getBoundingClientRect(),u=n?M-R:w-F,b=Math.max(0,Math.min(1,u/(n?d:T)));s.value=b,t("click",b)},A=v=>{const{pointerId:w,clientX:R,clientY:F}=v;l=n?F:R,c.value.setPointerCapture(w),t("dragStart",l)},S=()=>{if(!f||!g.value)return;const{width:v,height:w,left:R,bottom:F}=c.value.getBoundingClientRect(),M=n?w:v,T=n?F-f:f-R,d=Math.max(0,Math.min(1,T/M));s.value=d,t("dragMove",d),g.value=!1},E=v=>{if(!l||g.value)return;g.value=!0;const{clientX:w,clientY:R}=v;f=n?R:w,window.requestAnimationFrame(S)},_=v=>{c.value.releasePointerCapture(v.pointerId),l=null,f=null,g.value=!1,t("dragEnd",s.value)};return onBeforeUnmount(()=>{window.cancelAnimationFrame(frameRequest)}),(v,w)=>(openBlock(),createElementBlock("div",{ref_key:"wrapper",ref:c,class:normalizeClass(["flex items-center justify-center cursor-pointer",[n?"h-full w-3":"w-full h-3"]]),onClick:withModifiers(o,["prevent","stop"]),onPointerdown:withModifiers(A,["prevent","stop"]),onPointermove:withModifiers(E,["prevent","stop"]),onPointerup:withModifiers(_,["prevent","stop"])},[createBaseVNode("div",{class:normalizeClass(["bg-[#555] rounded-md relative z-10",[n?"h-full w-0.5":"w-full h-0.5 "]])},[createBaseVNode("div",{class:normalizeClass(["absolute bg-primary rounded-md",[n?"w-1 bottom-0 translate-x-1/2 right-1/2 ":"h-1 left-0 -translate-y-1/2 top-1/2"]]),style:normalizeStyle(`${n?"height":"width"}:  ${s.value*100}%`)},[createBaseVNode("div",{class:normalizeClass(["touch-none select-none cursor-pointer absolute w-3 h-3 rounded-full shadow-sm hover:scale-150 hover:shadow-md transition-all duration-75 ease-in bg-white",[n?"-translate-x-1/2 left-1/2 -translate-y-1/2":"right-0 top-1/2 -translate-y-1/2 translate-x-1/2 "]])},null,2)],6)],2)],42,_hoisted_1$l))}});function getAugmentedNamespace(e){var t=e.default;if(typeof t=="function"){var i=function(){return t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),i}var resolveConfig$2={},resolveConfig$1={},negateValue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i){if(i=`${i}`,i==="0")return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(i))return i.replace(/^[+-]?/,s=>s==="-"?"":"-");let n=["var","calc","min","max","clamp"];for(const s of n)if(i.includes(`${s}(`))return`calc(${i} * -1)`}})(negateValue);var corePluginList={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});const t=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","content"]})(corePluginList);var configurePlugins={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i,n){return i===void 0?n:Array.isArray(i)?i:[...new Set(n.filter(f=>i!==!1&&i[f]!==!1).concat(Object.keys(i).filter(f=>i[f]!==!1)))]}})(configurePlugins);var colors={},log={},picocolors_browser={exports:{}},x=String,create=function(){return{isColorSupported:!1,reset:x,bold:x,dim:x,italic:x,underline:x,inverse:x,hidden:x,strikethrough:x,black:x,red:x,green:x,yellow:x,blue:x,magenta:x,cyan:x,white:x,gray:x,bgBlack:x,bgRed:x,bgGreen:x,bgYellow:x,bgBlue:x,bgMagenta:x,bgCyan:x,bgWhite:x}};picocolors_browser.exports=create();picocolors_browser.exports.createColors=create;(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,r){for(var o in r)Object.defineProperty(c,o,{enumerable:!0,get:r[o]})}t(e,{dim:function(){return l},default:function(){return g}});const i=n(picocolors_browser.exports);function n(c){return c&&c.__esModule?c:{default:c}}let s=new Set;function f(c,r,o){typeof process<"u"&&{}.JEST_WORKER_ID||o&&s.has(o)||(o&&s.add(o),console.warn(""),r.forEach(A=>console.warn(c,"-",A)))}function l(c){return i.default.dim(c)}const g={info(c,r){f(i.default.bold(i.default.cyan("info")),...Array.isArray(c)?[c]:[r,c])},warn(c,r){f(i.default.bold(i.default.yellow("warn")),...Array.isArray(c)?[c]:[r,c])},risk(c,r){f(i.default.bold(i.default.magenta("risk")),...Array.isArray(c)?[c]:[r,c])}}})(log);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s}});const t=i(log);function i(f){return f&&f.__esModule?f:{default:f}}function n({version:f,from:l,to:g}){t.default.warn(`${l}-color-renamed`,[`As of Tailwind CSS ${f}, \`${l}\` has been renamed to \`${g}\`.`,"Update your configuration file to silence this warning."])}const s={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(colors);var defaults={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"defaults",{enumerable:!0,get:function(){return t}});function t(i,...n){for(let l of n){for(let g in l){var s;!(i==null||(s=i.hasOwnProperty)===null||s===void 0)&&s.call(i,g)||(i[g]=l[g])}for(let g of Object.getOwnPropertySymbols(l)){var f;!(i==null||(f=i.hasOwnProperty)===null||f===void 0)&&f.call(i,g)||(i[g]=l[g])}}return i}})(defaults);var toPath={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"toPath",{enumerable:!0,get:function(){return t}});function t(i){if(Array.isArray(i))return i;let n=i.split("[").length-1,s=i.split("]").length-1;if(n!==s)throw new Error(`Path is invalid. Has unbalanced brackets: ${i}`);return i.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}})(toPath);var normalizeConfig={},featureFlags={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(A,S){for(var E in S)Object.defineProperty(A,E,{enumerable:!0,get:S[E]})}t(e,{flagEnabled:function(){return g},issueFlagNotices:function(){return r},default:function(){return o}});const i=s(picocolors_browser.exports),n=s(log);function s(A){return A&&A.__esModule?A:{default:A}}let f={optimizeUniversalDefaults:!1,generalizedModifiers:!0,get disableColorOpacityUtilitiesByDefault(){return!1},get relativeContentPathsByDefault(){return!1}},l={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]};function g(A,S){if(l.future.includes(S)){var E,_,v;return A.future==="all"||((v=(_=A==null||(E=A.future)===null||E===void 0?void 0:E[S])!==null&&_!==void 0?_:f[S])!==null&&v!==void 0?v:!1)}if(l.experimental.includes(S)){var w,R,F;return A.experimental==="all"||((F=(R=A==null||(w=A.experimental)===null||w===void 0?void 0:w[S])!==null&&R!==void 0?R:f[S])!==null&&F!==void 0?F:!1)}return!1}function c(A){if(A.experimental==="all")return l.experimental;var S;return Object.keys((S=A==null?void 0:A.experimental)!==null&&S!==void 0?S:{}).filter(E=>l.experimental.includes(E)&&A.experimental[E])}function r(A){if({}.JEST_WORKER_ID===void 0&&c(A).length>0){let S=c(A).map(E=>i.default.yellow(E)).join(", ");n.default.warn("experimental-flags-enabled",[`You have enabled experimental features: ${S}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}const o=l})(featureFlags);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"normalizeConfig",{enumerable:!0,get:function(){return f}});const t=featureFlags,i=s(log);function n(l){if(typeof WeakMap!="function")return null;var g=new WeakMap,c=new WeakMap;return(n=function(r){return r?c:g})(l)}function s(l,g){if(!g&&l&&l.__esModule)return l;if(l===null||typeof l!="object"&&typeof l!="function")return{default:l};var c=n(g);if(c&&c.has(l))return c.get(l);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in l)if(A!=="default"&&Object.prototype.hasOwnProperty.call(l,A)){var S=o?Object.getOwnPropertyDescriptor(l,A):null;S&&(S.get||S.set)?Object.defineProperty(r,A,S):r[A]=l[A]}return r.default=l,c&&c.set(l,r),r}function f(l){if((()=>{if(l.purge||!l.content||!Array.isArray(l.content)&&!(typeof l.content=="object"&&l.content!==null))return!1;if(Array.isArray(l.content))return l.content.every(r=>typeof r=="string"?!0:!(typeof(r==null?void 0:r.raw)!="string"||(r==null?void 0:r.extension)&&typeof(r==null?void 0:r.extension)!="string"));if(typeof l.content=="object"&&l.content!==null){if(Object.keys(l.content).some(r=>!["files","relative","extract","transform"].includes(r)))return!1;if(Array.isArray(l.content.files)){if(!l.content.files.every(r=>typeof r=="string"?!0:!(typeof(r==null?void 0:r.raw)!="string"||(r==null?void 0:r.extension)&&typeof(r==null?void 0:r.extension)!="string")))return!1;if(typeof l.content.extract=="object"){for(let r of Object.values(l.content.extract))if(typeof r!="function")return!1}else if(!(l.content.extract===void 0||typeof l.content.extract=="function"))return!1;if(typeof l.content.transform=="object"){for(let r of Object.values(l.content.transform))if(typeof r!="function")return!1}else if(!(l.content.transform===void 0||typeof l.content.transform=="function"))return!1;if(typeof l.content.relative!="boolean"&&typeof l.content.relative<"u")return!1}return!0}return!1})()||i.default.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),l.safelist=(()=>{var r;let{content:o,purge:A,safelist:S}=l;return Array.isArray(S)?S:Array.isArray(o==null?void 0:o.safelist)?o.safelist:Array.isArray(A==null?void 0:A.safelist)?A.safelist:Array.isArray(A==null||(r=A.options)===null||r===void 0?void 0:r.safelist)?A.options.safelist:[]})(),l.blocklist=(()=>{let{blocklist:r}=l;if(Array.isArray(r)){if(r.every(o=>typeof o=="string"))return r;i.default.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),typeof l.prefix=="function")i.default.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),l.prefix="";else{var c;l.prefix=(c=l.prefix)!==null&&c!==void 0?c:""}l.content={relative:(()=>{let{content:r}=l;return r!=null&&r.relative?r.relative:(0,t.flagEnabled)(l,"relativeContentPathsByDefault")})(),files:(()=>{let{content:r,purge:o}=l;return Array.isArray(o)?o:Array.isArray(o==null?void 0:o.content)?o.content:Array.isArray(r)?r:Array.isArray(r==null?void 0:r.content)?r.content:Array.isArray(r==null?void 0:r.files)?r.files:[]})(),extract:(()=>{let r=(()=>{var S,E,_,v,w,R,F,M,T,d;return!((S=l.purge)===null||S===void 0)&&S.extract?l.purge.extract:!((E=l.content)===null||E===void 0)&&E.extract?l.content.extract:!((_=l.purge)===null||_===void 0||(v=_.extract)===null||v===void 0)&&v.DEFAULT?l.purge.extract.DEFAULT:!((w=l.content)===null||w===void 0||(R=w.extract)===null||R===void 0)&&R.DEFAULT?l.content.extract.DEFAULT:!((F=l.purge)===null||F===void 0||(M=F.options)===null||M===void 0)&&M.extractors?l.purge.options.extractors:!((T=l.content)===null||T===void 0||(d=T.options)===null||d===void 0)&&d.extractors?l.content.options.extractors:{}})(),o={},A=(()=>{var S,E,_,v;if(!((S=l.purge)===null||S===void 0||(E=S.options)===null||E===void 0)&&E.defaultExtractor)return l.purge.options.defaultExtractor;if(!((_=l.content)===null||_===void 0||(v=_.options)===null||v===void 0)&&v.defaultExtractor)return l.content.options.defaultExtractor})();if(A!==void 0&&(o.DEFAULT=A),typeof r=="function")o.DEFAULT=r;else if(Array.isArray(r))for(let{extensions:S,extractor:E}of r!=null?r:[])for(let _ of S)o[_]=E;else typeof r=="object"&&r!==null&&Object.assign(o,r);return o})(),transform:(()=>{let r=(()=>{var A,S,E,_,v,w;return!((A=l.purge)===null||A===void 0)&&A.transform?l.purge.transform:!((S=l.content)===null||S===void 0)&&S.transform?l.content.transform:!((E=l.purge)===null||E===void 0||(_=E.transform)===null||_===void 0)&&_.DEFAULT?l.purge.transform.DEFAULT:!((v=l.content)===null||v===void 0||(w=v.transform)===null||w===void 0)&&w.DEFAULT?l.content.transform.DEFAULT:{}})(),o={};return typeof r=="function"&&(o.DEFAULT=r),typeof r=="object"&&r!==null&&Object.assign(o,r),o})()};for(let r of l.content.files)if(typeof r=="string"&&/{([^,]*?)}/g.test(r)){i.default.warn("invalid-glob-braces",[`The glob pattern ${(0,i.dim)(r)} in your Tailwind CSS configuration is invalid.`,`Update it to ${(0,i.dim)(r.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return l}})(normalizeConfig);var isPlainObject={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i){if(Object.prototype.toString.call(i)!=="[object Object]")return!1;const n=Object.getPrototypeOf(i);return n===null||n===Object.prototype}})(isPlainObject);var cloneDeep={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cloneDeep",{enumerable:!0,get:function(){return t}});function t(i){return Array.isArray(i)?i.map(n=>t(n)):typeof i=="object"&&i!==null?Object.fromEntries(Object.entries(i).map(([n,s])=>[n,t(s)])):i}})(cloneDeep);var pluginUtils={},escapeCommas={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i){return i.replace(/\\,/g,"\\2c ")}})(escapeCommas);var withAlphaVariable={},color={},colorNames={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});const t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}})(colorNames);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(_,v){for(var w in v)Object.defineProperty(_,w,{enumerable:!0,get:v[w]})}t(e,{parseColor:function(){return S},formatColor:function(){return E}});const i=n(colorNames);function n(_){return _&&_.__esModule?_:{default:_}}let s=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,f=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,l=/(?:\d+|\d*\.\d+)%?/,g=/(?:\s*,\s*|\s+)/,c=/\s*[,/]\s*/,r=/var\(--(?:[^ )]*?)\)/,o=new RegExp(`^(rgba?)\\(\\s*(${l.source}|${r.source})(?:${g.source}(${l.source}|${r.source}))?(?:${g.source}(${l.source}|${r.source}))?(?:${c.source}(${l.source}|${r.source}))?\\s*\\)$`),A=new RegExp(`^(hsla?)\\(\\s*((?:${l.source})(?:deg|rad|grad|turn)?|${r.source})(?:${g.source}(${l.source}|${r.source}))?(?:${g.source}(${l.source}|${r.source}))?(?:${c.source}(${l.source}|${r.source}))?\\s*\\)$`);function S(_,{loose:v=!1}={}){var w,R;if(typeof _!="string")return null;if(_=_.trim(),_==="transparent")return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(_ in i.default)return{mode:"rgb",color:i.default[_].map(u=>u.toString())};let F=_.replace(f,(u,D,b,m,L)=>["#",D,D,b,b,m,m,L?L+L:""].join("")).match(s);if(F!==null)return{mode:"rgb",color:[parseInt(F[1],16),parseInt(F[2],16),parseInt(F[3],16)].map(u=>u.toString()),alpha:F[4]?(parseInt(F[4],16)/255).toString():void 0};var M;let T=(M=_.match(o))!==null&&M!==void 0?M:_.match(A);if(T===null)return null;let d=[T[2],T[3],T[4]].filter(Boolean).map(u=>u.toString());return d.length===2&&d[0].startsWith("var(")?{mode:T[1],color:[d[0]],alpha:d[1]}:!v&&d.length!==3||d.length<3&&!d.some(u=>/^var\(.*?\)$/.test(u))?null:{mode:T[1],color:d,alpha:(w=T[5])===null||w===void 0||(R=w.toString)===null||R===void 0?void 0:R.call(w)}}function E({mode:_,color:v,alpha:w}){let R=w!==void 0;return _==="rgba"||_==="hsla"?`${_}(${v.join(", ")}${R?`, ${w}`:""})`:`${_}(${v.join(" ")}${R?` / ${w}`:""})`}})(color);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(f,l){for(var g in l)Object.defineProperty(f,g,{enumerable:!0,get:l[g]})}t(e,{withAlphaValue:function(){return n},default:function(){return s}});const i=color;function n(f,l,g){if(typeof f=="function")return f({opacityValue:l});let c=(0,i.parseColor)(f,{loose:!0});return c===null?g:(0,i.formatColor)({...c,alpha:l})}function s({color:f,property:l,variable:g}){let c=[].concat(l);if(typeof f=="function")return{[g]:"1",...Object.fromEntries(c.map(o=>[o,f({opacityVariable:g,opacityValue:`var(${g})`})]))};const r=(0,i.parseColor)(f);return r===null?Object.fromEntries(c.map(o=>[o,f])):r.alpha!==void 0?Object.fromEntries(c.map(o=>[o,f])):{[g]:"1",...Object.fromEntries(c.map(o=>[o,(0,i.formatColor)({...r,alpha:`var(${g})`})]))}}})(withAlphaVariable);var dataTypes={},parseBoxShadowValue={},splitAtTopLevelOnly={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"splitAtTopLevelOnly",{enumerable:!0,get:function(){return t}});function t(i,n){let s=[],f=[],l=0,g=!1;for(let c=0;c<i.length;c++){let r=i[c];s.length===0&&r===n[0]&&!g&&(n.length===1||i.slice(c,c+n.length)===n)&&(f.push(i.slice(l,c)),l=c+n.length),g?g=!1:r==="\\"&&(g=!0),r==="("||r==="["||r==="{"?s.push(r):(r===")"&&s[s.length-1]==="("||r==="]"&&s[s.length-1]==="["||r==="}"&&s[s.length-1]==="{")&&s.pop()}return f.push(i.slice(l)),f}})(splitAtTopLevelOnly);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,r){for(var o in r)Object.defineProperty(c,o,{enumerable:!0,get:r[o]})}t(e,{parseBoxShadowValue:function(){return l},formatBoxShadowValue:function(){return g}});const i=splitAtTopLevelOnly;let n=new Set(["inset","inherit","initial","revert","unset"]),s=/\ +(?![^(]*\))/g,f=/^-?(\d+|\.\d+)(.*?)$/g;function l(c){return(0,i.splitAtTopLevelOnly)(c,",").map(o=>{let A=o.trim(),S={raw:A},E=A.split(s),_=new Set;for(let v of E)f.lastIndex=0,!_.has("KEYWORD")&&n.has(v)?(S.keyword=v,_.add("KEYWORD")):f.test(v)?_.has("X")?_.has("Y")?_.has("BLUR")?_.has("SPREAD")||(S.spread=v,_.add("SPREAD")):(S.blur=v,_.add("BLUR")):(S.y=v,_.add("Y")):(S.x=v,_.add("X")):S.color?(S.unknown||(S.unknown=[]),S.unknown.push(v)):S.color=v;return S.valid=S.x!==void 0&&S.y!==void 0,S})}function g(c){return c.map(r=>r.valid?[r.keyword,r.x,r.y,r.blur,r.spread,r.color].filter(Boolean).join(" "):r.raw).join(", ")}})(parseBoxShadowValue);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(j,P){for(var $ in P)Object.defineProperty(j,$,{enumerable:!0,get:P[$]})}t(e,{normalize:function(){return r},url:function(){return A},number:function(){return S},percentage:function(){return E},length:function(){return w},lineWidth:function(){return F},shadow:function(){return M},color:function(){return T},image:function(){return d},gradient:function(){return D},position:function(){return m},familyName:function(){return L},genericName:function(){return N},absoluteSize:function(){return I},relativeSize:function(){return Y}});const i=color,n=parseBoxShadowValue,s=splitAtTopLevelOnly;let f=["min","max","clamp","calc"];function l(j){return f.some(P=>new RegExp(`^${P}\\(.*\\)`).test(j))}const g="--tw-placeholder",c=new RegExp(g,"g");function r(j,P=!0){return j.startsWith("--")?`var(${j})`:j.includes("url(")?j.split(/(url\(.*?\))/g).filter(Boolean).map($=>/^url\(.*?\)$/.test($)?$:r($,!1)).join(""):(j=j.replace(/([^\\])_+/g,($,B)=>B+" ".repeat($.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),P&&(j=j.trim()),j=o(j),j)}function o(j){return j.replace(/(calc|min|max|clamp)\(.+\)/g,P=>{let $=[];return P.replace(/var\((--.+?)[,)]/g,(B,pe)=>($.push(pe),B.replace(pe,g))).replace(/(-?\d*\.?\d(?!\b-\d.+[,)](?![^+\-/*])\D)(?:%|[a-z]+)?|\))([+\-/*])/g,"$1 $2 ").replace(c,()=>$.shift())})}function A(j){return j.startsWith("url(")}function S(j){return!isNaN(Number(j))||l(j)}function E(j){return j.endsWith("%")&&S(j.slice(0,-1))||l(j)}let v=`(?:${["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","lh","rlh","vw","vh","vmin","vmax","vb","vi","svw","svh","lvw","lvh","dvw","dvh","cqw","cqh","cqi","cqb","cqmin","cqmax"].join("|")})`;function w(j){return j==="0"||new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${v}$`).test(j)||l(j)}let R=new Set(["thin","medium","thick"]);function F(j){return R.has(j)}function M(j){let P=(0,n.parseBoxShadowValue)(r(j));for(let $ of P)if(!$.valid)return!1;return!0}function T(j){let P=0;return(0,s.splitAtTopLevelOnly)(j,"_").every(B=>(B=r(B),B.startsWith("var(")?!0:(0,i.parseColor)(B,{loose:!0})!==null?(P++,!0):!1))?P>0:!1}function d(j){let P=0;return(0,s.splitAtTopLevelOnly)(j,",").every(B=>(B=r(B),B.startsWith("var(")?!0:A(B)||D(B)||["element(","image(","cross-fade(","image-set("].some(pe=>B.startsWith(pe))?(P++,!0):!1))?P>0:!1}let u=new Set(["conic-gradient","linear-gradient","radial-gradient","repeating-conic-gradient","repeating-linear-gradient","repeating-radial-gradient"]);function D(j){j=r(j);for(let P of u)if(j.startsWith(`${P}(`))return!0;return!1}let b=new Set(["center","top","right","bottom","left"]);function m(j){let P=0;return(0,s.splitAtTopLevelOnly)(j,"_").every(B=>(B=r(B),B.startsWith("var(")?!0:b.has(B)||w(B)||E(B)?(P++,!0):!1))?P>0:!1}function L(j){let P=0;return(0,s.splitAtTopLevelOnly)(j,",").every(B=>(B=r(B),B.startsWith("var(")?!0:B.includes(" ")&&!/(['"])([^"']+)\1/g.test(B)||/^\d/g.test(B)?!1:(P++,!0)))?P>0:!1}let C=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);function N(j){return C.has(j)}let q=new Set(["xx-small","x-small","small","medium","large","x-large","x-large","xxx-large"]);function I(j){return q.has(j)}let z=new Set(["larger","smaller"]);function Y(j){return z.has(j)}})(dataTypes);var validateFormalSyntax={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"backgroundSize",{enumerable:!0,get:function(){return n}});const t=dataTypes,i=splitAtTopLevelOnly;function n(s){let f=["cover","contain"];return(0,i.splitAtTopLevelOnly)(s,",").every(l=>{let g=(0,i.splitAtTopLevelOnly)(l,"_").filter(Boolean);return g.length===1&&f.includes(g[0])?!0:g.length!==1&&g.length!==2?!1:g.every(c=>(0,t.length)(c)||(0,t.percentage)(c)||c==="auto")})}})(validateFormalSyntax);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(m,L){for(var C in L)Object.defineProperty(m,C,{enumerable:!0,get:L[C]})}t(e,{updateAllClasses:function(){return r},asValue:function(){return S},parseColorFormat:function(){return v},asColor:function(){return R},asLookupValue:function(){return F},typeMap:function(){return T},coerceValue:function(){return D},getMatchingTypes:function(){return b}});const i=c(escapeCommas),n=withAlphaVariable,s=dataTypes,f=c(negateValue),l=validateFormalSyntax,g=featureFlags;function c(m){return m&&m.__esModule?m:{default:m}}function r(m,L){m.walkClasses(C=>{C.value=L(C.value),C.raws&&C.raws.value&&(C.raws.value=(0,i.default)(C.raws.value))})}function o(m,L){if(!E(m))return;let C=m.slice(1,-1);if(!!L(C))return(0,s.normalize)(C)}function A(m,L={},C){let N=L[m];if(N!==void 0)return(0,f.default)(N);if(E(m)){let q=o(m,C);return q===void 0?void 0:(0,f.default)(q)}}function S(m,L={},{validate:C=()=>!0}={}){var N;let q=(N=L.values)===null||N===void 0?void 0:N[m];return q!==void 0?q:L.supportsNegativeValues&&m.startsWith("-")?A(m.slice(1),L.values,C):o(m,C)}function E(m){return m.startsWith("[")&&m.endsWith("]")}function _(m){let L=m.lastIndexOf("/");return L===-1||L===m.length-1?[m,void 0]:E(m)&&!m.includes("]/[")?[m,void 0]:[m.slice(0,L),m.slice(L+1)]}function v(m){if(typeof m=="string"&&m.includes("<alpha-value>")){let L=m;return({opacityValue:C=1})=>L.replace("<alpha-value>",C)}return m}function w(m){return(0,s.normalize)(m.slice(1,-1))}function R(m,L={},{tailwindConfig:C={}}={}){var N;if(((N=L.values)===null||N===void 0?void 0:N[m])!==void 0){var q;return v((q=L.values)===null||q===void 0?void 0:q[m])}let[I,z]=_(m);if(z!==void 0){var Y,j,P,$;let B=($=(Y=L.values)===null||Y===void 0?void 0:Y[I])!==null&&$!==void 0?$:E(I)?I.slice(1,-1):void 0;return B===void 0?void 0:(B=v(B),E(z)?(0,n.withAlphaValue)(B,w(z)):((j=C.theme)===null||j===void 0||(P=j.opacity)===null||P===void 0?void 0:P[z])===void 0?void 0:(0,n.withAlphaValue)(B,C.theme.opacity[z]))}return S(m,L,{validate:s.color})}function F(m,L={}){var C;return(C=L.values)===null||C===void 0?void 0:C[m]}function M(m){return(L,C)=>S(L,C,{validate:m})}let T={any:S,color:R,url:M(s.url),image:M(s.image),length:M(s.length),percentage:M(s.percentage),position:M(s.position),lookup:F,"generic-name":M(s.genericName),"family-name":M(s.familyName),number:M(s.number),"line-width":M(s.lineWidth),"absolute-size":M(s.absoluteSize),"relative-size":M(s.relativeSize),shadow:M(s.shadow),size:M(l.backgroundSize)},d=Object.keys(T);function u(m,L){let C=m.indexOf(L);return C===-1?[void 0,m]:[m.slice(0,C),m.slice(C+1)]}function D(m,L,C,N){if(C.values&&L in C.values)for(let{type:I}of m!=null?m:[]){let z=T[I](L,C,{tailwindConfig:N});if(z!==void 0)return[z,I,null]}if(E(L)){let I=L.slice(1,-1),[z,Y]=u(I,":");if(!/^[\w-_]+$/g.test(z))Y=I;else if(z!==void 0&&!d.includes(z))return[];if(Y.length>0&&d.includes(z))return[S(`[${Y}]`,C),z,null]}let q=b(m,L,C,N);for(let I of q)return I;return[]}function*b(m,L,C,N){let q=(0,g.flagEnabled)(N,"generalizedModifiers"),[I,z]=_(L);if(q&&C.modifiers!=null&&(C.modifiers==="any"||typeof C.modifiers=="object"&&(z&&E(z)||z in C.modifiers))||(I=L,z=void 0),z!==void 0&&I===""&&(I="DEFAULT"),z!==void 0&&typeof C.modifiers=="object"){var j,P;let $=(P=(j=C.modifiers)===null||j===void 0?void 0:j[z])!==null&&P!==void 0?P:null;$!==null?z=$:E(z)&&(z=w(z))}for(let{type:$}of m!=null?m:[]){let B=T[$](I,C,{tailwindConfig:N});B!==void 0&&(yield[B,$,z!=null?z:null])}}})(pluginUtils);var toColorValue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i){return typeof i=="function"?i({}):i}})(toColorValue);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return C}});const t=E(negateValue),i=E(corePluginList),n=E(configurePlugins),s=E(colors),f=defaults,l=toPath,g=normalizeConfig,c=E(isPlainObject),r=cloneDeep,o=pluginUtils,A=withAlphaVariable,S=E(toColorValue);function E(N){return N&&N.__esModule?N:{default:N}}function _(N){return typeof N=="function"}function v(N,...q){let I=q.pop();for(let z of q)for(let Y in z){let j=I(N[Y],z[Y]);j===void 0?(0,c.default)(N[Y])&&(0,c.default)(z[Y])?N[Y]=v({},N[Y],z[Y],I):N[Y]=z[Y]:N[Y]=j}return N}const w={colors:s.default,negative(N){return Object.keys(N).filter(q=>N[q]!=="0").reduce((q,I)=>{let z=(0,t.default)(N[I]);return z!==void 0&&(q[`-${I}`]=z),q},{})},breakpoints(N){return Object.keys(N).filter(q=>typeof N[q]=="string").reduce((q,I)=>({...q,[`screen-${I}`]:N[I]}),{})}};function R(N,...q){return _(N)?N(...q):N}function F(N){return N.reduce((q,{extend:I})=>v(q,I,(z,Y)=>z===void 0?[Y]:Array.isArray(z)?[Y,...z]:[Y,z]),{})}function M(N){return{...N.reduce((q,I)=>(0,f.defaults)(q,I),{}),extend:F(N)}}function T(N,q){if(Array.isArray(N)&&(0,c.default)(N[0]))return N.concat(q);if(Array.isArray(q)&&(0,c.default)(q[0])&&(0,c.default)(N))return[N,...q];if(Array.isArray(q))return q}function d({extend:N,...q}){return v(q,N,(I,z)=>!_(I)&&!z.some(_)?v({},I,...z,T):(Y,j)=>v({},...[I,...z].map(P=>R(P,Y,j)),T))}function*u(N){let q=(0,l.toPath)(N);if(q.length===0||(yield q,Array.isArray(N)))return;let I=/^(.*?)\s*\/\s*([^/]+)$/,z=N.match(I);if(z!==null){let[,Y,j]=z,P=(0,l.toPath)(Y);P.alpha=j,yield P}}function D(N){const q=(I,z)=>{for(const Y of u(I)){let j=0,P=N;for(;P!=null&&j<Y.length;)P=P[Y[j++]],P=_(P)&&(Y.alpha===void 0||j<=Y.length-1)?P(q,w):P;if(P!==void 0){if(Y.alpha!==void 0){let $=(0,o.parseColorFormat)(P);return(0,A.withAlphaValue)($,Y.alpha,(0,S.default)($))}return(0,c.default)(P)?(0,r.cloneDeep)(P):P}}return z};return Object.assign(q,{theme:q,...w}),Object.keys(N).reduce((I,z)=>(I[z]=_(N[z])?N[z](q,w):N[z],I),{})}function b(N){let q=[];return N.forEach(I=>{q=[...q,I];var z;const Y=(z=I==null?void 0:I.plugins)!==null&&z!==void 0?z:[];Y.length!==0&&Y.forEach(j=>{j.__isOptionsFunction&&(j=j());var P;q=[...q,...b([(P=j==null?void 0:j.config)!==null&&P!==void 0?P:{}])]})}),q}function m(N){return[...N].reduceRight((I,z)=>_(z)?z({corePlugins:I}):(0,n.default)(z,I),i.default)}function L(N){return[...N].reduceRight((I,z)=>[...I,...z],[])}function C(N){let q=[...b(N),{prefix:"",important:!1,separator:":"}];var I,z;return(0,g.normalizeConfig)((0,f.defaults)({theme:D(d(M(q.map(Y=>(I=Y==null?void 0:Y.theme)!==null&&I!==void 0?I:{})))),corePlugins:m(q.map(Y=>Y.corePlugins)),plugins:L(N.map(Y=>(z=Y==null?void 0:Y.plugins)!==null&&z!==void 0?z:[]))},...q))}})(resolveConfig$1);var getAllConfigs={},config_full={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:e})=>({...e("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:e})=>e("blur"),backdropBrightness:({theme:e})=>e("brightness"),backdropContrast:({theme:e})=>e("contrast"),backdropGrayscale:({theme:e})=>e("grayscale"),backdropHueRotate:({theme:e})=>e("hueRotate"),backdropInvert:({theme:e})=>e("invert"),backdropOpacity:({theme:e})=>e("opacity"),backdropSaturate:({theme:e})=>e("saturate"),backdropSepia:({theme:e})=>e("sepia"),backgroundColor:({theme:e})=>e("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:e})=>e("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"0",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:e})=>({...e("colors"),DEFAULT:e("colors.gray.200","currentColor")}),borderOpacity:({theme:e})=>e("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:e})=>({...e("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:e})=>e("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:e})=>e("colors"),colors:({colors:e})=>({inherit:e.inherit,current:e.current,transparent:e.transparent,black:e.black,white:e.white,slate:e.slate,gray:e.gray,zinc:e.zinc,neutral:e.neutral,stone:e.stone,red:e.red,orange:e.orange,amber:e.amber,yellow:e.yellow,lime:e.lime,green:e.green,emerald:e.emerald,teal:e.teal,cyan:e.cyan,sky:e.sky,blue:e.blue,indigo:e.indigo,violet:e.violet,purple:e.purple,fuchsia:e.fuchsia,pink:e.pink,rose:e.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:e})=>e("borderColor"),divideOpacity:({theme:e})=>e("borderOpacity"),divideWidth:({theme:e})=>e("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:e})=>({none:"none",...e("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:e})=>e("spacing"),gradientColorStops:({theme:e})=>e("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7"},gridTemplateColumns:{none:"none",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))"},height:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:e})=>({auto:"auto",...e("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:e})=>({...e("spacing"),none:"none",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:e,breakpoints:t})=>({none:"none",0:"0rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...t(e("screens"))}),minHeight:{0:"0px",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"},minWidth:{0:"0px",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"},objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",20:"0.2",25:"0.25",30:"0.3",40:"0.4",50:"0.5",60:"0.6",70:"0.7",75:"0.75",80:"0.8",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:e})=>e("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:e})=>e("spacing"),placeholderColor:({theme:e})=>e("colors"),placeholderOpacity:({theme:e})=>e("opacity"),ringColor:({theme:e})=>({DEFAULT:e("colors.blue.500","#3b82f6"),...e("colors")}),ringOffsetColor:({theme:e})=>e("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:e})=>({DEFAULT:"0.5",...e("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:e})=>({...e("spacing")}),scrollPadding:({theme:e})=>e("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:e})=>({...e("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:e})=>({none:"none",...e("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:e})=>e("colors"),textDecorationColor:({theme:e})=>e("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:e})=>({...e("spacing")}),textOpacity:({theme:e})=>e("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:e})=>({...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),width:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s}});const t=n(config_full),i=featureFlags;function n(f){return f&&f.__esModule?f:{default:f}}function s(f){var l;const g=((l=f==null?void 0:f.presets)!==null&&l!==void 0?l:[t.default]).slice().reverse().flatMap(o=>s(o instanceof Function?o():o)),c={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:o})=>({DEFAULT:"#3b82f67f",...o("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},r=Object.keys(c).filter(o=>(0,i.flagEnabled)(f,o)).map(o=>c[o]);return[f,...r,...g]}})(getAllConfigs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s}});const t=n(resolveConfig$1),i=n(getAllConfigs);function n(f){return f&&f.__esModule?f:{default:f}}function s(...f){let[,...l]=(0,i.default)(f[0]);return(0,t.default)([...f,...l])}})(resolveConfig$2);let resolveConfig=resolveConfig$2;var resolveConfig_1=(resolveConfig.__esModule?resolveConfig:{default:resolveConfig}).default,defaultTheme$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s}});const t=cloneDeep,i=n(config_full);function n(f){return f&&f.__esModule?f:{default:f}}const s=(0,t.cloneDeep)(i.default.theme)})(defaultTheme$1);let defaultTheme=defaultTheme$1;var defaultTheme_1=(defaultTheme.__esModule?defaultTheme:{default:defaultTheme}).default;const tailwindConfig={darkMode:"class",content:["./index.html","./src/**/*.{vue,js,ts,jsx,tsx}"],theme:{extend:{fontFamily:{sans:["Ubuntu",...defaultTheme_1.fontFamily.sans]},colors:{primary:"#3759FB"},animation:{blob:"blob 7s infinite"},keyframes:{blob:{"0%":{transform:"translate(0px, 0px) scale(1)"},"33%":{transform:"translate(40px, -20px) scale(1.2)"},"66%":{transform:"translate(-10px, 10px) scale(0.8)"},"100%":{transform:"tranlate(0px, 0px) scale(1)"}}}}},plugins:[]},_sfc_main$a=defineComponent({__name:"WaveForm",props:{url:{type:String,required:!0},currentProgress:{type:Number,required:!0},show:Boolean,isPlaying:Boolean,isDragging:Boolean},setup(e){const t=e,i={height:88,barWidth:4,barGap:4,barRadius:3,barHeight:3,minPxPerSec:100,fillParent:!0,sampleRate:8e3};let n=null;const s=ref(null),f=ref(null),l=ref(null),g=ref(null),c=ref(null);let r=[],o=null,A=!1;const S=resolveConfig_1(tailwindConfig),E=()=>{!t.isDragging||(u(t.currentProgress),window.requestAnimationFrame(E))};watch(()=>[t.isDragging],()=>{window.requestAnimationFrame(E)});const _=(D=10)=>{const b={};return r.push(b),m=>{b.timeout&&clearTimeout(b.timeout),b.timeout=setTimeout(m,D)}},v=(D,b,m)=>{const L=document.createElement("div");L.style.height=`${b.height}px`,g.value.appendChild(L);const C=L.cloneNode();c.value.appendChild(C);const N=4e3,{scrollLeft:q,scrollWidth:I,clientWidth:z}=f.value,Y=D[0].length,j=Y/I,P=Math.min(N,z),$=Math.floor(Math.abs(q)*j),B=Math.ceil($+P*j),pe=B-$,Ae=(se,Q)=>{w(D,b,m,Math.max(0,se),Math.min(Q,Y),L,C)},U=_(),y=_(),k=(se,Q)=>{Ae(se,Q),se>0&&U(()=>{k(se-pe,Q-pe)})},H=(se,Q)=>{Ae(se,Q),Q<Y&&y(()=>{H(se+pe,Q+pe)})};k($,B),B<Y&&H(B,B+pe)},w=(D,b,m,L,C,N,q)=>{const I=window.devicePixelRatio||1,z=b.height||0,Y=b.barWidth!=null&&!isNaN(b.barWidth)?b.barWidth*I:1,j=b.barGap!=null&&!isNaN(b.barGap)?b.barGap*I:b.barWidth?Y/2:0,P=b.barRadius||0,$=b.barHeight||1,B=D.length===1,pe=D[0],Ae=B?pe:D[1],U=B&&Ae.some(Z=>Z<0),y=pe.length,H=Math.floor(m/(Y+j))/y,se=z/2;let Q=0,de=0,ge=0;const ye=document.createElement("canvas");ye.width=Math.round(m*(C-L)/y),ye.height=z,ye.style.width=`${Math.floor(ye.width/I)}px`,ye.style.height=`${b.height}px`,ye.style.left=`${Math.floor(L*m/I/y)}px`,N.appendChild(ye);const W=ye.getContext("2d",{desynchronized:!0});W.beginPath(),W.fillStyle=b.waveColor,W.roundRect||(W.roundRect=W.fillRect);for(let Z=L;Z<C;Z++){const ue=Math.round((Z-L)*H);if(ue>Q){const Pe=Math.round(de*se*$),Se=Math.round(ge*se*$),we=Pe+(Se||1);W.roundRect(Q*(Y+j),z-we,Y,we,P),Q=ue,de=0,ge=0}const _e=U?pe[Z]:Math.abs(pe[Z]),Ee=U?Ae[Z]:Math.abs(Ae[Z]);_e>de&&(de=_e),(U?Ee<-ge:Ee>ge)&&(ge=Ee<0?-Ee:Ee)}W.fill(),W.closePath();const J=ye.cloneNode();q.appendChild(J);const ce=J.getContext("2d",{desynchronized:!0});ye.width>0&&ye.height>0&&ce.drawImage(ye,0,0),ce.globalCompositeOperation="source-in",ce.fillStyle=b.progressColor,ce.fillRect(0,0,ye.width,ye.height)},R=async D=>fetch(D).then(b=>b.arrayBuffer()),F=(D,b)=>{const m=new AudioContext({sampleRate:b}),L=m.decodeAudioData(D);return L.finally(()=>m.close()),L},M=async D=>{const m=await R(D);o=await F(m,8e3)},T=D=>{r.forEach(I=>I.timeout&&clearTimeout(I.timeout)),r=[];const b=window.devicePixelRatio||1,m=f.value.clientWidth,L=Math.ceil(D.duration*(n.minPxPerSec||0));A=L>m;const C=n.fillParent&&!A,N=(C?m:L)*b;l.value.style.width=C?"100%":`${L}px`;const q=[D.getChannelData(0)];D.numberOfChannels>1&&q.push(D.getChannelData(1)),v(q,n,N)},d=D=>{const{clientWidth:b,scrollWidth:m}=f.value,L=m*D,C=b*D;f.value.scrollLeft=L-C},u=D=>{isNaN(D)||(c.value.style.width=`${D*100}%`,A&&d(D))};return onMounted(async()=>{await M(t.url),n=Object.assign({},i,{container:s.value,waveColor:"#555",progressColor:S.theme.colors.primary}),T(o)}),(D,b)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:s,class:"waveform scale-x-105 relative"},[createBaseVNode("div",{ref_key:"scrollContainer",ref:f,class:"scroll"},[createBaseVNode("div",{ref_key:"wrapper",ref:l,class:normalizeClass(["wrapper",{"is-open":e.show}])},[createBaseVNode("div",{ref_key:"canvasWrapper",ref:g,class:"canvases"},null,512),createBaseVNode("div",{ref_key:"progressWrapper",ref:c,class:"progress"},null,512)],2)],512)],512))}}),WaveForm_vue_vue_type_style_index_0_lang="",_hoisted_1$k={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_hoisted_2$j=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.51 6.303c-.255-1.466-1.932-2.065-3.083-1.25L7.94 6.817A1 1 0 0 1 7.363 7H5a3 3 0 0 0-3 3v4a3 3 0 0 0 3 3h2.363a1 1 0 0 1 .578.184l2.486 1.762c1.15.816 2.828.217 3.083-1.25c.322-1.85.49-3.754.49-5.696c0-1.942-.168-3.845-.49-5.697Zm8.288 1.598a1 1 0 0 0-1.99.198a39.469 39.469 0 0 1 0 7.802a1 1 0 1 0 1.99.198a41.471 41.471 0 0 0 0-8.198Zm-3.925 1.017a1 1 0 1 0-1.993.164a35.506 35.506 0 0 1 0 5.836a1 1 0 0 0 1.993.164a37.465 37.465 0 0 0 0-6.164Z","clip-rule":"evenodd"},null,-1),_hoisted_3$i=[_hoisted_2$j];function render$b(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$k,_hoisted_3$i)}const IIconamoonVolumeUpFill={name:"iconamoon-volume-up-fill",render:render$b},_hoisted_1$j={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_hoisted_2$i=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.427 5.054c1.15-.816 2.828-.217 3.083 1.25c.322 1.85.49 3.754.49 5.696c0 1.942-.168 3.845-.49 5.697c-.255 1.466-1.932 2.065-3.083 1.25L7.94 17.183A1 1 0 0 0 7.363 17H5a3 3 0 0 1-3-3v-4a3 3 0 0 1 3-3h2.363a1 1 0 0 0 .578-.184l2.486-1.762Zm7.446 3.864a1 1 0 1 0-1.993.164a35.506 35.506 0 0 1 0 5.836a1 1 0 0 0 1.993.164a37.465 37.465 0 0 0 0-6.164Z","clip-rule":"evenodd"},null,-1),_hoisted_3$h=[_hoisted_2$i];function render$a(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$j,_hoisted_3$h)}const IIconamoonVolumeDownFill={name:"iconamoon-volume-down-fill",render:render$a},_hoisted_1$i={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_hoisted_2$h=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.427 5.054c1.15-.816 2.828-.217 3.083 1.25c.322 1.85.49 3.754.49 5.696c0 1.942-.168 3.845-.49 5.697c-.255 1.466-1.932 2.065-3.083 1.25L7.94 17.183A1 1 0 0 0 7.363 17H5a3 3 0 0 1-3-3v-4a3 3 0 0 1 3-3h2.363a1 1 0 0 0 .578-.184l2.486-1.762Zm7.28 4.239a1 1 0 0 0-1.414 1.414L17.586 12l-1.293 1.293a1 1 0 0 0 1.414 1.414L19 13.414l1.293 1.293a1 1 0 0 0 1.414-1.414L20.414 12l1.293-1.293a1 1 0 0 0-1.414-1.414L19 10.586l-1.293-1.293Z","clip-rule":"evenodd"},null,-1),_hoisted_3$g=[_hoisted_2$h];function render$9(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$i,_hoisted_3$g)}const IIconamoonVolumeOffFill={name:"iconamoon-volume-off-fill",render:render$9},_withScopeId$1=e=>(pushScopeId("data-v-37959e26"),e=e(),popScopeId(),e),_hoisted_1$h={class:"relative bg-[#161b22] w-full h-screen flex items-center justify-center z-10"},_hoisted_2$g=_withScopeId$1(()=>createBaseVNode("div",{class:"mask"},null,-1)),_hoisted_3$f={class:"max-w-lg w-full backdrop-blur-3xl bg-black/10 rounded-md p-4 shadow-lg border border-[#ffa3b80d]"},_hoisted_4$6={key:0,class:"absolute z-20 w-full h-full backdrop-blur bg-black/80 inset-0 flex items-center justify-center rounded-md"},_hoisted_5$2={class:"text-lg text-center text-medium text-pink-700"},_hoisted_6$2=["src"],_hoisted_7$2={class:"audio-controls"},_hoisted_8$2={class:"progress-container w-full"},_hoisted_9$2={class:"flex justify-between text-white/80 font-semibold text-sm pt-1 select-none"},_hoisted_10$2={class:"my-0.5"},_hoisted_11$1={class:"flex items-center justify-center text-white w-full relative"},_hoisted_12$1=_withScopeId$1(()=>createBaseVNode("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",fill:"none","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"h-6 w-6"},[createBaseVNode("path",{d:"M8 5L5 8M5 8L8 11M5 8H13.5C16.5376 8 19 10.4624 19 13.5C19 15.4826 18.148 17.2202 17 18.188"}),createBaseVNode("path",{d:"M5 15V19"}),createBaseVNode("path",{d:"M8 18V16C8 15.4477 8.44772 15 9 15H10C10.5523 15 11 15.4477 11 16V18C11 18.5523 10.5523 19 10 19H9C8.44772 19 8 18.5523 8 18Z"})],-1)),_hoisted_13$1=[_hoisted_12$1],_hoisted_14$1={class:"flex items-center justify-center w-16 h-16 p-2"},_hoisted_15$1=["title"],_hoisted_16$1=_withScopeId$1(()=>createBaseVNode("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",class:"h-6 w-6"},[createBaseVNode("path",{d:"M16 5L19 8M19 8L16 11M19 8H10.5C7.46243 8 5 10.4624 5 13.5C5 15.4826 5.85204 17.2202 7 18.188","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M13 15V19","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M16 18V16C16 15.4477 16.4477 15 17 15H18C18.5523 15 19 15.4477 19 16V18C19 18.5523 18.5523 19 18 19H17C16.4477 19 16 18.5523 16 18Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),_hoisted_17$1=[_hoisted_16$1],_hoisted_18$1={class:"absolute inset-y-0 right-0 flex items-center"},_hoisted_19$1=["onClick"],_hoisted_20$1={key:0},_hoisted_21$1={key:1},_hoisted_22$1={key:2},_hoisted_23$1=_withScopeId$1(()=>createBaseVNode("p",null,"x",-1)),_hoisted_24$1=["title","onClick"],_hoisted_25$1={class:"volume__menu opacity-0 w-fit invisible absolute transition-all duration-500 ease-linear bottom-full pb-2 -translate-x-1/2 left-1/2"},_hoisted_26$1={class:"bg-[#171e3d] w-full h-36 p-3 py-6 rounded shadow flex items-center justify-center border border-black/10"},_sfc_main$9=defineComponent({__name:"AudioComponent",props:{url:{type:String,required:!0},loading:Boolean},setup(e){const t=ref(null),i=ref(null),n=ref(null),s=ref(!1),f=ref(0),l=ref(0),g=ref(0),c=ref(1),r=ref(null),o=ref(1),A=ref(!1),S=ref(!1),E=ref(null);watch(c,$=>{n.value.volume=$});const _=$=>{const B=`${parseInt(`${$%60}`,10)}`.padStart(2,"0");return`${parseInt(`${$/60%60}`,10)}:${B}`},v=async()=>{t.value.state==="suspended"&&await t.value.resume(),s.value?n.value.pause():n.value.play()},w=$=>{n.value.currentTime=$},R=$=>{w(n.value.currentTime-$)},F=$=>{w(n.value.currentTime+$)},M=()=>{n.value.pause(),s.value&&(A.value=!0)},T=$=>{S.value=!0,f.value=$*l.value},d=$=>{S.value=!1,w($*l.value),A.value&&n.value.play(),A.value=!1},u=$=>{w($*l.value)},D=$=>{n.value.playbackRate=$,o.value=$},b=()=>{const $=n.value.playbackRate;D($===1?1.5:$===1.5?2:1)},m=()=>{var $;c.value>0?(r.value=c.value,c.value=0):c.value=($=r.value)!=null?$:50},L=()=>{l.value=n.value.duration},C=()=>{throw i.value=n.value.error.message,new Error(i.value)},N=()=>{f.value=n.value.currentTime,g.value=f.value/l.value},q=()=>{s.value=!0},I=()=>{s.value=!1},z=()=>{s.value=!1},Y=$=>{switch($.key.toLowerCase()){case"m":m();break;case"k":case" ":v();break;case"j":case"arrowleft":R(10);break;case"l":case"arrowright":F(10);break;case">":b();break}},j=()=>{const $=n.value;$.addEventListener("loadedmetadata",L),$.addEventListener("error",C),$.addEventListener("timeupdate",N),$.addEventListener("play",q),$.addEventListener("pause",I),$.addEventListener("ended",z),window.addEventListener("keydown",Y)},P=()=>{const $=n.value;$.removeEventListener("loadedmetadata",L),$.removeEventListener("error",C),$.removeEventListener("timeupdate",N),$.removeEventListener("play",q),$.removeEventListener("pause",I),$.removeEventListener("ended",z),window.removeEventListener("keydown",Y)};return onMounted(async()=>{j(),t.value=new AudioContext}),onBeforeUnmount(()=>{P()}),($,B)=>{const pe=_sfc_main$a,Ae=_sfc_main$b,U=__unplugin_components_2$1,y=__unplugin_components_3$1;return openBlock(),createElementBlock("div",_hoisted_1$h,[_hoisted_2$g,createBaseVNode("div",{ref_key:"shineRef",ref:E,class:normalizeClass(["absolute bg-[#939aff] blur-[180px] will-change-transform mix-blend-overlay rounded-[300px] pointer-events-none -z-10 top-0 w-[80rem] h-[80rem]",{"animate-blob":s.value}]),style:{"animation-delay":"2s"}},null,2),createBaseVNode("div",_hoisted_3$f,[i.value?(openBlock(),createElementBlock("div",_hoisted_4$6,[createBaseVNode("p",_hoisted_5$2,toDisplayString(i.value),1)])):createCommentVNode("",!0),createBaseVNode("audio",{ref_key:"audio",ref:n,src:e.url},null,8,_hoisted_6$2),createBaseVNode("div",_hoisted_7$2,[createBaseVNode("div",_hoisted_8$2,[createVNode(pe,{url:e.url,show:S.value,"current-progress":g.value,"is-playing":s.value,"is-dragging":S.value},null,8,["url","show","current-progress","is-playing","is-dragging"]),createVNode(Ae,{modelValue:g.value,"onUpdate:modelValue":B[0]||(B[0]=k=>g.value=k),"is-playing":s.value,onDragStart:M,onDragMove:T,onDragEnd:d,onClick:u},null,8,["modelValue","is-playing"]),createBaseVNode("div",_hoisted_9$2,[createBaseVNode("p",null,toDisplayString(_(f.value)),1),createBaseVNode("p",null,toDisplayString(_(l.value)),1)])]),createBaseVNode("div",_hoisted_10$2,[createBaseVNode("div",_hoisted_11$1,[createBaseVNode("button",{class:"transition-all duration-75 ease-in active:scale-95 stroke-slate-300 hover:stroke-slate-50 px-4 outline-none",title:"Rewind by 10 seconds [j]",onClick:B[1]||(B[1]=k=>R(10))},_hoisted_13$1),createBaseVNode("div",_hoisted_14$1,[createBaseVNode("button",{class:normalizeClass(["rounded-full p-3 transition-all duration-75 ease-in active:scale-95 outline-none",[s.value?"scale-125 bg-black text-white hover:bg-primary":"bg-white text-black hover:bg-primary hover:text-white "]]),title:s.value?"Pause [k]":"Play [k]",onClick:v},[s.value?(openBlock(),createBlock(U,{key:0,class:"w-6 h-6"})):(openBlock(),createBlock(y,{key:1,class:"w-5 h-5"}))],10,_hoisted_15$1)]),createBaseVNode("button",{class:"transition-all duration-75 ease-in active:scale-95 stroke-slate-300 hover:stroke-slate-50 px-4 outline-none",title:"Forward by 10 seconds [l]",onClick:B[2]||(B[2]=k=>F(10))},_hoisted_17$1),createBaseVNode("div",_hoisted_18$1,[createBaseVNode("button",{class:"relative transition-colors duration-75 ease-in hover:text-gray-100 z-40 select-none mr-4 outline-none",title:"Change playback rate [>]",onClick:withModifiers(b,["prevent","stop"])},[createBaseVNode("div",{class:normalizeClass(["flex text-xs font-bold",[o.value!==1?"text-white":"text-white/50"]])},[createVNode(Transition,{name:"slide-up",mode:"out-in"},{default:withCtx(()=>[o.value===1?(openBlock(),createElementBlock("p",_hoisted_20$1,"1")):o.value===1.5?(openBlock(),createElementBlock("p",_hoisted_21$1,"1.5")):o.value===2?(openBlock(),createElementBlock("p",_hoisted_22$1,"2")):createCommentVNode("",!0)]),_:1}),_hoisted_23$1],2)],8,_hoisted_19$1),createBaseVNode("button",{class:"volume__button relative transition-colors duration-75 ease-in hover:text-gray-100 z-40 text-white/50 outline-none",title:c.value===0?"unmute [m]":"mute [m]",onClick:withModifiers(m,["prevent","stop"])},[c.value>.5?(openBlock(),createBlock(unref(IIconamoonVolumeUpFill),{key:0})):c.value<.5&&c.value>0?(openBlock(),createBlock(unref(IIconamoonVolumeDownFill),{key:1})):(openBlock(),createBlock(unref(IIconamoonVolumeOffFill),{key:2})),createBaseVNode("div",_hoisted_25$1,[createBaseVNode("div",_hoisted_26$1,[createVNode(Ae,{modelValue:c.value,"onUpdate:modelValue":B[3]||(B[3]=k=>c.value=k),position:"vertical",class:"slider"},null,8,["modelValue"])])])],8,_hoisted_24$1)])])])])])])}}}),AudioComponent_vue_vue_type_style_index_0_scoped_37959e26_lang="",_export_sfc=(e,t)=>{const i=e.__vccOpts||e;for(const[n,s]of t)i[n]=s;return i},__unplugin_components_0$3=_export_sfc(_sfc_main$9,[["__scopeId","data-v-37959e26"]]),VideoComponent_vue_vue_type_style_index_0_lang="",_sfc_main$8={name:"VideoComponent",props:["setIsOpen","isBlackTheme","url","top","right","type","typeOfContent","width","height","videoWidth","videoHeight"],data(){return{isActive:!1,isPlayBtn:!0,speedValue:1,handleId:"handle-id"}},computed:{player(){return this.$refs.videoElem},progressBar(){return this.$refs.progressBar}},mounted(){["timeupdate","volumechange","seeked","loadedmetadata"].map(t=>{this.$refs.videoElem.addEventListener(t,()=>{this.$forceUpdate()})}),this.$refs.videoElem.addEventListener("loadedmetadata",()=>{this.$refs.videoElem.volume=0,this.$forceUpdate()})},methods:{playPauseVideo(){this.player.paused||this.player.ended?(this.isPlayBtn=!1,this.player.play()):(this.player.pause(),this.isPlayBtn=!0)},endedVideo(){this.isPlayBtn=!0},progressPercentage(){return this.currentTime()/this.duration()*100},skipVideo(e){const t=e.currentTarget.getBoundingClientRect().left,n=(e.clientX-t)/e.currentTarget.getBoundingClientRect().width*100,s=this.duration()/100*n;this.$refs.videoElem.currentTime=s},updateProgressBar(){const e=Math.floor(100/this.player.duration*this.player.currentTime);this.progressBar.value=e,this.progressBar.innerHTML=`${e}% played`},resetPlayer(){this.player.currentTime=0},toEndVideo(){this.player.currentTime=this.player.duration},toPreviousFrame(){this.player.currentTime=this.player.currentTime-1},toNextFrame(){this.player.currentTime=this.player.currentTime+1},replayVideo(){this.isActive=!this.isActive,this.isActive?this.player.loop=!0:this.player.loop=!1},currentTime(){var e;return((e=this.$refs.videoElem)==null?void 0:e.currentTime)||0},duration(){var e;return((e=this.$refs.videoElem)==null?void 0:e.duration)||0},formatTime(e){if(!e||!parseInt(e))return"00:00";let t,i,n;return i=Math.floor(e/60%60),n=Math.floor(e%60),t=Math.floor(e/60/60),i<10&&(i=`0${i}`),n<10&&(n=`0${n}`),`${t?`${t}:`:""}${i}:${n}`},speedUp(e){e===.5&&(this.player.playbackRate=.5),e===1&&(this.player.playbackRate=1),e===2&&(this.player.playbackRate=2),e===4&&(this.player.playbackRate=4),e>4&&(this.player.playbackRate=.5)},changeSpeed(){this.speedValue<4?(this.speedValue*=2,this.speedUp(this.speedValue)):(this.speedValue=.5,this.speedUp(this.speedValue))}}},_hoisted_1$g={class:"video-box"},_hoisted_2$f=["src","type"],_hoisted_3$e={id:"controls"},_hoisted_4$5={class:"counters"},_hoisted_5$1={class:"currentTime"},_hoisted_6$1={class:"totalTime"},_hoisted_7$1={id:"progress-bar",ref:"progressBar",class:"progressBar",max:"100",min:"0",value:"0"},_hoisted_8$1={class:"row"},_hoisted_9$1={class:"wrap"},_hoisted_10$1={class:"buttons"};function _sfc_render(e,t,i,n,s,f){return openBlock(),createElementBlock("div",{id:"player",ref:s.handleId},[createBaseVNode("div",_hoisted_1$g,[createBaseVNode("video",{id:"video-element",ref:"videoElem",class:"videoContainer",onEnded:t[0]||(t[0]=l=>f.endedVideo()),onTimeupdate:t[1]||(t[1]=l=>f.updateProgressBar())},[createBaseVNode("source",{src:i.url,type:i.type},null,8,_hoisted_2$f)],544)]),createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("div",_hoisted_5$1,toDisplayString(f.formatTime(f.currentTime())),1),createBaseVNode("div",_hoisted_6$1,toDisplayString(f.formatTime(f.duration())),1)]),createBaseVNode("div",{class:"wrapperProgressbar",onClick:t[2]||(t[2]=l=>f.skipVideo(l))},[createBaseVNode("progress",_hoisted_7$1," 0% played ",512)]),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,[createBaseVNode("button",{id:"btnReplay",class:normalizeClass([{active:s.isActive},"icon-dl-replay btnReplay"]),onClick:t[3]||(t[3]=l=>f.replayVideo())},null,2),createBaseVNode("span",{onClick:t[4]||(t[4]=l=>f.changeSpeed())},"x"+toDisplayString(s.speedValue),1)]),createBaseVNode("div",_hoisted_10$1,[createBaseVNode("button",{id:"btnStart",class:"icon-dl-back",onClick:t[5]||(t[5]=l=>f.resetPlayer())}),createBaseVNode("button",{id:"btnPrevious",class:"icon-dl-back-frame",onClick:t[6]||(t[6]=l=>f.toPreviousFrame())}),s.isPlayBtn?(openBlock(),createElementBlock("button",{key:0,id:"btnPlay",class:"icon-dl-play",onClick:t[7]||(t[7]=l=>f.playPauseVideo())})):(openBlock(),createElementBlock("button",{key:1,id:"btnPause",class:"icon-dl-pause",onClick:t[8]||(t[8]=l=>f.playPauseVideo())})),createBaseVNode("button",{id:"btnNext",class:"icon-dl-next-frame",onClick:t[9]||(t[9]=l=>f.toNextFrame())}),createBaseVNode("button",{id:"btnEnd",class:"icon-dl-next",onClick:t[10]||(t[10]=l=>f.toEndVideo())})])])])],512)}const VideoComponent=_export_sfc(_sfc_main$8,[["render",_sfc_render]]),_hoisted_1$f={key:0,class:"imageContainer"},_hoisted_2$e=["src"],_hoisted_3$d={key:1,class:"content"},_sfc_main$7=defineComponent({__name:"ImageComponent",props:["setIsOpen","isBlackTheme","url","loading","top","right","width","height","imgWidth","imgHeight"],setup(e){const t=ref(!1),i=ref(),n=reactive({x:0,y:0,scale:1});let s={x:0,y:0};const f=r=>{r.preventDefault(),i.value&&(i.value.style.cursor="grabbing"),s.x=r.clientX-n.x,s.y=r.clientY-n.y,t.value=!0},l=r=>{r.preventDefault(),i.value&&(i.value.style.cursor="grab"),t.value=!1},g=r=>{r.preventDefault(),t.value&&(n.x=r.clientX-s.x,n.y=r.clientY-s.y)},c=r=>{r.preventDefault();const o=(r.clientX-n.x)/n.scale,A=(r.clientY-n.y)/n.scale;r.deltaY<0?n.scale*=1.2:n.scale/=1.2,n.x=r.clientX-o*n.scale,n.y=r.clientY-A*n.scale};return watch(n,()=>{i.value&&(i.value.style.transform="translate("+n.x+"px, "+n.y+"px) scale("+n.scale+")")}),(r,o)=>(openBlock(),createElementBlock(Fragment,null,[!e.loading&&e.url.length?(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("img",{src:e.url,ref_key:"imgElem",ref:i,onMousedown:f,onMouseup:l,onMousemove:g,onWheel:c},null,40,_hoisted_2$e)])):createCommentVNode("",!0),e.url.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$d,"No media found"))],64))}}),ImageComponent_vue_vue_type_style_index_0_lang="",_hoisted_1$e={class:"w-32 p-2 space-y-1"},_hoisted_2$d=["data-page","onClick"],_hoisted_3$c={class:"title text-xs font-medium text-gray-400"},THUMB_MIN_HEIGHT="123px",_sfc_main$6=defineComponent({__name:"PDFSidebar",async setup(e){let t,i;const n=inject("pdfLinkService"),s=inject("pdf"),f=inject("eventBus"),l=toRaw(s.value).getPage(1),g=ref(null);[t,i]=withAsyncContext(()=>l.then(R=>{g.value=R.getViewport({scale:1})})),await t,i();const c=ref((n==null?void 0:n.page)||1),r=ref(null),o=ref(null),A=ref(null),S=async R=>{const{dataset:{page:F}}=R.target,M=await toRaw(s.value).getPage(parseInt(F)),T=document.createElement("canvas"),u={canvasContext:T.getContext("2d",{alpha:!1}),viewport:toRaw(g.value)};T.height=toRaw(g.value).height,T.width=toRaw(g.value).width,M.render(u).promise.then(()=>{const b=T.toDataURL(),m=document.createElement("img");m.src=b,o.value[parseInt(F)-1].firstChild.src=b,T.width=0,T.height=0})},E=(R,F)=>{R.forEach(M=>{if(M.isIntersecting){const{dataset:{pageLoaded:T}}=M.target;JSON.parse(T)||(M.target.setAttribute("data-page-loaded","true"),S(M))}})},_=()=>{const R={root:r.value,rootMargin:"0px",threshold:0};A.value=new IntersectionObserver(E,R);for(let F=0;F<s.value.numPages;F++)A.value.observe(toRaw(o.value[F]))},v=R=>{n.goToPage(R),c.value=R},w=R=>{o.value[R].scrollIntoView()};return onMounted(()=>{_(),f.on("pagechanging",async({pageNumber:R})=>{await nextTick(),R!==c.value&&(c.value=R,w(R-1))})}),(R,F)=>{var M;return openBlock(),createElementBlock("aside",{ref_key:"sidebarRef",ref:r,class:"pdf__sidebar bg-[#f9fbfc] overflow-auto"},[createBaseVNode("div",_hoisted_1$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList((M=unref(s))==null?void 0:M.numPages,T=>(openBlock(),createElementBlock("button",{ref_for:!0,ref_key:"thumbsRef",ref:o,key:T,"data-page":T,"data-page-loaded":!1,class:normalizeClass(["w-full rounded p-2 thumbWrapper",[T===c.value?"active":""]]),onClick:withModifiers(d=>v(T),["stop","prevent"])},[createBaseVNode("img",{class:"w-full thumb-img border border-gray-200 rounded my-1",style:normalizeStyle({minHeight:THUMB_MIN_HEIGHT})},null,4),createBaseVNode("p",_hoisted_3$c,"Page "+toDisplayString(T),1)],10,_hoisted_2$d))),128))])],512)}}}),PDFSidebar_vue_vue_type_style_index_0_scoped_4395eca9_lang="",__unplugin_components_0$2=_export_sfc(_sfc_main$6,[["__scopeId","data-v-4395eca9"]]);var pdf_viewer={exports:{}};(function(e,t){(function(n,s){e.exports=n.pdfjsViewer=s()})(globalThis,()=>(()=>{var i=[,(l,g,c)=>{var Y,j,P,$,qn,pe,Gt,U,qt,k,Xn,se,Kn,de,Yn,ye,Xt,J,Jn,Z,Zn,_e,Ct,Pe,mt,we,ut,te,Qn,he,Kt,Oe,Yt,ze,Tt,Ge,ei,qe,Jt,O,Zt,be,_t;Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFindController=g.FindState=void 0;var r=c(2),o=c(3),A=c(4);const S={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};g.FindState=S;const E=250,_=-50,v=-400,w={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},R=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let F;const M=/\p{M}+/gu,T=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,d=/([^\p{M}])\p{M}*$/u,u=/^\p{M}*([^\p{M}])/u,D=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,b=new Map,m="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",L=new Map;let C=null,N=null;function q(Le){const Te=[];let Ie;for(;(Ie=D.exec(Le))!==null;){let{index:Ne}=Ie;for(const re of Ie[0]){let ve=b.get(re);ve||(ve=re.normalize("NFD").length,b.set(re,ve)),Te.push([ve,Ne++])}}let ee;if(Te.length===0&&C)ee=C;else if(Te.length>0&&N)ee=N;else{const Ne=Object.keys(w).join(""),re=(0,o.getNormalizeWithNFKC)(),$e=`([${Ne}])|([${re}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;Te.length===0?ee=C=new RegExp($e+"|(\\u0000)","gum"):ee=N=new RegExp($e+`|(${m})`,"gum")}const Ce=[];for(;(Ie=M.exec(Le))!==null;)Ce.push([Ie[0].length,Ie.index]);let Be=Le.normalize("NFD");const Re=[[0,0]];let X=0,V=0,ne=0,ie=0,fe=0,xe=!1;return Be=Be.replace(ee,(Ne,re,ve,ke,$e,De,Ue,We,Xe,Ye)=>{var Je,et,Ze;if(Ye-=ie,re){const Qe=w[re],it=Qe.length;for(let tt=1;tt<it;tt++)Re.push([Ye-ne+tt,ne-tt]);return ne-=it-1,Qe}if(ve){let Qe=L.get(ve);Qe||(Qe=ve.normalize("NFKC"),L.set(ve,Qe));const it=Qe.length;for(let tt=1;tt<it;tt++)Re.push([Ye-ne+tt,ne-tt]);return ne-=it-1,Qe}if(ke)return xe=!0,Ye+fe===((Je=Ce[X])==null?void 0:Je[1])?++X:(Re.push([Ye-1-ne+1,ne-1]),ne-=1,ie+=1),Re.push([Ye-ne+1,ne]),ie+=1,fe+=1,ke.charAt(0);if($e){const Qe=$e.endsWith(`
`),it=Qe?$e.length-2:$e.length;xe=!0;let tt=it;Ye+fe===((et=Ce[X])==null?void 0:et[1])&&(tt-=Ce[X][0],++X);for(let st=1;st<=tt;st++)Re.push([Ye-1-ne+st,ne-st]);return ne-=tt,ie+=tt,Qe?(Ye+=it-1,Re.push([Ye-ne+1,1+ne]),ne+=1,ie+=1,fe+=1,$e.slice(0,it)):$e}if(De){const Qe=De.length-2;return Re.push([Ye-ne+Qe,1+ne]),ne+=1,ie+=1,fe+=1,De.slice(0,-2)}if(Ue){const Qe=Ue.length-1;return Re.push([Ye-ne+Qe,ne]),ie+=1,fe+=1,Ue.slice(0,-1)}if(We)return Re.push([Ye-ne+1,ne-1]),ne-=1,ie+=1,fe+=1," ";if(Ye+fe===((Ze=Te[V])==null?void 0:Ze[1])){const Qe=Te[V][0]-1;++V;for(let it=1;it<=Qe;it++)Re.push([Ye-(ne-it),ne-it]);ne-=Qe,ie+=Qe}return Xe}),Re.push([Be.length,ne]),[Be,Re,xe]}function I(Le,Te,Ie){if(!Le)return[Te,Ie];const ee=Te,Ce=Te+Ie-1;let Be=(0,r.binarySearchFirstItem)(Le,ie=>ie[0]>=ee);Le[Be][0]>ee&&--Be;let Re=(0,r.binarySearchFirstItem)(Le,ie=>ie[0]>=Ce,Be);Le[Re][0]>Ce&&--Re;const X=ee+Le[Be][1],ne=Ce+Le[Re][1]+1-X;return[X,ne]}class z{constructor({linkService:Te,eventBus:Ie,updateMatchesCountOnProgress:ee=!0}){K(this,$);K(this,pe);K(this,U);K(this,k);K(this,se);K(this,de);K(this,ye);K(this,J);K(this,Z);K(this,_e);K(this,Pe);K(this,we);K(this,te);K(this,he);K(this,Oe);K(this,ze);K(this,Ge);K(this,qe);K(this,O);K(this,be);K(this,Y,null);K(this,j,!0);K(this,P,0);this._linkService=Te,this._eventBus=Ie,me(this,j,ee),this.onIsPageVisible=null,ae(this,pe,Gt).call(this),Ie._on("find",ae(this,$,qn).bind(this)),Ie._on("findbarclose",ae(this,Ge,ei).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return a(this,Y)}setDocument(Te){this._pdfDocument&&ae(this,pe,Gt).call(this),Te&&(this._pdfDocument=Te,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Te=null,selectedLeft:Ie=0,pageIndex:ee=-1,matchIndex:Ce=-1}){if(!this._scrollMatches||!Te)return;if(Ce===-1||Ce!==this._selected.matchIdx)return;if(ee===-1||ee!==this._selected.pageIdx)return;this._scrollMatches=!1;const Be={top:_,left:Ie+v};(0,r.scrollIntoView)(Te,Be,!0)}}Y=new WeakMap,j=new WeakMap,P=new WeakMap,$=new WeakSet,qn=function(Te){if(!Te)return;Te.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof Te.query=="string"&&(Te.query=Te.query.match(/\S+/g)));const Ie=this._pdfDocument,{type:ee}=Te;(a(this,Y)===null||ae(this,k,Xn).call(this,Te))&&(this._dirtyMatch=!0),me(this,Y,Te),ee!=="highlightallchange"&&ae(this,be,_t).call(this,S.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Ie&&this._pdfDocument!==Ie)return;ae(this,Z,Zn).call(this);const Ce=!this._highlightMatches,Be=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ee?this._dirtyMatch?ae(this,we,ut).call(this):ee==="again"?(ae(this,we,ut).call(this),Ce&&a(this,Y).highlightAll&&ae(this,Pe,mt).call(this)):ee==="highlightallchange"?(Be?ae(this,we,ut).call(this):this._highlightMatches=!0,ae(this,Pe,mt).call(this)):ae(this,we,ut).call(this):this._findTimeout=setTimeout(()=>{ae(this,we,ut).call(this),this._findTimeout=null},E)})},pe=new WeakSet,Gt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],me(this,P,0),me(this,Y,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new A.PromiseCapability},U=new WeakSet,qt=function(){const{query:Te}=a(this,Y);return typeof Te=="string"?(Te!==this._rawQuery&&(this._rawQuery=Te,[this._normalizedQuery]=q(Te)),this._normalizedQuery):(Te||[]).filter(Ie=>!!Ie).map(Ie=>q(Ie)[0])},k=new WeakSet,Xn=function(Te){var Re,X;const Ie=Te.query,ee=a(this,Y).query,Ce=typeof Ie;if(Ce!==typeof ee)return!0;if(Ce==="string"){if(Ie!==ee)return!0}else if(JSON.stringify(Ie)!==JSON.stringify(ee))return!0;switch(Te.type){case"again":const V=this._selected.pageIdx+1,ne=this._linkService;return V>=1&&V<=ne.pagesCount&&V!==ne.page&&!((X=(Re=this.onIsPageVisible)==null?void 0:Re.call(this,V))==null||X);case"highlightallchange":return!1}return!0},se=new WeakSet,Kn=function(Te,Ie,ee){let Ce=Te.slice(0,Ie).match(d);if(Ce){const Be=Te.charCodeAt(Ie),Re=Ce[1].charCodeAt(0);if((0,o.getCharacterType)(Be)===(0,o.getCharacterType)(Re))return!1}if(Ce=Te.slice(Ie+ee).match(u),Ce){const Be=Te.charCodeAt(Ie+ee-1),Re=Ce[1].charCodeAt(0);if((0,o.getCharacterType)(Be)===(0,o.getCharacterType)(Re))return!1}return!0},de=new WeakSet,Yn=function(Te,Ie,ee,Ce){const Be=this._pageMatches[ee]=[],Re=this._pageMatchesLength[ee]=[];if(!Te)return;const X=this._pageDiffs[ee];let V;for(;(V=Te.exec(Ce))!==null;){if(Ie&&!ae(this,se,Kn).call(this,Ce,V.index,V[0].length))continue;const[ne,ie]=I(X,V.index,V[0].length);ie&&(Be.push(ne),Re.push(ie))}},ye=new WeakSet,Xt=function(Te,Ie){const{matchDiacritics:ee}=a(this,Y);let Ce=!1;Te=Te.replaceAll(T,(Re,X,V,ne,ie,fe)=>X?`[ ]*\\${X}[ ]*`:V?`[ ]*${V}[ ]*`:ne?"[ ]+":ee?ie||fe:ie?R.has(ie.charCodeAt(0))?ie:"":Ie?(Ce=!0,`${fe}\\p{M}*`):fe);const Be="[ ]*";return Te.endsWith(Be)&&(Te=Te.slice(0,Te.length-Be.length)),ee&&Ie&&(F||(F=String.fromCharCode(...R)),Ce=!0,Te=`${Te}(?=[${F}]|[^\\p{M}]|$)`),[Ce,Te]},J=new WeakSet,Jn=function(Te){let Ie=a(this,U,qt);if(Ie.length===0)return;const{caseSensitive:ee,entireWord:Ce}=a(this,Y),Be=this._pageContents[Te],Re=this._hasDiacritics[Te];let X=!1;typeof Ie=="string"?[X,Ie]=ae(this,ye,Xt).call(this,Ie,Re):Ie=Ie.sort().reverse().map(ie=>{const[fe,xe]=ae(this,ye,Xt).call(this,ie,Re);return X||(X=fe),`(${xe})`}).join("|");const V=`g${X?"u":""}${ee?"":"i"}`;Ie=Ie?new RegExp(Ie,V):null,ae(this,de,Yn).call(this,Ie,Ce,Te,Be),a(this,Y).highlightAll&&ae(this,_e,Ct).call(this,Te),this._resumePageIdx===Te&&(this._resumePageIdx=null,ae(this,he,Kt).call(this));const ne=this._pageMatches[Te].length;this._matchesCountTotal+=ne,a(this,j)?ne>0&&ae(this,O,Zt).call(this):++ct(this,P)._===this._linkService.pagesCount&&ae(this,O,Zt).call(this)},Z=new WeakSet,Zn=function(){if(this._extractTextPromises.length>0)return;let Te=Promise.resolve();const Ie={disableNormalization:!0};for(let ee=0,Ce=this._linkService.pagesCount;ee<Ce;ee++){const Be=new A.PromiseCapability;this._extractTextPromises[ee]=Be.promise,Te=Te.then(()=>this._pdfDocument.getPage(ee+1).then(Re=>Re.getTextContent(Ie)).then(Re=>{const X=[];for(const V of Re.items)X.push(V.str),V.hasEOL&&X.push(`
`);[this._pageContents[ee],this._pageDiffs[ee],this._hasDiacritics[ee]]=q(X.join("")),Be.resolve()},Re=>{console.error(`Unable to get text content for page ${ee+1}`,Re),this._pageContents[ee]="",this._pageDiffs[ee]=null,this._hasDiacritics[ee]=!1,Be.resolve()}))}},_e=new WeakSet,Ct=function(Te){this._scrollMatches&&this._selected.pageIdx===Te&&(this._linkService.page=Te+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Te})},Pe=new WeakSet,mt=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},we=new WeakSet,ut=function(){const Te=a(this,Y).findPrevious,Ie=this._linkService.page-1,ee=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Ie,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,me(this,P,0),this._matchesCountTotal=0,ae(this,Pe,mt).call(this);for(let Re=0;Re<ee;Re++)this._pendingFindMatches.has(Re)||(this._pendingFindMatches.add(Re),this._extractTextPromises[Re].then(()=>{this._pendingFindMatches.delete(Re),ae(this,J,Jn).call(this,Re)}))}if(a(this,U,qt).length===0){ae(this,be,_t).call(this,S.FOUND);return}if(this._resumePageIdx)return;const Be=this._offset;if(this._pagesToSearch=ee,Be.matchIdx!==null){const Re=this._pageMatches[Be.pageIdx].length;if(!Te&&Be.matchIdx+1<Re||Te&&Be.matchIdx>0){Be.matchIdx=Te?Be.matchIdx-1:Be.matchIdx+1,ae(this,ze,Tt).call(this,!0);return}ae(this,Oe,Yt).call(this,Te)}ae(this,he,Kt).call(this)},te=new WeakSet,Qn=function(Te){const Ie=this._offset,ee=Te.length,Ce=a(this,Y).findPrevious;return ee?(Ie.matchIdx=Ce?ee-1:0,ae(this,ze,Tt).call(this,!0),!0):(ae(this,Oe,Yt).call(this,Ce),Ie.wrapped&&(Ie.matchIdx=null,this._pagesToSearch<0)?(ae(this,ze,Tt).call(this,!1),!0):!1)},he=new WeakSet,Kt=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let Te=null;do{const Ie=this._offset.pageIdx;if(Te=this._pageMatches[Ie],!Te){this._resumePageIdx=Ie;break}}while(!ae(this,te,Qn).call(this,Te))},Oe=new WeakSet,Yt=function(Te){const Ie=this._offset,ee=this._linkService.pagesCount;Ie.pageIdx=Te?Ie.pageIdx-1:Ie.pageIdx+1,Ie.matchIdx=null,this._pagesToSearch--,(Ie.pageIdx>=ee||Ie.pageIdx<0)&&(Ie.pageIdx=Te?ee-1:0,Ie.wrapped=!0)},ze=new WeakSet,Tt=function(Te=!1){let Ie=S.NOT_FOUND;const ee=this._offset.wrapped;if(this._offset.wrapped=!1,Te){const Ce=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Ie=ee?S.WRAPPED:S.FOUND,Ce!==-1&&Ce!==this._selected.pageIdx&&ae(this,_e,Ct).call(this,Ce)}ae(this,be,_t).call(this,Ie,a(this,Y).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,ae(this,_e,Ct).call(this,this._selected.pageIdx))},Ge=new WeakSet,ei=function(Te){const Ie=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Ie&&this._pdfDocument!==Ie||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ae(this,be,_t).call(this,S.FOUND),this._highlightMatches=!1,ae(this,Pe,mt).call(this))})},qe=new WeakSet,Jt=function(){var Be;const{pageIdx:Te,matchIdx:Ie}=this._selected;let ee=0,Ce=this._matchesCountTotal;if(Ie!==-1){for(let Re=0;Re<Te;Re++)ee+=((Be=this._pageMatches[Re])==null?void 0:Be.length)||0;ee+=Ie+1}return(ee<1||ee>Ce)&&(ee=Ce=0),{current:ee,total:Ce}},O=new WeakSet,Zt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ae(this,qe,Jt).call(this)})},be=new WeakSet,_t=function(Te,Ie=!1){var ee,Ce;!a(this,j)&&(a(this,P)!==this._linkService.pagesCount||Te===S.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Te,previous:Ie,matchesCount:ae(this,qe,Jt).call(this),rawQuery:(Ce=(ee=a(this,Y))==null?void 0:ee.query)!=null?Ce:null})},g.PDFFindController=z},(l,g)=>{var _e,Ee,Pe,Se,we;Object.defineProperty(g,"__esModule",{value:!0}),g.animationStarted=g.VERTICAL_PADDING=g.UNKNOWN_SCALE=g.TextLayerMode=g.SpreadMode=g.SidebarView=g.ScrollMode=g.SCROLLBAR_PADDING=g.RenderingStates=g.ProgressBar=g.PresentationModeState=g.OutputScale=g.MIN_SCALE=g.MAX_SCALE=g.MAX_AUTO_SCALE=g.DEFAULT_SCALE_VALUE=g.DEFAULT_SCALE_DELTA=g.DEFAULT_SCALE=g.CursorTool=g.AutoPrintRegExp=void 0,g.apiPageLayoutToViewerModes=J,g.apiPageModeToSidebarView=ce,g.approximateFraction=Y,g.backtrackBeforeAllVisibleElements=$,g.binarySearchFirstItem=z,g.docStyle=void 0,g.getActiveOrFocusedElement=W,g.getPageSizeInches=P,g.getVisibleElements=B,g.isPortraitOrientation=se,g.isValidRotation=y,g.isValidScrollMode=k,g.isValidSpreadMode=H,g.noContextMenuHandler=pe,g.normalizeWheelEventDelta=U,g.normalizeWheelEventDirection=Ae,g.parseQueryString=N,g.removeNullCharacters=I,g.roundToDivide=j,g.scrollIntoView=L,g.toggleCheckedBtn=Z,g.toggleExpandedBtn=ue,g.watchScroll=C;const c="auto";g.DEFAULT_SCALE_VALUE=c;const r=1;g.DEFAULT_SCALE=r;const o=1.1;g.DEFAULT_SCALE_DELTA=o;const A=.1;g.MIN_SCALE=A;const S=10;g.MAX_SCALE=S;const E=0;g.UNKNOWN_SCALE=E;const _=1.25;g.MAX_AUTO_SCALE=_;const v=40;g.SCROLLBAR_PADDING=v;const w=5;g.VERTICAL_PADDING=w;const R={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};g.RenderingStates=R;const F={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};g.PresentationModeState=F;const M={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};g.SidebarView=M;const T={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};g.TextLayerMode=T;const d={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};g.ScrollMode=d;const u={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};g.SpreadMode=u;const D={SELECT:0,HAND:1,ZOOM:2};g.CursorTool=D;const b=/\bprint\s*\(/;g.AutoPrintRegExp=b;class m{constructor(){const te=window.devicePixelRatio||1;this.sx=te,this.sy=te}get scaled(){return this.sx!==1||this.sy!==1}}g.OutputScale=m;function L(le,te,oe=!1){let he=le.offsetParent;if(!he){console.error("offsetParent is not set -- cannot scroll");return}let Me=le.offsetTop+le.clientTop,Oe=le.offsetLeft+le.clientLeft;for(;he.clientHeight===he.scrollHeight&&he.clientWidth===he.scrollWidth||oe&&(he.classList.contains("markedContent")||getComputedStyle(he).overflow==="hidden");)if(Me+=he.offsetTop,Oe+=he.offsetLeft,he=he.offsetParent,!he)return;te&&(te.top!==void 0&&(Me+=te.top),te.left!==void 0&&(Oe+=te.left,he.scrollLeft=Oe)),he.scrollTop=Me}function C(le,te){const oe=function(Oe){Me||(Me=window.requestAnimationFrame(function(){Me=null;const ze=le.scrollLeft,He=he.lastX;ze!==He&&(he.right=ze>He),he.lastX=ze;const Ge=le.scrollTop,Ke=he.lastY;Ge!==Ke&&(he.down=Ge>Ke),he.lastY=Ge,te(he)}))},he={right:!0,down:!0,lastX:le.scrollLeft,lastY:le.scrollTop,_eventHandler:oe};let Me=null;return le.addEventListener("scroll",oe,!0),he}function N(le){const te=new Map;for(const[oe,he]of new URLSearchParams(le))te.set(oe.toLowerCase(),he);return te}const q=/[\x01-\x1F]/g;function I(le,te=!1){return typeof le!="string"?(console.error("The argument must be a string."),le):(te&&(le=le.replaceAll(q," ")),le.replaceAll("\0",""))}function z(le,te,oe=0){let he=oe,Me=le.length-1;if(Me<0||!te(le[Me]))return le.length;if(te(le[he]))return he;for(;he<Me;){const Oe=he+Me>>1,je=le[Oe];te(je)?Me=Oe:he=Oe+1}return he}function Y(le){if(Math.floor(le)===le)return[le,1];const te=1/le,oe=8;if(te>oe)return[1,oe];if(Math.floor(te)===te)return[1,te];const he=le>1?te:le;let Me=0,Oe=1,je=1,ze=1;for(;;){const Ge=Me+je,Ke=Oe+ze;if(Ke>oe)break;he<=Ge/Ke?(je=Ge,ze=Ke):(Me=Ge,Oe=Ke)}let He;return he-Me/Oe<je/ze-he?He=he===le?[Me,Oe]:[Oe,Me]:He=he===le?[je,ze]:[ze,je],He}function j(le,te){const oe=le%te;return oe===0?le:Math.round(le-oe+te)}function P({view:le,userUnit:te,rotate:oe}){const[he,Me,Oe,je]=le,ze=oe%180!==0,He=(Oe-he)/72*te,Ge=(je-Me)/72*te;return{width:ze?Ge:He,height:ze?He:Ge}}function $(le,te,oe){if(le<2)return le;let he=te[le].div,Me=he.offsetTop+he.clientTop;Me>=oe&&(he=te[le-1].div,Me=he.offsetTop+he.clientTop);for(let Oe=le-2;Oe>=0&&(he=te[Oe].div,!(he.offsetTop+he.clientTop+he.clientHeight<=Me));--Oe)le=Oe;return le}function B({scrollEl:le,views:te,sortByVisibility:oe=!1,horizontal:he=!1,rtl:Me=!1}){const Oe=le.scrollTop,je=Oe+le.clientHeight,ze=le.scrollLeft,He=ze+le.clientWidth;function Ge(Te){const Ie=Te.div;return Ie.offsetTop+Ie.clientTop+Ie.clientHeight>Oe}function Ke(Te){const Ie=Te.div,ee=Ie.offsetLeft+Ie.clientLeft,Ce=ee+Ie.clientWidth;return Me?ee<He:Ce>ze}const qe=[],Fe=new Set,O=te.length;let G=z(te,he?Ke:Ge);G>0&&G<O&&!he&&(G=$(G,te,Oe));let be=he?He:-1;for(let Te=G;Te<O;Te++){const Ie=te[Te],ee=Ie.div,Ce=ee.offsetLeft+ee.clientLeft,Be=ee.offsetTop+ee.clientTop,Re=ee.clientWidth,X=ee.clientHeight,V=Ce+Re,ne=Be+X;if(be===-1)ne>=je&&(be=ne);else if((he?Ce:Be)>be)break;if(ne<=Oe||Be>=je||V<=ze||Ce>=He)continue;const ie=Math.max(0,Oe-Be)+Math.max(0,ne-je),fe=Math.max(0,ze-Ce)+Math.max(0,V-He),xe=(X-ie)/X,Ne=(Re-fe)/Re,re=xe*Ne*100|0;qe.push({id:Ie.id,x:Ce,y:Be,view:Ie,percent:re,widthPercent:Ne*100|0}),Fe.add(Ie.id)}const Ve=qe[0],Le=qe.at(-1);return oe&&qe.sort(function(Te,Ie){const ee=Te.percent-Ie.percent;return Math.abs(ee)>.001?-ee:Te.id-Ie.id}),{first:Ve,last:Le,views:qe,ids:Fe}}function pe(le){le.preventDefault()}function Ae(le){let te=Math.hypot(le.deltaX,le.deltaY);const oe=Math.atan2(le.deltaY,le.deltaX);return-.25*Math.PI<oe&&oe<.75*Math.PI&&(te=-te),te}function U(le){const te=le.deltaMode;let oe=Ae(le);const he=30,Me=30;return te===WheelEvent.DOM_DELTA_PIXEL?oe/=he*Me:te===WheelEvent.DOM_DELTA_LINE&&(oe/=Me),oe}function y(le){return Number.isInteger(le)&&le%90===0}function k(le){return Number.isInteger(le)&&Object.values(d).includes(le)&&le!==d.UNKNOWN}function H(le){return Number.isInteger(le)&&Object.values(u).includes(le)&&le!==u.UNKNOWN}function se(le){return le.width<=le.height}const Q=new Promise(function(le){window.requestAnimationFrame(le)});g.animationStarted=Q;const de=document.documentElement.style;g.docStyle=de;function ge(le,te,oe){return Math.min(Math.max(le,te),oe)}class ye{constructor(te){K(this,_e,null);K(this,Ee,null);K(this,Pe,0);K(this,Se,null);K(this,we,!0);me(this,_e,te.classList),me(this,Se,te.style)}get percent(){return a(this,Pe)}set percent(te){if(me(this,Pe,ge(te,0,100)),isNaN(te)){a(this,_e).add("indeterminate");return}a(this,_e).remove("indeterminate"),a(this,Se).setProperty("--progressBar-percent",`${a(this,Pe)}%`)}setWidth(te){if(!te)return;const he=te.parentNode.offsetWidth-te.offsetWidth;he>0&&a(this,Se).setProperty("--progressBar-end-offset",`${he}px`)}setDisableAutoFetch(te=5e3){isNaN(a(this,Pe))||(a(this,Ee)&&clearTimeout(a(this,Ee)),this.show(),me(this,Ee,setTimeout(()=>{me(this,Ee,null),this.hide()},te)))}hide(){!a(this,we)||(me(this,we,!1),a(this,_e).add("hidden"))}show(){a(this,we)||(me(this,we,!0),a(this,_e).remove("hidden"))}}_e=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,Se=new WeakMap,we=new WeakMap,g.ProgressBar=ye;function W(){let le=document,te=le.activeElement||le.querySelector(":focus");for(;te!=null&&te.shadowRoot;)le=te.shadowRoot,te=le.activeElement||le.querySelector(":focus");return te}function J(le){let te=d.VERTICAL,oe=u.NONE;switch(le){case"SinglePage":te=d.PAGE;break;case"OneColumn":break;case"TwoPageLeft":te=d.PAGE;case"TwoColumnLeft":oe=u.ODD;break;case"TwoPageRight":te=d.PAGE;case"TwoColumnRight":oe=u.EVEN;break}return{scrollMode:te,spreadMode:oe}}function ce(le){switch(le){case"UseNone":return M.NONE;case"UseThumbs":return M.THUMBS;case"UseOutlines":return M.OUTLINE;case"UseAttachments":return M.ATTACHMENTS;case"UseOC":return M.LAYERS}return M.NONE}function Z(le,te,oe=null){le.classList.toggle("toggled",te),le.setAttribute("aria-checked",te),oe==null||oe.classList.toggle("hidden",!te)}function ue(le,te,oe=null){le.classList.toggle("toggled",te),le.setAttribute("aria-expanded",te),oe==null||oe.classList.toggle("hidden",!te)}},(l,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterType=void 0,g.getCharacterType=M,g.getNormalizeWithNFKC=d;const c={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};g.CharacterType=c;function r(u){return u<11904}function o(u){return(u&65408)===0}function A(u){return u>=97&&u<=122||u>=65&&u<=90}function S(u){return u>=48&&u<=57}function E(u){return u===32||u===9||u===13||u===10}function _(u){return u>=13312&&u<=40959||u>=63744&&u<=64255}function v(u){return u>=12448&&u<=12543}function w(u){return u>=12352&&u<=12447}function R(u){return u>=65376&&u<=65439}function F(u){return(u&65408)===3584}function M(u){return r(u)?o(u)?E(u)?c.SPACE:A(u)||S(u)||u===95?c.ALPHA_LETTER:c.PUNCT:F(u)?c.THAI_LETTER:u===160?c.SPACE:c.ALPHA_LETTER:_(u)?c.HAN_LETTER:v(u)?c.KATAKANA_LETTER:w(u)?c.HIRAGANA_LETTER:R(u)?c.HALFWIDTH_KATAKANA_LETTER:c.ALPHA_LETTER}let T;function d(){return T||(T="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6"),T}},l=>{l.exports=globalThis.pdfjsLib},(l,g,c)=>{var v,w,Qt,F,ti;Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleLinkService=g.PDFLinkService=g.LinkTarget=void 0;var r=c(2);const o="noopener noreferrer nofollow",A={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};g.LinkTarget=A;function S(d,{url:u,target:D,rel:b,enabled:m=!0}={}){if(!u||typeof u!="string")throw new Error('A valid "url" parameter must provided.');const L=(0,r.removeNullCharacters)(u);m?d.href=d.title=L:(d.href="",d.title=`Disabled: ${L}`,d.onclick=()=>!1);let C="";switch(D){case A.NONE:break;case A.SELF:C="_self";break;case A.BLANK:C="_blank";break;case A.PARENT:C="_parent";break;case A.TOP:C="_top";break}d.target=C,d.rel=typeof b=="string"?b:o}const T=class{constructor({eventBus:u,externalLinkTarget:D=null,externalLinkRel:b=null,ignoreDestinationZoom:m=!1}={}){K(this,w);K(this,v,new Map);this.eventBus=u,this.externalLinkTarget=D,this.externalLinkRel=b,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=m,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(u,D=null){this.baseUrl=D,this.pdfDocument=u,a(this,v).clear()}setViewer(u){this.pdfViewer=u}setHistory(u){this.pdfHistory=u}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(u){this.pdfViewer.currentPageNumber=u}get rotation(){return this.pdfViewer.pagesRotation}set rotation(u){this.pdfViewer.pagesRotation=u}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(u){if(!this.pdfDocument)return;let D,b;if(typeof u=="string"?(D=u,b=await this.pdfDocument.getDestination(u)):(D=null,b=await u),!Array.isArray(b)){console.error(`PDFLinkService.goToDestination: "${b}" is not a valid destination array, for dest="${u}".`);return}ae(this,w,Qt).call(this,u,D,b)}goToPage(u){if(!this.pdfDocument)return;const D=typeof u=="string"&&this.pdfViewer.pageLabelToPageNumber(u)||u|0;if(!(Number.isInteger(D)&&D>0&&D<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${u}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(D)),this.pdfViewer.scrollPageIntoView({pageNumber:D})}addLinkAttributes(u,D,b=!1){S(u,{url:D,target:b?A.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(u){if(typeof u=="string"){if(u.length>0)return this.getAnchorUrl("#"+escape(u))}else if(Array.isArray(u)){const D=JSON.stringify(u);if(D.length>0)return this.getAnchorUrl("#"+escape(D))}return this.getAnchorUrl("")}getAnchorUrl(u){return this.baseUrl?this.baseUrl+u:u}setHash(u){var m;if(!this.pdfDocument)return;let D,b;if(u.includes("=")){const L=(0,r.parseQueryString)(u);if(L.has("search")){const C=L.get("search").replaceAll('"',""),N=L.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:N?C:C.match(/\S+/g)})}if(L.has("page")&&(D=L.get("page")|0||1),L.has("zoom")){const C=L.get("zoom").split(","),N=C[0],q=parseFloat(N);N.includes("Fit")?N==="Fit"||N==="FitB"?b=[null,{name:N}]:N==="FitH"||N==="FitBH"||N==="FitV"||N==="FitBV"?b=[null,{name:N},C.length>1?C[1]|0:null]:N==="FitR"?C.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):b=[null,{name:N},C[1]|0,C[2]|0,C[3]|0,C[4]|0]:console.error(`PDFLinkService.setHash: "${N}" is not a valid zoom value.`):b=[null,{name:"XYZ"},C.length>1?C[1]|0:null,C.length>2?C[2]|0:null,q?q/100:N]}b?this.pdfViewer.scrollPageIntoView({pageNumber:D||this.page,destArray:b,allowNegativeOffset:!0}):D&&(this.page=D),L.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:L.get("pagemode")}),L.has("nameddest")&&this.goToDestination(L.get("nameddest"))}else{b=unescape(u);try{b=JSON.parse(b),Array.isArray(b)||(b=b.toString())}catch{}if(typeof b=="string"||ae(m=T,F,ti).call(m,b)){this.goToDestination(b);return}console.error(`PDFLinkService.setHash: "${unescape(u)}" is not a valid destination.`)}}executeNamedAction(u){var D,b;switch(u){case"GoBack":(D=this.pdfHistory)==null||D.back();break;case"GoForward":(b=this.pdfHistory)==null||b.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:u})}async executeSetOCGState(u){const D=this.pdfDocument,b=await this.pdfViewer.optionalContentConfigPromise;if(D!==this.pdfDocument)return;let m;for(const L of u.state){switch(L){case"ON":case"OFF":case"Toggle":m=L;continue}switch(m){case"ON":b.setVisibility(L,!0);break;case"OFF":b.setVisibility(L,!1);break;case"Toggle":const C=b.getGroup(L);C&&b.setVisibility(L,!C.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(b)}cachePageRef(u,D){if(!D)return;const b=D.gen===0?`${D.num}R`:`${D.num}R${D.gen}`;a(this,v).set(b,u)}_cachedPageNumber(u){if(!u)return null;const D=u.gen===0?`${u.num}R`:`${u.num}R${u.gen}`;return a(this,v).get(D)||null}};let E=T;v=new WeakMap,w=new WeakSet,Qt=function(u,D=null,b){const m=b[0];let L;if(typeof m=="object"&&m!==null){if(L=this._cachedPageNumber(m),!L){this.pdfDocument.getPageIndex(m).then(C=>{this.cachePageRef(C+1,m),ae(this,w,Qt).call(this,u,D,b)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${m}" is not a valid page reference, for dest="${u}".`)});return}}else if(Number.isInteger(m))L=m+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${m}" is not a valid destination reference, for dest="${u}".`);return}if(!L||L<1||L>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid page number, for dest="${u}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:D,explicitDest:b,pageNumber:L})),this.pdfViewer.scrollPageIntoView({pageNumber:L,destArray:b,ignoreDestinationZoom:this._ignoreDestinationZoom})},F=new WeakSet,ti=function(u){if(!Array.isArray(u))return!1;const D=u.length;if(D<2)return!1;const b=u[0];if(!(typeof b=="object"&&Number.isInteger(b.num)&&Number.isInteger(b.gen))&&!(Number.isInteger(b)&&b>=0))return!1;const m=u[1];if(!(typeof m=="object"&&typeof m.name=="string"))return!1;let L=!0;switch(m.name){case"XYZ":if(D!==5)return!1;break;case"Fit":case"FitB":return D===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(D!==3)return!1;break;case"FitR":if(D!==6)return!1;L=!1;break;default:return!1}for(let C=2;C<D;C++){const N=u[C];if(!(typeof N=="number"||L&&N===null))return!1}return!0},K(E,F),g.PDFLinkService=E;class _{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(u){}get rotation(){return 0}set rotation(u){}get isInPresentationMode(){return!1}async goToDestination(u){}goToPage(u){}addLinkAttributes(u,D,b=!1){S(u,{url:D,enabled:this.externalLinkEnabled})}getDestinationHash(u){return"#"}getAnchorUrl(u){return"#"}setHash(u){}executeNamedAction(u){}executeSetOCGState(u){}cachePageRef(u,D){}}g.SimpleLinkService=_},(l,g,c)=>{var E,_,en;Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayerBuilder=void 0;var r=c(4),o=c(7),A=c(2);class S{constructor({pageDiv:R,pdfPage:F,linkService:M,downloadManager:T,annotationStorage:d=null,imageResourcesPath:u="",renderForms:D=!0,l10n:b=o.NullL10n,enableScripting:m=!1,hasJSActionsPromise:L=null,fieldObjectsPromise:C=null,annotationCanvasMap:N=null,accessibilityManager:q=null}){K(this,_);K(this,E,null);this.pageDiv=R,this.pdfPage=F,this.linkService=M,this.downloadManager=T,this.imageResourcesPath=u,this.renderForms=D,this.l10n=b,this.annotationStorage=d,this.enableScripting=m,this._hasJSActionsPromise=L||Promise.resolve(!1),this._fieldObjectsPromise=C||Promise.resolve(null),this._annotationCanvasMap=N,this._accessibilityManager=q,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=M.eventBus}async render(R,F="display"){var D;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:R.clone({dontFlip:!0})});return}const[M,T,d]=await Promise.all([this.pdfPage.getAnnotations({intent:F}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const u=this.div=document.createElement("div");if(u.className="annotationLayer",this.pageDiv.append(u),M.length===0){this.hide();return}this.annotationLayer=new r.AnnotationLayer({div:u,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:R.clone({dontFlip:!0})}),await this.annotationLayer.render({annotations:M,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:T,fieldObjects:d}),this.linkService.isInPresentationMode&&ae(this,_,en).call(this,A.PresentationModeState.FULLSCREEN),a(this,E)||(me(this,E,b=>{ae(this,_,en).call(this,b.state)}),(D=this._eventBus)==null||D._on("presentationmodechanged",a(this,E)))}cancel(){var R;this._cancelled=!0,a(this,E)&&((R=this._eventBus)==null||R._off("presentationmodechanged",a(this,E)),me(this,E,null))}hide(){!this.div||(this.div.hidden=!0)}}E=new WeakMap,_=new WeakSet,en=function(R){if(!this.div)return;let F=!1;switch(R){case A.PresentationModeState.FULLSCREEN:F=!0;break;case A.PresentationModeState.NORMAL:break;default:return}for(const M of this.div.childNodes)M.hasAttribute("data-internal-link")||(M.inert=F)},g.AnnotationLayerBuilder=S},(l,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NullL10n=void 0,g.getL10nFallback=r;const c={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};c.print_progress_percent="{{progress}}%";function r(S,E){switch(S){case"find_match_count":S=`find_match_count[${E.total===1?"one":"other"}]`;break;case"find_match_count_limit":S=`find_match_count_limit[${E.limit===1?"one":"other"}]`;break}return c[S]||""}function o(S,E){return E?S.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(_,v)=>v in E?E[v]:"{{"+v+"}}"):S}const A={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(S,E=null,_=r(S,E)){return o(_,E)},async translate(S){}};g.NullL10n=A},(l,g,c)=>{var S;Object.defineProperty(g,"__esModule",{value:!0}),g.DownloadManager=void 0;var r=c(4);function o(E,_){const v=document.createElement("a");if(!v.click)throw new Error('DownloadManager: "a.click()" is not supported.');v.href=E,v.target="_parent","download"in v&&(v.download=_),(document.body||document.documentElement).append(v),v.click(),v.remove()}class A{constructor(){K(this,S,new WeakMap)}downloadUrl(_,v,w){if(!(0,r.createValidAbsoluteUrl)(_,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${_}`);return}o(_+"#pdfjs.action=download",v)}downloadData(_,v,w){const R=URL.createObjectURL(new Blob([_],{type:w}));o(R,v)}openOrDownloadData(_,v,w){const F=(0,r.isPdfFile)(w)?"application/pdf":"";return this.downloadData(v,w,F),!1}download(_,v,w,R){const F=URL.createObjectURL(_);o(F,w)}}S=new WeakMap,g.DownloadManager=A},(l,g)=>{var S;Object.defineProperty(g,"__esModule",{value:!0}),g.WaitOnType=g.EventBus=g.AutomationEventBus=void 0,g.waitOnEventOrTimeout=r;const c={EVENT:"event",TIMEOUT:"timeout"};g.WaitOnType=c;function r({target:E,name:_,delay:v=0}){return new Promise(function(w,R){if(typeof E!="object"||!(_&&typeof _=="string")||!(Number.isInteger(v)&&v>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function F(u){E instanceof o?E._off(_,M):E.removeEventListener(_,M),d&&clearTimeout(d),w(u)}const M=F.bind(null,c.EVENT);E instanceof o?E._on(_,M):E.addEventListener(_,M);const T=F.bind(null,c.TIMEOUT),d=setTimeout(T,v)})}class o{constructor(){K(this,S,Object.create(null))}on(_,v,w=null){this._on(_,v,{external:!0,once:w==null?void 0:w.once})}off(_,v,w=null){this._off(_,v,{external:!0,once:w==null?void 0:w.once})}dispatch(_,v){const w=a(this,S)[_];if(!w||w.length===0)return;let R;for(const{listener:F,external:M,once:T}of w.slice(0)){if(T&&this._off(_,F),M){(R||(R=[])).push(F);continue}F(v)}if(R){for(const F of R)F(v);R=null}}_on(_,v,w=null){var F;((F=a(this,S))[_]||(F[_]=[])).push({listener:v,external:(w==null?void 0:w.external)===!0,once:(w==null?void 0:w.once)===!0})}_off(_,v,w=null){const R=a(this,S)[_];if(!!R){for(let F=0,M=R.length;F<M;F++)if(R[F].listener===v){R.splice(F,1);return}}}}S=new WeakMap,g.EventBus=o;class A extends o{dispatch(_,v){throw new Error("Not implemented: AutomationEventBus.dispatch")}}g.AutomationEventBus=A},(l,g,c)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericL10n=void 0,c(11);var r=c(7);const o={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function A(E){return o[E==null?void 0:E.toLowerCase()]||E}class S{constructor(_){const{webL10n:v}=document;this._lang=_,this._ready=new Promise((w,R)=>{v.setLanguage(A(_),()=>{w(v)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(_,v=null,w=(0,r.getL10nFallback)(_,v)){return(await this._ready).get(_,v,w)}async translate(_){return(await this._ready).translate(_)}}g.GenericL10n=S},()=>{document.webL10n=function(l,g){var c={},r="",o="textContent",A="",S={},E="loading",_=!0;function v(){return g.querySelectorAll('link[type="application/l10n"]')}function w(){var I=g.querySelector('script[type="application/l10n"]');return I?JSON.parse(I.innerHTML):null}function R(I){return I?I.querySelectorAll("*[data-l10n-id]"):[]}function F(I){if(!I)return{};var z=I.getAttribute("data-l10n-id"),Y=I.getAttribute("data-l10n-args"),j={};if(Y)try{j=JSON.parse(Y)}catch{console.warn("could not parse arguments for #"+z)}return{id:z,args:j}}function M(I,z,Y){z=z||function($){},Y=Y||function(){};var j=new XMLHttpRequest;j.open("GET",I,_),j.overrideMimeType&&j.overrideMimeType("text/plain; charset=utf-8"),j.onreadystatechange=function(){j.readyState==4&&(j.status==200||j.status===0?z(j.responseText):Y())},j.onerror=Y,j.ontimeout=Y;try{j.send(null)}catch{Y()}}function T(I,z,Y,j){var P=I.replace(/[^\/]*$/,"")||"./";function $(pe){return pe.lastIndexOf("\\")<0?pe:pe.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function B(pe,Ae){var U={},y=/^\s*|\s*$/,k=/^\s*#|^\s*$/,H=/^\s*\[(.*)\]\s*$/,se=/^\s*@import\s+url\((.*)\)\s*$/i,Q=/^([^=\s]*)\s*=\s*(.+)$/;function de(ye,W,J){var ce=ye.replace(y,"").split(/[\r\n]+/),Z="*",ue=z.split("-",1)[0],_e=!1,Ee="";function Pe(){for(;;){if(!ce.length){J();return}var Se=ce.shift();if(!k.test(Se)){if(W){if(Ee=H.exec(Se),Ee){Z=Ee[1].toLowerCase(),_e=Z!=="*"&&Z!==z&&Z!==ue;continue}else if(_e)continue;if(Ee=se.exec(Se),Ee){ge(P+Ee[1],Pe);return}}var we=Se.match(Q);we&&we.length==3&&(U[we[1]]=$(we[2]))}}}Pe()}function ge(ye,W){M(ye,function(J){de(J,!1,W)},function(){console.warn(ye+" not found."),W()})}de(pe,!0,function(){Ae(U)})}M(I,function(pe){r+=pe,B(pe,function(Ae){for(var U in Ae){var y,k,H=U.lastIndexOf(".");H>0?(y=U.substring(0,H),k=U.substring(H+1)):(y=U,k=o),c[y]||(c[y]={}),c[y][k]=Ae[U]}Y&&Y()})},j)}function d(I,z){I&&(I=I.toLowerCase()),z=z||function(){},u(),A=I;var Y=v(),j=Y.length;if(j===0){var P=w();if(P&&P.locales&&P.default_locale){if(console.log("using the embedded JSON directory, early way out"),c=P.locales[I],!c){var $=P.default_locale.toLowerCase();for(var B in P.locales)if(B=B.toLowerCase(),B===I){c=P.locales[I];break}else B===$&&(c=P.locales[$])}z()}else console.log("no resource to load, early way out");E="complete";return}var pe=null,Ae=0;pe=function(){Ae++,Ae>=j&&(z(),E="complete")};function U(H){var se=H.href;this.load=function(Q,de){T(se,Q,de,function(){console.warn(se+" not found."),console.warn('"'+Q+'" resource not found'),A="",de()})}}for(var y=0;y<j;y++){var k=new U(Y[y]);k.load(I,pe)}}function u(){c={},r="",A=""}function D(I){var z={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function Y(B,pe){return pe.indexOf(B)!==-1}function j(B,pe,Ae){return pe<=B&&B<=Ae}var P={0:function(B){return"other"},1:function(B){return j(B%100,3,10)?"few":B===0?"zero":j(B%100,11,99)?"many":B==2?"two":B==1?"one":"other"},2:function(B){return B!==0&&B%10===0?"many":B==2?"two":B==1?"one":"other"},3:function(B){return B==1?"one":"other"},4:function(B){return j(B,0,1)?"one":"other"},5:function(B){return j(B,0,2)&&B!=2?"one":"other"},6:function(B){return B===0?"zero":B%10==1&&B%100!=11?"one":"other"},7:function(B){return B==2?"two":B==1?"one":"other"},8:function(B){return j(B,3,6)?"few":j(B,7,10)?"many":B==2?"two":B==1?"one":"other"},9:function(B){return B===0||B!=1&&j(B%100,1,19)?"few":B==1?"one":"other"},10:function(B){return j(B%10,2,9)&&!j(B%100,11,19)?"few":B%10==1&&!j(B%100,11,19)?"one":"other"},11:function(B){return j(B%10,2,4)&&!j(B%100,12,14)?"few":B%10===0||j(B%10,5,9)||j(B%100,11,14)?"many":B%10==1&&B%100!=11?"one":"other"},12:function(B){return j(B,2,4)?"few":B==1?"one":"other"},13:function(B){return j(B%10,2,4)&&!j(B%100,12,14)?"few":B!=1&&j(B%10,0,1)||j(B%10,5,9)||j(B%100,12,14)?"many":B==1?"one":"other"},14:function(B){return j(B%100,3,4)?"few":B%100==2?"two":B%100==1?"one":"other"},15:function(B){return B===0||j(B%100,2,10)?"few":j(B%100,11,19)?"many":B==1?"one":"other"},16:function(B){return B%10==1&&B!=11?"one":"other"},17:function(B){return B==3?"few":B===0?"zero":B==6?"many":B==2?"two":B==1?"one":"other"},18:function(B){return B===0?"zero":j(B,0,2)&&B!==0&&B!=2?"one":"other"},19:function(B){return j(B,2,10)?"few":j(B,0,1)?"one":"other"},20:function(B){return(j(B%10,3,4)||B%10==9)&&!(j(B%100,10,19)||j(B%100,70,79)||j(B%100,90,99))?"few":B%1e6===0&&B!==0?"many":B%10==2&&!Y(B%100,[12,72,92])?"two":B%10==1&&!Y(B%100,[11,71,91])?"one":"other"},21:function(B){return B===0?"zero":B==1?"one":"other"},22:function(B){return j(B,0,1)||j(B,11,99)?"one":"other"},23:function(B){return j(B%10,1,2)||B%20===0?"one":"other"},24:function(B){return j(B,3,10)||j(B,13,19)?"few":Y(B,[2,12])?"two":Y(B,[1,11])?"one":"other"}},$=z[I.replace(/-.*$/,"")];return $ in P?P[$]:(console.warn("plural form unknown for ["+I+"]"),function(){return"other"})}S.plural=function(I,z,Y,j){var P=parseFloat(z);if(isNaN(P)||j!=o)return I;S._pluralRules||(S._pluralRules=D(A));var $="["+S._pluralRules(P)+"]";return P===0&&Y+"[zero]"in c?I=c[Y+"[zero]"][j]:P==1&&Y+"[one]"in c?I=c[Y+"[one]"][j]:P==2&&Y+"[two]"in c?I=c[Y+"[two]"][j]:Y+$ in c?I=c[Y+$][j]:Y+"[other]"in c&&(I=c[Y+"[other]"][j]),I};function b(I,z,Y){var j=c[I];if(!j){if(console.warn("#"+I+" is undefined."),!Y)return null;j=Y}var P={};for(var $ in j){var B=j[$];B=m(B,z,I,$),B=L(B,z,I),P[$]=B}return P}function m(I,z,Y,j){var P=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,$=P.exec(I);if(!$||!$.length)return I;var B=$[1],pe=$[2],Ae;if(z&&pe in z?Ae=z[pe]:pe in c&&(Ae=c[pe]),B in S){var U=S[B];I=U(I,Ae,Y,j)}return I}function L(I,z,Y){var j=/\{\{\s*(.+?)\s*\}\}/g;return I.replace(j,function(P,$){return z&&$ in z?z[$]:$ in c?c[$]:(console.log("argument {{"+$+"}} for #"+Y+" is undefined."),P)})}function C(I){var z=F(I);if(!!z.id){var Y=b(z.id,z.args);if(!Y){console.warn("#"+z.id+" is undefined.");return}if(Y[o]){if(N(I)===0)I[o]=Y[o];else{for(var j=I.childNodes,P=!1,$=0,B=j.length;$<B;$++)j[$].nodeType===3&&/\S/.test(j[$].nodeValue)&&(P?j[$].nodeValue="":(j[$].nodeValue=Y[o],P=!0));if(!P){var pe=g.createTextNode(Y[o]);I.prepend(pe)}}delete Y[o]}for(var Ae in Y)I[Ae]=Y[Ae]}}function N(I){if(I.children)return I.children.length;if(typeof I.childElementCount<"u")return I.childElementCount;for(var z=0,Y=0;Y<I.childNodes.length;Y++)z+=I.nodeType===1?1:0;return z}function q(I){I=I||g.documentElement;for(var z=R(I),Y=z.length,j=0;j<Y;j++)C(z[j]);C(I)}return{get:function(I,z,Y){var j=I.lastIndexOf("."),P=o;j>0&&(P=I.substring(j+1),I=I.substring(0,j));var $;Y&&($={},$[P]=Y);var B=b(I,z,$);return B&&P in B?B[P]:"{{"+I+"}}"},getData:function(){return c},getText:function(){return r},getLanguage:function(){return A},setLanguage:function(I,z){d(I,function(){z&&z()})},getDirection:function(){var I=["ar","he","fa","ps","ur"],z=A.split("-",1)[0];return I.indexOf(z)>=0?"rtl":"ltr"},translate:q,getReadyState:function(){return E},ready:function(I){if(I)E=="complete"||E=="interactive"?l.setTimeout(function(){I()}):g.addEventListener&&g.addEventListener("localized",function z(){g.removeEventListener("localized",z),I()});else return}}}(window,document)},(l,g,c)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFHistory=void 0,g.isDestArraysEqual=R,g.isDestHashesEqual=w;var r=c(2),o=c(9);const A=1e3,S=50,E=1e3;function _(){return document.location.hash}class v{constructor({linkService:M,eventBus:T}){this.linkService=M,this.eventBus=T,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",d=>{this._isPagesLoaded=!!d.pagesCount},{once:!0})})}initialize({fingerprint:M,resetHistory:T=!1,updateUrl:d=!1}){if(!M||typeof M!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const u=this._fingerprint!==""&&this._fingerprint!==M;this._fingerprint=M,this._updateUrl=d===!0,this._initialized=!0,this._bindEvents();const D=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=_(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(D,!0)||T){const{hash:m,page:L,rotation:C}=this._parseCurrentHash(!0);if(!m||u||T){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:m,page:L,rotation:C},!0);return}const b=D.destination;this._updateInternalState(b,D.uid,!0),b.rotation!==void 0&&(this._initialRotation=b.rotation),b.dest?(this._initialBookmark=JSON.stringify(b.dest),this._destination.page=null):b.hash?this._initialBookmark=b.hash:b.page&&(this._initialBookmark=`page=${b.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:M=null,explicitDest:T,pageNumber:d}){if(!this._initialized)return;if(M&&typeof M!="string"){console.error(`PDFHistory.push: "${M}" is not a valid namedDest parameter.`);return}else if(Array.isArray(T)){if(!this._isValidPage(d)&&(d!==null||this._destination)){console.error(`PDFHistory.push: "${d}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${T}" is not a valid explicitDest parameter.`);return}const u=M||JSON.stringify(T);if(!u)return;let D=!1;if(this._destination&&(w(this._destination.hash,u)||R(this._destination.dest,T))){if(this._destination.page)return;D=!0}this._popStateInProgress&&!D||(this._pushOrReplaceState({dest:T,hash:u,page:d,rotation:this.linkService.rotation},D),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(M){var T;if(!!this._initialized){if(!this._isValidPage(M)){console.error(`PDFHistory.pushPage: "${M}" is not a valid page number.`);return}((T=this._destination)==null?void 0:T.page)!==M&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${M}`,page:M,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const M=window.history.state;this._isValidState(M)&&M.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const M=window.history.state;this._isValidState(M)&&M.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(M,T=!1){const d=T||!this._destination,u={fingerprint:this._fingerprint,uid:d?this._uid:this._uid+1,destination:M};this._updateInternalState(M,u.uid);let D;if(this._updateUrl&&(M==null?void 0:M.hash)){const b=document.location.href.split("#")[0];b.startsWith("file://")||(D=`${b}#${M.hash}`)}d?window.history.replaceState(u,"",D):window.history.pushState(u,"",D)}_tryPushCurrentPosition(M=!1){if(!this._position)return;let T=this._position;if(M&&(T=Object.assign(Object.create(null),this._position),T.temporary=!0),!this._destination){this._pushOrReplaceState(T);return}if(this._destination.temporary){this._pushOrReplaceState(T,!0);return}if(this._destination.hash===T.hash||!this._destination.page&&this._numPositionUpdates<=S)return;let d=!1;if(this._destination.page>=T.first&&this._destination.page<=T.page){if(this._destination.dest!==void 0||!this._destination.first)return;d=!0}this._pushOrReplaceState(T,d)}_isValidPage(M){return Number.isInteger(M)&&M>0&&M<=this.linkService.pagesCount}_isValidState(M,T=!1){if(!M)return!1;if(M.fingerprint!==this._fingerprint)if(T){if(typeof M.fingerprint!="string"||M.fingerprint.length!==this._fingerprint.length)return!1;const[d]=performance.getEntriesByType("navigation");if((d==null?void 0:d.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(M.uid)||M.uid<0||M.destination===null||typeof M.destination!="object")}_updateInternalState(M,T,d=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),d&&(M==null?void 0:M.temporary)&&delete M.temporary,this._destination=M,this._uid=T,this._maxUid=Math.max(this._maxUid,T),this._numPositionUpdates=0}_parseCurrentHash(M=!1){const T=unescape(_()).substring(1),d=(0,r.parseQueryString)(T),u=d.get("nameddest")||"";let D=d.get("page")|0;return(!this._isValidPage(D)||M&&u.length>0)&&(D=null),{hash:T,page:D,rotation:this.linkService.rotation}}_updateViewarea({location:M}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:M.pdfOpenParams.substring(1),page:this.linkService.page,first:M.pageNumber,rotation:M.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},E))}_popState({state:M}){const T=_(),d=this._currentHash!==T;if(this._currentHash=T,!M){this._uid++;const{hash:D,page:b,rotation:m}=this._parseCurrentHash();this._pushOrReplaceState({hash:D,page:b,rotation:m},!0);return}if(!this._isValidState(M))return;this._popStateInProgress=!0,d&&(this._blockHashChange++,(0,o.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:A}).then(()=>{this._blockHashChange--}));const u=M.destination;this._updateInternalState(u,M.uid,!0),(0,r.isValidRotation)(u.rotation)&&(this.linkService.rotation=u.rotation),u.dest?this.linkService.goToDestination(u.dest):u.hash?this.linkService.setHash(u.hash):u.page&&(this.linkService.page=u.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}g.PDFHistory=v;function w(F,M){return typeof F!="string"||typeof M!="string"?!1:F===M||(0,r.parseQueryString)(F).get("nameddest")===M}function R(F,M){function T(d,u){if(typeof d!=typeof u||Array.isArray(d)||Array.isArray(u))return!1;if(d!==null&&typeof d=="object"&&u!==null){if(Object.keys(d).length!==Object.keys(u).length)return!1;for(const D in d)if(!T(d[D],u[D]))return!1;return!0}return d===u||Number.isNaN(d)&&Number.isNaN(u)}if(!(Array.isArray(F)&&Array.isArray(M))||F.length!==M.length)return!1;for(let d=0,u=F.length;d<u;d++)if(!T(F[d],M[d]))return!1;return!0}},(l,g,c)=>{var b,m,L,C,N,q,I,z,Y,j,P,kt,B,tn,Ae,nn,y,sn,H,rn,Q,ni,ge,ii,W,an;Object.defineProperty(g,"__esModule",{value:!0}),g.PDFPageView=void 0;var r=c(4),o=c(2),A=c(14),S=c(6),E=c(15),_=c(7),v=c(5),w=c(16),R=c(17),F=c(18),M=c(19),T=c(20);const d=E.compatibilityParams.maxCanvasPixels||16777216,u=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new v.SimpleLinkService}});class D{constructor(Z){K(this,P);K(this,B);K(this,Ae);K(this,y);K(this,H);K(this,Q);K(this,ge);K(this,W);K(this,b,r.AnnotationMode.ENABLE_FORMS);K(this,m,!1);K(this,L,null);K(this,C,null);K(this,N,null);K(this,q,null);K(this,I,o.RenderingStates.INITIAL);K(this,z,o.TextLayerMode.ENABLE);K(this,Y,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});K(this,j,new WeakMap);var Pe,Se,we,le,te;const ue=Z.container,_e=Z.defaultViewport;this.id=Z.id,this.renderingId="page"+this.id,me(this,L,Z.layerProperties||u),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=Z.scale||o.DEFAULT_SCALE,this.viewport=_e,this.pdfPageRotate=_e.rotation,this._optionalContentConfigPromise=Z.optionalContentConfigPromise||null,me(this,z,(Pe=Z.textLayerMode)!=null?Pe:o.TextLayerMode.ENABLE),me(this,b,(Se=Z.annotationMode)!=null?Se:r.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=Z.imageResourcesPath||"",this.isOffscreenCanvasSupported=(we=Z.isOffscreenCanvasSupported)!=null?we:!0,this.maxCanvasPixels=(le=Z.maxCanvasPixels)!=null?le:d,this.pageColors=Z.pageColors||null,this.eventBus=Z.eventBus,this.renderingQueue=Z.renderingQueue,this.l10n=Z.l10n||_.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!((te=this.renderingQueue)!=null&&te.hasViewer()),this._container=ue,Z.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const Ee=document.createElement("div");if(Ee.className="page",Ee.setAttribute("data-page-number",this.id),Ee.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(oe=>{Ee.setAttribute("aria-label",oe)}),this.div=Ee,ae(this,P,kt).call(this),ue==null||ue.append(Ee),this._isStandalone){ue==null||ue.style.setProperty("--scale-factor",this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:oe}=Z;oe&&oe.then(he=>{oe===this._optionalContentConfigPromise&&(a(this,Y).initialOptionalContent=he.hasInitialVisibility)})}}get renderingState(){return a(this,I)}set renderingState(Z){if(Z!==a(this,I))switch(me(this,I,Z),a(this,C)&&(clearTimeout(a(this,C)),me(this,C,null)),Z){case o.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case o.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),me(this,C,setTimeout(()=>{this.div.classList.add("loading"),me(this,C,null)},0));break;case o.RenderingStates.INITIAL:case o.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(Z){var _e,Ee,Pe;this._isStandalone&&(((_e=this.pageColors)==null?void 0:_e.foreground)==="CanvasText"||((Ee=this.pageColors)==null?void 0:Ee.background)==="Canvas")&&((Pe=this._container)==null||Pe.style.setProperty("--hcm-highligh-filter",Z.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=Z,this.pdfPageRotate=Z.rotate;const ue=(this.rotation+this.pdfPageRotate)%360;this.viewport=Z.getViewport({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:ue}),ae(this,P,kt).call(this),this.reset()}destroy(){var Z;this.reset(),(Z=this.pdfPage)==null||Z.cleanup()}get _textHighlighter(){return(0,r.shadow)(this,"_textHighlighter",new F.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:a(this,L).call(this).findController}))}_resetZoomLayer(Z=!1){if(!this.zoomLayer)return;const ue=this.zoomLayer.firstChild;a(this,j).delete(ue),ue.width=0,ue.height=0,Z&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:Z=!1,keepAnnotationLayer:ue=!1,keepAnnotationEditorLayer:_e=!1,keepXfaLayer:Ee=!1,keepTextLayer:Pe=!1}={}){var Oe,je,ze,He,Ge;this.cancelRendering({keepAnnotationLayer:ue,keepAnnotationEditorLayer:_e,keepXfaLayer:Ee,keepTextLayer:Pe}),this.renderingState=o.RenderingStates.INITIAL;const Se=this.div,we=Se.childNodes,le=Z&&this.zoomLayer||null,te=ue&&((Oe=this.annotationLayer)==null?void 0:Oe.div)||null,oe=_e&&((je=this.annotationEditorLayer)==null?void 0:je.div)||null,he=Ee&&((ze=this.xfaLayer)==null?void 0:ze.div)||null,Me=Pe&&((He=this.textLayer)==null?void 0:He.div)||null;for(let Ke=we.length-1;Ke>=0;Ke--){const qe=we[Ke];switch(qe){case le:case te:case oe:case he:case Me:continue}qe.remove()}Se.removeAttribute("data-loaded"),te&&this.annotationLayer.hide(),oe&&this.annotationEditorLayer.hide(),he&&this.xfaLayer.hide(),Me&&this.textLayer.hide(),(Ge=this.structTreeLayer)==null||Ge.hide(),le||(this.canvas&&(a(this,j).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:Z=0,rotation:ue=null,optionalContentConfigPromise:_e=null,drawingDelay:Ee=-1}){var Se;this.scale=Z||this.scale,typeof ue=="number"&&(this.rotation=ue),_e instanceof Promise&&(this._optionalContentConfigPromise=_e,_e.then(we=>{_e===this._optionalContentConfigPromise&&(a(this,Y).initialOptionalContent=we.hasInitialVisibility)})),a(this,Y).directDrawing=!0;const Pe=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:Pe}),ae(this,P,kt).call(this),this._isStandalone&&((Se=this._container)==null||Se.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let we=!1;if(a(this,m)){if(this.maxCanvasPixels===0)we=!0;else if(this.maxCanvasPixels>0){const{width:te,height:oe}=this.viewport,{sx:he,sy:Me}=this.outputScale;we=(Math.floor(te)*he|0)*(Math.floor(oe)*Me|0)>this.maxCanvasPixels}}const le=!we&&Ee>=0&&Ee<1e3;if(le||we){if(le&&this.renderingState!==o.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:Ee}),this.renderingState=o.RenderingStates.FINISHED,a(this,Y).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!le,hideTextLayer:le}),le)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:a(this,q)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:Z=!1,keepAnnotationEditorLayer:ue=!1,keepXfaLayer:_e=!1,keepTextLayer:Ee=!1,cancelExtraDelay:Pe=0}={}){var Se;this.renderTask&&(this.renderTask.cancel(Pe),this.renderTask=null),this.resume=null,this.textLayer&&(!Ee||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!Z||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!ue||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!_e||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(Se=this._textHighlighter)==null||Se.disable())}cssTransform({target:Z,redrawAnnotationLayer:ue=!1,redrawAnnotationEditorLayer:_e=!1,redrawXfaLayer:Ee=!1,redrawTextLayer:Pe=!1,hideTextLayer:Se=!1}){var le;if(!Z.hasAttribute("zooming")){Z.setAttribute("zooming",!0);const{style:te}=Z;te.width=te.height=""}const we=a(this,j).get(Z);if(this.viewport!==we){const te=this.viewport.rotation-we.rotation,oe=Math.abs(te);let he=1,Me=1;if(oe===90||oe===270){const{width:Oe,height:je}=this.viewport;he=je/Oe,Me=Oe/je}Z.style.transform=`rotate(${te}deg) scale(${he}, ${Me})`}ue&&this.annotationLayer&&ae(this,B,tn).call(this),_e&&this.annotationEditorLayer&&ae(this,Ae,nn).call(this),Ee&&this.xfaLayer&&ae(this,y,sn).call(this),this.textLayer&&(Se?(this.textLayer.hide(),(le=this.structTreeLayer)==null||le.hide()):Pe&&ae(this,H,rn).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(Z,ue){return this.viewport.convertToPdfPoint(Z,ue)}async draw(){this.renderingState!==o.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:Z,l10n:ue,pageColors:_e,pdfPage:Ee,viewport:Pe}=this;if(!Ee)throw this.renderingState=o.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=o.RenderingStates.RUNNING;const Se=document.createElement("div");if(Se.classList.add("canvasWrapper"),Z.append(Se),!this.textLayer&&a(this,z)!==o.TextLayerMode.DISABLE&&!Ee.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new R.TextAccessibilityManager),this.textLayer=new M.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:a(this,z)===o.TextLayerMode.ENABLE_PERMISSIONS}),Z.append(this.textLayer.div)),!this.annotationLayer&&a(this,b)!==r.AnnotationMode.DISABLE){const{annotationStorage:G,downloadManager:be,enableScripting:Ve,fieldObjectsPromise:Le,hasJSActionsPromise:Te,linkService:Ie}=a(this,L).call(this);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new S.AnnotationLayerBuilder({pageDiv:Z,pdfPage:Ee,annotationStorage:G,imageResourcesPath:this.imageResourcesPath,renderForms:a(this,b)===r.AnnotationMode.ENABLE_FORMS,linkService:Ie,downloadManager:be,l10n:ue,enableScripting:Ve,hasJSActionsPromise:Te,fieldObjectsPromise:Le,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}const we=G=>{if(Me==null||Me(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=o.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=o.RenderingStates.RUNNING,G()};return}G()},{width:le,height:te}=Pe,oe=document.createElement("canvas");oe.setAttribute("role","presentation"),oe.hidden=!0;const he=!!((_e==null?void 0:_e.background)&&(_e==null?void 0:_e.foreground));let Me=G=>{(!he||G)&&(oe.hidden=!1,Me=null)};Se.append(oe),this.canvas=oe;const Oe=oe.getContext("2d",{alpha:!1}),je=this.outputScale=new o.OutputScale;if(this.maxCanvasPixels===0){const G=1/this.scale;je.sx*=G,je.sy*=G,me(this,m,!0)}else if(this.maxCanvasPixels>0){const G=le*te,be=Math.sqrt(this.maxCanvasPixels/G);je.sx>be||je.sy>be?(je.sx=be,je.sy=be,me(this,m,!0)):me(this,m,!1)}const ze=(0,o.approximateFraction)(je.sx),He=(0,o.approximateFraction)(je.sy);oe.width=(0,o.roundToDivide)(le*je.sx,ze[0]),oe.height=(0,o.roundToDivide)(te*je.sy,He[0]);const{style:Ge}=oe;Ge.width=(0,o.roundToDivide)(le,ze[1])+"px",Ge.height=(0,o.roundToDivide)(te,He[1])+"px",a(this,j).set(oe,Pe);const Ke=je.scaled?[je.sx,0,0,je.sy,0,0]:null,qe={canvasContext:Oe,transform:Ke,viewport:Pe,annotationMode:a(this,b),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:_e},Fe=this.renderTask=this.pdfPage.render(qe);Fe.onContinue=we;const O=Fe.promise.then(async()=>{var G;if(Me==null||Me(!0),await ae(this,W,an).call(this,Fe),ae(this,H,rn).call(this),this.annotationLayer&&await ae(this,B,tn).call(this),!this.annotationEditorLayer){const{annotationEditorUIManager:be}=a(this,L).call(this);if(!be)return;this.annotationEditorLayer=new A.AnnotationEditorLayerBuilder({uiManager:be,pageDiv:Z,pdfPage:Ee,l10n:ue,accessibilityManager:this._accessibilityManager,annotationLayer:(G=this.annotationLayer)==null?void 0:G.annotationLayer})}ae(this,Ae,nn).call(this)},G=>(G instanceof r.RenderingCancelledException||Me==null||Me(!0),ae(this,W,an).call(this,Fe,G)));if(Ee.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&Z.append(this.xfaLayer.div);else{const{annotationStorage:G,linkService:be}=a(this,L).call(this);this.xfaLayer=new T.XfaLayerBuilder({pageDiv:Z,pdfPage:Ee,annotationStorage:G,linkService:be})}ae(this,y,sn).call(this)}return Z.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),O}setPageLabel(Z){this.pageLabel=typeof Z=="string"?Z:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:Z,initialOptionalContent:ue,regularAnnotations:_e}=a(this,Y);return Z&&ue&&_e?this.canvas:null}}b=new WeakMap,m=new WeakMap,L=new WeakMap,C=new WeakMap,N=new WeakMap,q=new WeakMap,I=new WeakMap,z=new WeakMap,Y=new WeakMap,j=new WeakMap,P=new WeakSet,kt=function(){const{viewport:Z}=this;if(this.pdfPage){if(a(this,N)===Z.rotation)return;me(this,N,Z.rotation)}(0,r.setLayerDimensions)(this.div,Z,!0,!1)},B=new WeakSet,tn=async function(){let Z=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(ue){console.error(`#renderAnnotationLayer: "${ue}".`),Z=ue}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:Z})}},Ae=new WeakSet,nn=async function(){let Z=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(ue){console.error(`#renderAnnotationEditorLayer: "${ue}".`),Z=ue}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:Z})}},y=new WeakSet,sn=async function(){let Z=null;try{const ue=await this.xfaLayer.render(this.viewport,"display");(ue==null?void 0:ue.textDivs)&&this._textHighlighter&&ae(this,ge,ii).call(this,ue.textDivs)}catch(ue){console.error(`#renderXfaLayer: "${ue}".`),Z=ue}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:Z})}},H=new WeakSet,rn=async function(){const{pdfPage:Z,textLayer:ue,viewport:_e}=this;if(!ue)return;let Ee=null;try{if(!ue.renderingDone){const Pe=Z.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});ue.setTextContentSource(Pe)}await ue.render(_e)}catch(Pe){if(Pe instanceof r.AbortException)return;console.error(`#renderTextLayer: "${Pe}".`),Ee=Pe}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:ue.numTextDivs,error:Ee}),ae(this,Q,ni).call(this)},Q=new WeakSet,ni=async function(){var _e,Ee,Pe;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new w.StructTreeLayerBuilder);const Z=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),ue=(_e=this.structTreeLayer)==null?void 0:_e.render(Z);ue&&((Ee=this.canvas)==null||Ee.append(ue)),(Pe=this.structTreeLayer)==null||Pe.show()},ge=new WeakSet,ii=async function(Z){const ue=await this.pdfPage.getTextContent(),_e=[];for(const Ee of ue.items)_e.push(Ee.str);this._textHighlighter.setTextMapping(Z,_e),this._textHighlighter.enable()},W=new WeakSet,an=async function(Z,ue=null){if(Z===this.renderTask&&(this.renderTask=null),ue instanceof r.RenderingCancelledException){me(this,q,null);return}if(me(this,q,ue),this.renderingState=o.RenderingStates.FINISHED,this._resetZoomLayer(!0),a(this,Y).regularAnnotations=!Z.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:a(this,q)}),ue)throw ue},g.PDFPageView=D},(l,g,c)=>{var S,E;Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationEditorLayerBuilder=void 0;var r=c(4),o=c(7);class A{constructor(v){K(this,S,null);K(this,E,void 0);this.pageDiv=v.pageDiv,this.pdfPage=v.pdfPage,this.accessibilityManager=v.accessibilityManager,this.l10n=v.l10n||o.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,me(this,E,v.uiManager),me(this,S,v.annotationLayer||null)}async render(v,w="display"){if(w!=="display"||this._cancelled)return;const R=v.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:R}),this.show();return}const F=this.div=document.createElement("div");F.className="annotationEditorLayer",F.tabIndex=0,F.hidden=!0,this.pageDiv.append(F),this.annotationEditorLayer=new r.AnnotationEditorLayer({uiManager:a(this,E),div:F,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:R,annotationLayer:a(this,S)});const M={viewport:R,div:F,annotations:null,intent:w};this.annotationEditorLayer.render(M),this.show()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){!this.div||(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}S=new WeakMap,E=new WeakMap,g.AnnotationEditorLayerBuilder=A},(l,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.compatibilityParams=g.OptionKind=g.AppOptions=void 0;const c=Object.create(null);g.compatibilityParams=c;{const E=navigator.userAgent||"",_=navigator.platform||"",v=navigator.maxTouchPoints||1,w=/Android/.test(E),R=/\b(iPad|iPhone|iPod)(?=;)/.test(E)||_==="MacIntel"&&v>1;(function(){(R||w)&&(c.maxCanvasPixels=5242880)})()}const r={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};g.OptionKind=r;const o={annotationEditorMode:{value:0,kind:r.VIEWER+r.PREFERENCE},annotationMode:{value:2,kind:r.VIEWER+r.PREFERENCE},cursorToolOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},defaultZoomDelay:{value:400,kind:r.VIEWER+r.PREFERENCE},defaultZoomValue:{value:"",kind:r.VIEWER+r.PREFERENCE},disableHistory:{value:!1,kind:r.VIEWER},disablePageLabels:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePermissions:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:r.VIEWER+r.PREFERENCE},enableScripting:{value:!0,kind:r.VIEWER+r.PREFERENCE},enableStampEditor:{value:!0,kind:r.VIEWER+r.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:r.VIEWER},externalLinkTarget:{value:0,kind:r.VIEWER+r.PREFERENCE},historyUpdateUrl:{value:!1,kind:r.VIEWER+r.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},imageResourcesPath:{value:"./images/",kind:r.VIEWER},maxCanvasPixels:{value:16777216,kind:r.VIEWER},forcePageColors:{value:!1,kind:r.VIEWER+r.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:r.VIEWER+r.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:r.VIEWER+r.PREFERENCE},pdfBugEnabled:{value:!1,kind:r.VIEWER+r.PREFERENCE},printResolution:{value:150,kind:r.VIEWER},sidebarViewOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},scrollModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},spreadModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},textLayerMode:{value:1,kind:r.VIEWER+r.PREFERENCE},viewerCssTheme:{value:0,kind:r.VIEWER+r.PREFERENCE},viewOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},cMapPacked:{value:!0,kind:r.API},cMapUrl:{value:"../web/cmaps/",kind:r.API},disableAutoFetch:{value:!1,kind:r.API+r.PREFERENCE},disableFontFace:{value:!1,kind:r.API+r.PREFERENCE},disableRange:{value:!1,kind:r.API+r.PREFERENCE},disableStream:{value:!1,kind:r.API+r.PREFERENCE},docBaseUrl:{value:"",kind:r.API},enableXfa:{value:!0,kind:r.API+r.PREFERENCE},fontExtraProperties:{value:!1,kind:r.API},isEvalSupported:{value:!0,kind:r.API},isOffscreenCanvasSupported:{value:!0,kind:r.API},maxImageSize:{value:-1,kind:r.API},pdfBug:{value:!1,kind:r.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:r.API},verbosity:{value:1,kind:r.API},workerPort:{value:null,kind:r.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:r.WORKER}};o.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:r.VIEWER},o.disablePreferences={value:!1,kind:r.VIEWER},o.locale={value:navigator.language||"en-US",kind:r.VIEWER},o.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:r.VIEWER};const A=Object.create(null);class S{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(_){var R;const v=A[_];if(v!==void 0)return v;const w=o[_];if(w!==void 0)return(R=c[_])!=null?R:w.value}static getAll(_=null){var w;const v=Object.create(null);for(const R in o){const F=o[R];if(_){if((_&F.kind)===0)continue;if(_===r.PREFERENCE){const T=F.value,d=typeof T;if(d==="boolean"||d==="string"||d==="number"&&Number.isInteger(T)){v[R]=T;continue}throw new Error(`Invalid type for preference: ${R}`)}}const M=A[R];v[R]=M!==void 0?M:(w=c[R])!=null?w:F.value}return v}static set(_,v){A[_]=v}static setAll(_){for(const v in _)A[v]=_[v]}static remove(_){delete A[_]}}g.AppOptions=S,S._hasUserOptions=function(){return Object.keys(A).length>0}},(l,g)=>{var A,S,on,_,ln;Object.defineProperty(g,"__esModule",{value:!0}),g.StructTreeLayerBuilder=void 0;const c={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r=/^H(\d+)$/;class o{constructor(){K(this,S);K(this,_);K(this,A,void 0)}get renderingDone(){return a(this,A)!==void 0}render(R){if(a(this,A)!==void 0)return a(this,A);const F=ae(this,_,ln).call(this,R);return F==null||F.classList.add("structTree"),me(this,A,F)}hide(){a(this,A)&&!a(this,A).hidden&&(a(this,A).hidden=!0)}show(){var R;(R=a(this,A))!=null&&R.hidden&&(a(this,A).hidden=!1)}}A=new WeakMap,S=new WeakSet,on=function(R,F){R.alt!==void 0&&F.setAttribute("aria-label",R.alt),R.id!==void 0&&F.setAttribute("aria-owns",R.id),R.lang!==void 0&&F.setAttribute("lang",R.lang)},_=new WeakSet,ln=function(R){if(!R)return null;const F=document.createElement("span");if("role"in R){const{role:M}=R,T=M.match(r);T?(F.setAttribute("role","heading"),F.setAttribute("aria-level",T[1])):c[M]&&F.setAttribute("role",c[M])}if(ae(this,S,on).call(this,R,F),R.children)if(R.children.length===1&&"id"in R.children[0])ae(this,S,on).call(this,R.children[0],F);else for(const M of R.children)F.append(ae(this,_,ln).call(this,M));return F},g.StructTreeLayerBuilder=o},(l,g,c)=>{var A,S,E,_,v,Mt,R,cn;Object.defineProperty(g,"__esModule",{value:!0}),g.TextAccessibilityManager=void 0;var r=c(2);const M=class{constructor(){K(this,R);K(this,A,!1);K(this,S,null);K(this,E,new Map);K(this,_,new Map)}setTextMapping(d){me(this,S,d)}enable(){if(a(this,A))throw new Error("TextAccessibilityManager is already enabled.");if(!a(this,S))throw new Error("Text divs and strings have not been set.");if(me(this,A,!0),me(this,S,a(this,S).slice()),a(this,S).sort(ae(M,v,Mt)),a(this,E).size>0){const d=a(this,S);for(const[u,D]of a(this,E)){if(!document.getElementById(u)){a(this,E).delete(u);continue}ae(this,R,cn).call(this,u,d[D])}}for(const[d,u]of a(this,_))this.addPointerInTextLayer(d,u);a(this,_).clear()}disable(){!a(this,A)||(a(this,_).clear(),me(this,S,null),me(this,A,!1))}removePointerInTextLayer(d){if(!a(this,A)){a(this,_).delete(d);return}const u=a(this,S);if(!u||u.length===0)return;const{id:D}=d,b=a(this,E).get(D);if(b===void 0)return;const m=u[b];a(this,E).delete(D);let L=m.getAttribute("aria-owns");L!=null&&L.includes(D)&&(L=L.split(" ").filter(C=>C!==D).join(" "),L?m.setAttribute("aria-owns",L):(m.removeAttribute("aria-owns"),m.setAttribute("role","presentation")))}addPointerInTextLayer(d,u){const{id:D}=d;if(!D)return;if(!a(this,A)){a(this,_).set(d,u);return}u&&this.removePointerInTextLayer(d);const b=a(this,S);if(!b||b.length===0)return;const m=(0,r.binarySearchFirstItem)(b,C=>{var N;return ae(N=M,v,Mt).call(N,d,C)<0}),L=Math.max(0,m-1);ae(this,R,cn).call(this,D,b[L]),a(this,E).set(D,L)}moveElementInDOM(d,u,D,b){if(this.addPointerInTextLayer(D,b),!d.hasChildNodes()){d.append(u);return}const m=Array.from(d.childNodes).filter(N=>N!==u);if(m.length===0)return;const L=D||u,C=(0,r.binarySearchFirstItem)(m,N=>{var q;return ae(q=M,v,Mt).call(q,L,N)<0});C===0?m[0].before(u):m[C-1].after(u)}};let o=M;A=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakSet,Mt=function(d,u){const D=d.getBoundingClientRect(),b=u.getBoundingClientRect();if(D.width===0&&D.height===0)return 1;if(b.width===0&&b.height===0)return-1;const m=D.y,L=D.y+D.height,C=D.y+D.height/2,N=b.y,q=b.y+b.height,I=b.y+b.height/2;if(C<=N&&I>=L)return-1;if(I<=m&&C>=q)return 1;const z=D.x+D.width/2,Y=b.x+b.width/2;return z-Y},R=new WeakSet,cn=function(d,u){const D=u.getAttribute("aria-owns");D!=null&&D.includes(d)||u.setAttribute("aria-owns",D?`${D} ${d}`:d),u.removeAttribute("role")},K(o,v),g.TextAccessibilityManager=o},(l,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextHighlighter=void 0;class c{constructor({findController:o,eventBus:A,pageIndex:S}){this.findController=o,this.matches=[],this.eventBus=A,this.pageIdx=S,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(o,A){this.textDivs=o,this.textContentItemsStr=A}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=o=>{(o.pageIndex===this.pageIdx||o.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(o,A){if(!o)return[];const{textContentItemsStr:S}=this;let E=0,_=0;const v=S.length-1,w=[];for(let R=0,F=o.length;R<F;R++){let M=o[R];for(;E!==v&&M>=_+S[E].length;)_+=S[E].length,E++;E===S.length&&console.error("Could not find a matching mapping");const T={begin:{divIdx:E,offset:M-_}};for(M+=A[R];E!==v&&M>_+S[E].length;)_+=S[E].length,E++;T.end={divIdx:E,offset:M-_},w.push(T)}return w}_renderMatches(o){if(o.length===0)return;const{findController:A,pageIdx:S}=this,{textContentItemsStr:E,textDivs:_}=this,v=S===A.selected.pageIdx,w=A.selected.matchIdx,R=A.state.highlightAll;let F=null;const M={divIdx:-1,offset:void 0};function T(L,C){const N=L.divIdx;return _[N].textContent="",d(N,0,L.offset,C)}function d(L,C,N,q){let I=_[L];if(I.nodeType===Node.TEXT_NODE){const j=document.createElement("span");I.before(j),j.append(I),_[L]=j,I=j}const z=E[L].substring(C,N),Y=document.createTextNode(z);if(q){const j=document.createElement("span");return j.className=`${q} appended`,j.append(Y),I.append(j),q.includes("selected")?j.offsetLeft:0}return I.append(Y),0}let u=w,D=u+1;if(R)u=0,D=o.length;else if(!v)return;let b=-1,m=-1;for(let L=u;L<D;L++){const C=o[L],N=C.begin;if(N.divIdx===b&&N.offset===m)continue;b=N.divIdx,m=N.offset;const q=C.end,I=v&&L===w,z=I?" selected":"";let Y=0;if(!F||N.divIdx!==F.divIdx?(F!==null&&d(F.divIdx,F.offset,M.offset),T(N)):d(F.divIdx,F.offset,N.offset),N.divIdx===q.divIdx)Y=d(N.divIdx,N.offset,q.offset,"highlight"+z);else{Y=d(N.divIdx,N.offset,M.offset,"highlight begin"+z);for(let j=N.divIdx+1,P=q.divIdx;j<P;j++)_[j].className="highlight middle"+z;T(q,"highlight end"+z)}F=q,I&&A.scrollMatchIntoView({element:_[N.divIdx],selectedLeft:Y,pageIndex:S,matchIndex:w})}F&&d(F.divIdx,F.offset,M.offset)}_updateMatches(o=!1){if(!this.enabled&&!o)return;const{findController:A,matches:S,pageIdx:E}=this,{textContentItemsStr:_,textDivs:v}=this;let w=-1;for(const M of S){const T=Math.max(w,M.begin.divIdx);for(let d=T,u=M.end.divIdx;d<=u;d++){const D=v[d];D.textContent=_[d],D.className=""}w=M.end.divIdx+1}if(!(A!=null&&A.highlightMatches)||o)return;const R=A.pageMatches[E]||null,F=A.pageMatchesLength[E]||null;this.matches=this._convertMatches(R,F),this._renderMatches(this.matches)}}g.TextHighlighter=c},(l,g,c)=>{var S,E,_,v,w,si,F,ri;Object.defineProperty(g,"__esModule",{value:!0}),g.TextLayerBuilder=void 0;var r=c(4),o=c(2);class A{constructor({highlighter:d=null,accessibilityManager:u=null,isOffscreenCanvasSupported:D=!0,enablePermissions:b=!1}){K(this,w);K(this,F);K(this,S,!1);K(this,E,0);K(this,_,0);K(this,v,null);this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=d,this.accessibilityManager=u,this.isOffscreenCanvasSupported=D,me(this,S,b===!0),this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}get numTextDivs(){return this.textDivs.length}async render(d){var b,m,L;if(!a(this,v))throw new Error('No "textContentSource" parameter specified.');const u=d.scale*(globalThis.devicePixelRatio||1),{rotation:D}=d;if(this.renderingDone){const C=D!==a(this,E),N=u!==a(this,_);(C||N)&&(this.hide(),(0,r.updateTextLayer)({container:this.div,viewport:d,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:N,mustRotate:C}),me(this,_,u),me(this,E,D)),this.show();return}this.cancel(),(b=this.highlighter)==null||b.setTextMapping(this.textDivs,this.textContentItemsStr),(m=this.accessibilityManager)==null||m.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,r.renderTextLayer)({textContentSource:a(this,v),container:this.div,viewport:d,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),await this.textLayerRenderTask.promise,ae(this,w,si).call(this),me(this,_,u),me(this,E,D),this.show(),(L=this.accessibilityManager)==null||L.enable()}hide(){var d;this.div.hidden||((d=this.highlighter)==null||d.disable(),this.div.hidden=!0)}show(){var d;this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,(d=this.highlighter)==null||d.enable())}cancel(){var d,u;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(d=this.highlighter)==null||d.disable(),(u=this.accessibilityManager)==null||u.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(d){this.cancel(),me(this,v,d)}}S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakSet,si=function(){this.renderingDone=!0;const d=document.createElement("div");d.className="endOfContent",this.div.append(d),ae(this,F,ri).call(this)},F=new WeakSet,ri=function(){const{div:d}=this;d.addEventListener("mousedown",u=>{const D=d.querySelector(".endOfContent");if(!D)return;let b=u.target!==d;if(b&&(b=getComputedStyle(D).getPropertyValue("-moz-user-select")!=="none"),b){const m=d.getBoundingClientRect(),L=Math.max(0,(u.pageY-m.top)/m.height);D.style.top=(L*100).toFixed(2)+"%"}D.classList.add("active")}),d.addEventListener("mouseup",()=>{const u=d.querySelector(".endOfContent");!u||(u.style.top="",u.classList.remove("active"))}),d.addEventListener("copy",u=>{if(!a(this,S)){const D=document.getSelection();u.clipboardData.setData("text/plain",(0,o.removeNullCharacters)((0,r.normalizeUnicode)(D.toString())))}u.preventDefault(),u.stopPropagation()})},g.TextLayerBuilder=A},(l,g,c)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayerBuilder=void 0;var r=c(4);class o{constructor({pageDiv:S,pdfPage:E,annotationStorage:_=null,linkService:v,xfaHtml:w=null}){this.pageDiv=S,this.pdfPage=E,this.annotationStorage=_,this.linkService=v,this.xfaHtml=w,this.div=null,this._cancelled=!1}async render(S,E="display"){if(E==="print"){const w={viewport:S.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:E},R=document.createElement("div");return this.pageDiv.append(R),w.div=R,r.XfaLayer.render(w)}const _=await this.pdfPage.getXfa();if(this._cancelled||!_)return{textDivs:[]};const v={viewport:S.clone({dontFlip:!0}),div:this.div,xfaHtml:_,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:E};return this.div?r.XfaLayer.update(v):(this.div=document.createElement("div"),this.pageDiv.append(this.div),v.div=this.div,r.XfaLayer.render(v))}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}g.XfaLayerBuilder=o},(l,g,c)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFScriptingManager=void 0;var r=c(22),o=c(23);class A extends o.PDFScriptingManager{constructor(E){E.externalServices||window.addEventListener("updatefromsandbox",_=>{E.eventBus.dispatch("updatefromsandbox",{source:window,detail:_.detail})}),E.externalServices||(E.externalServices={createScripting:({sandboxBundleSrc:_})=>new r.GenericScripting(_)}),E.docProperties||(E.docProperties=_=>(0,r.docProperties)(_)),super(E)}}g.PDFScriptingManager=A},(l,g,c)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericScripting=void 0,g.docProperties=o;var r=c(4);async function o(S){const E="",_=E.split("#")[0];let{info:v,metadata:w,contentDispositionFilename:R,contentLength:F}=await S.getMetadata();if(!F){const{length:M}=await S.getDownloadInfo();F=M}return{...v,baseURL:_,filesize:F,filename:R||(0,r.getPdfFilenameFromUrl)(E),metadata:w==null?void 0:w.getRaw(),authors:w==null?void 0:w.get("dc:creator"),numPages:S.numPages,URL:E}}class A{constructor(E){this._ready=(0,r.loadScript)(E,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(E){(await this._ready).create(E)}async dispatchEventInSandbox(E){const _=await this._ready;setTimeout(()=>_.dispatchEvent(E),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}g.GenericScripting=A},(l,g,c)=>{var S,E,_,v,w,R,F,M,T,d,u,D,ai,m,Rt,C,un,q,oi,z,vt;Object.defineProperty(g,"__esModule",{value:!0}),g.PDFScriptingManager=void 0;var r=c(2),o=c(4);class A{constructor({eventBus:P,sandboxBundleSrc:$=null,externalServices:B=null,docProperties:pe=null}){K(this,D);K(this,m);K(this,C);K(this,q);K(this,z);K(this,S,null);K(this,E,null);K(this,_,null);K(this,v,null);K(this,w,null);K(this,R,null);K(this,F,null);K(this,M,!1);K(this,T,null);K(this,d,null);K(this,u,null);me(this,v,P),me(this,T,$),me(this,w,B),me(this,_,pe)}setViewer(P){me(this,F,P)}async setDocument(P){var Ae;if(a(this,R)&&await ae(this,z,vt).call(this),me(this,R,P),!P)return;const[$,B,pe]=await Promise.all([P.getFieldObjects(),P.getCalculationOrderIds(),P.getJSActions()]);if(!$&&!pe){await ae(this,z,vt).call(this);return}if(P===a(this,R)){try{me(this,d,ae(this,q,oi).call(this))}catch(U){console.error(`setDocument: "${U.message}".`),await ae(this,z,vt).call(this);return}this._internalEvents.set("updatefromsandbox",U=>{(U==null?void 0:U.source)===window&&ae(this,D,ai).call(this,U.detail)}),this._internalEvents.set("dispatcheventinsandbox",U=>{var y;(y=a(this,d))==null||y.dispatchEventInSandbox(U.detail)}),this._internalEvents.set("pagechanging",({pageNumber:U,previous:y})=>{U!==y&&(ae(this,C,un).call(this,y),ae(this,m,Rt).call(this,U))}),this._internalEvents.set("pagerendered",({pageNumber:U})=>{!this._pageOpenPending.has(U)||U===a(this,F).currentPageNumber&&ae(this,m,Rt).call(this,U)}),this._internalEvents.set("pagesdestroy",async()=>{var U,y;await ae(this,C,un).call(this,a(this,F).currentPageNumber),await((U=a(this,d))==null?void 0:U.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(y=a(this,S))==null||y.resolve()});for(const[U,y]of this._internalEvents)a(this,v)._on(U,y);try{const U=await a(this,_).call(this,P);if(P!==a(this,R))return;await a(this,d).createSandbox({objects:$,calculationOrder:B,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...U,actions:pe}}),a(this,v).dispatch("sandboxcreated",{source:this})}catch(U){console.error(`setDocument: "${U.message}".`),await ae(this,z,vt).call(this);return}await((Ae=a(this,d))==null?void 0:Ae.dispatchEventInSandbox({id:"doc",name:"Open"})),await ae(this,m,Rt).call(this,a(this,F).currentPageNumber,!0),Promise.resolve().then(()=>{P===a(this,R)&&me(this,M,!0)})}}async dispatchWillSave(){var P;return(P=a(this,d))==null?void 0:P.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var P;return(P=a(this,d))==null?void 0:P.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var P;if(!!a(this,d)){await((P=a(this,u))==null?void 0:P.promise),me(this,u,new o.PromiseCapability);try{await a(this,d).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch($){throw a(this,u).resolve(),me(this,u,null),$}await a(this,u).promise}}async dispatchDidPrint(){var P;return(P=a(this,d))==null?void 0:P.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var P;return((P=a(this,E))==null?void 0:P.promise)||null}get ready(){return a(this,M)}get _internalEvents(){return(0,o.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,o.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,o.shadow)(this,"_visitedPages",new Map)}}S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakMap,R=new WeakMap,F=new WeakMap,M=new WeakMap,T=new WeakMap,d=new WeakMap,u=new WeakMap,D=new WeakSet,ai=async function(P){var H,se;const $=a(this,F),B=$.isInPresentationMode||$.isChangingPresentationMode,{id:pe,siblings:Ae,command:U,value:y}=P;if(!pe){switch(U){case"clear":console.clear();break;case"error":console.error(y);break;case"layout":if(!B){const Q=(0,r.apiPageLayoutToViewerModes)(y);$.spreadMode=Q.spreadMode}break;case"page-num":$.currentPageNumber=y+1;break;case"print":await $.pagesPromise,a(this,v).dispatch("print",{source:this});break;case"println":console.log(y);break;case"zoom":B||($.currentScaleValue=y);break;case"SaveAs":a(this,v).dispatch("download",{source:this});break;case"FirstPage":$.currentPageNumber=1;break;case"LastPage":$.currentPageNumber=$.pagesCount;break;case"NextPage":$.nextPage();break;case"PrevPage":$.previousPage();break;case"ZoomViewIn":B||$.increaseScale();break;case"ZoomViewOut":B||$.decreaseScale();break;case"WillPrintFinished":(H=a(this,u))==null||H.resolve(),me(this,u,null);break}return}if(B&&P.focus)return;delete P.id,delete P.siblings;const k=Ae?[pe,...Ae]:[pe];for(const Q of k){const de=document.querySelector(`[data-element-id="${Q}"]`);de?de.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:P})):(se=a(this,R))==null||se.annotationStorage.setValue(Q,P)}},m=new WeakSet,Rt=async function(P,$=!1){const B=a(this,R),pe=this._visitedPages;if($&&me(this,S,new o.PromiseCapability),!a(this,S))return;const Ae=a(this,F).getPageView(P-1);if((Ae==null?void 0:Ae.renderingState)!==r.RenderingStates.FINISHED){this._pageOpenPending.add(P);return}this._pageOpenPending.delete(P);const U=(async()=>{var k,H;const y=await(pe.has(P)?null:(k=Ae.pdfPage)==null?void 0:k.getJSActions());B===a(this,R)&&await((H=a(this,d))==null?void 0:H.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:P,actions:y}))})();pe.set(P,U)},C=new WeakSet,un=async function(P){var Ae;const $=a(this,R),B=this._visitedPages;if(!a(this,S)||this._pageOpenPending.has(P))return;const pe=B.get(P);!pe||(B.set(P,null),await pe,$===a(this,R)&&await((Ae=a(this,d))==null?void 0:Ae.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:P})))},q=new WeakSet,oi=function(){if(me(this,E,new o.PromiseCapability),a(this,d))throw new Error("#initScripting: Scripting already exists.");return a(this,w).createScripting({sandboxBundleSrc:a(this,T)})},z=new WeakSet,vt=async function(){var P,$,B;if(!a(this,d)){me(this,R,null),(P=a(this,E))==null||P.resolve();return}a(this,S)&&(await Promise.race([a(this,S).promise,new Promise(pe=>{setTimeout(pe,1e3)})]).catch(()=>{}),me(this,S,null)),me(this,R,null);try{await a(this,d).destroySandbox()}catch{}($=a(this,u))==null||$.reject(new Error("Scripting destroyed.")),me(this,u,null);for(const[pe,Ae]of this._internalEvents)a(this,v)._off(pe,Ae);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),me(this,d,null),me(this,M,!1),(B=a(this,E))==null||B.resolve()},g.PDFScriptingManager=A},(l,g,c)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFSinglePageViewer=void 0;var r=c(2),o=c(25);class A extends o.PDFViewer{_resetView(){super._resetView(),this._scrollMode=r.ScrollMode.PAGE,this._spreadMode=r.SpreadMode.NONE}set scrollMode(E){}_updateScrollMode(){}set spreadMode(E){}_updateSpreadMode(){}}g.PDFSinglePageViewer=A},(l,g,c)=>{var T,d,u,dn,b,m,L,C,N,q,I,z,Y,j,P,$,B,pe,Ae,U,y,li,H,ci,Q,ui,ge,di,W,bt,ce,It,ue,hi,Ee,hn,Se,fi,le,at,oe,fn,Me,pi,je,gi,He,pn,Ke,mi;Object.defineProperty(g,"__esModule",{value:!0}),g.PagesCountLimit=g.PDFViewer=g.PDFPageViewBuffer=void 0;var r=c(4),o=c(2),A=c(7),S=c(13),E=c(26),_=c(5);const v=10,w={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};g.PagesCountLimit=w;function R(Fe){return Object.values(r.AnnotationEditorType).includes(Fe)&&Fe!==r.AnnotationEditorType.DISABLE}class F{constructor(O){K(this,u);K(this,T,new Set);K(this,d,0);me(this,d,O)}push(O){const G=a(this,T);G.has(O)&&G.delete(O),G.add(O),G.size>a(this,d)&&ae(this,u,dn).call(this)}resize(O,G=null){me(this,d,O);const be=a(this,T);if(G){const Ve=be.size;let Le=1;for(const Te of be)if(G.has(Te.id)&&(be.delete(Te),be.add(Te)),++Le>Ve)break}for(;be.size>a(this,d);)ae(this,u,dn).call(this)}has(O){return a(this,T).has(O)}[Symbol.iterator](){return a(this,T).keys()}}T=new WeakMap,d=new WeakMap,u=new WeakSet,dn=function(){const O=a(this,T).keys().next().value;O==null||O.destroy(),a(this,T).delete(O)},g.PDFPageViewBuffer=F;class M{constructor(O){K(this,y);K(this,H);K(this,Q);K(this,ge);K(this,W);K(this,ce);K(this,ue);K(this,Ee);K(this,Se);K(this,le);K(this,oe);K(this,Me);K(this,je);K(this,He);K(this,Ke);K(this,b,null);K(this,m,r.AnnotationEditorType.NONE);K(this,L,null);K(this,C,r.AnnotationMode.ENABLE_FORMS);K(this,N,null);K(this,q,null);K(this,I,!1);K(this,z,!1);K(this,Y,null);K(this,j,!1);K(this,P,0);K(this,$,new ResizeObserver(ae(this,Ke,mi).bind(this)));K(this,B,null);K(this,pe,null);K(this,Ae,null);K(this,U,o.TextLayerMode.ENABLE);var be,Ve,Le,Te,Ie,ee;const G="3.10.111";if(r.version!==G)throw new Error(`The API version "${r.version}" does not match the Viewer version "${G}".`);if(this.container=O.container,this.viewer=O.viewer||O.container.firstElementChild,((be=this.container)==null?void 0:be.tagName)!=="DIV"||((Ve=this.viewer)==null?void 0:Ve.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");a(this,$).observe(this.container),this.eventBus=O.eventBus,this.linkService=O.linkService||new _.SimpleLinkService,this.downloadManager=O.downloadManager||null,this.findController=O.findController||null,this.findController&&(this.findController.onIsPageVisible=Ce=>this._getVisiblePages().ids.has(Ce)),this._scriptingManager=O.scriptingManager||null,me(this,U,(Le=O.textLayerMode)!=null?Le:o.TextLayerMode.ENABLE),me(this,C,(Te=O.annotationMode)!=null?Te:r.AnnotationMode.ENABLE_FORMS),me(this,m,(Ie=O.annotationEditorMode)!=null?Ie:r.AnnotationEditorType.NONE),this.imageResourcesPath=O.imageResourcesPath||"",this.enablePrintAutoRotate=O.enablePrintAutoRotate||!1,this.removePageBorders=O.removePageBorders||!1,O.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),O.maxCanvasPixels=0),this.isOffscreenCanvasSupported=(ee=O.isOffscreenCanvasSupported)!=null?ee:!0,this.maxCanvasPixels=O.maxCanvasPixels,this.l10n=O.l10n||A.NullL10n,me(this,I,O.enablePermissions||!1),this.pageColors=O.pageColors||null,this.defaultRenderingQueue=!O.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new E.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=O.renderingQueue,this.scroll=(0,o.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=o.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),ae(this,He,pn).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:Ce,pdfPage:Be})=>{const Re=this._pages[Ce-1];a(this,b).has(Re)||Be==null||Be.cleanup()})}get pagesCount(){return this._pages.length}getPageView(O){return this._pages[O]}getCachedPageViews(){return new Set(a(this,b))}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(O=>O==null?void 0:O.pdfPage)}get renderForms(){return a(this,C)===r.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(O){if(!Number.isInteger(O))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(O,!0)||console.error(`currentPageNumber: "${O}" is not a valid page.`)}_setCurrentPageNumber(O,G=!1){var Ve,Le;if(this._currentPageNumber===O)return G&&ae(this,oe,fn).call(this),!0;if(!(0<O&&O<=this.pagesCount))return!1;const be=this._currentPageNumber;return this._currentPageNumber=O,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:O,pageLabel:(Le=(Ve=this._pageLabels)==null?void 0:Ve[O-1])!=null?Le:null,previous:be}),G&&ae(this,oe,fn).call(this),!0}get currentPageLabel(){var O,G;return(G=(O=this._pageLabels)==null?void 0:O[this._currentPageNumber-1])!=null?G:null}set currentPageLabel(O){if(!this.pdfDocument)return;let G=O|0;if(this._pageLabels){const be=this._pageLabels.indexOf(O);be>=0&&(G=be+1)}this._setCurrentPageNumber(G,!0)||console.error(`currentPageLabel: "${O}" is not a valid page.`)}get currentScale(){return this._currentScale!==o.UNKNOWN_SCALE?this._currentScale:o.DEFAULT_SCALE}set currentScale(O){if(isNaN(O))throw new Error("Invalid numeric scale.");!this.pdfDocument||ae(this,le,at).call(this,O,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(O){!this.pdfDocument||ae(this,le,at).call(this,O,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(O){if(!(0,o.isValidRotation)(O))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(O%=360,O<0&&(O+=360),this._pagesRotation===O))return;this._pagesRotation=O;const G=this._currentPageNumber;this.refresh(!0,{rotation:O}),this._currentScaleValue&&ae(this,le,at).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:O,pageNumber:G}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}async getAllText(){const O=[],G=[];for(let be=1,Ve=this.pdfDocument.numPages;be<=Ve;++be){if(a(this,j))return null;G.length=0;const Le=await this.pdfDocument.getPage(be),{items:Te}=await Le.getTextContent();for(const Ie of Te)Ie.str&&G.push(Ie.str),Ie.hasEOL&&G.push(`
`);O.push((0,o.removeNullCharacters)(G.join("")))}return O.join(`
`)}setDocument(O){var Te,Ie;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(Te=this.findController)==null||Te.setDocument(null),(Ie=this._scriptingManager)==null||Ie.setDocument(null),a(this,L)&&(a(this,L).destroy(),me(this,L,null))),this.pdfDocument=O,!O)return;const G=O.numPages,be=O.getPage(1),Ve=O.getOptionalContentConfig(),Le=a(this,I)?O.getPermissions():Promise.resolve();if(G>w.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ee=this._scrollMode=o.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ee})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:G})},()=>{}),this._onBeforeDraw=ee=>{const Ce=this._pages[ee.pageNumber-1];!Ce||a(this,b).push(Ce)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ee=>{ee.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ee.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,a(this,pe)&&(document.removeEventListener("visibilitychange",a(this,pe)),me(this,pe,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([be,Le]).then(([ee,Ce])=>{var Ne,re;if(O!==this.pdfDocument)return;this._firstPageCapability.resolve(ee),this._optionalContentConfigPromise=Ve;const{annotationEditorMode:Be,annotationMode:Re,textLayerMode:X}=ae(this,H,ci).call(this,Ce);if(X!==o.TextLayerMode.DISABLE){const ve=me(this,Y,document.createElement("div"));ve.id="hiddenCopyElement",this.viewer.before(ve)}if(Be!==r.AnnotationEditorType.DISABLE){const ve=Be;O.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):R(ve)?(me(this,L,new r.AnnotationEditorUIManager(this.container,this.viewer,this.eventBus,O,this.pageColors)),ve!==r.AnnotationEditorType.NONE&&a(this,L).updateMode(ve)):console.error(`Invalid AnnotationEditor mode: ${ve}`)}const V=ae(this,y,li).bind(this),ne=this._scrollMode===o.ScrollMode.PAGE?null:this.viewer,ie=this.currentScale,fe=ee.getViewport({scale:ie*r.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",fe.scale),(((Ne=this.pageColors)==null?void 0:Ne.foreground)==="CanvasText"||((re=this.pageColors)==null?void 0:re.background)==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",O.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let ve=1;ve<=G;++ve){const ke=new S.PDFPageView({container:ne,eventBus:this.eventBus,id:ve,scale:ie,defaultViewport:fe.clone(),optionalContentConfigPromise:Ve,renderingQueue:this.renderingQueue,textLayerMode:X,annotationMode:Re,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:V});this._pages.push(ke)}const xe=this._pages[0];xe&&(xe.setPdfPage(ee),this.linkService.cachePageRef(1,ee.ref)),this._scrollMode===o.ScrollMode.PAGE?ae(this,W,bt).call(this):this._spreadMode!==o.SpreadMode.NONE&&this._updateSpreadMode(),ae(this,Q,ui).call(this).then(async()=>{var ke,$e;if((ke=this.findController)==null||ke.setDocument(O),($e=this._scriptingManager)==null||$e.setDocument(O),a(this,Y)&&(me(this,q,ae(this,ge,di).bind(this,X)),document.addEventListener("copy",a(this,q))),a(this,L)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:a(this,m)}),O.loadingParams.disableAutoFetch||G>w.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let ve=G-1;if(ve<=0){this._pagesCapability.resolve();return}for(let De=2;De<=G;++De){const Ue=O.getPage(De).then(We=>{const Xe=this._pages[De-1];Xe.pdfPage||Xe.setPdfPage(We),this.linkService.cachePageRef(De,We.ref),--ve===0&&this._pagesCapability.resolve()},We=>{console.error(`Unable to get page ${De} to initialize viewer`,We),--ve===0&&this._pagesCapability.resolve()});De%w.PAUSE_EAGER_PAGE_INIT===0&&await Ue}}),this.eventBus.dispatch("pagesinit",{source:this}),O.getMetadata().then(({info:ve})=>{O===this.pdfDocument&&ve.Language&&(this.viewer.lang=ve.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ee=>{console.error("Unable to initialize viewer",ee),this._pagesCapability.reject(ee)})}setPageLabels(O){var G,be;if(!!this.pdfDocument){O?Array.isArray(O)&&this.pdfDocument.numPages===O.length?this._pageLabels=O:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Ve=0,Le=this._pages.length;Ve<Le;Ve++)this._pages[Ve].setPageLabel((be=(G=this._pageLabels)==null?void 0:G[Ve])!=null?be:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=o.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,me(this,b,new F(v)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new r.PromiseCapability,this._onePageRenderedCapability=new r.PromiseCapability,this._pagesCapability=new r.PromiseCapability,this._scrollMode=o.ScrollMode.VERTICAL,this._previousScrollMode=o.ScrollMode.UNKNOWN,this._spreadMode=o.SpreadMode.NONE,me(this,B,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),a(this,pe)&&(document.removeEventListener("visibilitychange",a(this,pe)),me(this,pe,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),a(this,Y)&&(document.removeEventListener("copy",a(this,q)),me(this,q,null),a(this,Y).remove(),me(this,Y,null))}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(O){if(!this._pageLabels)return null;const G=this._pageLabels.indexOf(O);return G<0?null:G+1}scrollPageIntoView({pageNumber:O,destArray:G=null,allowNegativeOffset:be=!1,ignoreDestinationZoom:Ve=!1}){if(!this.pdfDocument)return;const Le=Number.isInteger(O)&&this._pages[O-1];if(!Le){console.error(`scrollPageIntoView: "${O}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!G){this._setCurrentPageNumber(O,!0);return}let Te=0,Ie=0,ee=0,Ce=0,Be,Re;const X=Le.rotation%180!==0,V=(X?Le.height:Le.width)/Le.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,ne=(X?Le.width:Le.height)/Le.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS;let ie=0;switch(G[1].name){case"XYZ":Te=G[2],Ie=G[3],ie=G[4],Te=Te!==null?Te:0,Ie=Ie!==null?Ie:ne;break;case"Fit":case"FitB":ie="page-fit";break;case"FitH":case"FitBH":Ie=G[2],ie="page-width",Ie===null&&this._location?(Te=this._location.left,Ie=this._location.top):(typeof Ie!="number"||Ie<0)&&(Ie=ne);break;case"FitV":case"FitBV":Te=G[2],ee=V,Ce=ne,ie="page-height";break;case"FitR":Te=G[2],Ie=G[3],ee=G[4]-Te,Ce=G[5]-Ie;let re=o.SCROLLBAR_PADDING,ve=o.VERTICAL_PADDING;this.removePageBorders&&(re=ve=0),Be=(this.container.clientWidth-re)/ee/r.PixelsPerInch.PDF_TO_CSS_UNITS,Re=(this.container.clientHeight-ve)/Ce/r.PixelsPerInch.PDF_TO_CSS_UNITS,ie=Math.min(Math.abs(Be),Math.abs(Re));break;default:console.error(`scrollPageIntoView: "${G[1].name}" is not a valid destination type.`);return}if(Ve||(ie&&ie!==this._currentScale?this.currentScaleValue=ie:this._currentScale===o.UNKNOWN_SCALE&&(this.currentScaleValue=o.DEFAULT_SCALE_VALUE)),ie==="page-fit"&&!G[4]){ae(this,ce,It).call(this,Le);return}const fe=[Le.viewport.convertToViewportPoint(Te,Ie),Le.viewport.convertToViewportPoint(Te+ee,Ie+Ce)];let xe=Math.min(fe[0][0],fe[1][0]),Ne=Math.min(fe[0][1],fe[1][1]);be||(xe=Math.max(xe,0),Ne=Math.max(Ne,0)),ae(this,ce,It).call(this,Le,{left:xe,top:Ne})}_updateLocation(O){const G=this._currentScale,be=this._currentScaleValue,Ve=parseFloat(be)===G?Math.round(G*1e4)/100:be,Le=O.id,Te=this._pages[Le-1],Ie=this.container,ee=Te.getPagePoint(Ie.scrollLeft-O.x,Ie.scrollTop-O.y),Ce=Math.round(ee[0]),Be=Math.round(ee[1]);let Re=`#page=${Le}`;this.isInPresentationMode||(Re+=`&zoom=${Ve},${Ce},${Be}`),this._location={pageNumber:Le,scale:Ve,top:Be,left:Ce,rotation:this._pagesRotation,pdfOpenParams:Re}}update(){const O=this._getVisiblePages(),G=O.views,be=G.length;if(be===0)return;const Ve=Math.max(v,2*be+1);a(this,b).resize(Ve,O.ids),this.renderingQueue.renderHighestPriority(O);const Le=this._spreadMode===o.SpreadMode.NONE&&(this._scrollMode===o.ScrollMode.PAGE||this._scrollMode===o.ScrollMode.VERTICAL),Te=this._currentPageNumber;let Ie=!1;for(const ee of G){if(ee.percent<100)break;if(ee.id===Te&&Le){Ie=!0;break}}this._setCurrentPageNumber(Ie?Te:G[0].id),this._updateLocation(O.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(O){return this.container.contains(O)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===o.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===o.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const O=this._scrollMode===o.ScrollMode.PAGE?a(this,B).pages:this._pages,G=this._scrollMode===o.ScrollMode.HORIZONTAL,be=G&&this._isContainerRtl;return(0,o.getVisibleElements)({scrollEl:this.container,views:O,sortByVisibility:!0,horizontal:G,rtl:be})}cleanup(){for(const O of this._pages)O.renderingState!==o.RenderingStates.FINISHED&&O.reset()}_cancelRendering(){for(const O of this._pages)O.cancelRendering()}forceRendering(O){const G=O||this._getVisiblePages(),be=ae(this,je,gi).call(this,G),Ve=this._spreadMode!==o.SpreadMode.NONE&&this._scrollMode!==o.ScrollMode.HORIZONTAL,Le=this.renderingQueue.getHighestPriority(G,this._pages,be,Ve);return Le?(ae(this,Me,pi).call(this,Le).then(()=>{this.renderingQueue.renderView(Le)}),!0):!1}get hasEqualPageSizes(){const O=this._pages[0];for(let G=1,be=this._pages.length;G<be;++G){const Ve=this._pages[G];if(Ve.width!==O.width||Ve.height!==O.height)return!1}return!0}getPagesOverview(){let O;return this._pages.map(G=>{const be=G.pdfPage.getViewport({scale:1}),Ve=(0,o.isPortraitOrientation)(be);if(O===void 0)O=Ve;else if(this.enablePrintAutoRotate&&Ve!==O)return{width:be.height,height:be.width,rotation:(be.rotation-90)%360};return{width:be.width,height:be.height,rotation:be.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(O){if(!(O instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${O}`);!this.pdfDocument||!this._optionalContentConfigPromise||(this._optionalContentConfigPromise=O,this.refresh(!1,{optionalContentConfigPromise:O}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:O}))}get scrollMode(){return this._scrollMode}set scrollMode(O){if(this._scrollMode!==O){if(!(0,o.isValidScrollMode)(O))throw new Error(`Invalid scroll mode: ${O}`);this.pagesCount>w.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=O,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:O}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(O=null){const G=this._scrollMode,be=this.viewer;be.classList.toggle("scrollHorizontal",G===o.ScrollMode.HORIZONTAL),be.classList.toggle("scrollWrapped",G===o.ScrollMode.WRAPPED),!(!this.pdfDocument||!O)&&(G===o.ScrollMode.PAGE?ae(this,W,bt).call(this):this._previousScrollMode===o.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&ae(this,le,at).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(O,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(O){if(this._spreadMode!==O){if(!(0,o.isValidSpreadMode)(O))throw new Error(`Invalid spread mode: ${O}`);this._spreadMode=O,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:O}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(O=null){if(!this.pdfDocument)return;const G=this.viewer,be=this._pages;if(this._scrollMode===o.ScrollMode.PAGE)ae(this,W,bt).call(this);else if(G.textContent="",this._spreadMode===o.SpreadMode.NONE)for(const Ve of this._pages)G.append(Ve.div);else{const Ve=this._spreadMode-1;let Le=null;for(let Te=0,Ie=be.length;Te<Ie;++Te)Le===null?(Le=document.createElement("div"),Le.className="spread",G.append(Le)):Te%2===Ve&&(Le=Le.cloneNode(!1),G.append(Le)),Le.append(be[Te].div)}!O||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&ae(this,le,at).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(O,!0),this.update())}_getPageAdvance(O,G=!1){switch(this._scrollMode){case o.ScrollMode.WRAPPED:{const{views:be}=this._getVisiblePages(),Ve=new Map;for(const{id:Le,y:Te,percent:Ie,widthPercent:ee}of be){if(Ie===0||ee<100)continue;let Ce=Ve.get(Te);Ce||Ve.set(Te,Ce||(Ce=[])),Ce.push(Le)}for(const Le of Ve.values()){const Te=Le.indexOf(O);if(Te===-1)continue;const Ie=Le.length;if(Ie===1)break;if(G)for(let ee=Te-1,Ce=0;ee>=Ce;ee--){const Be=Le[ee],Re=Le[ee+1]-1;if(Be<Re)return O-Re}else for(let ee=Te+1,Ce=Ie;ee<Ce;ee++){const Be=Le[ee],Re=Le[ee-1]+1;if(Be>Re)return Re-O}if(G){const ee=Le[0];if(ee<O)return O-ee+1}else{const ee=Le[Ie-1];if(ee>O)return ee-O+1}break}break}case o.ScrollMode.HORIZONTAL:break;case o.ScrollMode.PAGE:case o.ScrollMode.VERTICAL:{if(this._spreadMode===o.SpreadMode.NONE)break;const be=this._spreadMode-1;if(G&&O%2!==be)break;if(!G&&O%2===be)break;const{views:Ve}=this._getVisiblePages(),Le=G?O-1:O+1;for(const{id:Te,percent:Ie,widthPercent:ee}of Ve)if(Te===Le){if(Ie>0&&ee===100)return 2;break}break}}return 1}nextPage(){const O=this._currentPageNumber,G=this.pagesCount;if(O>=G)return!1;const be=this._getPageAdvance(O,!1)||1;return this.currentPageNumber=Math.min(O+be,G),!0}previousPage(){const O=this._currentPageNumber;if(O<=1)return!1;const G=this._getPageAdvance(O,!0)||1;return this.currentPageNumber=Math.max(O-G,1),!0}increaseScale({drawingDelay:O,scaleFactor:G,steps:be}={}){if(!this.pdfDocument)return;let Ve=this._currentScale;if(G>1)Ve=Math.round(Ve*G*100)/100;else{be!=null||(be=1);do Ve=Math.ceil((Ve*o.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--be>0&&Ve<o.MAX_SCALE)}ae(this,le,at).call(this,Math.min(o.MAX_SCALE,Ve),{noScroll:!1,drawingDelay:O})}decreaseScale({drawingDelay:O,scaleFactor:G,steps:be}={}){if(!this.pdfDocument)return;let Ve=this._currentScale;if(G>0&&G<1)Ve=Math.round(Ve*G*100)/100;else{be!=null||(be=1);do Ve=Math.floor((Ve/o.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--be>0&&Ve>o.MIN_SCALE)}ae(this,le,at).call(this,Math.max(o.MIN_SCALE,Ve),{noScroll:!1,drawingDelay:O})}get containerTopLeft(){return a(this,N)||me(this,N,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return a(this,L)?a(this,m):r.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:O,editId:G=null}){if(!a(this,L))throw new Error("The AnnotationEditor is not enabled.");if(a(this,m)!==O){if(!R(O))throw new Error(`Invalid AnnotationEditor mode: ${O}`);!this.pdfDocument||(me(this,m,O),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:O}),a(this,L).updateMode(O,G))}}set annotationEditorParams({type:O,value:G}){if(!a(this,L))throw new Error("The AnnotationEditor is not enabled.");a(this,L).updateParams(O,G)}refresh(O=!1,G=Object.create(null)){if(!!this.pdfDocument){for(const be of this._pages)be.update(G);a(this,Ae)!==null&&(clearTimeout(a(this,Ae)),me(this,Ae,null)),O||this.update()}}}b=new WeakMap,m=new WeakMap,L=new WeakMap,C=new WeakMap,N=new WeakMap,q=new WeakMap,I=new WeakMap,z=new WeakMap,Y=new WeakMap,j=new WeakMap,P=new WeakMap,$=new WeakMap,B=new WeakMap,pe=new WeakMap,Ae=new WeakMap,U=new WeakMap,y=new WeakSet,li=function(){const O=this;return{get annotationEditorUIManager(){return a(O,L)},get annotationStorage(){var G;return(G=O.pdfDocument)==null?void 0:G.annotationStorage},get downloadManager(){return O.downloadManager},get enableScripting(){return!!O._scriptingManager},get fieldObjectsPromise(){var G;return(G=O.pdfDocument)==null?void 0:G.getFieldObjects()},get findController(){return O.findController},get hasJSActionsPromise(){var G;return(G=O.pdfDocument)==null?void 0:G.hasJSActions()},get linkService(){return O.linkService}}},H=new WeakSet,ci=function(O){const G={annotationEditorMode:a(this,m),annotationMode:a(this,C),textLayerMode:a(this,U)};return O&&(!O.includes(r.PermissionFlag.COPY)&&a(this,U)===o.TextLayerMode.ENABLE&&(G.textLayerMode=o.TextLayerMode.ENABLE_PERMISSIONS),O.includes(r.PermissionFlag.MODIFY_CONTENTS)||(G.annotationEditorMode=r.AnnotationEditorType.DISABLE),!O.includes(r.PermissionFlag.MODIFY_ANNOTATIONS)&&!O.includes(r.PermissionFlag.FILL_INTERACTIVE_FORMS)&&a(this,C)===r.AnnotationMode.ENABLE_FORMS&&(G.annotationMode=r.AnnotationMode.ENABLE)),G},Q=new WeakSet,ui=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const O=new Promise(G=>{me(this,pe,()=>{document.visibilityState==="hidden"&&(G(),document.removeEventListener("visibilitychange",a(this,pe)),me(this,pe,null))}),document.addEventListener("visibilitychange",a(this,pe))});return Promise.race([this._onePageRenderedCapability.promise,O])},ge=new WeakSet,di=function(O,G){const be=document.getSelection(),{focusNode:Ve,anchorNode:Le}=be;if(Le&&Ve&&be.containsNode(a(this,Y))){if(a(this,z)||O===o.TextLayerMode.ENABLE_PERMISSIONS){G.preventDefault(),G.stopPropagation();return}me(this,z,!0);const Te=this.container.style.cursor;this.container.style.cursor="wait";const Ie=ee=>me(this,j,ee.key==="Escape");window.addEventListener("keydown",Ie),this.getAllText().then(async ee=>{ee!==null&&await navigator.clipboard.writeText(ee)}).catch(ee=>{console.warn(`Something goes wrong when extracting the text: ${ee.message}`)}).finally(()=>{me(this,z,!1),me(this,j,!1),window.removeEventListener("keydown",Ie),this.container.style.cursor=Te}),G.preventDefault(),G.stopPropagation()}},W=new WeakSet,bt=function(){if(this._scrollMode!==o.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const O=this._currentPageNumber,G=a(this,B),be=this.viewer;if(be.textContent="",G.pages.length=0,this._spreadMode===o.SpreadMode.NONE&&!this.isInPresentationMode){const Ve=this._pages[O-1];be.append(Ve.div),G.pages.push(Ve)}else{const Ve=new Set,Le=this._spreadMode-1;Le===-1?Ve.add(O-1):O%2!==Le?(Ve.add(O-1),Ve.add(O)):(Ve.add(O-2),Ve.add(O-1));const Te=document.createElement("div");if(Te.className="spread",this.isInPresentationMode){const Ie=document.createElement("div");Ie.className="dummyPage",Te.append(Ie)}for(const Ie of Ve){const ee=this._pages[Ie];!ee||(Te.append(ee.div),G.pages.push(ee))}be.append(Te)}G.scrollDown=O>=G.previousPageNumber,G.previousPageNumber=O},ce=new WeakSet,It=function(O,G=null){const{div:be,id:Ve}=O;if(this._currentPageNumber!==Ve&&this._setCurrentPageNumber(Ve),this._scrollMode===o.ScrollMode.PAGE&&(ae(this,W,bt).call(this),this.update()),!G&&!this.isInPresentationMode){const Le=be.offsetLeft+be.clientLeft,Te=Le+be.clientWidth,{scrollLeft:Ie,clientWidth:ee}=this.container;(this._scrollMode===o.ScrollMode.HORIZONTAL||Le<Ie||Te>Ie+ee)&&(G={left:0,top:0})}(0,o.scrollIntoView)(be,G),!this._currentScaleValue&&this._location&&(this._location=null)},ue=new WeakSet,hi=function(O){return O===this._currentScale||Math.abs(O-this._currentScale)<1e-15},Ee=new WeakSet,hn=function(O,G,{noScroll:be=!1,preset:Ve=!1,drawingDelay:Le=-1}){if(this._currentScaleValue=G.toString(),ae(this,ue,hi).call(this,O)){Ve&&this.eventBus.dispatch("scalechanging",{source:this,scale:O,presetValue:G});return}this.viewer.style.setProperty("--scale-factor",O*r.PixelsPerInch.PDF_TO_CSS_UNITS);const Te=Le>=0&&Le<1e3;if(this.refresh(!0,{scale:O,drawingDelay:Te?Le:-1}),Te&&me(this,Ae,setTimeout(()=>{me(this,Ae,null),this.refresh()},Le)),this._currentScale=O,!be){let Ie=this._currentPageNumber,ee;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Ie=this._location.pageNumber,ee=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Ie,destArray:ee,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:O,presetValue:Ve?G:void 0}),this.defaultRenderingQueue&&this.update()},Se=new WeakSet,fi=function(){return this._spreadMode!==o.SpreadMode.NONE&&this._scrollMode!==o.ScrollMode.HORIZONTAL?2:1},le=new WeakSet,at=function(O,G){let be=parseFloat(O);if(be>0)G.preset=!1,ae(this,Ee,hn).call(this,be,O,G);else{const Ve=this._pages[this._currentPageNumber-1];if(!Ve)return;let Le=o.SCROLLBAR_PADDING,Te=o.VERTICAL_PADDING;this.isInPresentationMode?(Le=Te=4,this._spreadMode!==o.SpreadMode.NONE&&(Le*=2)):this.removePageBorders?Le=Te=0:this._scrollMode===o.ScrollMode.HORIZONTAL&&([Le,Te]=[Te,Le]);const Ie=(this.container.clientWidth-Le)/Ve.width*Ve.scale/a(this,Se,fi),ee=(this.container.clientHeight-Te)/Ve.height*Ve.scale;switch(O){case"page-actual":be=1;break;case"page-width":be=Ie;break;case"page-height":be=ee;break;case"page-fit":be=Math.min(Ie,ee);break;case"auto":const Ce=(0,o.isPortraitOrientation)(Ve)?Ie:Math.min(ee,Ie);be=Math.min(o.MAX_AUTO_SCALE,Ce);break;default:console.error(`#setScale: "${O}" is an unknown zoom value.`);return}G.preset=!0,ae(this,Ee,hn).call(this,be,O,G)}},oe=new WeakSet,fn=function(){const O=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&ae(this,le,at).call(this,this._currentScaleValue,{noScroll:!0}),ae(this,ce,It).call(this,O)},Me=new WeakSet,pi=async function(O){var G,be;if(O.pdfPage)return O.pdfPage;try{const Ve=await this.pdfDocument.getPage(O.id);return O.pdfPage||O.setPdfPage(Ve),(be=(G=this.linkService)._cachedPageNumber)!=null&&be.call(G,Ve.ref)||this.linkService.cachePageRef(O.id,Ve.ref),Ve}catch(Ve){return console.error("Unable to get page for page view",Ve),null}},je=new WeakSet,gi=function(O){var G,be;if(((G=O.first)==null?void 0:G.id)===1)return!0;if(((be=O.last)==null?void 0:be.id)===this.pagesCount)return!1;switch(this._scrollMode){case o.ScrollMode.PAGE:return a(this,B).scrollDown;case o.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},He=new WeakSet,pn=function(O=this.container.clientHeight){O!==a(this,P)&&(me(this,P,O),o.docStyle.setProperty("--viewer-container-height",`${O}px`))},Ke=new WeakSet,mi=function(O){for(const G of O)if(G.target===this.container){ae(this,He,pn).call(this,Math.floor(G.borderBoxSize[0].blockSize)),me(this,N,null);break}},g.PDFViewer=M},(l,g,c)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFRenderingQueue=void 0;var r=c(4),o=c(2);const A=3e4;class S{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(_){this.pdfViewer=_}setThumbnailViewer(_){this.pdfThumbnailViewer=_}isHighestPriority(_){return this.highestPriorityPage===_.renderingId}renderHighestPriority(_){var v;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(_)&&(this.isThumbnailViewEnabled&&((v=this.pdfThumbnailViewer)==null?void 0:v.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),A)))}getHighestPriority(_,v,w,R=!1){const F=_.views,M=F.length;if(M===0)return null;for(let b=0;b<M;b++){const m=F[b].view;if(!this.isViewFinished(m))return m}const T=_.first.id,d=_.last.id;if(d-T+1>M){const b=_.ids;for(let m=1,L=d-T;m<L;m++){const C=w?T+m:d-m;if(b.has(C))continue;const N=v[C-1];if(!this.isViewFinished(N))return N}}let u=w?d:T-2,D=v[u];return D&&!this.isViewFinished(D)||R&&(u+=w?1:-1,D=v[u],D&&!this.isViewFinished(D))?D:null}isViewFinished(_){return _.renderingState===o.RenderingStates.FINISHED}renderView(_){switch(_.renderingState){case o.RenderingStates.FINISHED:return!1;case o.RenderingStates.PAUSED:this.highestPriorityPage=_.renderingId,_.resume();break;case o.RenderingStates.RUNNING:this.highestPriorityPage=_.renderingId;break;case o.RenderingStates.INITIAL:this.highestPriorityPage=_.renderingId,_.draw().finally(()=>{this.renderHighestPriority()}).catch(v=>{v instanceof r.RenderingCancelledException||console.error(`renderView: "${v}"`)});break}return!0}}g.PDFRenderingQueue=S}],n={};function s(l){var g=n[l];if(g!==void 0)return g.exports;var c=n[l]={exports:{}};return i[l](c,c.exports,s),c.exports}var f={};return(()=>{var l=f;Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return o.AnnotationLayerBuilder}}),Object.defineProperty(l,"DownloadManager",{enumerable:!0,get:function(){return A.DownloadManager}}),Object.defineProperty(l,"EventBus",{enumerable:!0,get:function(){return S.EventBus}}),Object.defineProperty(l,"FindState",{enumerable:!0,get:function(){return g.FindState}}),Object.defineProperty(l,"GenericL10n",{enumerable:!0,get:function(){return E.GenericL10n}}),Object.defineProperty(l,"LinkTarget",{enumerable:!0,get:function(){return c.LinkTarget}}),Object.defineProperty(l,"NullL10n",{enumerable:!0,get:function(){return _.NullL10n}}),Object.defineProperty(l,"PDFFindController",{enumerable:!0,get:function(){return g.PDFFindController}}),Object.defineProperty(l,"PDFHistory",{enumerable:!0,get:function(){return v.PDFHistory}}),Object.defineProperty(l,"PDFLinkService",{enumerable:!0,get:function(){return c.PDFLinkService}}),Object.defineProperty(l,"PDFPageView",{enumerable:!0,get:function(){return w.PDFPageView}}),Object.defineProperty(l,"PDFScriptingManager",{enumerable:!0,get:function(){return R.PDFScriptingManager}}),Object.defineProperty(l,"PDFSinglePageViewer",{enumerable:!0,get:function(){return F.PDFSinglePageViewer}}),Object.defineProperty(l,"PDFViewer",{enumerable:!0,get:function(){return M.PDFViewer}}),Object.defineProperty(l,"ProgressBar",{enumerable:!0,get:function(){return r.ProgressBar}}),Object.defineProperty(l,"RenderingStates",{enumerable:!0,get:function(){return r.RenderingStates}}),Object.defineProperty(l,"ScrollMode",{enumerable:!0,get:function(){return r.ScrollMode}}),Object.defineProperty(l,"SimpleLinkService",{enumerable:!0,get:function(){return c.SimpleLinkService}}),Object.defineProperty(l,"SpreadMode",{enumerable:!0,get:function(){return r.SpreadMode}}),Object.defineProperty(l,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return T.StructTreeLayerBuilder}}),Object.defineProperty(l,"TextLayerBuilder",{enumerable:!0,get:function(){return d.TextLayerBuilder}}),Object.defineProperty(l,"XfaLayerBuilder",{enumerable:!0,get:function(){return u.XfaLayerBuilder}}),Object.defineProperty(l,"parseQueryString",{enumerable:!0,get:function(){return r.parseQueryString}});var g=s(1),c=s(5),r=s(2),o=s(6),A=s(8),S=s(9),E=s(10),_=s(7),v=s(12),w=s(13),R=s(21),F=s(24),M=s(25),T=s(16),d=s(19),u=s(20)})(),f})())})(pdf_viewer);const _hoisted_1$d={class:"relative"},_hoisted_2$c=createBaseVNode("div",{id:"viewer",class:"pdfViewer"},null,-1),_hoisted_3$b=[_hoisted_2$c],_sfc_main$5=defineComponent({__name:"PDFDocument",props:{showSidebar:Boolean,pageScaleValue:{type:String,required:!0}},emits:["on-pdf-viewer-set"],setup(e,{emit:t}){const i=e,n=inject("pdf"),s=inject("eventBus"),f=inject("pdfLinkService"),l=inject("pdfFindController"),g=ref(null),c=ref(null);watch(()=>i.pageScaleValue,o=>{toRaw(c.value).currentScaleValue=o});const r=()=>{const o=toRaw(c.value).currentScaleValue;!o||(toRaw(c.value).refresh(),(o==="auto"||o==="page-fit"||o==="page-width")&&(toRaw(c.value).currentScaleValue=o),toRaw(c.value).update())};return onMounted(()=>{window.addEventListener("resize",r),c.value=new pdf_viewer.exports.PDFViewer({container:g.value,eventBus:s,linkService:f,findController:l}),toRaw(f).setViewer(toRaw(c.value)),s.on("pagesinit",()=>{setTimeout(()=>{toRaw(c.value).currentScaleValue="auto"},0)}),toRaw(c.value).setDocument(toRaw(n.value)),toRaw(f).setDocument(toRaw(n.value),null),t("on-pdf-viewer-set",toRaw(c.value))}),onBeforeUnmount(()=>window.removeEventListener("resize",r)),(o,A)=>{const S=__unplugin_components_0$2;return openBlock(),createElementBlock("section",{class:"overflow-hidden flex-1 bg-[#f1f5f9] grid transition-all duration-75 ease-in",style:normalizeStyle({"grid-template-columns":`${e.showSidebar?"8rem":"0rem"} 1fr`})},[(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[createVNode(S,{class:normalizeClass(["transition-all duration-75 ease-in-out",{opacity:+e.showSidebar}])},null,8,["class"])]),_:1})),createBaseVNode("div",_hoisted_1$d,[createBaseVNode("div",{id:"viewerContainer",ref_key:"containerRef",ref:g},_hoisted_3$b,512)])],4)}}}),PDFDocument_vue_vue_type_style_index_0_lang="",_hoisted_1$c={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$b=createBaseVNode("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),_hoisted_3$a=[_hoisted_2$b];function render$8(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$c,_hoisted_3$a)}const __unplugin_components_8={name:"carbon-download",render:render$8},_hoisted_1$b={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$a=createBaseVNode("path",{fill:"currentColor",d:"m29 27.586l-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9a9.01 9.01 0 0 1-9-9Z"},null,-1),_hoisted_3$9=[_hoisted_2$a];function render$7(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$b,_hoisted_3$9)}const __unplugin_components_7={name:"carbon-search",render:render$7},_hoisted_1$a={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$9=createBaseVNode("path",{fill:"currentColor",d:"M22 16h2V8h-8v2h6v6zM8 24h8v-2h-6v-6H8v8z"},null,-1),_hoisted_3$8=createBaseVNode("path",{fill:"currentColor",d:"M26 28H6a2.002 2.002 0 0 1-2-2V6a2.002 2.002 0 0 1 2-2h20a2.002 2.002 0 0 1 2 2v20a2.002 2.002 0 0 1-2 2ZM6 6v20h20.001L26 6Z"},null,-1),_hoisted_4$4=[_hoisted_2$9,_hoisted_3$8];function render$6(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$a,_hoisted_4$4)}const __unplugin_components_6={name:"carbon-fit-to-screen",render:render$6},_hoisted_1$9={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$8=createBaseVNode("path",{fill:"currentColor",d:"m22 11l-1.41 1.41L23.17 15H8.83l2.58-2.59L10 11l-5 5l5 5l1.41-1.41L8.83 17h14.34l-2.58 2.59L22 21l5-5l-5-5z"},null,-1),_hoisted_3$7=createBaseVNode("path",{fill:"currentColor",d:"M28 30H4a2.002 2.002 0 0 1-2-2V4a2.002 2.002 0 0 1 2-2h24a2.002 2.002 0 0 1 2 2v24a2.002 2.002 0 0 1-2 2ZM4 4v24h24V4Z"},null,-1),_hoisted_4$3=[_hoisted_2$8,_hoisted_3$7];function render$5(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$9,_hoisted_4$3)}const __unplugin_components_5={name:"carbon-fit-to-width",render:render$5},_hoisted_1$8={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$7=createBaseVNode("path",{fill:"currentColor",d:"M18 12h-4V8h-2v4H8v2h4v4h2v-4h4v-2z"},null,-1),_hoisted_3$6=createBaseVNode("path",{fill:"currentColor",d:"M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"},null,-1),_hoisted_4$2=[_hoisted_2$7,_hoisted_3$6];function render$4(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$8,_hoisted_4$2)}const __unplugin_components_4={name:"carbon-zoom-in",render:render$4},_hoisted_1$7={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$6=createBaseVNode("path",{fill:"currentColor",d:"M8 12h10v2H8z"},null,-1),_hoisted_3$5=createBaseVNode("path",{fill:"currentColor",d:"M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"},null,-1),_hoisted_4$1=[_hoisted_2$6,_hoisted_3$5];function render$3(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$7,_hoisted_4$1)}const __unplugin_components_3={name:"carbon-zoom-out",render:render$3},_hoisted_1$6={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$5=createBaseVNode("path",{fill:"currentColor",d:"M16 22L6 12l1.4-1.4l8.6 8.6l8.6-8.6L26 12z"},null,-1),_hoisted_3$4=[_hoisted_2$5];function render$2(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$6,_hoisted_3$4)}const __unplugin_components_2={name:"carbon-chevron-down",render:render$2},_hoisted_1$5={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$4=createBaseVNode("path",{fill:"currentColor",d:"m16 10l10 10l-1.4 1.4l-8.6-8.6l-8.6 8.6L6 20z"},null,-1),_hoisted_3$3=[_hoisted_2$4];function render$1(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$5,_hoisted_3$3)}const __unplugin_components_1={name:"carbon-chevron-up",render:render$1},_hoisted_1$4={viewBox:"0 0 48 48",width:"1.2em",height:"1.2em"},_hoisted_2$3=createBaseVNode("path",{fill:"currentColor",d:"M10.25 7A6.25 6.25 0 0 0 4 13.25v21.5A6.25 6.25 0 0 0 10.25 41h27.5A6.25 6.25 0 0 0 44 34.75v-21.5A6.25 6.25 0 0 0 37.75 7h-27.5ZM6.5 13.25a3.75 3.75 0 0 1 3.75-3.75h5.5v29h-5.5a3.75 3.75 0 0 1-3.75-3.75v-21.5ZM18.25 38.5v-29h19.5a3.75 3.75 0 0 1 3.75 3.75v21.5a3.75 3.75 0 0 1-3.75 3.75h-19.5Z"},null,-1),_hoisted_3$2=[_hoisted_2$3];function render(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$4,_hoisted_3$2)}const __unplugin_components_0$1={name:"fluent-panel-left48-regular",render},_withScopeId=e=>(pushScopeId("data-v-35f4e51b"),e=e(),popScopeId(),e),_hoisted_1$3={class:"relative flex items-center justify-between shadow-md gap-1 p-1 z-40"},_hoisted_2$2={class:"flex md:w-1/3 items-center gap-x-2"},_hoisted_3$1={class:"flex items-center"},_hoisted_4=["disabled"],_hoisted_5=["disabled"],_hoisted_6={class:"flex items-center ml-2"},_hoisted_7=["value","max","onChange"],_hoisted_8={class:"text-gray-600 font-thin ml-2 text-sm whitespace-nowrap"},_hoisted_9={class:"flex items-center ml-2 gap-1"},_hoisted_10=["disabled"],_hoisted_11=["disabled"],_hoisted_12={class:"md:w-1/3 hidden lg:flex justify-center"},_hoisted_13=["title"],_hoisted_14={class:"flex md:w-1/3 items-center justify-end gap-x-2"},_hoisted_15=["onClick"],_hoisted_16=["href"],_hoisted_17={class:"bg-white p-1 px-2 z-40 shadow-xl rounded absolute top-full border right-0"},_hoisted_18={class:"flex flex-col space-y-1 py-1"},_hoisted_19={class:"space-x-2 flex items-center"},_hoisted_20={class:"flex flex-row gap-1"},_hoisted_21={class:"relative w-full"},_hoisted_22=["onKeyup"],_hoisted_23={key:0,class:"absolute inset-y-0 right-2 my-1 text-xs text-gray-500"},_hoisted_24={key:0,class:"bg-green-100 w-full h-full flex items-center rounded px-2 text-green-400"},_hoisted_25={key:1,class:"bg-red-100 w-full h-full flex items-center rounded px-2 text-red-400"},_hoisted_26=_withScopeId(()=>createBaseVNode("span",null,"Phrase not found",-1)),_hoisted_27=[_hoisted_26],_hoisted_28={key:2,class:"bg-amber-100 w-full h-full flex items-center rounded px-2 text-amber-500"},MIN_SCALE=.1,MAX_SCALE=10,_sfc_main$4=defineComponent({__name:"PDFNavbar",props:{title:{type:String,required:!0},numPages:{type:Number,required:!0,default:1},showSidebar:Boolean,pageScaleValue:{type:String,required:!0,validator:e=>["page-width","page-fit"].includes(e)},pageZoom:{type:Number,required:!0,default:1,validator:e=>e>=.1&&e<=10}},emits:["on-zoom-in","on-zoom-out","on-page-prev","on-page-next","on-page-change","on-toggle-sidebar","on-page-scale-change"],setup(e,{emit:t}){const i=e,n=inject("pdfLinkService"),s=inject("eventBus"),f={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},l=ref(1),g=ref(!1),c=ref(""),r=ref(0),o=ref(0),A=ref(0),S=ref(!0),E=ref(!1),_=ref(!1),v=ref(!1),w=computed(()=>({type:"",query:c.value,caseSensitive:E.value,entireWord:v.value,highlightAll:S.value,findPrevious:!1,matchDiacritics:_.value})),R=ref(null),F=(C,N=!1)=>{s.dispatch("find",{...w.value,type:C,findPrevious:N})},M=C=>{F("again",C.shiftKey)},T=()=>{F("again",!0)},d=()=>{F("again")},u=async()=>{g.value=!g.value,g.value?(await nextTick(),R.value.focus()):s.dispatch("find",{...w.value,query:""})},D=()=>{s.dispatch("find",w.value)},b=C=>{const N=l.value,q=+C.target.value,I=q<1||q>i.numPages?N:q;l.value=I,C.target.value=I,n.goToPage(I)};watch([S,E,_,v],()=>{D()});function m(C){const N=C.target,q=N.tagName;return N.isContentEditable||q==="INPUT"||q==="SELECT"||q==="TEXTAREA"}const L=C=>{(C.key==="Escape"&&g.value||C.key.toLowerCase()==="f"&&(C.metaKey||C.ctrlKey)||!m(C)&&C.key==="/"&&!g.value)&&(C.preventDefault(),u())};return onMounted(()=>{window.addEventListener("keydown",L),s.on("pagechanging",({pageNumber:C})=>l.value=C),s.on("updatefindmatchescount",({matchesCount:C})=>{const{current:N,total:q}=C;o.value=N,r.value=q}),s.on("updatefindcontrolstate",({matchesCount:C,state:N})=>{const{current:q,total:I}=C;o.value=q,r.value=I,A.value=N})}),onBeforeUnmount(()=>{window.removeEventListener("keydown",L)}),(C,N)=>{const q=__unplugin_components_0$1,I=__unplugin_components_1,z=__unplugin_components_2,Y=__unplugin_components_3,j=__unplugin_components_4,P=__unplugin_components_5,$=__unplugin_components_6,B=__unplugin_components_7,pe=__unplugin_components_8;return openBlock(),createElementBlock("nav",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("button",{class:normalizeClass(["p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",{"bg-sky-100":e.showSidebar}]),onClick:N[0]||(N[0]=Ae=>C.$emit("on-toggle-sidebar"))},[createVNode(q,{class:"w-5 h-5"})],2),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 enabled:active:scale-90 text-gray-500 disabled:opacity-75 disabled:cursor-default",disabled:l.value===1,onClick:N[1]||(N[1]=Ae=>C.$emit("on-page-prev"))},[createVNode(I,{class:"w-5 h-5"})],8,_hoisted_4),createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 enabled:active:scale-90 text-gray-500 disabled:opacity-75 disabled:cursor-default",disabled:l.value===e.numPages,onClick:N[2]||(N[2]=Ae=>C.$emit("on-page-next"))},[createVNode(z,{class:"w-5 h-5"})],8,_hoisted_5),createBaseVNode("div",_hoisted_6,[createBaseVNode("input",{value:l.value,type:"number",min:"1",max:e.numPages,class:"text-gray-600 appearance-none m-0 w-14 text-sm text-center border-2 rounded",onFocus:N[3]||(N[3]=Ae=>Ae.target.select()),onChange:withModifiers(b,["prevent","stop"])},null,40,_hoisted_7),createBaseVNode("span",_hoisted_8,"of "+toDisplayString(e.numPages),1)])]),createBaseVNode("div",_hoisted_9,[createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 enabled:active:scale-90 text-gray-500 disabled:opacity-75 disabled:cursor-default",disabled:e.pageZoom===MIN_SCALE,onClick:N[4]||(N[4]=Ae=>t("on-zoom-out"))},[createVNode(Y)],8,_hoisted_10),createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 enabled:active:scale-90 text-gray-500 disabled:opacity-75 disabled:cursor-default",disabled:e.pageZoom===MAX_SCALE,onClick:N[5]||(N[5]=Ae=>t("on-zoom-in"))},[createVNode(j)],8,_hoisted_11),e.pageScaleValue==="page-fit"?(openBlock(),createElementBlock("button",{key:0,class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",onClick:N[6]||(N[6]=Ae=>C.$emit("on-page-scale-change","page-width"))},[createVNode(P)])):(openBlock(),createElementBlock("button",{key:1,class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",onClick:N[7]||(N[7]=Ae=>C.$emit("on-page-scale-change","page-fit"))},[createVNode($)]))])]),createBaseVNode("div",_hoisted_12,[createBaseVNode("p",{class:"text-center font-medium text-gray-700 text-md truncate",title:e.title},toDisplayString(e.title),9,_hoisted_13)]),createBaseVNode("div",_hoisted_14,[createBaseVNode("button",{class:normalizeClass(["relative p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",{"bg-sky-100":g.value}]),onClick:withModifiers(u,["stop","prevent"])},[createVNode(B)],10,_hoisted_15),createBaseVNode("a",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",href:e.title,download:""},[createVNode(pe)],8,_hoisted_16)]),withDirectives(createBaseVNode("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[createBaseVNode("div",_hoisted_19,[createBaseVNode("button",{class:normalizeClass(["text-xs bg-gray-50 p-1 px-2 rounded text-gray-600 select-none transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90",{"bg-sky-100 hover:bg-sky-100":S.value}]),onClick:N[8]||(N[8]=Ae=>S.value=!S.value)}," Highlight All ",2),createBaseVNode("button",{class:normalizeClass(["text-xs bg-gray-50 p-1 px-2 rounded text-gray-600 select-none transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90",{"bg-sky-100 hover:bg-sky-100":E.value}]),onClick:N[9]||(N[9]=Ae=>E.value=!E.value)}," Match Case ",2),createBaseVNode("button",{class:normalizeClass(["text-xs bg-gray-50 p-1 px-2 rounded text-gray-600 select-none transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90",{"bg-sky-100 hover:bg-sky-100":_.value}]),onClick:N[10]||(N[10]=Ae=>_.value=!_.value)}," Match Diacritics ",2),createBaseVNode("button",{class:normalizeClass(["text-xs bg-gray-50 p-1 px-2 rounded text-gray-600 select-none transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90",{"bg-sky-100 hover:bg-sky-100":v.value}]),onClick:N[11]||(N[11]=Ae=>v.value=!v.value)}," Whole Words ",2)]),createBaseVNode("div",_hoisted_20,[createBaseVNode("div",_hoisted_21,[withDirectives(createBaseVNode("input",{id:"search",ref_key:"searchInput",ref:R,"onUpdate:modelValue":N[12]||(N[12]=Ae=>c.value=Ae),type:"text",class:"w-full border-2 border-sky-500 focus:outline-none rounded px-1",placeholder:"Find in document...",onInput:D,onKeyup:withKeys(M,["enter"])},null,40,_hoisted_22),[[vModelText,c.value]]),c.value?(openBlock(),createElementBlock("div",_hoisted_23,[A.value===f.FOUND||A.value===f.WRAPPED?(openBlock(),createElementBlock("div",_hoisted_24,[createBaseVNode("span",null,toDisplayString(o.value)+" of "+toDisplayString(r.value),1)])):A.value===f.NOT_FOUND?(openBlock(),createElementBlock("div",_hoisted_25,_hoisted_27)):A.value===f.PENDING?(openBlock(),createElementBlock("div",_hoisted_28," Loading ")):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",onClick:T},[createVNode(I,{class:"w-5 h-5"})]),createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",onClick:d},[createVNode(z,{class:"w-5 h-5"})])])])],512),[[vShow,g.value]])])}}}),PDFNavbar_vue_vue_type_style_index_0_scoped_35f4e51b_lang="",__unplugin_components_0=_export_sfc(_sfc_main$4,[["__scopeId","data-v-35f4e51b"]]);function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(t,i){module.exports=t.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,t)=>{var qe;Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=$,t.bytesToString=ye,t.createValidAbsoluteUrl=pe,t.getModificationDate=Oe,t.getUuid=Ke,t.getVerbosityLevel=z,t.info=Y,t.isArrayBuffer=he,t.isArrayEqual=Me,t.isNodeJS=void 0,t.normalizeUnicode=Ge,t.objectFromMap=Z,t.objectSize=ce,t.setVerbosityLevel=I,t.shadow=Ae,t.string32=J,t.stringToBytes=W,t.stringToPDFString=le,t.stringToUTF8String=te,t.unreachable=P,t.utf8StringToString=oe,t.warn=j;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=i;const n=[1,0,0,1,0,0];t.IDENTITY_MATRIX=n;const s=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=s;const f=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=f;const l=1.35;t.LINE_FACTOR=l;const g=.35;t.LINE_DESCENT_FACTOR=g;const c=g/l;t.BASELINE_FACTOR=c;const r={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=r;const o={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=o;const A="pdfjs_internal_editor_";t.AnnotationEditorPrefix=A;const S={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=S;const E={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=E;const _={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=_;const v={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=v;const w={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=w;const R={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=R;const F={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=F;const M={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=M;const T={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=T;const d={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=d;const u={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=u;const D={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=D;const b={O:"PageOpen",C:"PageClose"};t.PageActionEventType=b;const m={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=m;const L={NONE:0,BINARY:1};t.CMapCompressionType=L;const C={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=C;const N={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=N;let q=m.WARNINGS;function I(Fe){Number.isInteger(Fe)&&(q=Fe)}function z(){return q}function Y(Fe){q>=m.INFOS&&console.log(`Info: ${Fe}`)}function j(Fe){q>=m.WARNINGS&&console.log(`Warning: ${Fe}`)}function P(Fe){throw new Error(Fe)}function $(Fe,O){Fe||P(O)}function B(Fe){switch(Fe==null?void 0:Fe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function pe(Fe,O=null,G=null){if(!Fe)return null;try{if(G&&typeof Fe=="string"){if(G.addDefaultProtocol&&Fe.startsWith("www.")){const Ve=Fe.match(/\./g);(Ve==null?void 0:Ve.length)>=2&&(Fe=`http://${Fe}`)}if(G.tryConvertEncoding)try{Fe=te(Fe)}catch{}}const be=O?new URL(Fe,O):new URL(Fe);if(B(be))return be}catch{}return null}function Ae(Fe,O,G,be=!1){return Object.defineProperty(Fe,O,{value:G,enumerable:!be,configurable:!0,writable:!1}),G}const U=function(){function O(G,be){this.constructor===O&&P("Cannot initialize BaseException."),this.message=G,this.name=be}return O.prototype=new Error,O.constructor=O,O}();t.BaseException=U;class y extends U{constructor(O,G){super(O,"PasswordException"),this.code=G}}t.PasswordException=y;class k extends U{constructor(O,G){super(O,"UnknownErrorException"),this.details=G}}t.UnknownErrorException=k;class H extends U{constructor(O){super(O,"InvalidPDFException")}}t.InvalidPDFException=H;class se extends U{constructor(O){super(O,"MissingPDFException")}}t.MissingPDFException=se;class Q extends U{constructor(O,G){super(O,"UnexpectedResponseException"),this.status=G}}t.UnexpectedResponseException=Q;class de extends U{constructor(O){super(O,"FormatError")}}t.FormatError=de;class ge extends U{constructor(O){super(O,"AbortException")}}t.AbortException=ge;function ye(Fe){(typeof Fe!="object"||(Fe==null?void 0:Fe.length)===void 0)&&P("Invalid argument for bytesToString");const O=Fe.length,G=8192;if(O<G)return String.fromCharCode.apply(null,Fe);const be=[];for(let Ve=0;Ve<O;Ve+=G){const Le=Math.min(Ve+G,O),Te=Fe.subarray(Ve,Le);be.push(String.fromCharCode.apply(null,Te))}return be.join("")}function W(Fe){typeof Fe!="string"&&P("Invalid argument for stringToBytes");const O=Fe.length,G=new Uint8Array(O);for(let be=0;be<O;++be)G[be]=Fe.charCodeAt(be)&255;return G}function J(Fe){return String.fromCharCode(Fe>>24&255,Fe>>16&255,Fe>>8&255,Fe&255)}function ce(Fe){return Object.keys(Fe).length}function Z(Fe){const O=Object.create(null);for(const[G,be]of Fe)O[G]=be;return O}function ue(){const Fe=new Uint8Array(4);return Fe[0]=1,new Uint32Array(Fe.buffer,0,1)[0]===1}function _e(){try{return new Function(""),!0}catch{return!1}}class Ee{static get isLittleEndian(){return Ae(this,"isLittleEndian",ue())}static get isEvalSupported(){return Ae(this,"isEvalSupported",_e())}static get isOffscreenCanvasSupported(){return Ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ae(this,"platform",{isWin:!1,isMac:!1}):Ae(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var O,G;return Ae(this,"isCSSRoundSupported",(G=(O=globalThis.CSS)==null?void 0:O.supports)==null?void 0:G.call(O,"width: round(1.5px, 1px)"))}}t.FeatureTest=Ee;const Pe=[...Array(256).keys()].map(Fe=>Fe.toString(16).padStart(2,"0"));class Se{static makeHexColor(O,G,be){return`#${Pe[O]}${Pe[G]}${Pe[be]}`}static scaleMinMax(O,G){let be;O[0]?(O[0]<0&&(be=G[0],G[0]=G[1],G[1]=be),G[0]*=O[0],G[1]*=O[0],O[3]<0&&(be=G[2],G[2]=G[3],G[3]=be),G[2]*=O[3],G[3]*=O[3]):(be=G[0],G[0]=G[2],G[2]=be,be=G[1],G[1]=G[3],G[3]=be,O[1]<0&&(be=G[2],G[2]=G[3],G[3]=be),G[2]*=O[1],G[3]*=O[1],O[2]<0&&(be=G[0],G[0]=G[1],G[1]=be),G[0]*=O[2],G[1]*=O[2]),G[0]+=O[4],G[1]+=O[4],G[2]+=O[5],G[3]+=O[5]}static transform(O,G){return[O[0]*G[0]+O[2]*G[1],O[1]*G[0]+O[3]*G[1],O[0]*G[2]+O[2]*G[3],O[1]*G[2]+O[3]*G[3],O[0]*G[4]+O[2]*G[5]+O[4],O[1]*G[4]+O[3]*G[5]+O[5]]}static applyTransform(O,G){const be=O[0]*G[0]+O[1]*G[2]+G[4],Ve=O[0]*G[1]+O[1]*G[3]+G[5];return[be,Ve]}static applyInverseTransform(O,G){const be=G[0]*G[3]-G[1]*G[2],Ve=(O[0]*G[3]-O[1]*G[2]+G[2]*G[5]-G[4]*G[3])/be,Le=(-O[0]*G[1]+O[1]*G[0]+G[4]*G[1]-G[5]*G[0])/be;return[Ve,Le]}static getAxialAlignedBoundingBox(O,G){const be=this.applyTransform(O,G),Ve=this.applyTransform(O.slice(2,4),G),Le=this.applyTransform([O[0],O[3]],G),Te=this.applyTransform([O[2],O[1]],G);return[Math.min(be[0],Ve[0],Le[0],Te[0]),Math.min(be[1],Ve[1],Le[1],Te[1]),Math.max(be[0],Ve[0],Le[0],Te[0]),Math.max(be[1],Ve[1],Le[1],Te[1])]}static inverseTransform(O){const G=O[0]*O[3]-O[1]*O[2];return[O[3]/G,-O[1]/G,-O[2]/G,O[0]/G,(O[2]*O[5]-O[4]*O[3])/G,(O[4]*O[1]-O[5]*O[0])/G]}static singularValueDecompose2dScale(O){const G=[O[0],O[2],O[1],O[3]],be=O[0]*G[0]+O[1]*G[2],Ve=O[0]*G[1]+O[1]*G[3],Le=O[2]*G[0]+O[3]*G[2],Te=O[2]*G[1]+O[3]*G[3],Ie=(be+Te)/2,ee=Math.sqrt((be+Te)**2-4*(be*Te-Le*Ve))/2,Ce=Ie+ee||1,Be=Ie-ee||1;return[Math.sqrt(Ce),Math.sqrt(Be)]}static normalizeRect(O){const G=O.slice(0);return O[0]>O[2]&&(G[0]=O[2],G[2]=O[0]),O[1]>O[3]&&(G[1]=O[3],G[3]=O[1]),G}static intersect(O,G){const be=Math.max(Math.min(O[0],O[2]),Math.min(G[0],G[2])),Ve=Math.min(Math.max(O[0],O[2]),Math.max(G[0],G[2]));if(be>Ve)return null;const Le=Math.max(Math.min(O[1],O[3]),Math.min(G[1],G[3])),Te=Math.min(Math.max(O[1],O[3]),Math.max(G[1],G[3]));return Le>Te?null:[be,Le,Ve,Te]}static bezierBoundingBox(O,G,be,Ve,Le,Te,Ie,ee){const Ce=[],Be=[[],[]];let Re,X,V,ne,ie,fe,xe,Ne;for(let $e=0;$e<2;++$e){if($e===0?(X=6*O-12*be+6*Le,Re=-3*O+9*be-9*Le+3*Ie,V=3*be-3*O):(X=6*G-12*Ve+6*Te,Re=-3*G+9*Ve-9*Te+3*ee,V=3*Ve-3*G),Math.abs(Re)<1e-12){if(Math.abs(X)<1e-12)continue;ne=-V/X,0<ne&&ne<1&&Ce.push(ne);continue}xe=X*X-4*V*Re,Ne=Math.sqrt(xe),!(xe<0)&&(ie=(-X+Ne)/(2*Re),0<ie&&ie<1&&Ce.push(ie),fe=(-X-Ne)/(2*Re),0<fe&&fe<1&&Ce.push(fe))}let re=Ce.length,ve;const ke=re;for(;re--;)ne=Ce[re],ve=1-ne,Be[0][re]=ve*ve*ve*O+3*ve*ve*ne*be+3*ve*ne*ne*Le+ne*ne*ne*Ie,Be[1][re]=ve*ve*ve*G+3*ve*ve*ne*Ve+3*ve*ne*ne*Te+ne*ne*ne*ee;return Be[0][ke]=O,Be[1][ke]=G,Be[0][ke+1]=Ie,Be[1][ke+1]=ee,Be[0].length=Be[1].length=ke+2,[Math.min(...Be[0]),Math.min(...Be[1]),Math.max(...Be[0]),Math.max(...Be[1])]}}t.Util=Se;const we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function le(Fe){if(Fe[0]>="\xEF"){let G;if(Fe[0]==="\xFE"&&Fe[1]==="\xFF"?G="utf-16be":Fe[0]==="\xFF"&&Fe[1]==="\xFE"?G="utf-16le":Fe[0]==="\xEF"&&Fe[1]==="\xBB"&&Fe[2]==="\xBF"&&(G="utf-8"),G)try{const be=new TextDecoder(G,{fatal:!0}),Ve=W(Fe);return be.decode(Ve)}catch(be){j(`stringToPDFString: "${be}".`)}}const O=[];for(let G=0,be=Fe.length;G<be;G++){const Ve=we[Fe.charCodeAt(G)];O.push(Ve?String.fromCharCode(Ve):Fe.charAt(G))}return O.join("")}function te(Fe){return decodeURIComponent(escape(Fe))}function oe(Fe){return unescape(encodeURIComponent(Fe))}function he(Fe){return typeof Fe=="object"&&(Fe==null?void 0:Fe.byteLength)!==void 0}function Me(Fe,O){if(Fe.length!==O.length)return!1;for(let G=0,be=Fe.length;G<be;G++)if(Fe[G]!==O[G])return!1;return!0}function Oe(Fe=new Date){return[Fe.getUTCFullYear().toString(),(Fe.getUTCMonth()+1).toString().padStart(2,"0"),Fe.getUTCDate().toString().padStart(2,"0"),Fe.getUTCHours().toString().padStart(2,"0"),Fe.getUTCMinutes().toString().padStart(2,"0"),Fe.getUTCSeconds().toString().padStart(2,"0")].join("")}class je{constructor(){K(this,qe,!1);this.promise=new Promise((O,G)=>{this.resolve=be=>{me(this,qe,!0),O(be)},this.reject=be=>{me(this,qe,!0),G(be)}})}get settled(){return a(this,qe)}}qe=new WeakMap,t.PromiseCapability=je;let ze=null,He=null;function Ge(Fe){return ze||(ze=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,He=new Map([["\uFB05","\u017Ft"]])),Fe.replaceAll(ze,(O,G,be)=>G?G.normalize("NFKC"):He.get(be))}function Ke(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Fe=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Fe);else for(let O=0;O<32;O++)Fe[O]=Math.floor(Math.random()*255);return ye(Fe)}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,i,n,s,dt,l,Ft,c,r,o,A,S,E,_,v,w,Lt,F,M,gn,d,u;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(b){var je,ze;if(typeof b=="string"||b instanceof URL?b={url:b}:(0,_util.isArrayBuffer)(b)&&(b={data:b}),typeof b!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!b.url&&!b.data&&!b.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const m=new PDFDocumentLoadingTask,{docId:L}=m,C=b.url?getUrlProp(b.url):null,N=b.data?getDataProp(b.data):null,q=b.httpHeaders||null,I=b.withCredentials===!0,z=(je=b.password)!=null?je:null,Y=b.range instanceof PDFDataRangeTransport?b.range:null,j=Number.isInteger(b.rangeChunkSize)&&b.rangeChunkSize>0?b.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let P=b.worker instanceof PDFWorker?b.worker:null;const $=b.verbosity,B=typeof b.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(b.docBaseUrl)?b.docBaseUrl:null,pe=typeof b.cMapUrl=="string"?b.cMapUrl:null,Ae=b.cMapPacked!==!1,U=b.CMapReaderFactory||DefaultCMapReaderFactory,y=typeof b.standardFontDataUrl=="string"?b.standardFontDataUrl:null,k=b.StandardFontDataFactory||DefaultStandardFontDataFactory,H=b.stopAtErrors!==!0,se=Number.isInteger(b.maxImageSize)&&b.maxImageSize>-1?b.maxImageSize:-1,Q=b.isEvalSupported!==!1,de=typeof b.isOffscreenCanvasSupported=="boolean"?b.isOffscreenCanvasSupported:!_util.isNodeJS,ge=Number.isInteger(b.canvasMaxAreaInBytes)?b.canvasMaxAreaInBytes:-1,ye=typeof b.disableFontFace=="boolean"?b.disableFontFace:_util.isNodeJS,W=b.fontExtraProperties===!0,J=b.enableXfa===!0,ce=b.ownerDocument||globalThis.document,Z=b.disableRange===!0,ue=b.disableStream===!0,_e=b.disableAutoFetch===!0,Ee=b.pdfBug===!0,Pe=Y?Y.length:(ze=b.length)!=null?ze:NaN,Se=typeof b.useSystemFonts=="boolean"?b.useSystemFonts:!_util.isNodeJS&&!ye,we=typeof b.useWorkerFetch=="boolean"?b.useWorkerFetch:U===_display_utils.DOMCMapReaderFactory&&k===_display_utils.DOMStandardFontDataFactory&&pe&&y&&(0,_display_utils.isValidFetchUrl)(pe,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(y,document.baseURI),le=b.canvasFactory||new DefaultCanvasFactory({ownerDocument:ce}),te=b.filterFactory||new DefaultFilterFactory({docId:L,ownerDocument:ce}),oe=null;(0,_util.setVerbosityLevel)($);const he={canvasFactory:le,filterFactory:te};if(we||(he.cMapReaderFactory=new U({baseUrl:pe,isCompressed:Ae}),he.standardFontDataFactory=new k({baseUrl:y})),!P){const He={verbosity:$,port:_worker_options.GlobalWorkerOptions.workerPort};P=He.port?PDFWorker.fromPort(He):new PDFWorker(He),m._worker=P}const Me={docId:L,apiVersion:"3.10.111",data:N,password:z,disableAutoFetch:_e,rangeChunkSize:j,length:Pe,docBaseUrl:B,enableXfa:J,evaluatorOptions:{maxImageSize:se,disableFontFace:ye,ignoreErrors:H,isEvalSupported:Q,isOffscreenCanvasSupported:de,canvasMaxAreaInBytes:ge,fontExtraProperties:W,useSystemFonts:Se,cMapUrl:we?pe:null,standardFontDataUrl:we?y:null}},Oe={ignoreErrors:H,isEvalSupported:Q,disableFontFace:ye,fontExtraProperties:W,enableXfa:J,ownerDocument:ce,disableAutoFetch:_e,pdfBug:Ee,styleElement:oe};return P.promise.then(function(){if(m.destroyed)throw new Error("Loading aborted");const He=_fetchDocument(P,Me),Ge=new Promise(function(Ke){let qe;Y?qe=new _transport_stream.PDFDataTransportStream({length:Pe,initialData:Y.initialData,progressiveDone:Y.progressiveDone,contentDispositionFilename:Y.contentDispositionFilename,disableRange:Z,disableStream:ue},Y):N||(qe=(O=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(O):(0,_display_utils.isValidFetchUrl)(O.url)?new _displayFetch_stream.PDFFetchStream(O):new _displayNetwork.PDFNetworkStream(O))({url:C,length:Pe,httpHeaders:q,withCredentials:I,rangeChunkSize:j,disableRange:Z,disableStream:ue})),Ke(qe)});return Promise.all([He,Ge]).then(function([Ke,qe]){if(m.destroyed)throw new Error("Loading aborted");const Fe=new _message_handler.MessageHandler(L,Ke,P.port),O=new WorkerTransport(Fe,m,qe,Oe,he);m._transport=O,Fe.send("Ready",null)})}).catch(m._capability.reject),m}async function _fetchDocument(b,m){if(b.destroyed)throw new Error("Worker was destroyed");const L=await b.messageHandler.sendWithPromise("GetDocRequest",m,m.data?[m.data.buffer]:null);if(b.destroyed)throw new Error("Worker was destroyed");return L}function getUrlProp(b){if(b instanceof URL)return b.href;try{return new URL(b,window.location).href}catch{if(_util.isNodeJS&&typeof b=="string")return b}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(b){if(_util.isNodeJS&&typeof Buffer<"u"&&b instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength)return b;if(typeof b=="string")return(0,_util.stringToBytes)(b);if(typeof b=="object"&&!isNaN(b==null?void 0:b.length)||(0,_util.isArrayBuffer)(b))return new Uint8Array(b);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ct(t,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var m,L,C;this.destroyed=!0;try{(m=this._worker)!=null&&m.port&&(this._worker._pendingDestroy=!0),await((L=this._transport)==null?void 0:L.destroy())}catch(N){throw(C=this._worker)!=null&&C.port&&delete this._worker._pendingDestroy,N}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=t;e=new WeakMap,K(PDFDocumentLoadingTask,e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(m,L,C=!1,N=null){this.length=m,this.initialData=L,this.progressiveDone=C,this.contentDispositionFilename=N,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(m){this._rangeListeners.push(m)}addProgressListener(m){this._progressListeners.push(m)}addProgressiveReadListener(m){this._progressiveReadListeners.push(m)}addProgressiveDoneListener(m){this._progressiveDoneListeners.push(m)}onDataRange(m,L){for(const C of this._rangeListeners)C(m,L)}onDataProgress(m,L){this._readyCapability.promise.then(()=>{for(const C of this._progressListeners)C(m,L)})}onDataProgressiveRead(m){this._readyCapability.promise.then(()=>{for(const L of this._progressiveReadListeners)L(m)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const m of this._progressiveDoneListeners)m()})}transportReady(){this._readyCapability.resolve()}requestDataRange(m,L){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(m,L){this._pdfInfo=m,this._transport=L,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(C=>{if(!C)return C;const N=[];for(const q in C)N.push(...C[q]);return N}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(m){return this._transport.getPage(m)}getPageIndex(m){return this._transport.getPageIndex(m)}getDestinations(){return this._transport.getDestinations()}getDestination(m){return this._transport.getDestination(m)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(m=!1){return this._transport.startCleanup(m||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(m,L,C,N=!1){K(this,s);K(this,l);K(this,i,null);K(this,n,!1);this._pageIndex=m,this._pageInfo=L,this._transport=C,this._stats=N?new _display_utils.StatTimer:null,this._pdfBug=N,this.commonObjs=C.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:m,rotation:L=this.rotate,offsetX:C=0,offsetY:N=0,dontFlip:q=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:m,rotation:L,offsetX:C,offsetY:N,dontFlip:q})}getAnnotations({intent:m="display"}={}){const L=this._transport.getRenderingIntent(m);return this._transport.getAnnotations(this._pageIndex,L.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var m;return((m=this._transport._htmlForXfa)==null?void 0:m.children[this._pageIndex])||null}render({canvasContext:m,viewport:L,intent:C="display",annotationMode:N=_util.AnnotationMode.ENABLE,transform:q=null,background:I=null,optionalContentConfigPromise:z=null,annotationCanvasMap:Y=null,pageColors:j=null,printAnnotationStorage:P=null}){var k,H;(k=this._stats)==null||k.time("Overall");const $=this._transport.getRenderingIntent(C,N,P);me(this,n,!1),ae(this,l,Ft).call(this),z||(z=this._transport.getOptionalContentConfig());let B=this._intentStates.get($.cacheKey);B||(B=Object.create(null),this._intentStates.set($.cacheKey,B)),B.streamReaderCancelTimeout&&(clearTimeout(B.streamReaderCancelTimeout),B.streamReaderCancelTimeout=null);const pe=!!($.renderingIntent&_util.RenderingIntentFlag.PRINT);B.displayReadyCapability||(B.displayReadyCapability=new _util.PromiseCapability,B.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList($));const Ae=se=>{var Q,de;B.renderTasks.delete(U),(this._maybeCleanupAfterRender||pe)&&me(this,n,!0),ae(this,s,dt).call(this,!pe),se?(U.capability.reject(se),this._abortOperatorList({intentState:B,reason:se instanceof Error?se:new Error(se)})):U.capability.resolve(),(Q=this._stats)==null||Q.timeEnd("Rendering"),(de=this._stats)==null||de.timeEnd("Overall")},U=new InternalRenderTask({callback:Ae,params:{canvasContext:m,viewport:L,transform:q,background:I},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Y,operatorList:B.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!pe,pdfBug:this._pdfBug,pageColors:j});(B.renderTasks||(B.renderTasks=new Set)).add(U);const y=U.task;return Promise.all([B.displayReadyCapability.promise,z]).then(([se,Q])=>{var de;if(this.destroyed){Ae();return}(de=this._stats)==null||de.time("Rendering"),U.initializeGraphics({transparency:se,optionalContentConfig:Q}),U.operatorListChanged()}).catch(Ae),y}getOperatorList({intent:m="display",annotationMode:L=_util.AnnotationMode.ENABLE,printAnnotationStorage:C=null}={}){var Y;function N(){I.operatorList.lastChunk&&(I.opListReadCapability.resolve(I.operatorList),I.renderTasks.delete(z))}const q=this._transport.getRenderingIntent(m,L,C,!0);let I=this._intentStates.get(q.cacheKey);I||(I=Object.create(null),this._intentStates.set(q.cacheKey,I));let z;return I.opListReadCapability||(z=Object.create(null),z.operatorListChanged=N,I.opListReadCapability=new _util.PromiseCapability,(I.renderTasks||(I.renderTasks=new Set)).add(z),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Y=this._stats)==null||Y.time("Page Request"),this._pumpOperatorList(q)),I.opListReadCapability.promise}streamTextContent({includeMarkedContent:m=!1,disableNormalization:L=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:m===!0,disableNormalization:L===!0},{highWaterMark:100,size(N){return N.items.length}})}getTextContent(m={}){if(this._transport._htmlForXfa)return this.getXfa().then(C=>_xfa_text.XfaText.textContent(C));const L=this.streamTextContent(m);return new Promise(function(C,N){function q(){I.read().then(function({value:Y,done:j}){if(j){C(z);return}Object.assign(z.styles,Y.styles),z.items.push(...Y.items),q()},N)}const I=L.getReader(),z={items:[],styles:Object.create(null)};q()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const m=[];for(const L of this._intentStates.values())if(this._abortOperatorList({intentState:L,reason:new Error("Page was destroyed."),force:!0}),!L.opListReadCapability)for(const C of L.renderTasks)m.push(C.completed),C.cancel();return this.objs.clear(),me(this,n,!1),ae(this,l,Ft).call(this),Promise.all(m)}cleanup(m=!1){me(this,n,!0);const L=ae(this,s,dt).call(this,!1);return m&&L&&this._stats&&(this._stats=new _display_utils.StatTimer),L}_startRenderPage(m,L){var N,q;const C=this._intentStates.get(L);!C||((N=this._stats)==null||N.timeEnd("Page Request"),(q=C.displayReadyCapability)==null||q.resolve(m))}_renderPageChunk(m,L){for(let C=0,N=m.length;C<N;C++)L.operatorList.fnArray.push(m.fnArray[C]),L.operatorList.argsArray.push(m.argsArray[C]);L.operatorList.lastChunk=m.lastChunk,L.operatorList.separateAnnots=m.separateAnnots;for(const C of L.renderTasks)C.operatorListChanged();m.lastChunk&&ae(this,s,dt).call(this,!0)}_pumpOperatorList({renderingIntent:m,cacheKey:L,annotationStorageSerializable:C}){const{map:N,transfers:q}=C,z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:m,cacheKey:L,annotationStorage:N},q).getReader(),Y=this._intentStates.get(L);Y.streamReader=z;const j=()=>{z.read().then(({value:P,done:$})=>{if($){Y.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(P,Y),j())},P=>{if(Y.streamReader=null,!this._transport.destroyed){if(Y.operatorList){Y.operatorList.lastChunk=!0;for(const $ of Y.renderTasks)$.operatorListChanged();ae(this,s,dt).call(this,!0)}if(Y.displayReadyCapability)Y.displayReadyCapability.reject(P);else if(Y.opListReadCapability)Y.opListReadCapability.reject(P);else throw P}})};j()}_abortOperatorList({intentState:m,reason:L,force:C=!1}){if(!!m.streamReader){if(m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null),!C){if(m.renderTasks.size>0)return;if(L instanceof _display_utils.RenderingCancelledException){let N=RENDERING_CANCELLED_TIMEOUT;L.extraDelay>0&&L.extraDelay<1e3&&(N+=L.extraDelay),m.streamReaderCancelTimeout=setTimeout(()=>{m.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:m,reason:L,force:!0})},N);return}}if(m.streamReader.cancel(new _util.AbortException(L.message)).catch(()=>{}),m.streamReader=null,!this._transport.destroyed){for(const[N,q]of this._intentStates)if(q===m){this._intentStates.delete(N);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,n=new WeakMap,s=new WeakSet,dt=function(m=!1){if(ae(this,l,Ft).call(this),!a(this,n)||this.destroyed)return!1;if(m)return me(this,i,setTimeout(()=>{me(this,i,null),ae(this,s,dt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:L,operatorList:C}of this._intentStates.values())if(L.size>0||!C.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),me(this,n,!1),!0},l=new WeakSet,Ft=function(){a(this,i)&&(clearTimeout(a(this,i)),me(this,i,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){K(this,c,new Set);K(this,r,Promise.resolve())}postMessage(m,L){const C={data:structuredClone(m,L?{transfer:L}:null)};a(this,r).then(()=>{for(const N of a(this,c))N.call(this,C)})}addEventListener(m,L){a(this,c).add(L)}removeEventListener(m,L){a(this,c).delete(L)}terminate(){a(this,c).clear()}}c=new WeakMap,r=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const b=(o=document==null?void 0:document.currentScript)==null?void 0:o.src;b&&(PDFWorkerUtil.fallbackWorkerSrc=b.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(b,m){let L;try{if(L=new URL(b),!L.origin||L.origin==="null")return!1}catch{return!1}const C=new URL(m,L);return L.origin===C.origin},PDFWorkerUtil.createCDNWrapper=function(b){const m=`importScripts("${b}");`;return URL.createObjectURL(new Blob([m]))}}const _PDFWorker=class{constructor({name:b=null,port:m=null,verbosity:L=(0,_util.getVerbosityLevel)()}={}){var C;if(this.name=b,this.destroyed=!1,this.verbosity=L,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,m){if((C=a(_PDFWorker,A))!=null&&C.has(m))throw new Error("Cannot use more than one PDFWorker per port.");(a(_PDFWorker,A)||me(_PDFWorker,A,new WeakMap)).set(m,this),this._initializeFromPort(m);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(b){this._port=b,this._messageHandler=new _message_handler.MessageHandler("main","worker",b),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:b}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,b)||(b=PDFWorkerUtil.createCDNWrapper(new URL(b,window.location).href));const m=new Worker(b),L=new _message_handler.MessageHandler("main","worker",m),C=()=>{m.removeEventListener("error",N),L.destroy(),m.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},N=()=>{this._webWorker||C()};m.addEventListener("error",N),L.on("test",I=>{if(m.removeEventListener("error",N),this.destroyed){C();return}I?(this._messageHandler=L,this._port=m,this._webWorker=m,this._readyCapability.resolve(),L.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),L.destroy(),m.terminate())}),L.on("ready",I=>{if(m.removeEventListener("error",N),this.destroyed){C();return}try{q()}catch{this._setupFakeWorker()}});const q=()=>{const I=new Uint8Array;L.send("test",I,[I.buffer])};q();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(b=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const m=new LoopbackPort;this._port=m;const L=`fake${PDFWorkerUtil.fakeWorkerId++}`,C=new _message_handler.MessageHandler(L+"_worker",L,m);b.setup(C,m);const N=new _message_handler.MessageHandler(L,L+"_worker",m);this._messageHandler=N,this._readyCapability.resolve(),N.send("configure",{verbosity:this.verbosity})}).catch(b=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${b.message}".`))})}destroy(){var b;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(b=a(_PDFWorker,A))==null||b.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(b){var L;if(!(b!=null&&b.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const m=(L=a(this,A))==null?void 0:L.get(b.port);if(m){if(m._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return m}return new _PDFWorker(b)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var b;try{return((b=globalThis.pdfjsWorker)==null?void 0:b.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;A=new WeakMap,K(PDFWorker,A,void 0),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(m,L,C,N,q){K(this,w);K(this,S,new Map);K(this,E,new Map);K(this,_,new Map);K(this,v,null);this.messageHandler=m,this.loadingTask=L,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:N.ownerDocument,styleElement:N.styleElement}),this._params=N,this.canvasFactory=q.canvasFactory,this.filterFactory=q.filterFactory,this.cMapReaderFactory=q.cMapReaderFactory,this.standardFontDataFactory=q.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=C,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(m,L=_util.AnnotationMode.ENABLE,C=null,N=!1){let q=_util.RenderingIntentFlag.DISPLAY,I=_annotation_storage.SerializableEmpty;switch(m){case"any":q=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":q=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${m}`)}switch(L){case _util.AnnotationMode.DISABLE:q+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:q+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:q+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,I=(q&_util.RenderingIntentFlag.PRINT&&C instanceof _annotation_storage.PrintAnnotationStorage?C:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${L}`)}return N&&(q+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:q,cacheKey:`${q}_${I.hash}`,annotationStorageSerializable:I}}destroy(){var C;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(C=a(this,v))==null||C.reject(new Error("Worker was destroyed during onPassword callback"));const m=[];for(const N of a(this,E).values())m.push(N._destroy());a(this,E).clear(),a(this,_).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const L=this.messageHandler.sendWithPromise("Terminate",null);return m.push(L),Promise.all(m).then(()=>{var N;this.commonObjs.clear(),this.fontLoader.clear(),a(this,S).clear(),this.filterFactory.destroy(),(N=this._networkStream)==null||N.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:m,loadingTask:L}=this;m.on("GetReader",(C,N)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=q=>{this._lastProgress={loaded:q.loaded,total:q.total}},N.onPull=()=>{this._fullReader.read().then(function({value:q,done:I}){if(I){N.close();return}(0,_util.assert)(q instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),N.enqueue(new Uint8Array(q),1,[q])}).catch(q=>{N.error(q)})},N.onCancel=q=>{this._fullReader.cancel(q),N.ready.catch(I=>{if(!this.destroyed)throw I})}}),m.on("ReaderHeadersReady",C=>{const N=new _util.PromiseCapability,q=this._fullReader;return q.headersReady.then(()=>{var I;(!q.isStreamingSupported||!q.isRangeSupported)&&(this._lastProgress&&((I=L.onProgress)==null||I.call(L,this._lastProgress)),q.onProgress=z=>{var Y;(Y=L.onProgress)==null||Y.call(L,{loaded:z.loaded,total:z.total})}),N.resolve({isStreamingSupported:q.isStreamingSupported,isRangeSupported:q.isRangeSupported,contentLength:q.contentLength})},N.reject),N.promise}),m.on("GetRangeReader",(C,N)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const q=this._networkStream.getRangeReader(C.begin,C.end);if(!q){N.close();return}N.onPull=()=>{q.read().then(function({value:I,done:z}){if(z){N.close();return}(0,_util.assert)(I instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),N.enqueue(new Uint8Array(I),1,[I])}).catch(I=>{N.error(I)})},N.onCancel=I=>{q.cancel(I),N.ready.catch(z=>{if(!this.destroyed)throw z})}}),m.on("GetDoc",({pdfInfo:C})=>{this._numPages=C.numPages,this._htmlForXfa=C.htmlForXfa,delete C.htmlForXfa,L._capability.resolve(new PDFDocumentProxy(C,this))}),m.on("DocException",function(C){let N;switch(C.name){case"PasswordException":N=new _util.PasswordException(C.message,C.code);break;case"InvalidPDFException":N=new _util.InvalidPDFException(C.message);break;case"MissingPDFException":N=new _util.MissingPDFException(C.message);break;case"UnexpectedResponseException":N=new _util.UnexpectedResponseException(C.message,C.status);break;case"UnknownErrorException":N=new _util.UnknownErrorException(C.message,C.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}L._capability.reject(N)}),m.on("PasswordRequest",C=>{if(me(this,v,new _util.PromiseCapability),L.onPassword){const N=q=>{q instanceof Error?a(this,v).reject(q):a(this,v).resolve({password:q})};try{L.onPassword(N,C.code)}catch(q){a(this,v).reject(q)}}else a(this,v).reject(new _util.PasswordException(C.message,C.code));return a(this,v).promise}),m.on("DataLoaded",C=>{var N;(N=L.onProgress)==null||N.call(L,{loaded:C.length,total:C.length}),this.downloadInfoCapability.resolve(C)}),m.on("StartRenderPage",C=>{if(this.destroyed)return;a(this,E).get(C.pageIndex)._startRenderPage(C.transparency,C.cacheKey)}),m.on("commonobj",([C,N,q])=>{var I;if(!this.destroyed&&!this.commonObjs.has(C))switch(N){case"Font":const z=this._params;if("error"in q){const P=q.error;(0,_util.warn)(`Error during font loading: ${P}`),this.commonObjs.resolve(C,P);break}const Y=z.pdfBug&&((I=globalThis.FontInspector)==null?void 0:I.enabled)?(P,$)=>globalThis.FontInspector.fontAdded(P,$):null,j=new _font_loader.FontFaceObject(q,{isEvalSupported:z.isEvalSupported,disableFontFace:z.disableFontFace,ignoreErrors:z.ignoreErrors,inspectFont:Y});this.fontLoader.bind(j).catch(P=>m.sendWithPromise("FontFallback",{id:C})).finally(()=>{!z.fontExtraProperties&&j.data&&(j.data=null),this.commonObjs.resolve(C,j)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(C,q);break;default:throw new Error(`Got unknown common object type ${N}`)}}),m.on("obj",([C,N,q,I])=>{var Y;if(this.destroyed)return;const z=a(this,E).get(N);if(!z.objs.has(C))switch(q){case"Image":if(z.objs.resolve(C,I),I){let j;if(I.bitmap){const{width:P,height:$}=I;j=P*$*4}else j=((Y=I.data)==null?void 0:Y.length)||0;j>_util.MAX_IMAGE_SIZE_TO_CACHE&&(z._maybeCleanupAfterRender=!0)}break;case"Pattern":z.objs.resolve(C,I);break;default:throw new Error(`Got unknown object type ${q}`)}}),m.on("DocProgress",C=>{var N;this.destroyed||(N=L.onProgress)==null||N.call(L,{loaded:C.loaded,total:C.total})}),m.on("FetchBuiltInCMap",C=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(C):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),m.on("FetchStandardFontData",C=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(C):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var C,N;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:m,transfers:L}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:m,filename:(N=(C=this._fullReader)==null?void 0:C.filename)!=null?N:null},L).finally(()=>{this.annotationStorage.resetModified()})}getPage(m){if(!Number.isInteger(m)||m<=0||m>this._numPages)return Promise.reject(new Error("Invalid page request."));const L=m-1,C=a(this,_).get(L);if(C)return C;const N=this.messageHandler.sendWithPromise("GetPage",{pageIndex:L}).then(q=>{if(this.destroyed)throw new Error("Transport destroyed");const I=new PDFPageProxy(L,q,this,this._params.pdfBug);return a(this,E).set(L,I),I});return a(this,_).set(L,N),N}getPageIndex(m){return typeof m!="object"||m===null||!Number.isInteger(m.num)||m.num<0||!Number.isInteger(m.gen)||m.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:m.num,gen:m.gen})}getAnnotations(m,L){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:m,intent:L})}getFieldObjects(){return ae(this,w,Lt).call(this,"GetFieldObjects")}hasJSActions(){return ae(this,w,Lt).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(m){return typeof m!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:m})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ae(this,w,Lt).call(this,"GetDocJSActions")}getPageJSActions(m){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:m})}getStructTree(m){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:m})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(m=>new _optional_content_config.OptionalContentConfig(m))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const m="GetMetadata",L=a(this,S).get(m);if(L)return L;const C=this.messageHandler.sendWithPromise(m,null).then(N=>{var q,I,z,Y;return{info:N[0],metadata:N[1]?new _metadata.Metadata(N[1]):null,contentDispositionFilename:(I=(q=this._fullReader)==null?void 0:q.filename)!=null?I:null,contentLength:(Y=(z=this._fullReader)==null?void 0:z.contentLength)!=null?Y:null}});return a(this,S).set(m,C),C}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(m=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const L of a(this,E).values())if(!L.cleanup())throw new Error(`startCleanup: Page ${L.pageNumber} is currently rendering.`);this.commonObjs.clear(),m||this.fontLoader.clear(),a(this,S).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:m,enableXfa:L}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:m,enableXfa:L})}}S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakSet,Lt=function(m,L=null){const C=a(this,S).get(m);if(C)return C;const N=this.messageHandler.sendWithPromise(m,L);return a(this,S).set(m,N),N};class PDFObjects{constructor(){K(this,M);K(this,F,Object.create(null))}get(m,L=null){if(L){const N=ae(this,M,gn).call(this,m);return N.capability.promise.then(()=>L(N.data)),null}const C=a(this,F)[m];if(!(C!=null&&C.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${m}.`);return C.data}has(m){const L=a(this,F)[m];return(L==null?void 0:L.capability.settled)||!1}resolve(m,L=null){const C=ae(this,M,gn).call(this,m);C.data=L,C.capability.resolve()}clear(){var m;for(const L in a(this,F)){const{data:C}=a(this,F)[L];(m=C==null?void 0:C.bitmap)==null||m.close()}me(this,F,Object.create(null))}}F=new WeakMap,M=new WeakSet,gn=function(m){var L;return(L=a(this,F))[m]||(L[m]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(m){K(this,d,null);me(this,d,m),this.onContinue=null}get promise(){return a(this,d).capability.promise}cancel(m=0){a(this,d).cancel(null,m)}get separateAnnots(){const{separateAnnots:m}=a(this,d).operatorList;if(!m)return!1;const{annotationCanvasMap:L}=a(this,d);return m.form||m.canvas&&(L==null?void 0:L.size)>0}}d=new WeakMap,exports.RenderTask=RenderTask;const D=class{constructor({callback:m,params:L,objs:C,commonObjs:N,annotationCanvasMap:q,operatorList:I,pageIndex:z,canvasFactory:Y,filterFactory:j,useRequestAnimationFrame:P=!1,pdfBug:$=!1,pageColors:B=null}){this.callback=m,this.params=L,this.objs=C,this.commonObjs=N,this.annotationCanvasMap=q,this.operatorListIdx=null,this.operatorList=I,this._pageIndex=z,this.canvasFactory=Y,this.filterFactory=j,this._pdfBug=$,this.pageColors=B,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=P===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=L.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:m=!1,optionalContentConfig:L}){var z,Y;if(this.cancelled)return;if(this._canvas){if(a(D,u).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a(D,u).add(this._canvas)}this._pdfBug&&((z=globalThis.StepperManager)==null?void 0:z.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:C,viewport:N,transform:q,background:I}=this.params;this.gfx=new _canvas.CanvasGraphics(C,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:L},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:q,viewport:N,transparency:m,background:I}),this.operatorListIdx=0,this.graphicsReady=!0,(Y=this.graphicsReadyCallback)==null||Y.call(this)}cancel(m=null,L=0){var C;this.running=!1,this.cancelled=!0,(C=this.gfx)==null||C.endDrawing(),this._canvas&&a(D,u).delete(this._canvas),this.callback(m||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,L))}operatorListChanged(){var m;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(m=this.stepper)==null||m.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&a(D,u).delete(this._canvas),this.callback())))}};let InternalRenderTask=D;u=new WeakMap,K(InternalRenderTask,u,new WeakSet);const version="3.10.111";exports.version=version;const build="e142baecb";exports.build=build},(e,t,i)=>{var r,o,A,_i,E;Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var n=i(1),s=i(4),f=i(8);const l=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=l;class g{constructor(){K(this,A);K(this,r,!1);K(this,o,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(v,w){const R=a(this,o).get(v);return R===void 0?w:Object.assign(w,R)}getRawValue(v){return a(this,o).get(v)}remove(v){if(a(this,o).delete(v),a(this,o).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const w of a(this,o).values())if(w instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(v,w){const R=a(this,o).get(v);let F=!1;if(R!==void 0)for(const[M,T]of Object.entries(w))R[M]!==T&&(F=!0,R[M]=T);else F=!0,a(this,o).set(v,w);F&&ae(this,A,_i).call(this),w instanceof s.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(w.constructor._type)}has(v){return a(this,o).has(v)}getAll(){return a(this,o).size>0?(0,n.objectFromMap)(a(this,o)):null}setAll(v){for(const[w,R]of Object.entries(v))this.setValue(w,R)}get size(){return a(this,o).size}resetModified(){a(this,r)&&(me(this,r,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new c(this)}get serializable(){if(a(this,o).size===0)return l;const v=new Map,w=new f.MurmurHash3_64,R=[],F=Object.create(null);let M=!1;for(const[T,d]of a(this,o)){const u=d instanceof s.AnnotationEditor?d.serialize(!1,F):d;u&&(v.set(T,u),w.update(`${T}:${JSON.stringify(u)}`),M||(M=!!u.bitmap))}if(M)for(const T of v.values())T.bitmap&&R.push(T.bitmap);return v.size>0?{map:v,hash:w.hexdigest(),transfers:R}:l}}r=new WeakMap,o=new WeakMap,A=new WeakSet,_i=function(){a(this,r)||(me(this,r,!0),typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=g;class c extends g{constructor(w){super();K(this,E,void 0);const{map:R,hash:F,transfers:M}=w.serializable,T=structuredClone(R,M?{transfer:M}:null);me(this,E,{map:T,hash:F,transfers:M})}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return a(this,E)}}E=new WeakMap,t.PrintAnnotationStorage=c},(e,t,i)=>{var g,c,r,o,A,S,E,_,v,w,mn,F,_n,T,vn,u,vi,b,bi,L,yi,N,Ai,I,Si;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var n=i(5),s=i(1);const Y=class{constructor(P){K(this,w);K(this,T);K(this,b);K(this,L);K(this,N);K(this,I);K(this,g,!1);K(this,c,null);K(this,r,this.focusin.bind(this));K(this,o,this.focusout.bind(this));K(this,A,!1);K(this,S,!1);K(this,E,!1);nt(this,"_initialOptions",Object.create(null));nt(this,"_uiManager",null);nt(this,"_focusEventsAllowed",!0);K(this,_,!1);K(this,v,Y._zIndex++);this.constructor===Y&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=P.parent,this.id=P.id,this.width=this.height=null,this.pageIndex=P.parent.pageIndex,this.name=P.name,this.div=null,this._uiManager=P.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=P.isCentered;const{rotation:$,rawDims:{pageWidth:B,pageHeight:pe,pageX:Ae,pageY:U}}=this.parent.viewport;this.rotation=$,this.pageRotation=(360+$-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[B,pe],this.pageTranslation=[Ae,U];const[y,k]=this.parentDimensions;this.x=P.x/y,this.y=P.y/k,this.isAttachedToDOM=!1,this.deleted=!1}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(P){const $=new l({id:P.parent.getNextId(),parent:P.parent,uiManager:P._uiManager});$.annotationElementId=P.annotationElementId,$.deleted=!0,$._uiManager.addToAnnotationStorage($)}static initialize(P){}static updateDefaultParams(P,$){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(P){return!1}static paste(P,$){(0,s.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return a(this,_)}set _isDraggable(P){var $;me(this,_,P),($=this.div)==null||$.classList.toggle("draggable",P)}center(){const[P,$]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*$/(P*2),this.y+=this.width*P/($*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*$/(P*2),this.y-=this.width*P/($*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(P){this._uiManager.addCommands(P)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=a(this,v)}setParent(P){P!==null&&(this.pageIndex=P.pageIndex,this.pageDimensions=P.pageDimensions),this.parent=P}focusin(P){!this._focusEventsAllowed||(a(this,A)?me(this,A,!1):this.parent.setSelected(this))}focusout(P){var B;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const $=P.relatedTarget;$!=null&&$.closest(`#${this.id}`)||(P.preventDefault(),(B=this.parent)!=null&&B.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(P,$,B,pe){const[Ae,U]=this.parentDimensions;[B,pe]=this.screenToPageTranslation(B,pe),this.x=(P+B)/Ae,this.y=($+pe)/U,this.fixAndSetPosition()}translate(P,$){ae(this,w,mn).call(this,this.parentDimensions,P,$)}translateInPage(P,$){ae(this,w,mn).call(this,this.pageDimensions,P,$),this.moveInDOM(),this.div.scrollIntoView({block:"nearest"})}drag(P,$){const[B,pe]=this.parentDimensions;if(this.x+=P/B,this.y+=$/pe,this.x<0||this.x>1||this.y<0||this.y>1){const{x:Ae,y:U}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ae,U)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}this.div.style.left=`${(100*this.x).toFixed(2)}%`,this.div.style.top=`${(100*this.y).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[P,$]=this.pageDimensions;let{x:B,y:pe,width:Ae,height:U}=this;switch(Ae*=P,U*=$,B*=P,pe*=$,this.rotation){case 0:B=Math.max(0,Math.min(P-Ae,B)),pe=Math.max(0,Math.min($-U,pe));break;case 90:B=Math.max(0,Math.min(P-U,B)),pe=Math.min($,Math.max(Ae,pe));break;case 180:B=Math.min(P,Math.max(Ae,B)),pe=Math.min($,Math.max(U,pe));break;case 270:B=Math.min(P,Math.max(U,B)),pe=Math.max(0,Math.min($-Ae,pe));break}this.x=B/P,this.y=pe/$,this.div.style.left=`${(100*this.x).toFixed(2)}%`,this.div.style.top=`${(100*this.y).toFixed(2)}%`}screenToPageTranslation(P,$){var B;return ae(B=Y,F,_n).call(B,P,$,this.parentRotation)}pageTranslationToScreen(P,$){var B;return ae(B=Y,F,_n).call(B,P,$,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:P,pageDimensions:[$,B]}=this,pe=$*P,Ae=B*P;return s.FeatureTest.isCSSRoundSupported?[Math.round(pe),Math.round(Ae)]:[pe,Ae]}setDims(P,$){const[B,pe]=this.parentDimensions;this.div.style.width=`${(100*P/B).toFixed(2)}%`,a(this,g)||(this.div.style.height=`${(100*$/pe).toFixed(2)}%`)}fixDims(){const{style:P}=this.div,{height:$,width:B}=P,pe=B.endsWith("%"),Ae=!a(this,g)&&$.endsWith("%");if(pe&&Ae)return;const[U,y]=this.parentDimensions;pe||(P.width=`${(100*parseFloat(B)/U).toFixed(2)}%`),!a(this,g)&&!Ae&&(P.height=`${(100*parseFloat($)/y).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",a(this,r)),this.div.addEventListener("focusout",a(this,o));const[P,$]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*$/P).toFixed(2)}%`,this.div.style.maxHeight=`${(100*P/$).toFixed(2)}%`);const[B,pe]=this.getInitialTranslation();return this.translate(B,pe),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(P){const{isMac:$}=s.FeatureTest.platform;if(P.button!==0||P.ctrlKey&&$){P.preventDefault();return}me(this,A,!0),ae(this,I,Si).call(this,P)}moveInDOM(){this.parent.moveEditorInDOM(this)}_setParentAndPosition(P,$,B){P.changeParent(this),this.x=$,this.y=B,this.fixAndSetPosition(),this.moveInDOM()}getRect(P,$){const B=this.parentScale,[pe,Ae]=this.pageDimensions,[U,y]=this.pageTranslation,k=P/B,H=$/B,se=this.x*pe,Q=this.y*Ae,de=this.width*pe,ge=this.height*Ae;switch(this.rotation){case 0:return[se+k+U,Ae-Q-H-ge+y,se+k+de+U,Ae-Q-H+y];case 90:return[se+H+U,Ae-Q+k+y,se+H+ge+U,Ae-Q+k+de+y];case 180:return[se-k-de+U,Ae-Q+H+y,se-k+U,Ae-Q+H+ge+y];case 270:return[se-H-ge+U,Ae-Q-k-de+y,se-H+U,Ae-Q-k+y];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(P,$){const[B,pe,Ae,U]=P,y=Ae-B,k=U-pe;switch(this.rotation){case 0:return[B,$-U,y,k];case 90:return[B,$-pe,k,y];case 180:return[Ae,$-pe,y,k];case 270:return[Ae,$-U,k,y];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){me(this,E,!0)}disableEditMode(){me(this,E,!1)}isInEditMode(){return a(this,E)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var P,$;(P=this.div)==null||P.addEventListener("focusin",a(this,r)),($=this.div)==null||$.addEventListener("focusout",a(this,o))}serialize(P=!1,$=null){(0,s.unreachable)("An editor must be serializable")}static deserialize(P,$,B){const pe=new this.prototype.constructor({parent:$,id:$.getNextId(),uiManager:B});pe.rotation=P.rotation;const[Ae,U]=pe.pageDimensions,[y,k,H,se]=pe.getRectInCurrentCoords(P.rect,U);return pe.x=y/Ae,pe.y=k/U,pe.width=H/Ae,pe.height=se/U,pe}remove(){this.div.removeEventListener("focusin",a(this,r)),this.div.removeEventListener("focusout",a(this,o)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ae(this,b,bi).call(this),a(this,c).classList.remove("hidden"))}select(){var P;this.makeResizable(),(P=this.div)==null||P.classList.add("selectedEditor")}unselect(){var P,$,B;(P=a(this,c))==null||P.classList.add("hidden"),($=this.div)==null||$.classList.remove("selectedEditor"),(B=this.div)!=null&&B.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(P,$){}disableEditing(){}enableEditing(){}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return a(this,S)}set isEditing(P){me(this,S,P),this.parent&&(P?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(P,$){me(this,g,!0);const B=P/$,{style:pe}=this.div;pe.aspectRatio=B,pe.height="auto"}static get MIN_SIZE(){return 16}};let f=Y;g=new WeakMap,c=new WeakMap,r=new WeakMap,o=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakSet,mn=function([P,$],B,pe){[B,pe]=this.screenToPageTranslation(B,pe),this.x+=B/P,this.y+=pe/$,this.fixAndSetPosition()},F=new WeakSet,_n=function(P,$,B){switch(B){case 90:return[$,-P];case 180:return[-P,-$];case 270:return[-$,P];default:return[P,$]}},T=new WeakSet,vn=function(P){switch(P){case 90:{const[$,B]=this.pageDimensions;return[0,-$/B,B/$,0]}case 180:return[-1,0,0,-1];case 270:{const[$,B]=this.pageDimensions;return[0,$/B,-B/$,0]}default:return[1,0,0,1]}},u=new WeakSet,vi=function(P){P.preventDefault()},b=new WeakSet,bi=function(){if(a(this,c))return;me(this,c,document.createElement("div")),a(this,c).classList.add("resizers");const P=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||P.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const $ of P){const B=document.createElement("div");a(this,c).append(B),B.classList.add("resizer",$),B.addEventListener("pointerdown",ae(this,L,yi).bind(this,$)),B.addEventListener("contextmenu",ae(Y,u,vi))}this.div.prepend(a(this,c))},L=new WeakSet,yi=function(P,$){$.preventDefault();const{isMac:B}=s.FeatureTest.platform;if($.button!==0||$.ctrlKey&&B)return;const pe=ae(this,N,Ai).bind(this,P),Ae=this._isDraggable;this._isDraggable=!1;const U={passive:!0,capture:!0};window.addEventListener("pointermove",pe,U);const y=this.x,k=this.y,H=this.width,se=this.height,Q=this.parent.div.style.cursor,de=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle($.target).cursor;const ge=()=>{this._isDraggable=Ae,window.removeEventListener("pointerup",ge),window.removeEventListener("blur",ge),window.removeEventListener("pointermove",pe,U),this.parent.div.style.cursor=Q,this.div.style.cursor=de;const ye=this.x,W=this.y,J=this.width,ce=this.height;ye===y&&W===k&&J===H&&ce===se||this.addCommands({cmd:()=>{this.width=J,this.height=ce,this.x=ye,this.y=W;const[Z,ue]=this.parentDimensions;this.setDims(Z*J,ue*ce),this.fixAndSetPosition(),this.moveInDOM()},undo:()=>{this.width=H,this.height=se,this.x=y,this.y=k;const[Z,ue]=this.parentDimensions;this.setDims(Z*H,ue*se),this.fixAndSetPosition(),this.moveInDOM()},mustExec:!0})};window.addEventListener("pointerup",ge),window.addEventListener("blur",ge)},N=new WeakSet,Ai=function(P,$){const[B,pe]=this.parentDimensions,Ae=this.x,U=this.y,y=this.width,k=this.height,H=Y.MIN_SIZE/B,se=Y.MIN_SIZE/pe,Q=He=>Math.round(He*1e4)/1e4,de=ae(this,T,vn).call(this,this.rotation),ge=(He,Ge)=>[de[0]*He+de[2]*Ge,de[1]*He+de[3]*Ge],ye=ae(this,T,vn).call(this,360-this.rotation),W=(He,Ge)=>[ye[0]*He+ye[2]*Ge,ye[1]*He+ye[3]*Ge];let J,ce,Z=!1,ue=!1;switch(P){case"topLeft":Z=!0,J=(He,Ge)=>[0,0],ce=(He,Ge)=>[He,Ge];break;case"topMiddle":J=(He,Ge)=>[He/2,0],ce=(He,Ge)=>[He/2,Ge];break;case"topRight":Z=!0,J=(He,Ge)=>[He,0],ce=(He,Ge)=>[0,Ge];break;case"middleRight":ue=!0,J=(He,Ge)=>[He,Ge/2],ce=(He,Ge)=>[0,Ge/2];break;case"bottomRight":Z=!0,J=(He,Ge)=>[He,Ge],ce=(He,Ge)=>[0,0];break;case"bottomMiddle":J=(He,Ge)=>[He/2,Ge],ce=(He,Ge)=>[He/2,0];break;case"bottomLeft":Z=!0,J=(He,Ge)=>[0,Ge],ce=(He,Ge)=>[He,0];break;case"middleLeft":ue=!0,J=(He,Ge)=>[0,Ge/2],ce=(He,Ge)=>[He,Ge/2];break}const _e=J(y,k),Ee=ce(y,k);let Pe=ge(...Ee);const Se=Q(Ae+Pe[0]),we=Q(U+Pe[1]);let le=1,te=1,[oe,he]=this.screenToPageTranslation($.movementX,$.movementY);if([oe,he]=W(oe/B,he/pe),Z){const He=Math.hypot(y,k);le=te=Math.max(Math.min(Math.hypot(Ee[0]-_e[0]-oe,Ee[1]-_e[1]-he)/He,1/y,1/k),H/y,se/k)}else ue?le=Math.max(H,Math.min(1,Math.abs(Ee[0]-_e[0]-oe)))/y:te=Math.max(se,Math.min(1,Math.abs(Ee[1]-_e[1]-he)))/k;const Me=Q(y*le),Oe=Q(k*te);Pe=ge(...ce(Me,Oe));const je=Se-Pe[0],ze=we-Pe[1];this.width=Me,this.height=Oe,this.x=je,this.y=ze,this.setDims(B*Me,pe*Oe),this.fixAndSetPosition()},I=new WeakSet,Si=function(P){if(!this._isDraggable)return;const $=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let B,pe;$&&(B={passive:!0,capture:!0},pe=U=>{const[y,k]=this.screenToPageTranslation(U.movementX,U.movementY);this._uiManager.dragSelectedEditors(y,k)},window.addEventListener("pointermove",pe,B));const Ae=()=>{if(window.removeEventListener("pointerup",Ae),window.removeEventListener("blur",Ae),$&&window.removeEventListener("pointermove",pe,B),me(this,A,!1),!this._uiManager.endDragSession()){const{isMac:U}=s.FeatureTest.platform;P.ctrlKey&&!U||P.shiftKey||P.metaKey&&U?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ae),window.addEventListener("blur",Ae)},K(f,F),K(f,u),nt(f,"_colorManager",new n.ColorManager),nt(f,"_zIndex",1),t.AnnotationEditor=f;class l extends f{constructor(P){super(P),this.annotationElementId=P.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,i)=>{var E,_,v,w,R,bn,T,d,u,D,b,Ei,C,N,q,I,z,Y,j,P,$,B,pe,Ae,U,y,k,H,se,Q,de,ge,ye,W,J,ce,Z,ue,_e,Ee,Pe,Se,we,le,te,oe,he,wi,Oe,yn,ze,xi,Ge,An,qe,Pi,O,Ci,be,rt,Le,yt,Ie,Ti,Ce,ki,Re,Sn,V,At,ie,En;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=f,t.opacityToHex=l;var n=i(1),s=i(6);function f(Ne,re,ve){for(const ke of ve)re.addEventListener(ke,Ne[ke].bind(Ne))}function l(Ne){return Math.round(Math.min(255,Math.max(1,255*Ne))).toString(16).padStart(2,"0")}class g{constructor(){K(this,E,0)}getId(){return`${n.AnnotationEditorPrefix}${ct(this,E)._++}`}}E=new WeakMap;const M=class{constructor(){K(this,R);K(this,_,(0,n.getUuid)());K(this,v,0);K(this,w,null)}static get _isSVGFittingCanvas(){const re='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ke=new OffscreenCanvas(1,3).getContext("2d"),$e=new Image;$e.src=re;const De=$e.decode().then(()=>(ke.drawImage($e,0,0,1,1,0,0,1,3),new Uint32Array(ke.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",De)}async getFromFile(re){const{lastModified:ve,name:ke,size:$e,type:De}=re;return ae(this,R,bn).call(this,`${ve}_${ke}_${$e}_${De}`,re)}async getFromUrl(re){return ae(this,R,bn).call(this,re,re)}async getFromId(re){a(this,w)||me(this,w,new Map);const ve=a(this,w).get(re);return ve?ve.bitmap?(ve.refCounter+=1,ve):ve.file?this.getFromFile(ve.file):this.getFromUrl(ve.url):null}getSvgUrl(re){const ve=a(this,w).get(re);return ve!=null&&ve.isSvg?ve.svgUrl:null}deleteId(re){a(this,w)||me(this,w,new Map);const ve=a(this,w).get(re);!ve||(ve.refCounter-=1,ve.refCounter===0&&(ve.bitmap=null))}isValidId(re){return re.startsWith(`image_${a(this,_)}_`)}};let c=M;_=new WeakMap,v=new WeakMap,w=new WeakMap,R=new WeakSet,bn=async function(re,ve){a(this,w)||me(this,w,new Map);let ke=a(this,w).get(re);if(ke===null)return null;if(ke!=null&&ke.bitmap)return ke.refCounter+=1,ke;try{ke||(ke={bitmap:null,id:`image_${a(this,_)}_${ct(this,v)._++}`,refCounter:0,isSvg:!1});let $e;if(typeof ve=="string"){ke.url=ve;const De=await fetch(ve);if(!De.ok)throw new Error(De.statusText);$e=await De.blob()}else $e=ke.file=ve;if($e.type==="image/svg+xml"){const De=M._isSVGFittingCanvas,Ue=new FileReader,We=new Image,Xe=new Promise((Ye,Je)=>{We.onload=()=>{ke.bitmap=We,ke.isSvg=!0,Ye()},Ue.onload=async()=>{const et=ke.svgUrl=Ue.result;We.src=await De?`${et}#svgView(preserveAspectRatio(none))`:et},We.onerror=Ue.onerror=Je});Ue.readAsDataURL($e),await Xe}else ke.bitmap=await createImageBitmap($e);ke.refCounter=1}catch($e){console.error($e),ke=null}return a(this,w).set(re,ke),ke&&a(this,w).set(ke.id,ke),ke};class r{constructor(re=128){K(this,T,[]);K(this,d,!1);K(this,u,void 0);K(this,D,-1);me(this,u,re)}add({cmd:re,undo:ve,mustExec:ke,type:$e=NaN,overwriteIfSameType:De=!1,keepUndo:Ue=!1}){if(ke&&re(),a(this,d))return;const We={cmd:re,undo:ve,type:$e};if(a(this,D)===-1){a(this,T).length>0&&(a(this,T).length=0),me(this,D,0),a(this,T).push(We);return}if(De&&a(this,T)[a(this,D)].type===$e){Ue&&(We.undo=a(this,T)[a(this,D)].undo),a(this,T)[a(this,D)]=We;return}const Xe=a(this,D)+1;Xe===a(this,u)?a(this,T).splice(0,1):(me(this,D,Xe),Xe<a(this,T).length&&a(this,T).splice(Xe)),a(this,T).push(We)}undo(){a(this,D)!==-1&&(me(this,d,!0),a(this,T)[a(this,D)].undo(),me(this,d,!1),me(this,D,a(this,D)-1))}redo(){a(this,D)<a(this,T).length-1&&(me(this,D,a(this,D)+1),me(this,d,!0),a(this,T)[a(this,D)].cmd(),me(this,d,!1))}hasSomethingToUndo(){return a(this,D)!==-1}hasSomethingToRedo(){return a(this,D)<a(this,T).length-1}destroy(){me(this,T,null)}}T=new WeakMap,d=new WeakMap,u=new WeakMap,D=new WeakMap,t.CommandManager=r;class o{constructor(re){K(this,b);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ve}=n.FeatureTest.platform;for(const[ke,$e,De={}]of re)for(const Ue of ke){const We=Ue.startsWith("mac+");ve&&We?(this.callbacks.set(Ue.slice(4),{callback:$e,options:De}),this.allKeys.add(Ue.split("+").at(-1))):!ve&&!We&&(this.callbacks.set(Ue,{callback:$e,options:De}),this.allKeys.add(Ue.split("+").at(-1)))}}exec(re,ve){if(!this.allKeys.has(ve.key))return;const ke=this.callbacks.get(ae(this,b,Ei).call(this,ve));if(!ke)return;const{callback:$e,options:{bubbles:De=!1,args:Ue=[],checker:We=null}}=ke;We&&!We(re,ve)||($e.bind(re,...Ue)(),De||(ve.stopPropagation(),ve.preventDefault()))}}b=new WeakSet,Ei=function(re){re.altKey&&this.buffer.push("alt"),re.ctrlKey&&this.buffer.push("ctrl"),re.metaKey&&this.buffer.push("meta"),re.shiftKey&&this.buffer.push("shift"),this.buffer.push(re.key);const ve=this.buffer.join("+");return this.buffer.length=0,ve},t.KeyboardManager=o;const L=class{get _colors(){const re=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(re),(0,n.shadow)(this,"_colors",re)}convert(re){const ve=(0,s.getRGB)(re);if(!window.matchMedia("(forced-colors: active)").matches)return ve;for(const[ke,$e]of this._colors)if($e.every((De,Ue)=>De===ve[Ue]))return L._colorsMapping.get(ke);return ve}getHexCode(re){const ve=this._colors.get(re);return ve?n.Util.makeHexColor(...ve):re}};let A=L;nt(A,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=A;const xe=class{constructor(re,ve,ke,$e,De){K(this,he);K(this,Oe);K(this,ze);K(this,Ge);K(this,qe);K(this,O);K(this,be);K(this,Le);K(this,Ie);K(this,Ce);K(this,Re);K(this,V);K(this,ie);K(this,C,null);K(this,N,new Map);K(this,q,new Map);K(this,I,null);K(this,z,new r);K(this,Y,0);K(this,j,new Set);K(this,P,null);K(this,$,null);K(this,B,new Set);K(this,pe,null);K(this,Ae,null);K(this,U,new g);K(this,y,!1);K(this,k,!1);K(this,H,null);K(this,se,n.AnnotationEditorType.NONE);K(this,Q,new Set);K(this,de,null);K(this,ge,this.blur.bind(this));K(this,ye,this.focus.bind(this));K(this,W,this.copy.bind(this));K(this,J,this.cut.bind(this));K(this,ce,this.paste.bind(this));K(this,Z,this.keydown.bind(this));K(this,ue,this.onEditingAction.bind(this));K(this,_e,this.onPageChanging.bind(this));K(this,Ee,this.onScaleChanging.bind(this));K(this,Pe,this.onRotationChanging.bind(this));K(this,Se,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});K(this,we,[0,0]);K(this,le,null);K(this,te,null);K(this,oe,null);me(this,te,re),me(this,oe,ve),me(this,pe,ke),a(this,pe)._on("editingaction",a(this,ue)),a(this,pe)._on("pagechanging",a(this,_e)),a(this,pe)._on("scalechanging",a(this,Ee)),a(this,pe)._on("rotationchanging",a(this,Pe)),me(this,I,$e.annotationStorage),me(this,Ae,$e.filterFactory),me(this,de,De),this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const re=xe.prototype,ve=De=>{const{activeElement:Ue}=document;return Ue&&a(De,te).contains(Ue)&&De.hasSomethingToControl()},ke=this.TRANSLATE_SMALL,$e=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new o([[["ctrl+a","mac+meta+a"],re.selectAll],[["ctrl+z","mac+meta+z"],re.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],re.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],re.delete],[["Escape","mac+Escape"],re.unselectAll],[["ArrowLeft","mac+ArrowLeft"],re.translateSelectedEditors,{args:[-ke,0],checker:ve}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],re.translateSelectedEditors,{args:[-$e,0],checker:ve}],[["ArrowRight","mac+ArrowRight"],re.translateSelectedEditors,{args:[ke,0],checker:ve}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],re.translateSelectedEditors,{args:[$e,0],checker:ve}],[["ArrowUp","mac+ArrowUp"],re.translateSelectedEditors,{args:[0,-ke],checker:ve}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],re.translateSelectedEditors,{args:[0,-$e],checker:ve}],[["ArrowDown","mac+ArrowDown"],re.translateSelectedEditors,{args:[0,ke],checker:ve}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],re.translateSelectedEditors,{args:[0,$e],checker:ve}]]))}destroy(){ae(this,Ge,An).call(this),ae(this,Oe,yn).call(this),a(this,pe)._off("editingaction",a(this,ue)),a(this,pe)._off("pagechanging",a(this,_e)),a(this,pe)._off("scalechanging",a(this,Ee)),a(this,pe)._off("rotationchanging",a(this,Pe));for(const re of a(this,q).values())re.destroy();a(this,q).clear(),a(this,N).clear(),a(this,B).clear(),me(this,C,null),a(this,Q).clear(),a(this,z).destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",a(this,de)?a(this,Ae).addHCMFilter(a(this,de).foreground,a(this,de).background):"none")}onPageChanging({pageNumber:re}){me(this,Y,re-1)}focusMainContainer(){a(this,te).focus()}findParent(re,ve){for(const ke of a(this,q).values()){const{x:$e,y:De,width:Ue,height:We}=ke.div.getBoundingClientRect();if(re>=$e&&re<=$e+Ue&&ve>=De&&ve<=De+We)return ke}return null}disableUserSelect(re=!1){a(this,oe).classList.toggle("noUserSelect",re)}addShouldRescale(re){a(this,B).add(re)}removeShouldRescale(re){a(this,B).delete(re)}onScaleChanging({scale:re}){this.commitOrRemove(),this.viewParameters.realScale=re*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const ve of a(this,B))ve.onScaleChanging()}onRotationChanging({pagesRotation:re}){this.commitOrRemove(),this.viewParameters.rotation=re}addToAnnotationStorage(re){!re.isEmpty()&&a(this,I)&&!a(this,I).has(re.id)&&a(this,I).setValue(re.id,re)}blur(){if(!this.hasSelection)return;const{activeElement:re}=document;for(const ve of a(this,Q))if(ve.div.contains(re)){me(this,H,[ve,re]),ve._focusEventsAllowed=!1;break}}focus(){if(!a(this,H))return;const[re,ve]=a(this,H);me(this,H,null),ve.addEventListener("focusin",()=>{re._focusEventsAllowed=!0},{once:!0}),ve.focus()}copy(re){var ke;if(re.preventDefault(),(ke=a(this,C))==null||ke.commitOrRemove(),!this.hasSelection)return;const ve=[];for(const $e of a(this,Q)){const De=$e.serialize(!0);De&&ve.push(De)}ve.length!==0&&re.clipboardData.setData("application/pdfjs",JSON.stringify(ve))}cut(re){this.copy(re),this.delete()}paste(re){re.preventDefault();const{clipboardData:ve}=re;for(const De of ve.items)for(const Ue of a(this,$))if(Ue.isHandlingMimeForPasting(De.type)){Ue.paste(De,this.currentLayer);return}let ke=ve.getData("application/pdfjs");if(!ke)return;try{ke=JSON.parse(ke)}catch(De){(0,n.warn)(`paste: "${De.message}".`);return}if(!Array.isArray(ke))return;this.unselectAll();const $e=this.currentLayer;try{const De=[];for(const Xe of ke){const Ye=$e.deserialize(Xe);if(!Ye)return;De.push(Ye)}const Ue=()=>{for(const Xe of De)ae(this,Re,Sn).call(this,Xe);ae(this,ie,En).call(this,De)},We=()=>{for(const Xe of De)Xe.remove()};this.addCommands({cmd:Ue,undo:We,mustExec:!0})}catch(De){(0,n.warn)(`paste: "${De.message}".`)}}keydown(re){var ve;(ve=this.getActive())!=null&&ve.shouldGetKeyboardEvents()||xe._keyboardManager.exec(this,re)}onEditingAction(re){["undo","redo","delete","selectAll"].includes(re.name)&&this[re.name]()}setEditingState(re){re?(ae(this,he,wi).call(this),ae(this,ze,xi).call(this),ae(this,qe,Pi).call(this),ae(this,be,rt).call(this,{isEditing:a(this,se)!==n.AnnotationEditorType.NONE,isEmpty:ae(this,V,At).call(this),hasSomethingToUndo:a(this,z).hasSomethingToUndo(),hasSomethingToRedo:a(this,z).hasSomethingToRedo(),hasSelectedEditor:!1})):(ae(this,Oe,yn).call(this),ae(this,Ge,An).call(this),ae(this,O,Ci).call(this),ae(this,be,rt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(re){if(!a(this,$)){me(this,$,re);for(const ve of a(this,$))ae(this,Le,yt).call(this,ve.defaultPropertiesToUpdate)}}getId(){return a(this,U).getId()}get currentLayer(){return a(this,q).get(a(this,Y))}getLayer(re){return a(this,q).get(re)}get currentPageIndex(){return a(this,Y)}addLayer(re){a(this,q).set(re.pageIndex,re),a(this,y)?re.enable():re.disable()}removeLayer(re){a(this,q).delete(re.pageIndex)}updateMode(re,ve=null){if(a(this,se)!==re){if(me(this,se,re),re===n.AnnotationEditorType.NONE){this.setEditingState(!1),ae(this,Ce,ki).call(this);return}this.setEditingState(!0),ae(this,Ie,Ti).call(this),this.unselectAll();for(const ke of a(this,q).values())ke.updateMode(re);if(!!ve){for(const ke of a(this,N).values())if(ke.annotationElementId===ve){this.setSelected(ke),ke.enterInEditMode();break}}}}updateToolbar(re){re!==a(this,se)&&a(this,pe).dispatch("switchannotationeditormode",{source:this,mode:re})}updateParams(re,ve){if(!!a(this,$)){if(re===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(re);return}for(const ke of a(this,Q))ke.updateParams(re,ve);for(const ke of a(this,$))ke.updateDefaultParams(re,ve)}}enableWaiting(re=!1){if(a(this,k)!==re){me(this,k,re);for(const ve of a(this,q).values())re?ve.disableClick():ve.enableClick(),ve.div.classList.toggle("waiting",re)}}getEditors(re){const ve=[];for(const ke of a(this,N).values())ke.pageIndex===re&&ve.push(ke);return ve}getEditor(re){return a(this,N).get(re)}addEditor(re){a(this,N).set(re.id,re)}removeEditor(re){var ve;a(this,N).delete(re.id),this.unselect(re),(!re.annotationElementId||!a(this,j).has(re.annotationElementId))&&((ve=a(this,I))==null||ve.remove(re.id))}addDeletedAnnotationElement(re){a(this,j).add(re.annotationElementId),re.deleted=!0}isDeletedAnnotationElement(re){return a(this,j).has(re)}removeDeletedAnnotationElement(re){a(this,j).delete(re.annotationElementId),re.deleted=!1}setActiveEditor(re){a(this,C)!==re&&(me(this,C,re),re&&ae(this,Le,yt).call(this,re.propertiesToUpdate))}toggleSelected(re){if(a(this,Q).has(re)){a(this,Q).delete(re),re.unselect(),ae(this,be,rt).call(this,{hasSelectedEditor:this.hasSelection});return}a(this,Q).add(re),re.select(),ae(this,Le,yt).call(this,re.propertiesToUpdate),ae(this,be,rt).call(this,{hasSelectedEditor:!0})}setSelected(re){for(const ve of a(this,Q))ve!==re&&ve.unselect();a(this,Q).clear(),a(this,Q).add(re),re.select(),ae(this,Le,yt).call(this,re.propertiesToUpdate),ae(this,be,rt).call(this,{hasSelectedEditor:!0})}isSelected(re){return a(this,Q).has(re)}unselect(re){re.unselect(),a(this,Q).delete(re),ae(this,be,rt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return a(this,Q).size!==0}undo(){a(this,z).undo(),ae(this,be,rt).call(this,{hasSomethingToUndo:a(this,z).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ae(this,V,At).call(this)})}redo(){a(this,z).redo(),ae(this,be,rt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:a(this,z).hasSomethingToRedo(),isEmpty:ae(this,V,At).call(this)})}addCommands(re){a(this,z).add(re),ae(this,be,rt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ae(this,V,At).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const re=[...a(this,Q)],ve=()=>{for(const $e of re)$e.remove()},ke=()=>{for(const $e of re)ae(this,Re,Sn).call(this,$e)};this.addCommands({cmd:ve,undo:ke,mustExec:!0})}commitOrRemove(){var re;(re=a(this,C))==null||re.commitOrRemove()}hasSomethingToControl(){return a(this,C)||this.hasSelection}selectAll(){for(const re of a(this,Q))re.commit();ae(this,ie,En).call(this,a(this,N).values())}unselectAll(){if(a(this,C)){a(this,C).commitOrRemove();return}if(!!this.hasSelection){for(const re of a(this,Q))re.unselect();a(this,Q).clear(),ae(this,be,rt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(re,ve,ke=!1){if(ke||this.commitOrRemove(),!this.hasSelection)return;a(this,we)[0]+=re,a(this,we)[1]+=ve;const[$e,De]=a(this,we),Ue=[...a(this,Q)],We=1e3;a(this,le)&&clearTimeout(a(this,le)),me(this,le,setTimeout(()=>{me(this,le,null),a(this,we)[0]=a(this,we)[1]=0,this.addCommands({cmd:()=>{for(const Xe of Ue)a(this,N).has(Xe.id)&&Xe.translateInPage($e,De)},undo:()=>{for(const Xe of Ue)a(this,N).has(Xe.id)&&Xe.translateInPage(-$e,-De)},mustExec:!1})},We));for(const Xe of Ue)Xe.translateInPage(re,ve)}setUpDragSession(){if(!!this.hasSelection){this.disableUserSelect(!0),me(this,P,new Map);for(const re of a(this,Q))a(this,P).set(re,{savedX:re.x,savedY:re.y,savedPageIndex:re.parent.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!a(this,P))return!1;this.disableUserSelect(!1);const re=a(this,P);me(this,P,null);let ve=!1;for(const[{x:$e,y:De,parent:Ue},We]of re)We.newX=$e,We.newY=De,We.newPageIndex=Ue.pageIndex,ve||(ve=$e!==We.savedX||De!==We.savedY||Ue.pageIndex!==We.savedPageIndex);if(!ve)return!1;const ke=($e,De,Ue,We)=>{if(a(this,N).has($e.id)){const Xe=a(this,q).get(We);Xe?$e._setParentAndPosition(Xe,De,Ue):($e.pageIndex=We,$e.x=De,$e.y=Ue)}};return this.addCommands({cmd:()=>{for(const[$e,{newX:De,newY:Ue,newPageIndex:We}]of re)ke($e,De,Ue,We)},undo:()=>{for(const[$e,{savedX:De,savedY:Ue,savedPageIndex:We}]of re)ke($e,De,Ue,We)},mustExec:!0}),!0}dragSelectedEditors(re,ve){if(!!a(this,P))for(const ke of a(this,P).keys())ke.drag(re,ve)}rebuild(re){if(re.parent===null){const ve=this.getLayer(re.pageIndex);ve?(ve.changeParent(re),ve.addOrRebuild(re)):(this.addEditor(re),this.addToAnnotationStorage(re),re.rebuild())}else re.parent.addOrRebuild(re)}isActive(re){return a(this,C)===re}getActive(){return a(this,C)}getMode(){return a(this,se)}get imageManager(){return(0,n.shadow)(this,"imageManager",new c)}};let S=xe;C=new WeakMap,N=new WeakMap,q=new WeakMap,I=new WeakMap,z=new WeakMap,Y=new WeakMap,j=new WeakMap,P=new WeakMap,$=new WeakMap,B=new WeakMap,pe=new WeakMap,Ae=new WeakMap,U=new WeakMap,y=new WeakMap,k=new WeakMap,H=new WeakMap,se=new WeakMap,Q=new WeakMap,de=new WeakMap,ge=new WeakMap,ye=new WeakMap,W=new WeakMap,J=new WeakMap,ce=new WeakMap,Z=new WeakMap,ue=new WeakMap,_e=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,Se=new WeakMap,we=new WeakMap,le=new WeakMap,te=new WeakMap,oe=new WeakMap,he=new WeakSet,wi=function(){window.addEventListener("focus",a(this,ye)),window.addEventListener("blur",a(this,ge))},Oe=new WeakSet,yn=function(){window.removeEventListener("focus",a(this,ye)),window.removeEventListener("blur",a(this,ge))},ze=new WeakSet,xi=function(){window.addEventListener("keydown",a(this,Z),{capture:!0})},Ge=new WeakSet,An=function(){window.removeEventListener("keydown",a(this,Z),{capture:!0})},qe=new WeakSet,Pi=function(){document.addEventListener("copy",a(this,W)),document.addEventListener("cut",a(this,J)),document.addEventListener("paste",a(this,ce))},O=new WeakSet,Ci=function(){document.removeEventListener("copy",a(this,W)),document.removeEventListener("cut",a(this,J)),document.removeEventListener("paste",a(this,ce))},be=new WeakSet,rt=function(re){Object.entries(re).some(([ke,$e])=>a(this,Se)[ke]!==$e)&&a(this,pe).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(a(this,Se),re)})},Le=new WeakSet,yt=function(re){a(this,pe).dispatch("annotationeditorparamschanged",{source:this,details:re})},Ie=new WeakSet,Ti=function(){if(!a(this,y)){me(this,y,!0);for(const re of a(this,q).values())re.enable()}},Ce=new WeakSet,ki=function(){if(this.unselectAll(),a(this,y)){me(this,y,!1);for(const re of a(this,q).values())re.disable()}},Re=new WeakSet,Sn=function(re){const ve=a(this,q).get(re.pageIndex);ve?ve.addOrRebuild(re):this.addEditor(re)},V=new WeakSet,At=function(){if(a(this,N).size===0)return!0;if(a(this,N).size===1)for(const re of a(this,N).values())return re.isEmpty();return!1},ie=new WeakSet,En=function(re){a(this,Q).clear();for(const ve of re)ve.isEmpty()||(a(this,Q).add(ve),ve.select());ae(this,be,rt).call(this,{hasSelectedEditor:!0})},nt(S,"TRANSLATE_SMALL",1),nt(S,"TRANSLATE_BIG",10),t.AnnotationEditorUIManager=S},(e,t,i)=>{var j,P,$,B,pe,Ae,U,y,k,H,se,Q,ht,ge,ft,W,wn,ce,Ot,ue,Dt,Ee,St,Se,Et;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=D,t.getColorValues=N,t.getCurrentTransform=q,t.getCurrentTransformInverse=I,t.getFilenameFromUrl=F,t.getPdfFilenameFromUrl=M,t.getRGB=C,t.getXfaPageViewport=L,t.isDataScheme=w,t.isPdfFile=R,t.isValidFetchUrl=d,t.loadScript=u,t.setLayerDimensions=z;var n=i(7),s=i(1);const f="http://www.w3.org/2000/svg",l="pdfjs_internal_id_";t.AnnotationPrefix=l;const Y=class{};let g=Y;nt(g,"CSS",96),nt(g,"PDF",72),nt(g,"PDF_TO_CSS_UNITS",Y.CSS/Y.PDF),t.PixelsPerInch=g;class c extends n.BaseFilterFactory{constructor({docId:oe,ownerDocument:he=globalThis.document}={}){super();K(this,Q);K(this,ge);K(this,W);K(this,ce);K(this,ue);K(this,Ee);K(this,Se);K(this,j,void 0);K(this,P,void 0);K(this,$,void 0);K(this,B,void 0);K(this,pe,void 0);K(this,Ae,void 0);K(this,U,void 0);K(this,y,void 0);K(this,k,void 0);K(this,H,void 0);K(this,se,0);me(this,$,oe),me(this,B,he)}addFilter(oe){if(!oe)return"none";let he=a(this,Q,ht).get(oe);if(he)return he;let Me,Oe,je,ze;if(oe.length===1){const qe=oe[0],Fe=new Array(256);for(let O=0;O<256;O++)Fe[O]=qe[O]/255;ze=Me=Oe=je=Fe.join(",")}else{const[qe,Fe,O]=oe,G=new Array(256),be=new Array(256),Ve=new Array(256);for(let Le=0;Le<256;Le++)G[Le]=qe[Le]/255,be[Le]=Fe[Le]/255,Ve[Le]=O[Le]/255;Me=G.join(","),Oe=be.join(","),je=Ve.join(","),ze=`${Me}${Oe}${je}`}if(he=a(this,Q,ht).get(ze),he)return a(this,Q,ht).set(oe,he),he;const He=`g_${a(this,$)}_transfer_map_${ct(this,se)._++}`,Ge=`url(#${He})`;a(this,Q,ht).set(oe,Ge),a(this,Q,ht).set(ze,Ge);const Ke=ae(this,ce,Ot).call(this,He);return ae(this,Ee,St).call(this,Me,Oe,je,Ke),Ge}addHCMFilter(oe,he){var Fe;const Me=`${oe}-${he}`;if(a(this,Ae)===Me)return a(this,U);if(me(this,Ae,Me),me(this,U,"none"),(Fe=a(this,pe))==null||Fe.remove(),!oe||!he)return a(this,U);const Oe=ae(this,Se,Et).call(this,oe);oe=s.Util.makeHexColor(...Oe);const je=ae(this,Se,Et).call(this,he);if(he=s.Util.makeHexColor(...je),a(this,ge,ft).style.color="",oe==="#000000"&&he==="#ffffff"||oe===he)return a(this,U);const ze=new Array(256);for(let O=0;O<=255;O++){const G=O/255;ze[O]=G<=.03928?G/12.92:((G+.055)/1.055)**2.4}const He=ze.join(","),Ge=`g_${a(this,$)}_hcm_filter`,Ke=me(this,y,ae(this,ce,Ot).call(this,Ge));ae(this,Ee,St).call(this,He,He,He,Ke),ae(this,W,wn).call(this,Ke);const qe=(O,G)=>{const be=Oe[O]/255,Ve=je[O]/255,Le=new Array(G+1);for(let Te=0;Te<=G;Te++)Le[Te]=be+Te/G*(Ve-be);return Le.join(",")};return ae(this,Ee,St).call(this,qe(0,5),qe(1,5),qe(2,5),Ke),me(this,U,`url(#${Ge})`),a(this,U)}addHighlightHCMFilter(oe,he,Me,Oe){var Ve;const je=`${oe}-${he}-${Me}-${Oe}`;if(a(this,k)===je)return a(this,H);if(me(this,k,je),me(this,H,"none"),(Ve=a(this,y))==null||Ve.remove(),!oe||!he)return a(this,H);const[ze,He]=[oe,he].map(ae(this,Se,Et).bind(this));let Ge=Math.round(.2126*ze[0]+.7152*ze[1]+.0722*ze[2]),Ke=Math.round(.2126*He[0]+.7152*He[1]+.0722*He[2]),[qe,Fe]=[Me,Oe].map(ae(this,Se,Et).bind(this));Ke<Ge&&([Ge,Ke,qe,Fe]=[Ke,Ge,Fe,qe]),a(this,ge,ft).style.color="";const O=(Le,Te,Ie)=>{const ee=new Array(256),Ce=(Ke-Ge)/Ie,Be=Le/255,Re=(Te-Le)/(255*Ie);let X=0;for(let V=0;V<=Ie;V++){const ne=Math.round(Ge+V*Ce),ie=Be+V*Re;for(let fe=X;fe<=ne;fe++)ee[fe]=ie;X=ne+1}for(let V=X;V<256;V++)ee[V]=ee[X-1];return ee.join(",")},G=`g_${a(this,$)}_hcm_highlight_filter`,be=me(this,y,ae(this,ce,Ot).call(this,G));return ae(this,W,wn).call(this,be),ae(this,Ee,St).call(this,O(qe[0],Fe[0],5),O(qe[1],Fe[1],5),O(qe[2],Fe[2],5),be),me(this,H,`url(#${G})`),a(this,H)}destroy(oe=!1){oe&&(a(this,U)||a(this,H))||(a(this,P)&&(a(this,P).parentNode.parentNode.remove(),me(this,P,null)),a(this,j)&&(a(this,j).clear(),me(this,j,null)),me(this,se,0))}}j=new WeakMap,P=new WeakMap,$=new WeakMap,B=new WeakMap,pe=new WeakMap,Ae=new WeakMap,U=new WeakMap,y=new WeakMap,k=new WeakMap,H=new WeakMap,se=new WeakMap,Q=new WeakSet,ht=function(){return a(this,j)||me(this,j,new Map)},ge=new WeakSet,ft=function(){if(!a(this,P)){const oe=a(this,B).createElement("div"),{style:he}=oe;he.visibility="hidden",he.contain="strict",he.width=he.height=0,he.position="absolute",he.top=he.left=0,he.zIndex=-1;const Me=a(this,B).createElementNS(f,"svg");Me.setAttribute("width",0),Me.setAttribute("height",0),me(this,P,a(this,B).createElementNS(f,"defs")),oe.append(Me),Me.append(a(this,P)),a(this,B).body.append(oe)}return a(this,P)},W=new WeakSet,wn=function(oe){const he=a(this,B).createElementNS(f,"feColorMatrix");he.setAttribute("type","matrix"),he.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),oe.append(he)},ce=new WeakSet,Ot=function(oe){const he=a(this,B).createElementNS(f,"filter");return he.setAttribute("color-interpolation-filters","sRGB"),he.setAttribute("id",oe),a(this,ge,ft).append(he),he},ue=new WeakSet,Dt=function(oe,he,Me){const Oe=a(this,B).createElementNS(f,he);Oe.setAttribute("type","discrete"),Oe.setAttribute("tableValues",Me),oe.append(Oe)},Ee=new WeakSet,St=function(oe,he,Me,Oe){const je=a(this,B).createElementNS(f,"feComponentTransfer");Oe.append(je),ae(this,ue,Dt).call(this,je,"feFuncR",oe),ae(this,ue,Dt).call(this,je,"feFuncG",he),ae(this,ue,Dt).call(this,je,"feFuncB",Me)},Se=new WeakSet,Et=function(oe){return a(this,ge,ft).style.color=oe,C(getComputedStyle(a(this,ge,ft)).getPropertyValue("color"))},t.DOMFilterFactory=c;class r extends n.BaseCanvasFactory{constructor({ownerDocument:te=globalThis.document}={}){super(),this._document=te}_createCanvas(te,oe){const he=this._document.createElement("canvas");return he.width=te,he.height=oe,he}}t.DOMCanvasFactory=r;async function o(le,te=!1){if(d(le,document.baseURI)){const oe=await fetch(le);if(!oe.ok)throw new Error(oe.statusText);return te?new Uint8Array(await oe.arrayBuffer()):(0,s.stringToBytes)(await oe.text())}return new Promise((oe,he)=>{const Me=new XMLHttpRequest;Me.open("GET",le,!0),te&&(Me.responseType="arraybuffer"),Me.onreadystatechange=()=>{if(Me.readyState===XMLHttpRequest.DONE){if(Me.status===200||Me.status===0){let Oe;if(te&&Me.response?Oe=new Uint8Array(Me.response):!te&&Me.responseText&&(Oe=(0,s.stringToBytes)(Me.responseText)),Oe){oe(Oe);return}}he(new Error(Me.statusText))}},Me.send(null)})}class A extends n.BaseCMapReaderFactory{_fetchData(te,oe){return o(te,this.isCompressed).then(he=>({cMapData:he,compressionType:oe}))}}t.DOMCMapReaderFactory=A;class S extends n.BaseStandardFontDataFactory{_fetchData(te){return o(te,!0)}}t.DOMStandardFontDataFactory=S;class E extends n.BaseSVGFactory{_createSVG(te){return document.createElementNS(f,te)}}t.DOMSVGFactory=E;class _{constructor({viewBox:te,scale:oe,rotation:he,offsetX:Me=0,offsetY:Oe=0,dontFlip:je=!1}){this.viewBox=te,this.scale=oe,this.rotation=he,this.offsetX=Me,this.offsetY=Oe;const ze=(te[2]+te[0])/2,He=(te[3]+te[1])/2;let Ge,Ke,qe,Fe;switch(he%=360,he<0&&(he+=360),he){case 180:Ge=-1,Ke=0,qe=0,Fe=1;break;case 90:Ge=0,Ke=1,qe=1,Fe=0;break;case 270:Ge=0,Ke=-1,qe=-1,Fe=0;break;case 0:Ge=1,Ke=0,qe=0,Fe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}je&&(qe=-qe,Fe=-Fe);let O,G,be,Ve;Ge===0?(O=Math.abs(He-te[1])*oe+Me,G=Math.abs(ze-te[0])*oe+Oe,be=(te[3]-te[1])*oe,Ve=(te[2]-te[0])*oe):(O=Math.abs(ze-te[0])*oe+Me,G=Math.abs(He-te[1])*oe+Oe,be=(te[2]-te[0])*oe,Ve=(te[3]-te[1])*oe),this.transform=[Ge*oe,Ke*oe,qe*oe,Fe*oe,O-Ge*oe*ze-qe*oe*He,G-Ke*oe*ze-Fe*oe*He],this.width=be,this.height=Ve}get rawDims(){const{viewBox:te}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:te[2]-te[0],pageHeight:te[3]-te[1],pageX:te[0],pageY:te[1]})}clone({scale:te=this.scale,rotation:oe=this.rotation,offsetX:he=this.offsetX,offsetY:Me=this.offsetY,dontFlip:Oe=!1}={}){return new _({viewBox:this.viewBox.slice(),scale:te,rotation:oe,offsetX:he,offsetY:Me,dontFlip:Oe})}convertToViewportPoint(te,oe){return s.Util.applyTransform([te,oe],this.transform)}convertToViewportRectangle(te){const oe=s.Util.applyTransform([te[0],te[1]],this.transform),he=s.Util.applyTransform([te[2],te[3]],this.transform);return[oe[0],oe[1],he[0],he[1]]}convertToPdfPoint(te,oe){return s.Util.applyInverseTransform([te,oe],this.transform)}}t.PageViewport=_;class v extends s.BaseException{constructor(te,oe=0){super(te,"RenderingCancelledException"),this.extraDelay=oe}}t.RenderingCancelledException=v;function w(le){const te=le.length;let oe=0;for(;oe<te&&le[oe].trim()==="";)oe++;return le.substring(oe,oe+5).toLowerCase()==="data:"}function R(le){return typeof le=="string"&&/\.pdf$/i.test(le)}function F(le,te=!1){return te||([le]=le.split(/[#?]/,1)),le.substring(le.lastIndexOf("/")+1)}function M(le,te="document.pdf"){if(typeof le!="string")return te;if(w(le))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),te;const oe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,he=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Me=oe.exec(le);let Oe=he.exec(Me[1])||he.exec(Me[2])||he.exec(Me[3]);if(Oe&&(Oe=Oe[0],Oe.includes("%")))try{Oe=he.exec(decodeURIComponent(Oe))[0]}catch{}return Oe||te}class T{constructor(){nt(this,"started",Object.create(null));nt(this,"times",[])}time(te){te in this.started&&(0,s.warn)(`Timer is already running for ${te}`),this.started[te]=Date.now()}timeEnd(te){te in this.started||(0,s.warn)(`Timer has not been started for ${te}`),this.times.push({name:te,start:this.started[te],end:Date.now()}),delete this.started[te]}toString(){const te=[];let oe=0;for(const{name:he}of this.times)oe=Math.max(he.length,oe);for(const{name:he,start:Me,end:Oe}of this.times)te.push(`${he.padEnd(oe)} ${Oe-Me}ms
`);return te.join("")}}t.StatTimer=T;function d(le,te){try{const{protocol:oe}=te?new URL(le,te):new URL(le);return oe==="http:"||oe==="https:"}catch{return!1}}function u(le,te=!1){return new Promise((oe,he)=>{const Me=document.createElement("script");Me.src=le,Me.onload=function(Oe){te&&Me.remove(),oe(Oe)},Me.onerror=function(){he(new Error(`Cannot load script at: ${Me.src}`))},(document.head||document.documentElement).append(Me)})}function D(le){console.log("Deprecated API usage: "+le)}let b;class m{static toDateObject(te){if(!te||typeof te!="string")return null;b||(b=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const oe=b.exec(te);if(!oe)return null;const he=parseInt(oe[1],10);let Me=parseInt(oe[2],10);Me=Me>=1&&Me<=12?Me-1:0;let Oe=parseInt(oe[3],10);Oe=Oe>=1&&Oe<=31?Oe:1;let je=parseInt(oe[4],10);je=je>=0&&je<=23?je:0;let ze=parseInt(oe[5],10);ze=ze>=0&&ze<=59?ze:0;let He=parseInt(oe[6],10);He=He>=0&&He<=59?He:0;const Ge=oe[7]||"Z";let Ke=parseInt(oe[8],10);Ke=Ke>=0&&Ke<=23?Ke:0;let qe=parseInt(oe[9],10)||0;return qe=qe>=0&&qe<=59?qe:0,Ge==="-"?(je+=Ke,ze+=qe):Ge==="+"&&(je-=Ke,ze-=qe),new Date(Date.UTC(he,Me,Oe,je,ze,He))}}t.PDFDateString=m;function L(le,{scale:te=1,rotation:oe=0}){const{width:he,height:Me}=le.attributes.style,Oe=[0,0,parseInt(he),parseInt(Me)];return new _({viewBox:Oe,scale:te,rotation:oe})}function C(le){if(le.startsWith("#")){const te=parseInt(le.slice(1),16);return[(te&16711680)>>16,(te&65280)>>8,te&255]}return le.startsWith("rgb(")?le.slice(4,-1).split(",").map(te=>parseInt(te)):le.startsWith("rgba(")?le.slice(5,-1).split(",").map(te=>parseInt(te)).slice(0,3):((0,s.warn)(`Not a valid color format: "${le}"`),[0,0,0])}function N(le){const te=document.createElement("span");te.style.visibility="hidden",document.body.append(te);for(const oe of le.keys()){te.style.color=oe;const he=window.getComputedStyle(te).color;le.set(oe,C(he))}te.remove()}function q(le){const{a:te,b:oe,c:he,d:Me,e:Oe,f:je}=le.getTransform();return[te,oe,he,Me,Oe,je]}function I(le){const{a:te,b:oe,c:he,d:Me,e:Oe,f:je}=le.getTransform().invertSelf();return[te,oe,he,Me,Oe,je]}function z(le,te,oe=!1,he=!0){if(te instanceof _){const{pageWidth:Me,pageHeight:Oe}=te.rawDims,{style:je}=le,ze=s.FeatureTest.isCSSRoundSupported,He=`var(--scale-factor) * ${Me}px`,Ge=`var(--scale-factor) * ${Oe}px`,Ke=ze?`round(${He}, 1px)`:`calc(${He})`,qe=ze?`round(${Ge}, 1px)`:`calc(${Ge})`;!oe||te.rotation%180===0?(je.width=Ke,je.height=qe):(je.width=qe,je.height=Ke)}he&&le.setAttribute("data-main-rotation",te.rotation)}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var n=i(1);class s{constructor(){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(o){return"none"}addHCMFilter(o,A){return"none"}addHighlightHCMFilter(o,A,S,E){return"none"}destroy(o=!1){}}t.BaseFilterFactory=s;class f{constructor(){this.constructor===f&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(o,A){if(o<=0||A<=0)throw new Error("Invalid canvas size");const S=this._createCanvas(o,A);return{canvas:S,context:S.getContext("2d")}}reset(o,A,S){if(!o.canvas)throw new Error("Canvas is not specified");if(A<=0||S<=0)throw new Error("Invalid canvas size");o.canvas.width=A,o.canvas.height=S}destroy(o){if(!o.canvas)throw new Error("Canvas is not specified");o.canvas.width=0,o.canvas.height=0,o.canvas=null,o.context=null}_createCanvas(o,A){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=f;class l{constructor({baseUrl:o=null,isCompressed:A=!0}){this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=o,this.isCompressed=A}async fetch({name:o}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!o)throw new Error("CMap name must be specified.");const A=this.baseUrl+o+(this.isCompressed?".bcmap":""),S=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(A,S).catch(E=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${A}`)})}_fetchData(o,A){(0,n.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=l;class g{constructor({baseUrl:o=null}){this.constructor===g&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=o}async fetch({filename:o}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!o)throw new Error("Font filename must be specified.");const A=`${this.baseUrl}${o}`;return this._fetchData(A).catch(S=>{throw new Error(`Unable to load font data at: ${A}`)})}_fetchData(o){(0,n.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=g;class c{constructor(){this.constructor===c&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(o,A,S=!1){if(o<=0||A<=0)throw new Error("Invalid SVG dimensions");const E=this._createSVG("svg:svg");return E.setAttribute("version","1.1"),S||(E.setAttribute("width",`${o}px`),E.setAttribute("height",`${A}px`)),E.setAttribute("preserveAspectRatio","none"),E.setAttribute("viewBox",`0 0 ${o} ${A}`),E}createElement(o){if(typeof o!="string")throw new Error("Invalid SVG element type");return this._createSVG(o)}_createSVG(o){(0,n.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=c},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var n=i(1);const s=3285377520,f=4294901760,l=65535;class g{constructor(r){this.h1=r?r&4294967295:s,this.h2=r?r&4294967295:s}update(r){let o,A;if(typeof r=="string"){o=new Uint8Array(r.length*2),A=0;for(let D=0,b=r.length;D<b;D++){const m=r.charCodeAt(D);m<=255?o[A++]=m:(o[A++]=m>>>8,o[A++]=m&255)}}else if((0,n.isArrayBuffer)(r))o=r.slice(),A=o.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const S=A>>2,E=A-S*4,_=new Uint32Array(o.buffer,0,S);let v=0,w=0,R=this.h1,F=this.h2;const M=3432918353,T=461845907,d=M&l,u=T&l;for(let D=0;D<S;D++)D&1?(v=_[D],v=v*M&f|v*d&l,v=v<<15|v>>>17,v=v*T&f|v*u&l,R^=v,R=R<<13|R>>>19,R=R*5+3864292196):(w=_[D],w=w*M&f|w*d&l,w=w<<15|w>>>17,w=w*T&f|w*u&l,F^=w,F=F<<13|F>>>19,F=F*5+3864292196);switch(v=0,E){case 3:v^=o[S*4+2]<<16;case 2:v^=o[S*4+1]<<8;case 1:v^=o[S*4],v=v*M&f|v*d&l,v=v<<15|v>>>17,v=v*T&f|v*u&l,S&1?R^=v:F^=v}this.h1=R,this.h2=F}hexdigest(){let r=this.h1,o=this.h2;return r^=o>>>1,r=r*3981806797&f|r*36045&l,o=o*4283543511&f|((o<<16|r>>>16)*2950163797&f)>>>16,r^=o>>>1,r=r*444984403&f|r*60499&l,o=o*3301882366&f|((o<<16|r>>>16)*3120437893&f)>>>16,r^=o>>>1,(r>>>0).toString(16).padStart(8,"0")+(o>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=g},(e,t,i)=>{var l;Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n=i(1);class s{constructor({ownerDocument:c=globalThis.document,styleElement:r=null}){K(this,l,new Set);this._document=c,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(c){this.nativeFontFaces.add(c),this._document.fonts.add(c)}removeNativeFontFace(c){this.nativeFontFaces.delete(c),this._document.fonts.delete(c)}insertRule(c){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(c,r.cssRules.length)}clear(){for(const c of this.nativeFontFaces)this._document.fonts.delete(c);this.nativeFontFaces.clear(),a(this,l).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(c){if(!(!c||a(this,l).has(c.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:A}=c,S=new FontFace(r,o,A);this.addNativeFontFace(S);try{await S.load(),a(this,l).add(r)}catch{(0,n.warn)(`Cannot load system font: ${c.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(S)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(c){if(c.attached||c.missingFile&&!c.systemFontInfo)return;if(c.attached=!0,c.systemFontInfo){await this.loadSystemFont(c.systemFontInfo);return}if(this.isFontLoadingAPISupported){const o=c.createNativeFontFace();if(o){this.addNativeFontFace(o);try{await o.loaded}catch(A){throw(0,n.warn)(`Failed to load font '${o.family}': '${A}'.`),c.disableFontFace=!0,A}}return}const r=c.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(o=>{const A=this._queueLoadingCallback(o);this._prepareFontLoadEvent(c,A)})}}get isFontLoadingAPISupported(){var r;const c=!!((r=this._document)!=null&&r.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",c)}get isSyncFontLoadingSupported(){let c=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(c=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",c)}_queueLoadingCallback(c){function r(){for((0,n.assert)(!A.done,"completeRequest() cannot be called twice."),A.done=!0;o.length>0&&o[0].done;){const S=o.shift();setTimeout(S.callback,0)}}const{loadingRequests:o}=this,A={done:!1,complete:r,callback:c};return o.push(A),A}get _loadTestFont(){const c=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",c)}_prepareFontLoadEvent(c,r){function o(C,N){return C.charCodeAt(N)<<24|C.charCodeAt(N+1)<<16|C.charCodeAt(N+2)<<8|C.charCodeAt(N+3)&255}function A(C,N,q,I){const z=C.substring(0,N),Y=C.substring(N+q);return z+I+Y}let S,E;const _=this._document.createElement("canvas");_.width=1,_.height=1;const v=_.getContext("2d");let w=0;function R(C,N){if(++w>30){(0,n.warn)("Load test font never loaded."),N();return}if(v.font="30px "+C,v.fillText(".",0,20),v.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(R.bind(null,C,N))}const F=`lt${Date.now()}${this.loadTestFontId++}`;let M=this._loadTestFont;M=A(M,976,F.length,F);const d=16,u=1482184792;let D=o(M,d);for(S=0,E=F.length-3;S<E;S+=4)D=D-u+o(F,S)|0;S<F.length&&(D=D-u+o(F+"XXX",S)|0),M=A(M,d,4,(0,n.string32)(D));const b=`url(data:font/opentype;base64,${btoa(M)});`,m=`@font-face {font-family:"${F}";src:${b}}`;this.insertRule(m);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const C of[c.loadedName,F]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=C,L.append(N)}this._document.body.append(L),R(F,()=>{L.remove(),r.complete()})}}l=new WeakMap,t.FontLoader=s;class f{constructor(c,{isEvalSupported:r=!0,disableFontFace:o=!1,ignoreErrors:A=!1,inspectFont:S=null}){this.compiledGlyphs=Object.create(null);for(const E in c)this[E]=c[E];this.isEvalSupported=r!==!1,this.disableFontFace=o===!0,this.ignoreErrors=A===!0,this._inspectFont=S}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let c;if(!this.cssFontInfo)c=new FontFace(this.loadedName,this.data,{});else{const o={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(o.style=`oblique ${this.cssFontInfo.italicAngle}deg`),c=new FontFace(this.cssFontInfo.fontFamily,this.data,o)}return(r=this._inspectFont)==null||r.call(this,this),c}createFontFaceRule(){var A;if(!this.data||this.disableFontFace)return null;const c=(0,n.bytesToString)(this.data),r=`url(data:${this.mimetype};base64,${btoa(c)});`;let o;if(!this.cssFontInfo)o=`@font-face {font-family:"${this.loadedName}";src:${r}}`;else{let S=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(S+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),o=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${S}src:${r}}`}return(A=this._inspectFont)==null||A.call(this,this,r),o}getPathGenerator(c,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];let o;try{o=c.get(this.loadedName+"_path_"+r)}catch(A){if(!this.ignoreErrors)throw A;return(0,n.warn)(`getPathGenerator - ignoring character: "${A}".`),this.compiledGlyphs[r]=function(S,E){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const A=[];for(const S of o){const E=S.args!==void 0?S.args.join(","):"";A.push("c.",S.cmd,"(",E,`);
`)}return this.compiledGlyphs[r]=new Function("c","size",A.join(""))}return this.compiledGlyphs[r]=function(A,S){for(const E of o)E.cmd==="scale"&&(E.args=[S,-S]),A[E.cmd].apply(A,E.args)}}}t.FontFaceObject=f},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var n=i(7);i(1);const s=function(r){return new Promise((o,A)=>{require$$5.readFile(r,(E,_)=>{if(E||!_){A(new Error(E));return}o(new Uint8Array(_))})})};class f extends n.BaseFilterFactory{}t.NodeFilterFactory=f;class l extends n.BaseCanvasFactory{_createCanvas(o,A){return require$$5.createCanvas(o,A)}}t.NodeCanvasFactory=l;class g extends n.BaseCMapReaderFactory{_fetchData(o,A){return s(o).then(S=>({cMapData:S,compressionType:A}))}}t.NodeCMapReaderFactory=g;class c extends n.BaseStandardFontDataFactory{_fetchData(o){return s(o)}}t.NodeStandardFontDataFactory=c},(e,t,i)=>{var P,xn,B,Pn;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=i(1),s=i(6),f=i(12),l=i(13);const g=16,c=100,r=4096,o=15,A=10,S=1e3,E=16;function _(U,y){if(U._removeMirroring)throw new Error("Context is already forwarding operations.");U.__originalSave=U.save,U.__originalRestore=U.restore,U.__originalRotate=U.rotate,U.__originalScale=U.scale,U.__originalTranslate=U.translate,U.__originalTransform=U.transform,U.__originalSetTransform=U.setTransform,U.__originalResetTransform=U.resetTransform,U.__originalClip=U.clip,U.__originalMoveTo=U.moveTo,U.__originalLineTo=U.lineTo,U.__originalBezierCurveTo=U.bezierCurveTo,U.__originalRect=U.rect,U.__originalClosePath=U.closePath,U.__originalBeginPath=U.beginPath,U._removeMirroring=()=>{U.save=U.__originalSave,U.restore=U.__originalRestore,U.rotate=U.__originalRotate,U.scale=U.__originalScale,U.translate=U.__originalTranslate,U.transform=U.__originalTransform,U.setTransform=U.__originalSetTransform,U.resetTransform=U.__originalResetTransform,U.clip=U.__originalClip,U.moveTo=U.__originalMoveTo,U.lineTo=U.__originalLineTo,U.bezierCurveTo=U.__originalBezierCurveTo,U.rect=U.__originalRect,U.closePath=U.__originalClosePath,U.beginPath=U.__originalBeginPath,delete U._removeMirroring},U.save=function(){y.save(),this.__originalSave()},U.restore=function(){y.restore(),this.__originalRestore()},U.translate=function(H,se){y.translate(H,se),this.__originalTranslate(H,se)},U.scale=function(H,se){y.scale(H,se),this.__originalScale(H,se)},U.transform=function(H,se,Q,de,ge,ye){y.transform(H,se,Q,de,ge,ye),this.__originalTransform(H,se,Q,de,ge,ye)},U.setTransform=function(H,se,Q,de,ge,ye){y.setTransform(H,se,Q,de,ge,ye),this.__originalSetTransform(H,se,Q,de,ge,ye)},U.resetTransform=function(){y.resetTransform(),this.__originalResetTransform()},U.rotate=function(H){y.rotate(H),this.__originalRotate(H)},U.clip=function(H){y.clip(H),this.__originalClip(H)},U.moveTo=function(k,H){y.moveTo(k,H),this.__originalMoveTo(k,H)},U.lineTo=function(k,H){y.lineTo(k,H),this.__originalLineTo(k,H)},U.bezierCurveTo=function(k,H,se,Q,de,ge){y.bezierCurveTo(k,H,se,Q,de,ge),this.__originalBezierCurveTo(k,H,se,Q,de,ge)},U.rect=function(k,H,se,Q){y.rect(k,H,se,Q),this.__originalRect(k,H,se,Q)},U.closePath=function(){y.closePath(),this.__originalClosePath()},U.beginPath=function(){y.beginPath(),this.__originalBeginPath()}}class v{constructor(y){this.canvasFactory=y,this.cache=Object.create(null)}getCanvas(y,k,H){let se;return this.cache[y]!==void 0?(se=this.cache[y],this.canvasFactory.reset(se,k,H)):(se=this.canvasFactory.create(k,H),this.cache[y]=se),se}delete(y){delete this.cache[y]}clear(){for(const y in this.cache){const k=this.cache[y];this.canvasFactory.destroy(k),delete this.cache[y]}}}function w(U,y,k,H,se,Q,de,ge,ye,W){const[J,ce,Z,ue,_e,Ee]=(0,s.getCurrentTransform)(U);if(ce===0&&Z===0){const we=de*J+_e,le=Math.round(we),te=ge*ue+Ee,oe=Math.round(te),he=(de+ye)*J+_e,Me=Math.abs(Math.round(he)-le)||1,Oe=(ge+W)*ue+Ee,je=Math.abs(Math.round(Oe)-oe)||1;return U.setTransform(Math.sign(J),0,0,Math.sign(ue),le,oe),U.drawImage(y,k,H,se,Q,0,0,Me,je),U.setTransform(J,ce,Z,ue,_e,Ee),[Me,je]}if(J===0&&ue===0){const we=ge*Z+_e,le=Math.round(we),te=de*ce+Ee,oe=Math.round(te),he=(ge+W)*Z+_e,Me=Math.abs(Math.round(he)-le)||1,Oe=(de+ye)*ce+Ee,je=Math.abs(Math.round(Oe)-oe)||1;return U.setTransform(0,Math.sign(ce),Math.sign(Z),0,le,oe),U.drawImage(y,k,H,se,Q,0,0,je,Me),U.setTransform(J,ce,Z,ue,_e,Ee),[je,Me]}U.drawImage(y,k,H,se,Q,de,ge,ye,W);const Pe=Math.hypot(J,ce),Se=Math.hypot(Z,ue);return[Pe*ye,Se*W]}function R(U){const{width:y,height:k}=U;if(y>S||k>S)return null;const H=1e3,se=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Q=y+1;let de=new Uint8Array(Q*(k+1)),ge,ye,W;const J=y+7&-8;let ce=new Uint8Array(J*k),Z=0;for(const Se of U.data){let we=128;for(;we>0;)ce[Z++]=Se&we?0:255,we>>=1}let ue=0;for(Z=0,ce[Z]!==0&&(de[0]=1,++ue),ye=1;ye<y;ye++)ce[Z]!==ce[Z+1]&&(de[ye]=ce[Z]?2:1,++ue),Z++;for(ce[Z]!==0&&(de[ye]=2,++ue),ge=1;ge<k;ge++){Z=ge*J,W=ge*Q,ce[Z-J]!==ce[Z]&&(de[W]=ce[Z]?1:8,++ue);let Se=(ce[Z]?4:0)+(ce[Z-J]?8:0);for(ye=1;ye<y;ye++)Se=(Se>>2)+(ce[Z+1]?4:0)+(ce[Z-J+1]?8:0),se[Se]&&(de[W+ye]=se[Se],++ue),Z++;if(ce[Z-J]!==ce[Z]&&(de[W+ye]=ce[Z]?2:4,++ue),ue>H)return null}for(Z=J*(k-1),W=ge*Q,ce[Z]!==0&&(de[W]=8,++ue),ye=1;ye<y;ye++)ce[Z]!==ce[Z+1]&&(de[W+ye]=ce[Z]?4:8,++ue),Z++;if(ce[Z]!==0&&(de[W+ye]=4,++ue),ue>H)return null;const _e=new Int32Array([0,Q,-1,0,-Q,0,0,0,1]),Ee=new Path2D;for(ge=0;ue&&ge<=k;ge++){let Se=ge*Q;const we=Se+y;for(;Se<we&&!de[Se];)Se++;if(Se===we)continue;Ee.moveTo(Se%Q,ge);const le=Se;let te=de[Se];do{const oe=_e[te];do Se+=oe;while(!de[Se]);const he=de[Se];he!==5&&he!==10?(te=he,de[Se]=0):(te=he&51*te>>4,de[Se]&=te>>2|te<<2),Ee.lineTo(Se%Q,Se/Q|0),de[Se]||--ue}while(le!==Se);--ge}return ce=null,de=null,function(Se){Se.save(),Se.scale(1/y,-1/k),Se.translate(0,-k),Se.fill(Ee),Se.beginPath(),Se.restore()}}class F{constructor(y,k){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,y,k])}clone(){const y=Object.create(this);return y.clipBox=this.clipBox.slice(),y}setCurrentPoint(y,k){this.x=y,this.y=k}updatePathMinMax(y,k,H){[k,H]=n.Util.applyTransform([k,H],y),this.minX=Math.min(this.minX,k),this.minY=Math.min(this.minY,H),this.maxX=Math.max(this.maxX,k),this.maxY=Math.max(this.maxY,H)}updateRectMinMax(y,k){const H=n.Util.applyTransform(k,y),se=n.Util.applyTransform(k.slice(2),y);this.minX=Math.min(this.minX,H[0],se[0]),this.minY=Math.min(this.minY,H[1],se[1]),this.maxX=Math.max(this.maxX,H[0],se[0]),this.maxY=Math.max(this.maxY,H[1],se[1])}updateScalingPathMinMax(y,k){n.Util.scaleMinMax(y,k),this.minX=Math.min(this.minX,k[0]),this.maxX=Math.max(this.maxX,k[1]),this.minY=Math.min(this.minY,k[2]),this.maxY=Math.max(this.maxY,k[3])}updateCurvePathMinMax(y,k,H,se,Q,de,ge,ye,W,J){const ce=n.Util.bezierBoundingBox(k,H,se,Q,de,ge,ye,W);if(J){J[0]=Math.min(J[0],ce[0],ce[2]),J[1]=Math.max(J[1],ce[0],ce[2]),J[2]=Math.min(J[2],ce[1],ce[3]),J[3]=Math.max(J[3],ce[1],ce[3]);return}this.updateRectMinMax(y,ce)}getPathBoundingBox(y=f.PathType.FILL,k=null){const H=[this.minX,this.minY,this.maxX,this.maxY];if(y===f.PathType.STROKE){k||(0,n.unreachable)("Stroke bounding box must include transform.");const se=n.Util.singularValueDecompose2dScale(k),Q=se[0]*this.lineWidth/2,de=se[1]*this.lineWidth/2;H[0]-=Q,H[1]-=de,H[2]+=Q,H[3]+=de}return H}updateClipFromPath(){const y=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(y||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(y){this.clipBox=y,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(y=f.PathType.FILL,k=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(y,k))}}function M(U,y){if(typeof ImageData<"u"&&y instanceof ImageData){U.putImageData(y,0,0);return}const k=y.height,H=y.width,se=k%E,Q=(k-se)/E,de=se===0?Q:Q+1,ge=U.createImageData(H,E);let ye=0,W;const J=y.data,ce=ge.data;let Z,ue,_e,Ee;if(y.kind===n.ImageKind.GRAYSCALE_1BPP){const Pe=J.byteLength,Se=new Uint32Array(ce.buffer,0,ce.byteLength>>2),we=Se.length,le=H+7>>3,te=4294967295,oe=n.FeatureTest.isLittleEndian?4278190080:255;for(Z=0;Z<de;Z++){for(_e=Z<Q?E:se,W=0,ue=0;ue<_e;ue++){const he=Pe-ye;let Me=0;const Oe=he>le?H:he*8-7,je=Oe&-8;let ze=0,He=0;for(;Me<je;Me+=8)He=J[ye++],Se[W++]=He&128?te:oe,Se[W++]=He&64?te:oe,Se[W++]=He&32?te:oe,Se[W++]=He&16?te:oe,Se[W++]=He&8?te:oe,Se[W++]=He&4?te:oe,Se[W++]=He&2?te:oe,Se[W++]=He&1?te:oe;for(;Me<Oe;Me++)ze===0&&(He=J[ye++],ze=128),Se[W++]=He&ze?te:oe,ze>>=1}for(;W<we;)Se[W++]=0;U.putImageData(ge,0,Z*E)}}else if(y.kind===n.ImageKind.RGBA_32BPP){for(ue=0,Ee=H*E*4,Z=0;Z<Q;Z++)ce.set(J.subarray(ye,ye+Ee)),ye+=Ee,U.putImageData(ge,0,ue),ue+=E;Z<de&&(Ee=H*se*4,ce.set(J.subarray(ye,ye+Ee)),U.putImageData(ge,0,ue))}else if(y.kind===n.ImageKind.RGB_24BPP)for(_e=E,Ee=H*_e,Z=0;Z<de;Z++){for(Z>=Q&&(_e=se,Ee=H*_e),W=0,ue=Ee;ue--;)ce[W++]=J[ye++],ce[W++]=J[ye++],ce[W++]=J[ye++],ce[W++]=255;U.putImageData(ge,0,Z*E)}else throw new Error(`bad image kind: ${y.kind}`)}function T(U,y){if(y.bitmap){U.drawImage(y.bitmap,0,0);return}const k=y.height,H=y.width,se=k%E,Q=(k-se)/E,de=se===0?Q:Q+1,ge=U.createImageData(H,E);let ye=0;const W=y.data,J=ge.data;for(let ce=0;ce<de;ce++){const Z=ce<Q?E:se;({srcPos:ye}=(0,l.convertBlackAndWhiteToRGBA)({src:W,srcPos:ye,dest:J,width:H,height:Z,nonBlackColor:0})),U.putImageData(ge,0,ce*E)}}function d(U,y){const k=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const H of k)U[H]!==void 0&&(y[H]=U[H]);U.setLineDash!==void 0&&(y.setLineDash(U.getLineDash()),y.lineDashOffset=U.lineDashOffset)}function u(U){if(U.strokeStyle=U.fillStyle="#000000",U.fillRule="nonzero",U.globalAlpha=1,U.lineWidth=1,U.lineCap="butt",U.lineJoin="miter",U.miterLimit=10,U.globalCompositeOperation="source-over",U.font="10px sans-serif",U.setLineDash!==void 0&&(U.setLineDash([]),U.lineDashOffset=0),!n.isNodeJS){const{filter:y}=U;y!=="none"&&y!==""&&(U.filter="none")}}function D(U,y,k,H){const se=U.length;for(let Q=3;Q<se;Q+=4){const de=U[Q];if(de===0)U[Q-3]=y,U[Q-2]=k,U[Q-1]=H;else if(de<255){const ge=255-de;U[Q-3]=U[Q-3]*de+y*ge>>8,U[Q-2]=U[Q-2]*de+k*ge>>8,U[Q-1]=U[Q-1]*de+H*ge>>8}}}function b(U,y,k){const H=U.length,se=1/255;for(let Q=3;Q<H;Q+=4){const de=k?k[U[Q]]:U[Q];y[Q]=y[Q]*de*se|0}}function m(U,y,k){const H=U.length;for(let se=3;se<H;se+=4){const Q=U[se-3]*77+U[se-2]*152+U[se-1]*28;y[se]=k?y[se]*k[Q>>8]>>8:y[se]*Q>>16}}function L(U,y,k,H,se,Q,de,ge,ye,W,J){const ce=!!Q,Z=ce?Q[0]:0,ue=ce?Q[1]:0,_e=ce?Q[2]:0,Ee=se==="Luminosity"?m:b,Se=Math.min(H,Math.ceil(1048576/k));for(let we=0;we<H;we+=Se){const le=Math.min(Se,H-we),te=U.getImageData(ge-W,we+(ye-J),k,le),oe=y.getImageData(ge,we+ye,k,le);ce&&D(te.data,Z,ue,_e),Ee(te.data,oe.data,de),y.putImageData(oe,ge,we+ye)}}function C(U,y,k,H){const se=H[0],Q=H[1],de=H[2]-se,ge=H[3]-Q;de===0||ge===0||(L(y.context,k,de,ge,y.subtype,y.backdrop,y.transferMap,se,Q,y.offsetX,y.offsetY),U.save(),U.globalAlpha=1,U.globalCompositeOperation="source-over",U.setTransform(1,0,0,1,0,0),U.drawImage(k.canvas,0,0),U.restore())}function N(U,y){const k=n.Util.singularValueDecompose2dScale(U);k[0]=Math.fround(k[0]),k[1]=Math.fround(k[1]);const H=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return y!==void 0?y:k[0]<=H||k[1]<=H}const q=["butt","round","square"],I=["miter","round","bevel"],z={},Y={},Ae=class{constructor(y,k,H,se,Q,{optionalContentConfig:de,markedContentStack:ge=null},ye,W){K(this,P);K(this,B);this.ctx=y,this.current=new F(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=k,this.objs=H,this.canvasFactory=se,this.filterFactory=Q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ge||[],this.optionalContentConfig=de,this.cachedCanvases=new v(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ye,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=W,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(y,k=null){return typeof y=="string"?y.startsWith("g_")?this.commonObjs.get(y):this.objs.get(y):k}beginDrawing({transform:y,viewport:k,transparency:H=!1,background:se=null}){const Q=this.ctx.canvas.width,de=this.ctx.canvas.height,ge=this.ctx.fillStyle;if(this.ctx.fillStyle=se||"#ffffff",this.ctx.fillRect(0,0,Q,de),this.ctx.fillStyle=ge,H){const ye=this.cachedCanvases.getCanvas("transparent",Q,de);this.compositeCtx=this.ctx,this.transparentCanvas=ye.canvas,this.ctx=ye.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),u(this.ctx),y&&(this.ctx.transform(...y),this.outputScaleX=y[0],this.outputScaleY=y[0]),this.ctx.transform(...k.transform),this.viewportScale=k.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx)}executeOperatorList(y,k,H,se){const Q=y.argsArray,de=y.fnArray;let ge=k||0;const ye=Q.length;if(ye===ge)return ge;const W=ye-ge>A&&typeof H=="function",J=W?Date.now()+o:0;let ce=0;const Z=this.commonObjs,ue=this.objs;let _e;for(;;){if(se!==void 0&&ge===se.nextBreakPoint)return se.breakIt(ge,H),ge;if(_e=de[ge],_e!==n.OPS.dependency)this[_e].apply(this,Q[ge]);else for(const Ee of Q[ge]){const Pe=Ee.startsWith("g_")?Z:ue;if(!Pe.has(Ee))return Pe.get(Ee,H),ge}if(ge++,ge===ye)return ge;if(W&&++ce>A){if(Date.now()>J)return H(),ge;ce=0}}}endDrawing(){ae(this,P,xn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const y of this._cachedBitmapsMap.values()){for(const k of y.values())typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement&&(k.width=k.height=0);y.clear()}this._cachedBitmapsMap.clear(),ae(this,B,Pn).call(this)}_scaleImage(y,k){const H=y.width,se=y.height;let Q=Math.max(Math.hypot(k[0],k[1]),1),de=Math.max(Math.hypot(k[2],k[3]),1),ge=H,ye=se,W="prescale1",J,ce;for(;Q>2&&ge>1||de>2&&ye>1;){let Z=ge,ue=ye;Q>2&&ge>1&&(Z=ge>=16384?Math.floor(ge/2)-1||1:Math.ceil(ge/2),Q/=ge/Z),de>2&&ye>1&&(ue=ye>=16384?Math.floor(ye/2)-1||1:Math.ceil(ye)/2,de/=ye/ue),J=this.cachedCanvases.getCanvas(W,Z,ue),ce=J.context,ce.clearRect(0,0,Z,ue),ce.drawImage(y,0,0,ge,ye,0,0,Z,ue),y=J.canvas,ge=Z,ye=ue,W=W==="prescale1"?"prescale2":"prescale1"}return{img:y,paintWidth:ge,paintHeight:ye}}_createMaskCanvas(y){const k=this.ctx,{width:H,height:se}=y,Q=this.current.fillColor,de=this.current.patternFill,ge=(0,s.getCurrentTransform)(k);let ye,W,J,ce;if((y.bitmap||y.data)&&y.count>1){const Me=y.bitmap||y.data.buffer;W=JSON.stringify(de?ge:[ge.slice(0,4),Q]),ye=this._cachedBitmapsMap.get(Me),ye||(ye=new Map,this._cachedBitmapsMap.set(Me,ye));const Oe=ye.get(W);if(Oe&&!de){const je=Math.round(Math.min(ge[0],ge[2])+ge[4]),ze=Math.round(Math.min(ge[1],ge[3])+ge[5]);return{canvas:Oe,offsetX:je,offsetY:ze}}J=Oe}J||(ce=this.cachedCanvases.getCanvas("maskCanvas",H,se),T(ce.context,y));let Z=n.Util.transform(ge,[1/H,0,0,-1/se,0,0]);Z=n.Util.transform(Z,[1,0,0,1,0,-se]);const ue=n.Util.applyTransform([0,0],Z),_e=n.Util.applyTransform([H,se],Z),Ee=n.Util.normalizeRect([ue[0],ue[1],_e[0],_e[1]]),Pe=Math.round(Ee[2]-Ee[0])||1,Se=Math.round(Ee[3]-Ee[1])||1,we=this.cachedCanvases.getCanvas("fillCanvas",Pe,Se),le=we.context,te=Math.min(ue[0],_e[0]),oe=Math.min(ue[1],_e[1]);le.translate(-te,-oe),le.transform(...Z),J||(J=this._scaleImage(ce.canvas,(0,s.getCurrentTransformInverse)(le)),J=J.img,ye&&de&&ye.set(W,J)),le.imageSmoothingEnabled=N((0,s.getCurrentTransform)(le),y.interpolate),w(le,J,0,0,J.width,J.height,0,0,H,se),le.globalCompositeOperation="source-in";const he=n.Util.transform((0,s.getCurrentTransformInverse)(le),[1,0,0,1,-te,-oe]);return le.fillStyle=de?Q.getPattern(k,this,he,f.PathType.FILL):Q,le.fillRect(0,0,H,se),ye&&!de&&(this.cachedCanvases.delete("fillCanvas"),ye.set(W,we.canvas)),{canvas:we.canvas,offsetX:Math.round(te),offsetY:Math.round(oe)}}setLineWidth(y){y!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=y,this.ctx.lineWidth=y}setLineCap(y){this.ctx.lineCap=q[y]}setLineJoin(y){this.ctx.lineJoin=I[y]}setMiterLimit(y){this.ctx.miterLimit=y}setDash(y,k){const H=this.ctx;H.setLineDash!==void 0&&(H.setLineDash(y),H.lineDashOffset=k)}setRenderingIntent(y){}setFlatness(y){}setGState(y){for(const[k,H]of y)switch(k){case"LW":this.setLineWidth(H);break;case"LC":this.setLineCap(H);break;case"LJ":this.setLineJoin(H);break;case"ML":this.setMiterLimit(H);break;case"D":this.setDash(H[0],H[1]);break;case"RI":this.setRenderingIntent(H);break;case"FL":this.setFlatness(H);break;case"Font":this.setFont(H[0],H[1]);break;case"CA":this.current.strokeAlpha=H;break;case"ca":this.current.fillAlpha=H,this.ctx.globalAlpha=H;break;case"BM":this.ctx.globalCompositeOperation=H;break;case"SMask":this.current.activeSMask=H?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(H);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const y=this.inSMaskMode;this.current.activeSMask&&!y?this.beginSMaskMode():!this.current.activeSMask&&y&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const y=this.ctx.canvas.width,k=this.ctx.canvas.height,H="smaskGroupAt"+this.groupLevel,se=this.cachedCanvases.getCanvas(H,y,k);this.suspendedCtx=this.ctx,this.ctx=se.context;const Q=this.ctx;Q.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),d(this.suspendedCtx,Q),_(Q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),d(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(y){if(!this.current.activeSMask)return;y?(y[0]=Math.floor(y[0]),y[1]=Math.floor(y[1]),y[2]=Math.ceil(y[2]),y[3]=Math.ceil(y[3])):y=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const k=this.current.activeSMask,H=this.suspendedCtx;C(H,k,this.ctx,y),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(d(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const y=this.current;this.stateStack.push(y),this.current=y.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),d(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(y,k,H,se,Q,de){this.ctx.transform(y,k,H,se,Q,de),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(y,k,H){const se=this.ctx,Q=this.current;let de=Q.x,ge=Q.y,ye,W;const J=(0,s.getCurrentTransform)(se),ce=J[0]===0&&J[3]===0||J[1]===0&&J[2]===0,Z=ce?H.slice(0):null;for(let ue=0,_e=0,Ee=y.length;ue<Ee;ue++)switch(y[ue]|0){case n.OPS.rectangle:de=k[_e++],ge=k[_e++];const Pe=k[_e++],Se=k[_e++],we=de+Pe,le=ge+Se;se.moveTo(de,ge),Pe===0||Se===0?se.lineTo(we,le):(se.lineTo(we,ge),se.lineTo(we,le),se.lineTo(de,le)),ce||Q.updateRectMinMax(J,[de,ge,we,le]),se.closePath();break;case n.OPS.moveTo:de=k[_e++],ge=k[_e++],se.moveTo(de,ge),ce||Q.updatePathMinMax(J,de,ge);break;case n.OPS.lineTo:de=k[_e++],ge=k[_e++],se.lineTo(de,ge),ce||Q.updatePathMinMax(J,de,ge);break;case n.OPS.curveTo:ye=de,W=ge,de=k[_e+4],ge=k[_e+5],se.bezierCurveTo(k[_e],k[_e+1],k[_e+2],k[_e+3],de,ge),Q.updateCurvePathMinMax(J,ye,W,k[_e],k[_e+1],k[_e+2],k[_e+3],de,ge,Z),_e+=6;break;case n.OPS.curveTo2:ye=de,W=ge,se.bezierCurveTo(de,ge,k[_e],k[_e+1],k[_e+2],k[_e+3]),Q.updateCurvePathMinMax(J,ye,W,de,ge,k[_e],k[_e+1],k[_e+2],k[_e+3],Z),de=k[_e+2],ge=k[_e+3],_e+=4;break;case n.OPS.curveTo3:ye=de,W=ge,de=k[_e+2],ge=k[_e+3],se.bezierCurveTo(k[_e],k[_e+1],de,ge,de,ge),Q.updateCurvePathMinMax(J,ye,W,k[_e],k[_e+1],de,ge,de,ge,Z),_e+=4;break;case n.OPS.closePath:se.closePath();break}ce&&Q.updateScalingPathMinMax(J,Z),Q.setCurrentPoint(de,ge)}closePath(){this.ctx.closePath()}stroke(y=!0){const k=this.ctx,H=this.current.strokeColor;k.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof H=="object"&&(H==null?void 0:H.getPattern)?(k.save(),k.strokeStyle=H.getPattern(k,this,(0,s.getCurrentTransformInverse)(k),f.PathType.STROKE),this.rescaleAndStroke(!1),k.restore()):this.rescaleAndStroke(!0)),y&&this.consumePath(this.current.getClippedPathBoundingBox()),k.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(y=!0){const k=this.ctx,H=this.current.fillColor,se=this.current.patternFill;let Q=!1;se&&(k.save(),k.fillStyle=H.getPattern(k,this,(0,s.getCurrentTransformInverse)(k),f.PathType.FILL),Q=!0);const de=this.current.getClippedPathBoundingBox();this.contentVisible&&de!==null&&(this.pendingEOFill?(k.fill("evenodd"),this.pendingEOFill=!1):k.fill()),Q&&k.restore(),y&&this.consumePath(de)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=z}eoClip(){this.pendingClip=Y}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const y=this.pendingTextPaths,k=this.ctx;if(y===void 0){k.beginPath();return}k.save(),k.beginPath();for(const H of y)k.setTransform(...H.transform),k.translate(H.x,H.y),H.addToPath(k,H.fontSize);k.restore(),k.clip(),k.beginPath(),delete this.pendingTextPaths}setCharSpacing(y){this.current.charSpacing=y}setWordSpacing(y){this.current.wordSpacing=y}setHScale(y){this.current.textHScale=y/100}setLeading(y){this.current.leading=-y}setFont(y,k){var J;const H=this.commonObjs.get(y),se=this.current;if(!H)throw new Error(`Can't find font for ${y}`);if(se.fontMatrix=H.fontMatrix||n.FONT_IDENTITY_MATRIX,(se.fontMatrix[0]===0||se.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+y),k<0?(k=-k,se.fontDirection=-1):se.fontDirection=1,this.current.font=H,this.current.fontSize=k,H.isType3Font)return;const Q=H.loadedName||"sans-serif",de=((J=H.systemFontInfo)==null?void 0:J.css)||`"${Q}", ${H.fallbackName}`;let ge="normal";H.black?ge="900":H.bold&&(ge="bold");const ye=H.italic?"italic":"normal";let W=k;k<g?W=g:k>c&&(W=c),this.current.fontSizeScale=k/W,this.ctx.font=`${ye} ${ge} ${W}px ${de}`}setTextRenderingMode(y){this.current.textRenderingMode=y}setTextRise(y){this.current.textRise=y}moveText(y,k){this.current.x=this.current.lineX+=y,this.current.y=this.current.lineY+=k}setLeadingMoveText(y,k){this.setLeading(-k),this.moveText(y,k)}setTextMatrix(y,k,H,se,Q,de){this.current.textMatrix=[y,k,H,se,Q,de],this.current.textMatrixScale=Math.hypot(y,k),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(y,k,H,se){const Q=this.ctx,de=this.current,ge=de.font,ye=de.textRenderingMode,W=de.fontSize/de.fontSizeScale,J=ye&n.TextRenderingMode.FILL_STROKE_MASK,ce=!!(ye&n.TextRenderingMode.ADD_TO_PATH_FLAG),Z=de.patternFill&&!ge.missingFile;let ue;(ge.disableFontFace||ce||Z)&&(ue=ge.getPathGenerator(this.commonObjs,y)),ge.disableFontFace||Z?(Q.save(),Q.translate(k,H),Q.beginPath(),ue(Q,W),se&&Q.setTransform(...se),(J===n.TextRenderingMode.FILL||J===n.TextRenderingMode.FILL_STROKE)&&Q.fill(),(J===n.TextRenderingMode.STROKE||J===n.TextRenderingMode.FILL_STROKE)&&Q.stroke(),Q.restore()):((J===n.TextRenderingMode.FILL||J===n.TextRenderingMode.FILL_STROKE)&&Q.fillText(y,k,H),(J===n.TextRenderingMode.STROKE||J===n.TextRenderingMode.FILL_STROKE)&&Q.strokeText(y,k,H)),ce&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,s.getCurrentTransform)(Q),x:k,y:H,fontSize:W,addToPath:ue})}get isFontSubpixelAAEnabled(){const{context:y}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);y.scale(1.5,1),y.fillText("I",0,10);const k=y.getImageData(0,0,10,10).data;let H=!1;for(let se=3;se<k.length;se+=4)if(k[se]>0&&k[se]<255){H=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",H)}showText(y){const k=this.current,H=k.font;if(H.isType3Font)return this.showType3Text(y);const se=k.fontSize;if(se===0)return;const Q=this.ctx,de=k.fontSizeScale,ge=k.charSpacing,ye=k.wordSpacing,W=k.fontDirection,J=k.textHScale*W,ce=y.length,Z=H.vertical,ue=Z?1:-1,_e=H.defaultVMetrics,Ee=se*k.fontMatrix[0],Pe=k.textRenderingMode===n.TextRenderingMode.FILL&&!H.disableFontFace&&!k.patternFill;Q.save(),Q.transform(...k.textMatrix),Q.translate(k.x,k.y+k.textRise),W>0?Q.scale(J,-1):Q.scale(J,1);let Se;if(k.patternFill){Q.save();const he=k.fillColor.getPattern(Q,this,(0,s.getCurrentTransformInverse)(Q),f.PathType.FILL);Se=(0,s.getCurrentTransform)(Q),Q.restore(),Q.fillStyle=he}let we=k.lineWidth;const le=k.textMatrixScale;if(le===0||we===0){const he=k.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(he===n.TextRenderingMode.STROKE||he===n.TextRenderingMode.FILL_STROKE)&&(we=this.getSinglePixelWidth())}else we/=le;if(de!==1&&(Q.scale(de,de),we/=de),Q.lineWidth=we,H.isInvalidPDFjsFont){const he=[];let Me=0;for(const Oe of y)he.push(Oe.unicode),Me+=Oe.width;Q.fillText(he.join(""),0,0),k.x+=Me*Ee*J,Q.restore(),this.compose();return}let te=0,oe;for(oe=0;oe<ce;++oe){const he=y[oe];if(typeof he=="number"){te+=ue*he*se/1e3;continue}let Me=!1;const Oe=(he.isSpace?ye:0)+ge,je=he.fontChar,ze=he.accent;let He,Ge,Ke=he.width;if(Z){const Fe=he.vmetric||_e,O=-(he.vmetric?Fe[1]:Ke*.5)*Ee,G=Fe[2]*Ee;Ke=Fe?-Fe[0]:Ke,He=O/de,Ge=(te+G)/de}else He=te/de,Ge=0;if(H.remeasure&&Ke>0){const Fe=Q.measureText(je).width*1e3/se*de;if(Ke<Fe&&this.isFontSubpixelAAEnabled){const O=Ke/Fe;Me=!0,Q.save(),Q.scale(O,1),He/=O}else Ke!==Fe&&(He+=(Ke-Fe)/2e3*se/de)}if(this.contentVisible&&(he.isInFont||H.missingFile)){if(Pe&&!ze)Q.fillText(je,He,Ge);else if(this.paintChar(je,He,Ge,Se),ze){const Fe=He+se*ze.offset.x/de,O=Ge-se*ze.offset.y/de;this.paintChar(ze.fontChar,Fe,O,Se)}}const qe=Z?Ke*Ee-Oe*W:Ke*Ee+Oe*W;te+=qe,Me&&Q.restore()}Z?k.y-=te:k.x+=te*J,Q.restore(),this.compose()}showType3Text(y){const k=this.ctx,H=this.current,se=H.font,Q=H.fontSize,de=H.fontDirection,ge=se.vertical?1:-1,ye=H.charSpacing,W=H.wordSpacing,J=H.textHScale*de,ce=H.fontMatrix||n.FONT_IDENTITY_MATRIX,Z=y.length,ue=H.textRenderingMode===n.TextRenderingMode.INVISIBLE;let _e,Ee,Pe,Se;if(!(ue||Q===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,k.save(),k.transform(...H.textMatrix),k.translate(H.x,H.y),k.scale(J,de),_e=0;_e<Z;++_e){if(Ee=y[_e],typeof Ee=="number"){Se=ge*Ee*Q/1e3,this.ctx.translate(Se,0),H.x+=Se*J;continue}const we=(Ee.isSpace?W:0)+ye,le=se.charProcOperatorList[Ee.operatorListId];if(!le){(0,n.warn)(`Type3 character "${Ee.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ee,this.save(),k.scale(Q,Q),k.transform(...ce),this.executeOperatorList(le),this.restore()),Pe=n.Util.applyTransform([Ee.width,0],ce)[0]*Q+we,k.translate(Pe,0),H.x+=Pe*J}k.restore(),this.processingType3=null}}setCharWidth(y,k){}setCharWidthAndBounds(y,k,H,se,Q,de){this.ctx.rect(H,se,Q-H,de-se),this.ctx.clip(),this.endPath()}getColorN_Pattern(y){let k;if(y[0]==="TilingPattern"){const H=y[1],se=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),Q={createCanvasGraphics:de=>new Ae(de,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};k=new f.TilingPattern(y,H,this.ctx,Q,se)}else k=this._getPattern(y[1],y[2]);return k}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(y,k,H){const se=n.Util.makeHexColor(y,k,H);this.ctx.strokeStyle=se,this.current.strokeColor=se}setFillRGBColor(y,k,H){const se=n.Util.makeHexColor(y,k,H);this.ctx.fillStyle=se,this.current.fillColor=se,this.current.patternFill=!1}_getPattern(y,k=null){let H;return this.cachedPatterns.has(y)?H=this.cachedPatterns.get(y):(H=(0,f.getShadingPattern)(this.getObject(y)),this.cachedPatterns.set(y,H)),k&&(H.matrix=k),H}shadingFill(y){if(!this.contentVisible)return;const k=this.ctx;this.save();const H=this._getPattern(y);k.fillStyle=H.getPattern(k,this,(0,s.getCurrentTransformInverse)(k),f.PathType.SHADING);const se=(0,s.getCurrentTransformInverse)(k);if(se){const{width:Q,height:de}=k.canvas,[ge,ye,W,J]=n.Util.getAxialAlignedBoundingBox([0,0,Q,de],se);this.ctx.fillRect(ge,ye,W-ge,J-ye)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(y,k){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(y)&&y.length===6&&this.transform(...y),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),k)){const H=k[2]-k[0],se=k[3]-k[1];this.ctx.rect(k[0],k[1],H,se),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),k),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(y){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const k=this.ctx;y.isolated||(0,n.info)("TODO: Support non-isolated groups."),y.knockout&&(0,n.warn)("Knockout groups not supported.");const H=(0,s.getCurrentTransform)(k);if(y.matrix&&k.transform(...y.matrix),!y.bbox)throw new Error("Bounding box is required.");let se=n.Util.getAxialAlignedBoundingBox(y.bbox,(0,s.getCurrentTransform)(k));const Q=[0,0,k.canvas.width,k.canvas.height];se=n.Util.intersect(se,Q)||[0,0,0,0];const de=Math.floor(se[0]),ge=Math.floor(se[1]);let ye=Math.max(Math.ceil(se[2])-de,1),W=Math.max(Math.ceil(se[3])-ge,1),J=1,ce=1;ye>r&&(J=ye/r,ye=r),W>r&&(ce=W/r,W=r),this.current.startNewPathAndClipBox([0,0,ye,W]);let Z="groupAt"+this.groupLevel;y.smask&&(Z+="_smask_"+this.smaskCounter++%2);const ue=this.cachedCanvases.getCanvas(Z,ye,W),_e=ue.context;_e.scale(1/J,1/ce),_e.translate(-de,-ge),_e.transform(...H),y.smask?this.smaskStack.push({canvas:ue.canvas,context:_e,offsetX:de,offsetY:ge,scaleX:J,scaleY:ce,subtype:y.smask.subtype,backdrop:y.smask.backdrop,transferMap:y.smask.transferMap||null,startTransformInverse:null}):(k.setTransform(1,0,0,1,0,0),k.translate(de,ge),k.scale(J,ce),k.save()),d(k,_e),this.ctx=_e,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(k),this.groupLevel++}endGroup(y){if(!this.contentVisible)return;this.groupLevel--;const k=this.ctx,H=this.groupStack.pop();if(this.ctx=H,this.ctx.imageSmoothingEnabled=!1,y.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const se=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...se);const Q=n.Util.getAxialAlignedBoundingBox([0,0,k.canvas.width,k.canvas.height],se);this.ctx.drawImage(k.canvas,0,0),this.ctx.restore(),this.compose(Q)}}beginAnnotation(y,k,H,se,Q){if(ae(this,P,xn).call(this),u(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(k)&&k.length===4){const de=k[2]-k[0],ge=k[3]-k[1];if(Q&&this.annotationCanvasMap){H=H.slice(),H[4]-=k[0],H[5]-=k[1],k=k.slice(),k[0]=k[1]=0,k[2]=de,k[3]=ge;const[ye,W]=n.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:J}=this,ce=Math.ceil(de*this.outputScaleX*J),Z=Math.ceil(ge*this.outputScaleY*J);this.annotationCanvas=this.canvasFactory.create(ce,Z);const{canvas:ue,context:_e}=this.annotationCanvas;this.annotationCanvasMap.set(y,ue),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_e,this.ctx.save(),this.ctx.setTransform(ye,0,0,-W,0,ge*W),u(this.ctx)}else u(this.ctx),this.ctx.rect(k[0],k[1],de,ge),this.ctx.clip(),this.endPath()}this.current=new F(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...H),this.transform(...se)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ae(this,B,Pn).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(y){if(!this.contentVisible)return;const k=y.count;y=this.getObject(y.data,y),y.count=k;const H=this.ctx,se=this.processingType3;if(se&&(se.compiled===void 0&&(se.compiled=R(y)),se.compiled)){se.compiled(H);return}const Q=this._createMaskCanvas(y),de=Q.canvas;H.save(),H.setTransform(1,0,0,1,0,0),H.drawImage(de,Q.offsetX,Q.offsetY),H.restore(),this.compose()}paintImageMaskXObjectRepeat(y,k,H=0,se=0,Q,de){if(!this.contentVisible)return;y=this.getObject(y.data,y);const ge=this.ctx;ge.save();const ye=(0,s.getCurrentTransform)(ge);ge.transform(k,H,se,Q,0,0);const W=this._createMaskCanvas(y);ge.setTransform(1,0,0,1,W.offsetX-ye[4],W.offsetY-ye[5]);for(let J=0,ce=de.length;J<ce;J+=2){const Z=n.Util.transform(ye,[k,H,se,Q,de[J],de[J+1]]),[ue,_e]=n.Util.applyTransform([0,0],Z);ge.drawImage(W.canvas,ue,_e)}ge.restore(),this.compose()}paintImageMaskXObjectGroup(y){if(!this.contentVisible)return;const k=this.ctx,H=this.current.fillColor,se=this.current.patternFill;for(const Q of y){const{data:de,width:ge,height:ye,transform:W}=Q,J=this.cachedCanvases.getCanvas("maskCanvas",ge,ye),ce=J.context;ce.save();const Z=this.getObject(de,Q);T(ce,Z),ce.globalCompositeOperation="source-in",ce.fillStyle=se?H.getPattern(ce,this,(0,s.getCurrentTransformInverse)(k),f.PathType.FILL):H,ce.fillRect(0,0,ge,ye),ce.restore(),k.save(),k.transform(...W),k.scale(1,-1),w(k,J.canvas,0,0,ge,ye,0,-1,1,1),k.restore()}this.compose()}paintImageXObject(y){if(!this.contentVisible)return;const k=this.getObject(y);if(!k){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(k)}paintImageXObjectRepeat(y,k,H,se){if(!this.contentVisible)return;const Q=this.getObject(y);if(!Q){(0,n.warn)("Dependent image isn't ready yet");return}const de=Q.width,ge=Q.height,ye=[];for(let W=0,J=se.length;W<J;W+=2)ye.push({transform:[k,0,0,H,se[W],se[W+1]],x:0,y:0,w:de,h:ge});this.paintInlineImageXObjectGroup(Q,ye)}applyTransferMapsToCanvas(y){return this.current.transferMaps!=="none"&&(y.filter=this.current.transferMaps,y.drawImage(y.canvas,0,0),y.filter="none"),y.canvas}applyTransferMapsToBitmap(y){if(this.current.transferMaps==="none")return y.bitmap;const{bitmap:k,width:H,height:se}=y,Q=this.cachedCanvases.getCanvas("inlineImage",H,se),de=Q.context;return de.filter=this.current.transferMaps,de.drawImage(k,0,0),de.filter="none",Q.canvas}paintInlineImageXObject(y){if(!this.contentVisible)return;const k=y.width,H=y.height,se=this.ctx;if(this.save(),!n.isNodeJS){const{filter:ge}=se;ge!=="none"&&ge!==""&&(se.filter="none")}se.scale(1/k,-1/H);let Q;if(y.bitmap)Q=this.applyTransferMapsToBitmap(y);else if(typeof HTMLElement=="function"&&y instanceof HTMLElement||!y.data)Q=y;else{const ye=this.cachedCanvases.getCanvas("inlineImage",k,H).context;M(ye,y),Q=this.applyTransferMapsToCanvas(ye)}const de=this._scaleImage(Q,(0,s.getCurrentTransformInverse)(se));se.imageSmoothingEnabled=N((0,s.getCurrentTransform)(se),y.interpolate),w(se,de.img,0,0,de.paintWidth,de.paintHeight,0,-H,k,H),this.compose(),this.restore()}paintInlineImageXObjectGroup(y,k){if(!this.contentVisible)return;const H=this.ctx;let se;if(y.bitmap)se=y.bitmap;else{const Q=y.width,de=y.height,ye=this.cachedCanvases.getCanvas("inlineImage",Q,de).context;M(ye,y),se=this.applyTransferMapsToCanvas(ye)}for(const Q of k)H.save(),H.transform(...Q.transform),H.scale(1,-1),w(H,se,Q.x,Q.y,Q.w,Q.h,0,-1,1,1),H.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(y){}markPointProps(y,k){}beginMarkedContent(y){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(y,k){y==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(k)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(y){const k=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(y);const H=this.ctx;this.pendingClip&&(k||(this.pendingClip===Y?H.clip("evenodd"):H.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),H.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const y=(0,s.getCurrentTransform)(this.ctx);if(y[1]===0&&y[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(y[0]),Math.abs(y[3]));else{const k=Math.abs(y[0]*y[3]-y[2]*y[1]),H=Math.hypot(y[0],y[2]),se=Math.hypot(y[1],y[3]);this._cachedGetSinglePixelWidth=Math.max(H,se)/k}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:y}=this.current,{a:k,b:H,c:se,d:Q}=this.ctx.getTransform();let de,ge;if(H===0&&se===0){const ye=Math.abs(k),W=Math.abs(Q);if(ye===W)if(y===0)de=ge=1/ye;else{const J=ye*y;de=ge=J<1?1/J:1}else if(y===0)de=1/ye,ge=1/W;else{const J=ye*y,ce=W*y;de=J<1?1/J:1,ge=ce<1?1/ce:1}}else{const ye=Math.abs(k*Q-H*se),W=Math.hypot(k,H),J=Math.hypot(se,Q);if(y===0)de=J/ye,ge=W/ye;else{const ce=y*ye;de=J>ce?J/ce:1,ge=W>ce?W/ce:1}}this._cachedScaleForStroking[0]=de,this._cachedScaleForStroking[1]=ge}return this._cachedScaleForStroking}rescaleAndStroke(y){const{ctx:k}=this,{lineWidth:H}=this.current,[se,Q]=this.getScaleForStroking();if(k.lineWidth=H||1,se===1&&Q===1){k.stroke();return}const de=k.getLineDash();if(y&&k.save(),k.scale(se,Q),de.length>0){const ge=Math.max(se,Q);k.setLineDash(de.map(ye=>ye/ge)),k.lineDashOffset/=ge}k.stroke(),y&&k.restore()}isContentVisible(){for(let y=this.markedContentStack.length-1;y>=0;y--)if(!this.markedContentStack[y].visible)return!1;return!0}};let j=Ae;P=new WeakSet,xn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},B=new WeakSet,Pn=function(){if(this.pageColors){const y=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(y!=="none"){const k=this.ctx.filter;this.ctx.filter=y,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=k}}},t.CanvasGraphics=j;for(const U in n.OPS)j.prototype[U]!==void 0&&(j.prototype[n.OPS[U]]=j.prototype[U])},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=E;var n=i(1),s=i(6);const f={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=f;function l(R,F){if(!F)return;const M=F[2]-F[0],T=F[3]-F[1],d=new Path2D;d.rect(F[0],F[1],M,T),R.clip(d)}class g{constructor(){this.constructor===g&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class c extends g{constructor(F){super(),this._type=F[1],this._bbox=F[2],this._colorStops=F[3],this._p0=F[4],this._p1=F[5],this._r0=F[6],this._r1=F[7],this.matrix=null}_createGradient(F){let M;this._type==="axial"?M=F.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(M=F.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const T of this._colorStops)M.addColorStop(T[0],T[1]);return M}getPattern(F,M,T,d){let u;if(d===f.STROKE||d===f.FILL){const D=M.current.getClippedPathBoundingBox(d,(0,s.getCurrentTransform)(F))||[0,0,0,0],b=Math.ceil(D[2]-D[0])||1,m=Math.ceil(D[3]-D[1])||1,L=M.cachedCanvases.getCanvas("pattern",b,m,!0),C=L.context;C.clearRect(0,0,C.canvas.width,C.canvas.height),C.beginPath(),C.rect(0,0,C.canvas.width,C.canvas.height),C.translate(-D[0],-D[1]),T=n.Util.transform(T,[1,0,0,1,D[0],D[1]]),C.transform(...M.baseTransform),this.matrix&&C.transform(...this.matrix),l(C,this._bbox),C.fillStyle=this._createGradient(C),C.fill(),u=F.createPattern(L.canvas,"no-repeat");const N=new DOMMatrix(T);u.setTransform(N)}else l(F,this._bbox),u=this._createGradient(F);return u}}function r(R,F,M,T,d,u,D,b){const m=F.coords,L=F.colors,C=R.data,N=R.width*4;let q;m[M+1]>m[T+1]&&(q=M,M=T,T=q,q=u,u=D,D=q),m[T+1]>m[d+1]&&(q=T,T=d,d=q,q=D,D=b,b=q),m[M+1]>m[T+1]&&(q=M,M=T,T=q,q=u,u=D,D=q);const I=(m[M]+F.offsetX)*F.scaleX,z=(m[M+1]+F.offsetY)*F.scaleY,Y=(m[T]+F.offsetX)*F.scaleX,j=(m[T+1]+F.offsetY)*F.scaleY,P=(m[d]+F.offsetX)*F.scaleX,$=(m[d+1]+F.offsetY)*F.scaleY;if(z>=$)return;const B=L[u],pe=L[u+1],Ae=L[u+2],U=L[D],y=L[D+1],k=L[D+2],H=L[b],se=L[b+1],Q=L[b+2],de=Math.round(z),ge=Math.round($);let ye,W,J,ce,Z,ue,_e,Ee;for(let Pe=de;Pe<=ge;Pe++){if(Pe<j){const oe=Pe<z?0:(z-Pe)/(z-j);ye=I-(I-Y)*oe,W=B-(B-U)*oe,J=pe-(pe-y)*oe,ce=Ae-(Ae-k)*oe}else{let oe;Pe>$?oe=1:j===$?oe=0:oe=(j-Pe)/(j-$),ye=Y-(Y-P)*oe,W=U-(U-H)*oe,J=y-(y-se)*oe,ce=k-(k-Q)*oe}let Se;Pe<z?Se=0:Pe>$?Se=1:Se=(z-Pe)/(z-$),Z=I-(I-P)*Se,ue=B-(B-H)*Se,_e=pe-(pe-se)*Se,Ee=Ae-(Ae-Q)*Se;const we=Math.round(Math.min(ye,Z)),le=Math.round(Math.max(ye,Z));let te=N*Pe+we*4;for(let oe=we;oe<=le;oe++)Se=(ye-oe)/(ye-Z),Se<0?Se=0:Se>1&&(Se=1),C[te++]=W-(W-ue)*Se|0,C[te++]=J-(J-_e)*Se|0,C[te++]=ce-(ce-Ee)*Se|0,C[te++]=255}}function o(R,F,M){const T=F.coords,d=F.colors;let u,D;switch(F.type){case"lattice":const b=F.verticesPerRow,m=Math.floor(T.length/b)-1,L=b-1;for(u=0;u<m;u++){let C=u*b;for(let N=0;N<L;N++,C++)r(R,M,T[C],T[C+1],T[C+b],d[C],d[C+1],d[C+b]),r(R,M,T[C+b+1],T[C+1],T[C+b],d[C+b+1],d[C+1],d[C+b])}break;case"triangles":for(u=0,D=T.length;u<D;u+=3)r(R,M,T[u],T[u+1],T[u+2],d[u],d[u+1],d[u+2]);break;default:throw new Error("illegal figure")}}class A extends g{constructor(F){super(),this._coords=F[2],this._colors=F[3],this._figures=F[4],this._bounds=F[5],this._bbox=F[7],this._background=F[8],this.matrix=null}_createMeshCanvas(F,M,T){const b=Math.floor(this._bounds[0]),m=Math.floor(this._bounds[1]),L=Math.ceil(this._bounds[2])-b,C=Math.ceil(this._bounds[3])-m,N=Math.min(Math.ceil(Math.abs(L*F[0]*1.1)),3e3),q=Math.min(Math.ceil(Math.abs(C*F[1]*1.1)),3e3),I=L/N,z=C/q,Y={coords:this._coords,colors:this._colors,offsetX:-b,offsetY:-m,scaleX:1/I,scaleY:1/z},j=N+2*2,P=q+2*2,$=T.getCanvas("mesh",j,P,!1),B=$.context,pe=B.createImageData(N,q);if(M){const U=pe.data;for(let y=0,k=U.length;y<k;y+=4)U[y]=M[0],U[y+1]=M[1],U[y+2]=M[2],U[y+3]=255}for(const U of this._figures)o(pe,U,Y);return B.putImageData(pe,2,2),{canvas:$.canvas,offsetX:b-2*I,offsetY:m-2*z,scaleX:I,scaleY:z}}getPattern(F,M,T,d){l(F,this._bbox);let u;if(d===f.SHADING)u=n.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(F));else if(u=n.Util.singularValueDecompose2dScale(M.baseTransform),this.matrix){const b=n.Util.singularValueDecompose2dScale(this.matrix);u=[u[0]*b[0],u[1]*b[1]]}const D=this._createMeshCanvas(u,d===f.SHADING?null:this._background,M.cachedCanvases);return d!==f.SHADING&&(F.setTransform(...M.baseTransform),this.matrix&&F.transform(...this.matrix)),F.translate(D.offsetX,D.offsetY),F.scale(D.scaleX,D.scaleY),F.createPattern(D.canvas,"no-repeat")}}class S extends g{getPattern(){return"hotpink"}}function E(R){switch(R[0]){case"RadialAxial":return new c(R);case"Mesh":return new A(R);case"Dummy":return new S}throw new Error(`Unknown IR type: ${R[0]}`)}const _={COLORED:1,UNCOLORED:2},w=class{constructor(F,M,T,d,u){this.operatorList=F[2],this.matrix=F[3]||[1,0,0,1,0,0],this.bbox=F[4],this.xstep=F[5],this.ystep=F[6],this.paintType=F[7],this.tilingType=F[8],this.color=M,this.ctx=T,this.canvasGraphicsFactory=d,this.baseTransform=u}createPatternCanvas(F){const M=this.operatorList,T=this.bbox,d=this.xstep,u=this.ystep,D=this.paintType,b=this.tilingType,m=this.color,L=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+b);const C=T[0],N=T[1],q=T[2],I=T[3],z=n.Util.singularValueDecompose2dScale(this.matrix),Y=n.Util.singularValueDecompose2dScale(this.baseTransform),j=[z[0]*Y[0],z[1]*Y[1]],P=this.getSizeAndScale(d,this.ctx.canvas.width,j[0]),$=this.getSizeAndScale(u,this.ctx.canvas.height,j[1]),B=F.cachedCanvases.getCanvas("pattern",P.size,$.size,!0),pe=B.context,Ae=L.createCanvasGraphics(pe);Ae.groupLevel=F.groupLevel,this.setFillAndStrokeStyleToContext(Ae,D,m);let U=C,y=N,k=q,H=I;return C<0&&(U=0,k+=Math.abs(C)),N<0&&(y=0,H+=Math.abs(N)),pe.translate(-(P.scale*U),-($.scale*y)),Ae.transform(P.scale,0,0,$.scale,0,0),pe.save(),this.clipBbox(Ae,U,y,k,H),Ae.baseTransform=(0,s.getCurrentTransform)(Ae.ctx),Ae.executeOperatorList(M),Ae.endDrawing(),{canvas:B.canvas,scaleX:P.scale,scaleY:$.scale,offsetX:U,offsetY:y}}getSizeAndScale(F,M,T){F=Math.abs(F);const d=Math.max(w.MAX_PATTERN_SIZE,M);let u=Math.ceil(F*T);return u>=d?u=d:T=u/F,{scale:T,size:u}}clipBbox(F,M,T,d,u){const D=d-M,b=u-T;F.ctx.rect(M,T,D,b),F.current.updateRectMinMax((0,s.getCurrentTransform)(F.ctx),[M,T,d,u]),F.clip(),F.endPath()}setFillAndStrokeStyleToContext(F,M,T){const d=F.ctx,u=F.current;switch(M){case _.COLORED:const D=this.ctx;d.fillStyle=D.fillStyle,d.strokeStyle=D.strokeStyle,u.fillColor=D.fillStyle,u.strokeColor=D.strokeStyle;break;case _.UNCOLORED:const b=n.Util.makeHexColor(T[0],T[1],T[2]);d.fillStyle=b,d.strokeStyle=b,u.fillColor=b,u.strokeColor=b;break;default:throw new n.FormatError(`Unsupported paint type: ${M}`)}}getPattern(F,M,T,d){let u=T;d!==f.SHADING&&(u=n.Util.transform(u,M.baseTransform),this.matrix&&(u=n.Util.transform(u,this.matrix)));const D=this.createPatternCanvas(M);let b=new DOMMatrix(u);b=b.translate(D.offsetX,D.offsetY),b=b.scale(1/D.scaleX,1/D.scaleY);const m=F.createPattern(D.canvas,"repeat");return m.setTransform(b),m}};let v=w;nt(v,"MAX_PATTERN_SIZE",3e3),t.TilingPattern=v},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=f,t.convertToRGBA=s,t.grayToRGBA=g;var n=i(1);function s(c){switch(c.kind){case n.ImageKind.GRAYSCALE_1BPP:return f(c);case n.ImageKind.RGB_24BPP:return l(c)}return null}function f({src:c,srcPos:r=0,dest:o,width:A,height:S,nonBlackColor:E=4294967295,inverseDecode:_=!1}){const v=n.FeatureTest.isLittleEndian?4278190080:255,[w,R]=_?[E,v]:[v,E],F=A>>3,M=A&7,T=c.length;o=new Uint32Array(o.buffer);let d=0;for(let u=0;u<S;u++){for(const b=r+F;r<b;r++){const m=r<T?c[r]:255;o[d++]=m&128?R:w,o[d++]=m&64?R:w,o[d++]=m&32?R:w,o[d++]=m&16?R:w,o[d++]=m&8?R:w,o[d++]=m&4?R:w,o[d++]=m&2?R:w,o[d++]=m&1?R:w}if(M===0)continue;const D=r<T?c[r++]:255;for(let b=0;b<M;b++)o[d++]=D&1<<7-b?R:w}return{srcPos:r,destPos:d}}function l({src:c,srcPos:r=0,dest:o,destPos:A=0,width:S,height:E}){let _=0;const v=c.length>>2,w=new Uint32Array(c.buffer,r,v);if(n.FeatureTest.isLittleEndian){for(;_<v-2;_+=3,A+=4){const R=w[_],F=w[_+1],M=w[_+2];o[A]=R|4278190080,o[A+1]=R>>>24|F<<8|4278190080,o[A+2]=F>>>16|M<<16|4278190080,o[A+3]=M>>>8|4278190080}for(let R=_*4,F=c.length;R<F;R+=3)o[A++]=c[R]|c[R+1]<<8|c[R+2]<<16|4278190080}else{for(;_<v-2;_+=3,A+=4){const R=w[_],F=w[_+1],M=w[_+2];o[A]=R|255,o[A+1]=R<<24|F>>>8|255,o[A+2]=F<<16|M>>>16|255,o[A+3]=M<<8|255}for(let R=_*4,F=c.length;R<F;R+=3)o[A++]=c[R]<<24|c[R+1]<<16|c[R+2]<<8|255}return{srcPos:r,destPos:A}}function g(c,r){if(n.FeatureTest.isLittleEndian)for(let o=0,A=c.length;o<A;o++)r[o]=c[o]*65793|4278190080;else for(let o=0,A=c.length;o<A;o++)r[o]=c[o]*16843008|255}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const i=Object.create(null);t.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,t,i)=>{var c,Mi,o,Ri,S,Nt;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n=i(1);const s={UNKNOWN:0,DATA:1,ERROR:2},f={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function l(_){switch(_ instanceof Error||typeof _=="object"&&_!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_.name){case"AbortException":return new n.AbortException(_.message);case"MissingPDFException":return new n.MissingPDFException(_.message);case"PasswordException":return new n.PasswordException(_.message,_.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(_.message,_.status);case"UnknownErrorException":return new n.UnknownErrorException(_.message,_.details);default:return new n.UnknownErrorException(_.message,_.toString())}}class g{constructor(v,w,R){K(this,c);K(this,o);K(this,S);this.sourceName=v,this.targetName=w,this.comObj=R,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=F=>{const M=F.data;if(M.targetName!==this.sourceName)return;if(M.stream){ae(this,o,Ri).call(this,M);return}if(M.callback){const d=M.callbackId,u=this.callbackCapabilities[d];if(!u)throw new Error(`Cannot resolve callback ${d}`);if(delete this.callbackCapabilities[d],M.callback===s.DATA)u.resolve(M.data);else if(M.callback===s.ERROR)u.reject(l(M.reason));else throw new Error("Unexpected callback case");return}const T=this.actionHandler[M.action];if(!T)throw new Error(`Unknown action from worker: ${M.action}`);if(M.callbackId){const d=this.sourceName,u=M.sourceName;new Promise(function(D){D(T(M.data))}).then(function(D){R.postMessage({sourceName:d,targetName:u,callback:s.DATA,callbackId:M.callbackId,data:D})},function(D){R.postMessage({sourceName:d,targetName:u,callback:s.ERROR,callbackId:M.callbackId,reason:l(D)})});return}if(M.streamId){ae(this,c,Mi).call(this,M);return}T(M.data)},R.addEventListener("message",this._onComObjOnMessage)}on(v,w){const R=this.actionHandler;if(R[v])throw new Error(`There is already an actionName called "${v}"`);R[v]=w}send(v,w,R){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:v,data:w},R)}sendWithPromise(v,w,R){const F=this.callbackId++,M=new n.PromiseCapability;this.callbackCapabilities[F]=M;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:v,callbackId:F,data:w},R)}catch(T){M.reject(T)}return M.promise}sendWithStream(v,w,R,F){const M=this.streamId++,T=this.sourceName,d=this.targetName,u=this.comObj;return new ReadableStream({start:D=>{const b=new n.PromiseCapability;return this.streamControllers[M]={controller:D,startCall:b,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:T,targetName:d,action:v,streamId:M,data:w,desiredSize:D.desiredSize},F),b.promise},pull:D=>{const b=new n.PromiseCapability;return this.streamControllers[M].pullCall=b,u.postMessage({sourceName:T,targetName:d,stream:f.PULL,streamId:M,desiredSize:D.desiredSize}),b.promise},cancel:D=>{(0,n.assert)(D instanceof Error,"cancel must have a valid reason");const b=new n.PromiseCapability;return this.streamControllers[M].cancelCall=b,this.streamControllers[M].isClosed=!0,u.postMessage({sourceName:T,targetName:d,stream:f.CANCEL,streamId:M,reason:l(D)}),b.promise}},R)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}c=new WeakSet,Mi=function(v){const w=v.streamId,R=this.sourceName,F=v.sourceName,M=this.comObj,T=this,d=this.actionHandler[v.action],u={enqueue(D,b=1,m){if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=b,L>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),M.postMessage({sourceName:R,targetName:F,stream:f.ENQUEUE,streamId:w,chunk:D},m)},close(){this.isCancelled||(this.isCancelled=!0,M.postMessage({sourceName:R,targetName:F,stream:f.CLOSE,streamId:w}),delete T.streamSinks[w])},error(D){(0,n.assert)(D instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,M.postMessage({sourceName:R,targetName:F,stream:f.ERROR,streamId:w,reason:l(D)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:v.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[w]=u,new Promise(function(D){D(d(v.data,u))}).then(function(){M.postMessage({sourceName:R,targetName:F,stream:f.START_COMPLETE,streamId:w,success:!0})},function(D){M.postMessage({sourceName:R,targetName:F,stream:f.START_COMPLETE,streamId:w,reason:l(D)})})},o=new WeakSet,Ri=function(v){const w=v.streamId,R=this.sourceName,F=v.sourceName,M=this.comObj,T=this.streamControllers[w],d=this.streamSinks[w];switch(v.stream){case f.START_COMPLETE:v.success?T.startCall.resolve():T.startCall.reject(l(v.reason));break;case f.PULL_COMPLETE:v.success?T.pullCall.resolve():T.pullCall.reject(l(v.reason));break;case f.PULL:if(!d){M.postMessage({sourceName:R,targetName:F,stream:f.PULL_COMPLETE,streamId:w,success:!0});break}d.desiredSize<=0&&v.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=v.desiredSize,new Promise(function(u){var D;u((D=d.onPull)==null?void 0:D.call(d))}).then(function(){M.postMessage({sourceName:R,targetName:F,stream:f.PULL_COMPLETE,streamId:w,success:!0})},function(u){M.postMessage({sourceName:R,targetName:F,stream:f.PULL_COMPLETE,streamId:w,reason:l(u)})});break;case f.ENQUEUE:if((0,n.assert)(T,"enqueue should have stream controller"),T.isClosed)break;T.controller.enqueue(v.chunk);break;case f.CLOSE:if((0,n.assert)(T,"close should have stream controller"),T.isClosed)break;T.isClosed=!0,T.controller.close(),ae(this,S,Nt).call(this,T,w);break;case f.ERROR:(0,n.assert)(T,"error should have stream controller"),T.controller.error(l(v.reason)),ae(this,S,Nt).call(this,T,w);break;case f.CANCEL_COMPLETE:v.success?T.cancelCall.resolve():T.cancelCall.reject(l(v.reason)),ae(this,S,Nt).call(this,T,w);break;case f.CANCEL:if(!d)break;new Promise(function(u){var D;u((D=d.onCancel)==null?void 0:D.call(d,l(v.reason)))}).then(function(){M.postMessage({sourceName:R,targetName:F,stream:f.CANCEL_COMPLETE,streamId:w,success:!0})},function(u){M.postMessage({sourceName:R,targetName:F,stream:f.CANCEL_COMPLETE,streamId:w,reason:l(u)})}),d.sinkCapability.reject(l(v.reason)),d.isCancelled=!0,delete this.streamSinks[w];break;default:throw new Error("Unexpected stream case")}},S=new WeakSet,Nt=async function(v,w){var R,F,M;await Promise.allSettled([(R=v.startCall)==null?void 0:R.promise,(F=v.pullCall)==null?void 0:F.promise,(M=v.cancelCall)==null?void 0:M.promise]),delete this.streamControllers[w]},t.MessageHandler=g},(e,t,i)=>{var f,l;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=i(1);class s{constructor({parsedData:c,rawData:r}){K(this,f,void 0);K(this,l,void 0);me(this,f,c),me(this,l,r)}getRaw(){return a(this,l)}get(c){var r;return(r=a(this,f).get(c))!=null?r:null}getAll(){return(0,n.objectFromMap)(a(this,f))}has(c){return a(this,f).has(c)}}f=new WeakMap,l=new WeakMap,t.Metadata=s},(e,t,i)=>{var c,r,o,A,S,E,Cn;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var n=i(1),s=i(8);const f=Symbol("INTERNAL");class l{constructor(w,R){K(this,c,!0);this.name=w,this.intent=R}get visible(){return a(this,c)}_setVisible(w,R){w!==f&&(0,n.unreachable)("Internal method `_setVisible` called."),me(this,c,R)}}c=new WeakMap;class g{constructor(w){K(this,E);K(this,r,null);K(this,o,new Map);K(this,A,null);K(this,S,null);if(this.name=null,this.creator=null,w!==null){this.name=w.name,this.creator=w.creator,me(this,S,w.order);for(const R of w.groups)a(this,o).set(R.id,new l(R.name,R.intent));if(w.baseState==="OFF")for(const R of a(this,o).values())R._setVisible(f,!1);for(const R of w.on)a(this,o).get(R)._setVisible(f,!0);for(const R of w.off)a(this,o).get(R)._setVisible(f,!1);me(this,A,this.getHash())}}isVisible(w){if(a(this,o).size===0)return!0;if(!w)return(0,n.warn)("Optional content group not defined."),!0;if(w.type==="OCG")return a(this,o).has(w.id)?a(this,o).get(w.id).visible:((0,n.warn)(`Optional content group not found: ${w.id}`),!0);if(w.type==="OCMD"){if(w.expression)return ae(this,E,Cn).call(this,w.expression);if(!w.policy||w.policy==="AnyOn"){for(const R of w.ids){if(!a(this,o).has(R))return(0,n.warn)(`Optional content group not found: ${R}`),!0;if(a(this,o).get(R).visible)return!0}return!1}else if(w.policy==="AllOn"){for(const R of w.ids){if(!a(this,o).has(R))return(0,n.warn)(`Optional content group not found: ${R}`),!0;if(!a(this,o).get(R).visible)return!1}return!0}else if(w.policy==="AnyOff"){for(const R of w.ids){if(!a(this,o).has(R))return(0,n.warn)(`Optional content group not found: ${R}`),!0;if(!a(this,o).get(R).visible)return!0}return!1}else if(w.policy==="AllOff"){for(const R of w.ids){if(!a(this,o).has(R))return(0,n.warn)(`Optional content group not found: ${R}`),!0;if(a(this,o).get(R).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${w.policy}.`),!0}return(0,n.warn)(`Unknown group type ${w.type}.`),!0}setVisibility(w,R=!0){if(!a(this,o).has(w)){(0,n.warn)(`Optional content group not found: ${w}`);return}a(this,o).get(w)._setVisible(f,!!R),me(this,r,null)}get hasInitialVisibility(){return a(this,A)===null||this.getHash()===a(this,A)}getOrder(){return a(this,o).size?a(this,S)?a(this,S).slice():[...a(this,o).keys()]:null}getGroups(){return a(this,o).size>0?(0,n.objectFromMap)(a(this,o)):null}getGroup(w){return a(this,o).get(w)||null}getHash(){if(a(this,r)!==null)return a(this,r);const w=new s.MurmurHash3_64;for(const[R,F]of a(this,o))w.update(`${R}:${F.visible}`);return me(this,r,w.hexdigest())}}r=new WeakMap,o=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakSet,Cn=function(w){const R=w.length;if(R<2)return!0;const F=w[0];for(let M=1;M<R;M++){const T=w[M];let d;if(Array.isArray(T))d=ae(this,E,Cn).call(this,T);else if(a(this,o).has(T))d=a(this,o).get(T).visible;else return(0,n.warn)(`Optional content group not found: ${T}`),!0;switch(F){case"And":if(!d)return!1;break;case"Or":if(d)return!0;break;case"Not":return!d;default:return!0}}return F==="And"},t.OptionalContentConfig=g},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n=i(1),s=i(6);class f{constructor({length:r,initialData:o,progressiveDone:A=!1,contentDispositionFilename:S=null,disableRange:E=!1,disableStream:_=!1},v){if((0,n.assert)(v,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=A,this._contentDispositionFilename=S,(o==null?void 0:o.length)>0){const w=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=v,this._isStreamingSupported=!_,this._isRangeSupported=!E,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,R)=>{this._onReceiveData({begin:w,chunk:R})}),this._pdfDataRangeTransport.addProgressListener((w,R)=>{this._onProgress({loaded:w,total:R})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:r,chunk:o}){const A=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;if(r===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(A):this._queuedChunks.push(A);else{const S=this._rangeReaders.some(function(E){return E._begin!==r?!1:(E._enqueue(A),!0)});(0,n.assert)(S,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var r,o;return(o=(r=this._fullRequestReader)==null?void 0:r._loaded)!=null?o:0}_onProgress(r){var o,A,S,E;r.total===void 0?(A=(o=this._rangeReaders[0])==null?void 0:o.onProgress)==null||A.call(o,{loaded:r.loaded}):(E=(S=this._fullRequestReader)==null?void 0:S.onProgress)==null||E.call(S,{loaded:r.loaded,total:r.total})}_onProgressiveDone(){var r;(r=this._fullRequestReader)==null||r.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(r){const o=this._rangeReaders.indexOf(r);o>=0&&this._rangeReaders.splice(o,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const r=this._queuedChunks;return this._queuedChunks=null,new l(this,r,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(r,o){if(o<=this._progressiveDataLength)return null;const A=new g(this,r,o);return this._pdfDataRangeTransport.requestDataRange(r,o),this._rangeReaders.push(A),A}cancelAllRequests(r){var o;(o=this._fullRequestReader)==null||o.cancel(r);for(const A of this._rangeReaders.slice(0))A.cancel(r);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=f;class l{constructor(r,o,A=!1,S=null){this._stream=r,this._done=A||!1,this._filename=(0,s.isPdfFile)(S)?S:null,this._queuedChunks=o||[],this._loaded=0;for(const E of this._queuedChunks)this._loaded+=E.byteLength;this._requests=[],this._headersReady=Promise.resolve(),r._fullRequestReader=this,this.onProgress=null}_enqueue(r){this._done||(this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunks.push(r),this._loaded+=r.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=new n.PromiseCapability;return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g{constructor(r,o,A){this._stream=r,this._begin=o,this._end=A,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(r){if(!this._done){if(this._requests.length===0)this._queuedChunk=r;else{this._requests.shift().resolve({value:r,done:!1});for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const o=this._queuedChunk;return this._queuedChunk=null,{value:o,done:!1}}if(this._done)return{value:void 0,done:!0};const r=new n.PromiseCapability;return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var n=i(1),s=i(20);function f(A,S,E){return{method:"GET",headers:A,signal:E.signal,mode:"cors",credentials:S?"include":"same-origin",redirect:"follow"}}function l(A){const S=new Headers;for(const E in A){const _=A[E];_!==void 0&&S.append(E,_)}return S}function g(A){return A instanceof Uint8Array?A.buffer:A instanceof ArrayBuffer?A:((0,n.warn)(`getArrayBuffer - unexpected data format: ${A}`),new Uint8Array(A).buffer)}class c{constructor(S){this.source=S,this.isHttp=/^https?:/i.test(S.url),this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var S,E;return(E=(S=this._fullRequestReader)==null?void 0:S._loaded)!=null?E:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new r(this),this._fullRequestReader}getRangeReader(S,E){if(E<=this._progressiveDataLength)return null;const _=new o(this,S,E);return this._rangeRequestReaders.push(_),_}cancelAllRequests(S){var E;(E=this._fullRequestReader)==null||E.cancel(S);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(S)}}t.PDFFetchStream=c;class r{constructor(S){this._stream=S,this._reader=null,this._loaded=0,this._filename=null;const E=S.source;this._withCredentials=E.withCredentials||!1,this._contentLength=E.length,this._headersCapability=new n.PromiseCapability,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._headers=l(this._stream.httpHeaders);const _=E.url;fetch(_,f(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,s.validateResponseStatus)(v.status))throw(0,s.createResponseStatusError)(v.status,_);this._reader=v.body.getReader(),this._headersCapability.resolve();const w=M=>v.headers.get(M),{allowRangeRequests:R,suggestedLength:F}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=R,this._contentLength=F||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;await this._headersCapability.promise;const{value:S,done:E}=await this._reader.read();return E?{value:S,done:E}:(this._loaded+=S.byteLength,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g(S),done:!1})}cancel(S){var E;(E=this._reader)==null||E.cancel(S),this._abortController.abort()}}class o{constructor(S,E,_){this._stream=S,this._reader=null,this._loaded=0;const v=S.source;this._withCredentials=v.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!v.disableStream,this._abortController=new AbortController,this._headers=l(this._stream.httpHeaders),this._headers.append("Range",`bytes=${E}-${_-1}`);const w=v.url;fetch(w,f(this._headers,this._withCredentials,this._abortController)).then(R=>{if(!(0,s.validateResponseStatus)(R.status))throw(0,s.createResponseStatusError)(R.status,w);this._readCapability.resolve(),this._reader=R.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;await this._readCapability.promise;const{value:S,done:E}=await this._reader.read();return E?{value:S,done:E}:(this._loaded+=S.byteLength,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded}),{value:g(S),done:!1})}cancel(S){var E;(E=this._reader)==null||E.cancel(S),this._abortController.abort()}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=c,t.extractFilenameFromHeader=g,t.validateRangeRequestCapabilities=l,t.validateResponseStatus=r;var n=i(1),s=i(21),f=i(6);function l({getResponseHeader:o,isHttp:A,rangeChunkSize:S,disableRange:E}){const _={allowRangeRequests:!1,suggestedLength:void 0},v=parseInt(o("Content-Length"),10);return!Number.isInteger(v)||(_.suggestedLength=v,v<=2*S)||E||!A||o("Accept-Ranges")!=="bytes"||(o("Content-Encoding")||"identity")!=="identity"||(_.allowRangeRequests=!0),_}function g(o){const A=o("Content-Disposition");if(A){let S=(0,s.getFilenameFromContentDispositionHeader)(A);if(S.includes("%"))try{S=decodeURIComponent(S)}catch{}if((0,f.isPdfFile)(S))return S}return null}function c(o,A){return o===404||o===0&&A.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+A+'".'):new n.UnexpectedResponseException(`Unexpected server response (${o}) while retrieving PDF "${A}".`,o)}function r(o){return o===200||o===206}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=s;var n=i(1);function s(f){let l=!0,g=c("filename\\*","i").exec(f);if(g){g=g[1];let v=S(g);return v=unescape(v),v=E(v),v=_(v),o(v)}if(g=A(f),g){const v=_(g);return o(v)}if(g=c("filename","i").exec(f),g){g=g[1];let v=S(g);return v=_(v),o(v)}function c(v,w){return new RegExp("(?:^|;)\\s*"+v+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function r(v,w){if(v){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const R=new TextDecoder(v,{fatal:!0}),F=(0,n.stringToBytes)(w);w=R.decode(F),l=!1}catch{}}return w}function o(v){return l&&/[\x80-\xff]/.test(v)&&(v=r("utf-8",v),l&&(v=r("iso-8859-1",v))),v}function A(v){const w=[];let R;const F=c("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(R=F.exec(v))!==null;){let[,T,d,u]=R;if(T=parseInt(T,10),T in w){if(T===0)break;continue}w[T]=[d,u]}const M=[];for(let T=0;T<w.length&&T in w;++T){let[d,u]=w[T];u=S(u),d&&(u=unescape(u),T===0&&(u=E(u))),M.push(u)}return M.join("")}function S(v){if(v.startsWith('"')){const w=v.slice(1).split('\\"');for(let R=0;R<w.length;++R){const F=w[R].indexOf('"');F!==-1&&(w[R]=w[R].slice(0,F),w.length=R+1),w[R]=w[R].replaceAll(/\\(.)/g,"$1")}v=w.join('"')}return v}function E(v){const w=v.indexOf("'");if(w===-1)return v;const R=v.slice(0,w),M=v.slice(w+1).replace(/^[^']*'/,"");return r(R,M)}function _(v){return!v.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(v)?v:v.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,R,F,M){if(F==="q"||F==="Q")return M=M.replaceAll("_"," "),M=M.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,d){return String.fromCharCode(parseInt(d,16))}),r(R,M);try{M=atob(M)}catch{}return r(R,M)})}return""}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var n=i(1),s=i(20);const f=200,l=206;function g(S){const E=S.response;return typeof E!="string"?E:(0,n.stringToBytes)(E).buffer}class c{constructor(E,_={}){this.url=E,this.isHttp=/^https?:/i.test(E),this.httpHeaders=this.isHttp&&_.httpHeaders||Object.create(null),this.withCredentials=_.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(E,_,v){const w={begin:E,end:_};for(const R in v)w[R]=v[R];return this.request(w)}requestFull(E){return this.request(E)}request(E){const _=new XMLHttpRequest,v=this.currXhrId++,w=this.pendingRequests[v]={xhr:_};_.open("GET",this.url),_.withCredentials=this.withCredentials;for(const R in this.httpHeaders){const F=this.httpHeaders[R];F!==void 0&&_.setRequestHeader(R,F)}return this.isHttp&&"begin"in E&&"end"in E?(_.setRequestHeader("Range",`bytes=${E.begin}-${E.end-1}`),w.expectedStatus=l):w.expectedStatus=f,_.responseType="arraybuffer",E.onError&&(_.onerror=function(R){E.onError(_.status)}),_.onreadystatechange=this.onStateChange.bind(this,v),_.onprogress=this.onProgress.bind(this,v),w.onHeadersReceived=E.onHeadersReceived,w.onDone=E.onDone,w.onError=E.onError,w.onProgress=E.onProgress,_.send(null),v}onProgress(E,_){var w;const v=this.pendingRequests[E];!v||(w=v.onProgress)==null||w.call(v,_)}onStateChange(E,_){var T,d,u;const v=this.pendingRequests[E];if(!v)return;const w=v.xhr;if(w.readyState>=2&&v.onHeadersReceived&&(v.onHeadersReceived(),delete v.onHeadersReceived),w.readyState!==4||!(E in this.pendingRequests))return;if(delete this.pendingRequests[E],w.status===0&&this.isHttp){(T=v.onError)==null||T.call(v,w.status);return}const R=w.status||f;if(!(R===f&&v.expectedStatus===l)&&R!==v.expectedStatus){(d=v.onError)==null||d.call(v,w.status);return}const M=g(w);if(R===l){const D=w.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(D);v.onDone({begin:parseInt(b[1],10),chunk:M})}else M?v.onDone({begin:0,chunk:M}):(u=v.onError)==null||u.call(v,w.status)}getRequestXhr(E){return this.pendingRequests[E].xhr}isPendingRequest(E){return E in this.pendingRequests}abortRequest(E){const _=this.pendingRequests[E].xhr;delete this.pendingRequests[E],_.abort()}}class r{constructor(E){this._source=E,this._manager=new c(E.url,{httpHeaders:E.httpHeaders,withCredentials:E.withCredentials}),this._rangeChunkSize=E.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(E){const _=this._rangeRequestReaders.indexOf(E);_>=0&&this._rangeRequestReaders.splice(_,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(E,_){const v=new A(this._manager,E,_);return v.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(v),v}cancelAllRequests(E){var _;(_=this._fullRequestReader)==null||_.cancel(E);for(const v of this._rangeRequestReaders.slice(0))v.cancel(E)}}t.PDFNetworkStream=r;class o{constructor(E,_){this._manager=E;const v={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._fullRequestId=E.requestFull(v),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=_.disableRange||!1,this._contentLength=_.length,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const E=this._fullRequestId,_=this._manager.getRequestXhr(E),v=F=>_.getResponseHeader(F),{allowRangeRequests:w,suggestedLength:R}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=R||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(v),this._isRangeSupported&&this._manager.abortRequest(E),this._headersReceivedCapability.resolve()}_onDone(E){if(E&&(this._requests.length>0?this._requests.shift().resolve({value:E.chunk,done:!1}):this._cachedChunks.push(E.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(E){this._storedError=(0,s.createResponseStatusError)(E,this._url),this._headersReceivedCapability.reject(this._storedError);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(E){var _;(_=this.onProgress)==null||_.call(this,{loaded:E.loaded,total:E.lengthComputable?E.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const E=new n.PromiseCapability;return this._requests.push(E),E.promise}cancel(E){this._done=!0,this._headersReceivedCapability.reject(E);for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class A{constructor(E,_,v){this._manager=E;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._requestId=E.requestRange(_,v,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var E;(E=this.onClosed)==null||E.call(this,this)}_onDone(E){const _=E.chunk;this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunk=_,this._done=!0;for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(E){this._storedError=(0,s.createResponseStatusError)(E,this._url);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(E){var _;this.isStreamingSupported||(_=this.onProgress)==null||_.call(this,{loaded:E.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const E=new n.PromiseCapability;return this._requests.push(E),E.promise}cancel(E){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var n=i(1),s=i(20);const f=/^file:\/\/\/[a-zA-Z]:\//;function l(v){const w=require$$5,R=w.parse(v);return R.protocol==="file:"||R.host?R:/^[a-z]:[/\\]/i.test(v)?w.parse(`file:///${v}`):(R.host||(R.protocol="file:"),R)}class g{constructor(w){this.source=w,this.url=l(w.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var w,R;return(R=(w=this._fullRequestReader)==null?void 0:w._loaded)!=null?R:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new E(this):new A(this),this._fullRequestReader}getRangeReader(w,R){if(R<=this._progressiveDataLength)return null;const F=this.isFsUrl?new _(this,w,R):new S(this,w,R);return this._rangeRequestReaders.push(F),F}cancelAllRequests(w){var R;(R=this._fullRequestReader)==null||R.cancel(w);for(const F of this._rangeRequestReaders.slice(0))F.cancel(w)}}t.PDFNodeStream=g;class c{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null;const R=w.source;this._contentLength=R.length,this._loaded=0,this._filename=null,this._disableRange=R.disableRange||!1,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!R.disableStream,this._isRangeSupported=!R.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var F;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const w=this._readableStream.read();return w===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=w.length,(F=this.onProgress)==null||F.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(w).buffer,done:!1})}cancel(w){if(!this._readableStream){this._error(w);return}this._readableStream.destroy(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",R=>{this._error(R)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class r{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const R=w.source;this._isStreamingSupported=!R.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var F;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const w=this._readableStream.read();return w===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=w.length,(F=this.onProgress)==null||F.call(this,{loaded:this._loaded}),{value:new Uint8Array(w).buffer,done:!1})}cancel(w){if(!this._readableStream){this._error(w);return}this._readableStream.destroy(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",R=>{this._error(R)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(v,w){return{protocol:v.protocol,auth:v.auth,host:v.hostname,port:v.port,path:v.path,method:"GET",headers:w}}class A extends c{constructor(w){super(w);const R=F=>{if(F.statusCode===404){const u=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(F);const M=u=>this._readableStream.headers[u.toLowerCase()],{allowRangeRequests:T,suggestedLength:d}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:w.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=T,this._contentLength=d||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(M)};if(this._request=null,this._url.protocol==="http:"){const F=require$$5;this._request=F.request(o(this._url,w.httpHeaders),R)}else{const F=require$$5;this._request=F.request(o(this._url,w.httpHeaders),R)}this._request.on("error",F=>{this._storedError=F,this._headersCapability.reject(F)}),this._request.end()}}class S extends r{constructor(w,R,F){super(w),this._httpHeaders={};for(const T in w.httpHeaders){const d=w.httpHeaders[T];d!==void 0&&(this._httpHeaders[T]=d)}this._httpHeaders.Range=`bytes=${R}-${F-1}`;const M=T=>{if(T.statusCode===404){const d=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(T)};if(this._request=null,this._url.protocol==="http:"){const T=require$$5;this._request=T.request(o(this._url,this._httpHeaders),M)}else{const T=require$$5;this._request=T.request(o(this._url,this._httpHeaders),M)}this._request.on("error",T=>{this._storedError=T}),this._request.end()}}class E extends c{constructor(w){super(w);let R=decodeURIComponent(this._url.path);f.test(this._url.href)&&(R=R.replace(/^\//,""));const F=require$$5;F.lstat(R,(M,T)=>{if(M){M.code==="ENOENT"&&(M=new n.MissingPDFException(`Missing PDF "${R}".`)),this._storedError=M,this._headersCapability.reject(M);return}this._contentLength=T.size,this._setReadableStream(F.createReadStream(R)),this._headersCapability.resolve()})}}class _ extends r{constructor(w,R,F){super(w);let M=decodeURIComponent(this._url.path);f.test(this._url.href)&&(M=M.replace(/^\//,""));const T=require$$5;this._setReadableStream(T.createReadStream(M,{start:R,end:F-1}))}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var n=i(6),s=i(1);const f={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/1999/xlink",c=["butt","round","square"],r=["miter","round","bevel"],o=function(T,d="",u=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!u)return URL.createObjectURL(new Blob([T],{type:d}));const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let b=`data:${d};base64,`;for(let m=0,L=T.length;m<L;m+=3){const C=T[m]&255,N=T[m+1]&255,q=T[m+2]&255,I=C>>2,z=(C&3)<<4|N>>4,Y=m+1<L?(N&15)<<2|q>>6:64,j=m+2<L?q&63:64;b+=D[I]+D[z]+D[Y]+D[j]}return b},A=function(){const T=new Uint8Array([137,80,78,71,13,10,26,10]),d=12,u=new Int32Array(256);for(let q=0;q<256;q++){let I=q;for(let z=0;z<8;z++)I=I&1?3988292384^I>>1&2147483647:I>>1&2147483647;u[q]=I}function D(q,I,z){let Y=-1;for(let j=I;j<z;j++){const P=(Y^q[j])&255,$=u[P];Y=Y>>>8^$}return Y^-1}function b(q,I,z,Y){let j=Y;const P=I.length;z[j]=P>>24&255,z[j+1]=P>>16&255,z[j+2]=P>>8&255,z[j+3]=P&255,j+=4,z[j]=q.charCodeAt(0)&255,z[j+1]=q.charCodeAt(1)&255,z[j+2]=q.charCodeAt(2)&255,z[j+3]=q.charCodeAt(3)&255,j+=4,z.set(I,j),j+=I.length;const $=D(z,Y+4,j);z[j]=$>>24&255,z[j+1]=$>>16&255,z[j+2]=$>>8&255,z[j+3]=$&255}function m(q,I,z){let Y=1,j=0;for(let P=I;P<z;++P)Y=(Y+(q[P]&255))%65521,j=(j+Y)%65521;return j<<16|Y}function L(q){if(!s.isNodeJS)return C(q);try{const I=parseInt(process.versions.node)>=8?q:Buffer.from(q),z=require$$5.deflateSync(I,{level:9});return z instanceof Uint8Array?z:new Uint8Array(z)}catch(I){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+I)}return C(q)}function C(q){let I=q.length;const z=65535,Y=Math.ceil(I/z),j=new Uint8Array(2+I+Y*5+4);let P=0;j[P++]=120,j[P++]=156;let $=0;for(;I>z;)j[P++]=0,j[P++]=255,j[P++]=255,j[P++]=0,j[P++]=0,j.set(q.subarray($,$+z),P),P+=z,$+=z,I-=z;j[P++]=1,j[P++]=I&255,j[P++]=I>>8&255,j[P++]=~I&65535&255,j[P++]=(~I&65535)>>8&255,j.set(q.subarray($),P),P+=q.length-$;const B=m(q,0,q.length);return j[P++]=B>>24&255,j[P++]=B>>16&255,j[P++]=B>>8&255,j[P++]=B&255,j}function N(q,I,z,Y){const j=q.width,P=q.height;let $,B,pe;const Ae=q.data;switch(I){case s.ImageKind.GRAYSCALE_1BPP:B=0,$=1,pe=j+7>>3;break;case s.ImageKind.RGB_24BPP:B=2,$=8,pe=j*3;break;case s.ImageKind.RGBA_32BPP:B=6,$=8,pe=j*4;break;default:throw new Error("invalid format")}const U=new Uint8Array((1+pe)*P);let y=0,k=0;for(let ye=0;ye<P;++ye)U[y++]=0,U.set(Ae.subarray(k,k+pe),y),k+=pe,y+=pe;if(I===s.ImageKind.GRAYSCALE_1BPP&&Y){y=0;for(let ye=0;ye<P;ye++){y++;for(let W=0;W<pe;W++)U[y++]^=255}}const H=new Uint8Array([j>>24&255,j>>16&255,j>>8&255,j&255,P>>24&255,P>>16&255,P>>8&255,P&255,$,B,0,0,0]),se=L(U),Q=T.length+d*3+H.length+se.length,de=new Uint8Array(Q);let ge=0;return de.set(T,ge),ge+=T.length,b("IHDR",H,de,ge),ge+=d+H.length,b("IDATA",se,de,ge),ge+=d+se.length,b("IEND",new Uint8Array(0),de,ge),o(de,"image/png",z)}return function(I,z,Y){const j=I.kind===void 0?s.ImageKind.GRAYSCALE_1BPP:I.kind;return N(I,j,z,Y)}}();class S{constructor(){this.fontSizeScale=1,this.fontWeight=f.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=f.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(d,u){this.x=d,this.y=u}}function E(T){let d=[];const u=[];for(const D of T){if(D.fn==="save"){d.push({fnId:92,fn:"group",items:[]}),u.push(d),d=d.at(-1).items;continue}D.fn==="restore"?d=u.pop():d.push(D)}return d}function _(T){if(Number.isInteger(T))return T.toString();const d=T.toFixed(10);let u=d.length-1;if(d[u]!=="0")return d;do u--;while(d[u]==="0");return d.substring(0,d[u]==="."?u:u+1)}function v(T){if(T[4]===0&&T[5]===0){if(T[1]===0&&T[2]===0)return T[0]===1&&T[3]===1?"":`scale(${_(T[0])} ${_(T[3])})`;if(T[0]===T[3]&&T[1]===-T[2]){const d=Math.acos(T[0])*180/Math.PI;return`rotate(${_(d)})`}}else if(T[0]===1&&T[1]===0&&T[2]===0&&T[3]===1)return`translate(${_(T[4])} ${_(T[5])})`;return`matrix(${_(T[0])} ${_(T[1])} ${_(T[2])} ${_(T[3])} ${_(T[4])} ${_(T[5])})`}let w=0,R=0,F=0;class M{constructor(d,u,D=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new S,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=d,this.objs=u,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!D,this._operatorIdMapping=[];for(const b in s.OPS)this._operatorIdMapping[s.OPS[b]]=b}getObject(d,u=null){return typeof d=="string"?d.startsWith("g_")?this.commonObjs.get(d):this.objs.get(d):u}save(){this.transformStack.push(this.transformMatrix);const d=this.current;this.extraStack.push(d),this.current=d.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(d){this.save(),this.executeOpTree(d),this.restore()}loadDependencies(d){const u=d.fnArray,D=d.argsArray;for(let b=0,m=u.length;b<m;b++)if(u[b]===s.OPS.dependency)for(const L of D[b]){const C=L.startsWith("g_")?this.commonObjs:this.objs,N=new Promise(q=>{C.get(L,q)});this.current.dependencies.push(N)}return Promise.all(this.current.dependencies)}transform(d,u,D,b,m,L){const C=[d,u,D,b,m,L];this.transformMatrix=s.Util.transform(this.transformMatrix,C),this.tgrp=null}getSVG(d,u){this.viewport=u;const D=this._initialize(u);return this.loadDependencies(d).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(d)),D))}convertOpList(d){const u=this._operatorIdMapping,D=d.argsArray,b=d.fnArray,m=[];for(let L=0,C=b.length;L<C;L++){const N=b[L];m.push({fnId:N,fn:u[N],args:D[L]})}return E(m)}executeOpTree(d){for(const u of d){const D=u.fn,b=u.fnId,m=u.args;switch(b|0){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(m);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(m[0],m[1]);break;case s.OPS.setFont:this.setFont(m);break;case s.OPS.showText:this.showText(m[0]);break;case s.OPS.showSpacedText:this.showText(m[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(m[0],m[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(m[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(m[0]);break;case s.OPS.setHScale:this.setHScale(m[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(m[0],m[1],m[2],m[3],m[4],m[5]);break;case s.OPS.setTextRise:this.setTextRise(m[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(m[0]);break;case s.OPS.setLineWidth:this.setLineWidth(m[0]);break;case s.OPS.setLineJoin:this.setLineJoin(m[0]);break;case s.OPS.setLineCap:this.setLineCap(m[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(m[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(m[0],m[1],m[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(m[0],m[1],m[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(m);break;case s.OPS.setFillColorN:this.setFillColorN(m);break;case s.OPS.shadingFill:this.shadingFill(m[0]);break;case s.OPS.setDash:this.setDash(m[0],m[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(m[0]);break;case s.OPS.setFlatness:this.setFlatness(m[0]);break;case s.OPS.setGState:this.setGState(m[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(m[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(m[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(m[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(m[0],m[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(m[0],m[1],m[2],m[3],m[4],m[5]);break;case s.OPS.constructPath:this.constructPath(m[0],m[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(u.items);break;default:(0,s.warn)(`Unimplemented operator ${D}`);break}}}setWordSpacing(d){this.current.wordSpacing=d}setCharSpacing(d){this.current.charSpacing=d}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(d,u,D,b,m,L){const C=this.current;C.textMatrix=C.lineMatrix=[d,u,D,b,m,L],C.textMatrixScale=Math.hypot(d,u),C.x=C.lineX=0,C.y=C.lineY=0,C.xcoords=[],C.ycoords=[],C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${_(C.fontSize)}px`),C.tspan.setAttributeNS(null,"y",_(-C.y)),C.txtElement=this.svgFactory.createElement("svg:text"),C.txtElement.append(C.tspan)}beginText(){const d=this.current;d.x=d.lineX=0,d.y=d.lineY=0,d.textMatrix=s.IDENTITY_MATRIX,d.lineMatrix=s.IDENTITY_MATRIX,d.textMatrixScale=1,d.tspan=this.svgFactory.createElement("svg:tspan"),d.txtElement=this.svgFactory.createElement("svg:text"),d.txtgrp=this.svgFactory.createElement("svg:g"),d.xcoords=[],d.ycoords=[]}moveText(d,u){const D=this.current;D.x=D.lineX+=d,D.y=D.lineY+=u,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${_(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",_(-D.y))}showText(d){const u=this.current,D=u.font,b=u.fontSize;if(b===0)return;const m=u.fontSizeScale,L=u.charSpacing,C=u.wordSpacing,N=u.fontDirection,q=u.textHScale*N,I=D.vertical,z=I?1:-1,Y=D.defaultVMetrics,j=b*u.fontMatrix[0];let P=0;for(const pe of d){if(pe===null){P+=N*C;continue}else if(typeof pe=="number"){P+=z*pe*b/1e3;continue}const Ae=(pe.isSpace?C:0)+L,U=pe.fontChar;let y,k,H=pe.width;if(I){let Q;const de=pe.vmetric||Y;Q=pe.vmetric?de[1]:H*.5,Q=-Q*j;const ge=de[2]*j;H=de?-de[0]:H,y=Q/m,k=(P+ge)/m}else y=P/m,k=0;(pe.isInFont||D.missingFile)&&(u.xcoords.push(u.x+y),I&&u.ycoords.push(-u.y+k),u.tspan.textContent+=U);const se=I?H*j-Ae*N:H*j+Ae*N;P+=se}u.tspan.setAttributeNS(null,"x",u.xcoords.map(_).join(" ")),I?u.tspan.setAttributeNS(null,"y",u.ycoords.map(_).join(" ")):u.tspan.setAttributeNS(null,"y",_(-u.y)),I?u.y-=P:u.x+=P*q,u.tspan.setAttributeNS(null,"font-family",u.fontFamily),u.tspan.setAttributeNS(null,"font-size",`${_(u.fontSize)}px`),u.fontStyle!==f.fontStyle&&u.tspan.setAttributeNS(null,"font-style",u.fontStyle),u.fontWeight!==f.fontWeight&&u.tspan.setAttributeNS(null,"font-weight",u.fontWeight);const $=u.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if($===s.TextRenderingMode.FILL||$===s.TextRenderingMode.FILL_STROKE?(u.fillColor!==f.fillColor&&u.tspan.setAttributeNS(null,"fill",u.fillColor),u.fillAlpha<1&&u.tspan.setAttributeNS(null,"fill-opacity",u.fillAlpha)):u.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?u.tspan.setAttributeNS(null,"fill","transparent"):u.tspan.setAttributeNS(null,"fill","none"),$===s.TextRenderingMode.STROKE||$===s.TextRenderingMode.FILL_STROKE){const pe=1/(u.textMatrixScale||1);this._setStrokeAttributes(u.tspan,pe)}let B=u.textMatrix;u.textRise!==0&&(B=B.slice(),B[5]+=u.textRise),u.txtElement.setAttributeNS(null,"transform",`${v(B)} scale(${_(q)}, -1)`),u.txtElement.setAttributeNS(l,"xml:space","preserve"),u.txtElement.append(u.tspan),u.txtgrp.append(u.txtElement),this._ensureTransformGroup().append(u.txtElement)}setLeadingMoveText(d,u){this.setLeading(-u),this.moveText(d,u)}addFontStyle(d){if(!d.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const u=o(d.data,d.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${d.loadedName}"; src: url(${u}); }
`}setFont(d){const u=this.current,D=this.commonObjs.get(d[0]);let b=d[1];u.font=D,this.embedFonts&&!D.missingFile&&!this.embeddedFonts[D.loadedName]&&(this.addFontStyle(D),this.embeddedFonts[D.loadedName]=D),u.fontMatrix=D.fontMatrix||s.FONT_IDENTITY_MATRIX;let m="normal";D.black?m="900":D.bold&&(m="bold");const L=D.italic?"italic":"normal";b<0?(b=-b,u.fontDirection=-1):u.fontDirection=1,u.fontSize=b,u.fontFamily=D.loadedName,u.fontWeight=m,u.fontStyle=L,u.tspan=this.svgFactory.createElement("svg:tspan"),u.tspan.setAttributeNS(null,"y",_(-u.y)),u.xcoords=[],u.ycoords=[]}endText(){var u;const d=this.current;d.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&((u=d.txtElement)==null?void 0:u.hasChildNodes())&&(d.element=d.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(d){d>0&&(this.current.lineWidth=d)}setLineCap(d){this.current.lineCap=c[d]}setLineJoin(d){this.current.lineJoin=r[d]}setMiterLimit(d){this.current.miterLimit=d}setStrokeAlpha(d){this.current.strokeAlpha=d}setStrokeRGBColor(d,u,D){this.current.strokeColor=s.Util.makeHexColor(d,u,D)}setFillAlpha(d){this.current.fillAlpha=d}setFillRGBColor(d,u,D){this.current.fillColor=s.Util.makeHexColor(d,u,D),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(d){this.current.strokeColor=this._makeColorN_Pattern(d)}setFillColorN(d){this.current.fillColor=this._makeColorN_Pattern(d)}shadingFill(d){const{width:u,height:D}=this.viewport,b=s.Util.inverseTransform(this.transformMatrix),[m,L,C,N]=s.Util.getAxialAlignedBoundingBox([0,0,u,D],b),q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x",m),q.setAttributeNS(null,"y",L),q.setAttributeNS(null,"width",C-m),q.setAttributeNS(null,"height",N-L),q.setAttributeNS(null,"fill",this._makeShadingPattern(d)),this.current.fillAlpha<1&&q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(q)}_makeColorN_Pattern(d){return d[0]==="TilingPattern"?this._makeTilingPattern(d):this._makeShadingPattern(d)}_makeTilingPattern(d){const u=d[1],D=d[2],b=d[3]||s.IDENTITY_MATRIX,[m,L,C,N]=d[4],q=d[5],I=d[6],z=d[7],Y=`shading${F++}`,[j,P,$,B]=s.Util.normalizeRect([...s.Util.applyTransform([m,L],b),...s.Util.applyTransform([C,N],b)]),[pe,Ae]=s.Util.singularValueDecompose2dScale(b),U=q*pe,y=I*Ae,k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",Y),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",U),k.setAttributeNS(null,"height",y),k.setAttributeNS(null,"x",`${j}`),k.setAttributeNS(null,"y",`${P}`);const H=this.svg,se=this.transformMatrix,Q=this.current.fillColor,de=this.current.strokeColor,ge=this.svgFactory.create($-j,B-P);if(this.svg=ge,this.transformMatrix=b,z===2){const ye=s.Util.makeHexColor(...u);this.current.fillColor=ye,this.current.strokeColor=ye}return this.executeOpTree(this.convertOpList(D)),this.svg=H,this.transformMatrix=se,this.current.fillColor=Q,this.current.strokeColor=de,k.append(ge.childNodes[0]),this.defs.append(k),`url(#${Y})`}_makeShadingPattern(d){switch(typeof d=="string"&&(d=this.objs.get(d)),d[0]){case"RadialAxial":const u=`shading${F++}`,D=d[3];let b;switch(d[1]){case"axial":const m=d[4],L=d[5];b=this.svgFactory.createElement("svg:linearGradient"),b.setAttributeNS(null,"id",u),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",m[0]),b.setAttributeNS(null,"y1",m[1]),b.setAttributeNS(null,"x2",L[0]),b.setAttributeNS(null,"y2",L[1]);break;case"radial":const C=d[4],N=d[5],q=d[6],I=d[7];b=this.svgFactory.createElement("svg:radialGradient"),b.setAttributeNS(null,"id",u),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",N[0]),b.setAttributeNS(null,"cy",N[1]),b.setAttributeNS(null,"r",I),b.setAttributeNS(null,"fx",C[0]),b.setAttributeNS(null,"fy",C[1]),b.setAttributeNS(null,"fr",q);break;default:throw new Error(`Unknown RadialAxial type: ${d[1]}`)}for(const m of D){const L=this.svgFactory.createElement("svg:stop");L.setAttributeNS(null,"offset",m[0]),L.setAttributeNS(null,"stop-color",m[1]),b.append(L)}return this.defs.append(b),`url(#${u})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${d[0]}`)}}setDash(d,u){this.current.dashArray=d,this.current.dashPhase=u}constructPath(d,u){const D=this.current;let b=D.x,m=D.y,L=[],C=0;for(const N of d)switch(N|0){case s.OPS.rectangle:b=u[C++],m=u[C++];const q=u[C++],I=u[C++],z=b+q,Y=m+I;L.push("M",_(b),_(m),"L",_(z),_(m),"L",_(z),_(Y),"L",_(b),_(Y),"Z");break;case s.OPS.moveTo:b=u[C++],m=u[C++],L.push("M",_(b),_(m));break;case s.OPS.lineTo:b=u[C++],m=u[C++],L.push("L",_(b),_(m));break;case s.OPS.curveTo:b=u[C+4],m=u[C+5],L.push("C",_(u[C]),_(u[C+1]),_(u[C+2]),_(u[C+3]),_(b),_(m)),C+=6;break;case s.OPS.curveTo2:L.push("C",_(b),_(m),_(u[C]),_(u[C+1]),_(u[C+2]),_(u[C+3])),b=u[C+2],m=u[C+3],C+=4;break;case s.OPS.curveTo3:b=u[C+2],m=u[C+3],L.push("C",_(u[C]),_(u[C+1]),_(b),_(m),_(b),_(m)),C+=4;break;case s.OPS.closePath:L.push("Z");break}L=L.join(" "),D.path&&d.length>0&&d[0]!==s.OPS.rectangle&&d[0]!==s.OPS.moveTo?L=D.path.getAttributeNS(null,"d")+L:(D.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(D.path)),D.path.setAttributeNS(null,"d",L),D.path.setAttributeNS(null,"fill","none"),D.element=D.path,D.setCurrentPoint(b,m)}endPath(){const d=this.current;if(d.path=null,!this.pendingClip)return;if(!d.element){this.pendingClip=null;return}const u=`clippath${w++}`,D=this.svgFactory.createElement("svg:clipPath");D.setAttributeNS(null,"id",u),D.setAttributeNS(null,"transform",v(this.transformMatrix));const b=d.element.cloneNode(!0);if(this.pendingClip==="evenodd"?b.setAttributeNS(null,"clip-rule","evenodd"):b.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,D.append(b),this.defs.append(D),d.activeClipUrl){d.clipGroup=null;for(const m of this.extraStack)m.clipGroup=null;D.setAttributeNS(null,"clip-path",d.activeClipUrl)}d.activeClipUrl=`url(#${u})`,this.tgrp=null}clip(d){this.pendingClip=d}closePath(){const d=this.current;if(d.path){const u=`${d.path.getAttributeNS(null,"d")}Z`;d.path.setAttributeNS(null,"d",u)}}setLeading(d){this.current.leading=-d}setTextRise(d){this.current.textRise=d}setTextRenderingMode(d){this.current.textRenderingMode=d}setHScale(d){this.current.textHScale=d/100}setRenderingIntent(d){}setFlatness(d){}setGState(d){for(const[u,D]of d)switch(u){case"LW":this.setLineWidth(D);break;case"LC":this.setLineCap(D);break;case"LJ":this.setLineJoin(D);break;case"ML":this.setMiterLimit(D);break;case"D":this.setDash(D[0],D[1]);break;case"RI":this.setRenderingIntent(D);break;case"FL":this.setFlatness(D);break;case"Font":this.setFont(D);break;case"CA":this.setStrokeAlpha(D);break;case"ca":this.setFillAlpha(D);break;default:(0,s.warn)(`Unimplemented graphic state operator ${u}`);break}}fill(){const d=this.current;d.element&&(d.element.setAttributeNS(null,"fill",d.fillColor),d.element.setAttributeNS(null,"fill-opacity",d.fillAlpha),this.endPath())}stroke(){const d=this.current;d.element&&(this._setStrokeAttributes(d.element),d.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(d,u=1){const D=this.current;let b=D.dashArray;u!==1&&b.length>0&&(b=b.map(function(m){return u*m})),d.setAttributeNS(null,"stroke",D.strokeColor),d.setAttributeNS(null,"stroke-opacity",D.strokeAlpha),d.setAttributeNS(null,"stroke-miterlimit",_(D.miterLimit)),d.setAttributeNS(null,"stroke-linecap",D.lineCap),d.setAttributeNS(null,"stroke-linejoin",D.lineJoin),d.setAttributeNS(null,"stroke-width",_(u*D.lineWidth)+"px"),d.setAttributeNS(null,"stroke-dasharray",b.map(_).join(" ")),d.setAttributeNS(null,"stroke-dashoffset",_(u*D.dashPhase)+"px")}eoFill(){var d;(d=this.current.element)==null||d.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var d;(d=this.current.element)==null||d.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y","0"),d.setAttributeNS(null,"width","1px"),d.setAttributeNS(null,"height","1px"),d.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(d)}paintImageXObject(d){const u=this.getObject(d);if(!u){(0,s.warn)(`Dependent image with object ID ${d} is not ready yet`);return}this.paintInlineImageXObject(u)}paintInlineImageXObject(d,u){const D=d.width,b=d.height,m=A(d,this.forceDataSchema,!!u),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",_(D)),L.setAttributeNS(null,"height",_(b)),this.current.element=L,this.clip("nonzero");const C=this.svgFactory.createElement("svg:image");C.setAttributeNS(g,"xlink:href",m),C.setAttributeNS(null,"x","0"),C.setAttributeNS(null,"y",_(-b)),C.setAttributeNS(null,"width",_(D)+"px"),C.setAttributeNS(null,"height",_(b)+"px"),C.setAttributeNS(null,"transform",`scale(${_(1/D)} ${_(-1/b)})`),u?u.append(C):this._ensureTransformGroup().append(C)}paintImageMaskXObject(d){const u=this.getObject(d.data,d);if(u.bitmap){(0,s.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const D=this.current,b=u.width,m=u.height,L=D.fillColor;D.maskId=`mask${R++}`;const C=this.svgFactory.createElement("svg:mask");C.setAttributeNS(null,"id",D.maskId);const N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y","0"),N.setAttributeNS(null,"width",_(b)),N.setAttributeNS(null,"height",_(m)),N.setAttributeNS(null,"fill",L),N.setAttributeNS(null,"mask",`url(#${D.maskId})`),this.defs.append(C),this._ensureTransformGroup().append(N),this.paintInlineImageXObject(u,C)}paintFormXObjectBegin(d,u){if(Array.isArray(d)&&d.length===6&&this.transform(d[0],d[1],d[2],d[3],d[4],d[5]),u){const D=u[2]-u[0],b=u[3]-u[1],m=this.svgFactory.createElement("svg:rect");m.setAttributeNS(null,"x",u[0]),m.setAttributeNS(null,"y",u[1]),m.setAttributeNS(null,"width",_(D)),m.setAttributeNS(null,"height",_(b)),this.current.element=m,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(d){const u=this.svgFactory.create(d.width,d.height),D=this.svgFactory.createElement("svg:defs");u.append(D),this.defs=D;const b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",v(d.transform)),u.append(b),this.svg=b,u}_ensureClipGroup(){if(!this.current.clipGroup){const d=this.svgFactory.createElement("svg:g");d.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(d),this.current.clipGroup=d}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}t.SVGGraphics=M},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class i{static textContent(s){const f=[],l={items:f,styles:Object.create(null)};function g(c){var A;if(!c)return;let r=null;const o=c.name;if(o==="#text")r=c.value;else if(i.shouldBuildText(o))(A=c==null?void 0:c.attributes)!=null&&A.textContent?r=c.attributes.textContent:c.value&&(r=c.value);else return;if(r!==null&&f.push({str:r}),!!c.children)for(const S of c.children)g(S)}return g(s),l}static shouldBuildText(s){return!(s==="textarea"||s==="input"||s==="option"||s==="select")}}t.XfaText=i},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=v,t.updateTextLayer=w;var n=i(1),s=i(6);const f=1e5,l=30,g=.8,c=new Map;function r(R,F){let M;if(F&&n.FeatureTest.isOffscreenCanvasSupported)M=new OffscreenCanvas(R,R).getContext("2d",{alpha:!1});else{const T=document.createElement("canvas");T.width=T.height=R,M=T.getContext("2d",{alpha:!1})}return M}function o(R,F){const M=c.get(R);if(M)return M;const T=r(l,F);T.font=`${l}px ${R}`;const d=T.measureText("");let u=d.fontBoundingBoxAscent,D=Math.abs(d.fontBoundingBoxDescent);if(u){const m=u/(u+D);return c.set(R,m),T.canvas.width=T.canvas.height=0,m}T.strokeStyle="red",T.clearRect(0,0,l,l),T.strokeText("g",0,0);let b=T.getImageData(0,0,l,l).data;D=0;for(let m=b.length-1-3;m>=0;m-=4)if(b[m]>0){D=Math.ceil(m/4/l);break}T.clearRect(0,0,l,l),T.strokeText("A",0,l),b=T.getImageData(0,0,l,l).data,u=0;for(let m=0,L=b.length;m<L;m+=4)if(b[m]>0){u=l-Math.floor(m/4/l);break}if(T.canvas.width=T.canvas.height=0,u){const m=u/(u+D);return c.set(R,m),m}return c.set(R,g),g}function A(R,F,M){const T=document.createElement("span"),d={angle:0,canvasWidth:0,hasText:F.str!=="",hasEOL:F.hasEOL,fontSize:0};R._textDivs.push(T);const u=n.Util.transform(R._transform,F.transform);let D=Math.atan2(u[1],u[0]);const b=M[F.fontName];b.vertical&&(D+=Math.PI/2);const m=Math.hypot(u[2],u[3]),L=m*o(b.fontFamily,R._isOffscreenCanvasSupported);let C,N;D===0?(C=u[4],N=u[5]-L):(C=u[4]+L*Math.sin(D),N=u[5]-L*Math.cos(D));const q="calc(var(--scale-factor)*",I=T.style;R._container===R._rootContainer?(I.left=`${(100*C/R._pageWidth).toFixed(2)}%`,I.top=`${(100*N/R._pageHeight).toFixed(2)}%`):(I.left=`${q}${C.toFixed(2)}px)`,I.top=`${q}${N.toFixed(2)}px)`),I.fontSize=`${q}${m.toFixed(2)}px)`,I.fontFamily=b.fontFamily,d.fontSize=m,T.setAttribute("role","presentation"),T.textContent=F.str,T.dir=F.dir,R._fontInspectorEnabled&&(T.dataset.fontName=F.fontName),D!==0&&(d.angle=D*(180/Math.PI));let z=!1;if(F.str.length>1)z=!0;else if(F.str!==" "&&F.transform[0]!==F.transform[3]){const Y=Math.abs(F.transform[0]),j=Math.abs(F.transform[3]);Y!==j&&Math.max(Y,j)/Math.min(Y,j)>1.5&&(z=!0)}z&&(d.canvasWidth=b.vertical?F.height:F.width),R._textDivProperties.set(T,d),R._isReadableStream&&R._layoutText(T)}function S(R){const{div:F,scale:M,properties:T,ctx:d,prevFontSize:u,prevFontFamily:D}=R,{style:b}=F;let m="";if(T.canvasWidth!==0&&T.hasText){const{fontFamily:L}=b,{canvasWidth:C,fontSize:N}=T;(u!==N||D!==L)&&(d.font=`${N*M}px ${L}`,R.prevFontSize=N,R.prevFontFamily=L);const{width:q}=d.measureText(F.textContent);q>0&&(m=`scaleX(${C*M/q})`)}T.angle!==0&&(m=`rotate(${T.angle}deg) ${m}`),m.length>0&&(b.transform=m)}function E(R){if(R._canceled)return;const F=R._textDivs,M=R._capability;if(F.length>f){M.resolve();return}if(!R._isReadableStream)for(const d of F)R._layoutText(d);M.resolve()}class _{constructor({textContentSource:F,container:M,viewport:T,textDivs:d,textDivProperties:u,textContentItemsStr:D,isOffscreenCanvasSupported:b}){var q;this._textContentSource=F,this._isReadableStream=F instanceof ReadableStream,this._container=this._rootContainer=M,this._textDivs=d||[],this._textContentItemsStr=D||[],this._isOffscreenCanvasSupported=b,this._fontInspectorEnabled=!!((q=globalThis.FontInspector)!=null&&q.enabled),this._reader=null,this._textDivProperties=u||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:r(0,b)};const{pageWidth:m,pageHeight:L,pageX:C,pageY:N}=T.rawDims;this._transform=[1,0,0,-1,-C,N+L],this._pageWidth=m,this._pageHeight=L,(0,s.setLayerDimensions)(M,T),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(F,M){for(const T of F){if(T.str===void 0){if(T.type==="beginMarkedContentProps"||T.type==="beginMarkedContent"){const d=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),T.id!==null&&this._container.setAttribute("id",`${T.id}`),d.append(this._container)}else T.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(T.str),A(this,T,M)}}_layoutText(F){const M=this._layoutTextParams.properties=this._textDivProperties.get(F);if(this._layoutTextParams.div=F,S(this._layoutTextParams),M.hasText&&this._container.append(F),M.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),this._container.append(T)}}_render(){const F=new n.PromiseCapability;let M=Object.create(null);if(this._isReadableStream){const T=()=>{this._reader.read().then(({value:d,done:u})=>{if(u){F.resolve();return}Object.assign(M,d.styles),this._processItems(d.items,M),T()},F.reject)};this._reader=this._textContentSource.getReader(),T()}else if(this._textContentSource){const{items:T,styles:d}=this._textContentSource;this._processItems(T,d),F.resolve()}else throw new Error('No "textContentSource" parameter specified.');F.promise.then(()=>{M=null,E(this)},this._capability.reject)}}t.TextLayerRenderTask=_;function v(R){!R.textContentSource&&(R.textContent||R.textContentStream)&&((0,s.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),R.textContentSource=R.textContent||R.textContentStream);const{container:F,viewport:M}=R,T=getComputedStyle(F),d=T.getPropertyValue("visibility"),u=parseFloat(T.getPropertyValue("--scale-factor"));d==="visible"&&(!u||Math.abs(u-M.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const D=new _(R);return D._render(),D}function w({container:R,viewport:F,textDivs:M,textDivProperties:T,isOffscreenCanvasSupported:d,mustRotate:u=!0,mustRescale:D=!0}){if(u&&(0,s.setLayerDimensions)(R,{rotation:F.rotation}),D){const b=r(0,d),L={prevFontSize:null,prevFontFamily:null,div:null,scale:F.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b};for(const C of M)L.properties=T.get(C),L.div=C,S(L)}}},(e,t,i)=>{var o,A,S,E,_,v,w,R,F,M,T,Tn,u,Bt,b,kn,L,Mn;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var n=i(1),s=i(4),f=i(28),l=i(33),g=i(6),c=i(34);const N=class{constructor({uiManager:I,pageIndex:z,div:Y,accessibilityManager:j,annotationLayer:P,viewport:$,l10n:B}){K(this,T);K(this,u);K(this,b);K(this,L);K(this,o,void 0);K(this,A,!1);K(this,S,null);K(this,E,this.pointerup.bind(this));K(this,_,this.pointerdown.bind(this));K(this,v,new Map);K(this,w,!1);K(this,R,!1);K(this,F,!1);K(this,M,void 0);const pe=[f.FreeTextEditor,l.InkEditor,c.StampEditor];if(!N._initialized){N._initialized=!0;for(const Ae of pe)Ae.initialize(B)}I.registerEditorTypes(pe),me(this,M,I),this.pageIndex=z,this.div=Y,me(this,o,j),me(this,S,P),this.viewport=$,a(this,M).addLayer(this)}get isEmpty(){return a(this,v).size===0}updateToolbar(I){a(this,M).updateToolbar(I)}updateMode(I=a(this,M).getMode()){ae(this,L,Mn).call(this),I===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),I!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",I===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",I===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",I===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(I){if(!I&&a(this,M).getMode()!==n.AnnotationEditorType.INK)return;if(!I){for(const Y of a(this,v).values())if(Y.isEmpty()){Y.setInBackground();return}}ae(this,u,Bt).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(I){a(this,M).setEditingState(I)}addCommands(I){a(this,M).addCommands(I)}enable(){this.div.style.pointerEvents="auto";const I=new Set;for(const Y of a(this,v).values())Y.enableEditing(),Y.annotationElementId&&I.add(Y.annotationElementId);if(!a(this,S))return;const z=a(this,S).getEditableAnnotations();for(const Y of z){if(Y.hide(),a(this,M).isDeletedAnnotationElement(Y.data.id)||I.has(Y.data.id))continue;const j=this.deserialize(Y);!j||(this.addOrRebuild(j),j.enableEditing())}}disable(){var z;me(this,F,!0),this.div.style.pointerEvents="none";const I=new Set;for(const Y of a(this,v).values()){if(Y.disableEditing(),!Y.annotationElementId||Y.serialize()!==null){I.add(Y.annotationElementId);continue}(z=this.getEditableAnnotation(Y.annotationElementId))==null||z.show(),Y.remove()}if(a(this,S)){const Y=a(this,S).getEditableAnnotations();for(const j of Y){const{id:P}=j.data;I.has(P)||a(this,M).isDeletedAnnotationElement(P)||j.show()}}ae(this,L,Mn).call(this),this.isEmpty&&(this.div.hidden=!0),me(this,F,!1)}getEditableAnnotation(I){var z;return((z=a(this,S))==null?void 0:z.getEditableAnnotation(I))||null}setActiveEditor(I){a(this,M).getActive()!==I&&a(this,M).setActiveEditor(I)}enableClick(){this.div.addEventListener("pointerdown",a(this,_)),this.div.addEventListener("pointerup",a(this,E))}disableClick(){this.div.removeEventListener("pointerdown",a(this,_)),this.div.removeEventListener("pointerup",a(this,E))}attach(I){a(this,v).set(I.id,I);const{annotationElementId:z}=I;z&&a(this,M).isDeletedAnnotationElement(z)&&a(this,M).removeDeletedAnnotationElement(I)}detach(I){var z;a(this,v).delete(I.id),(z=a(this,o))==null||z.removePointerInTextLayer(I.contentDiv),!a(this,F)&&I.annotationElementId&&a(this,M).addDeletedAnnotationElement(I)}remove(I){this.detach(I),a(this,M).removeEditor(I),I.div.contains(document.activeElement)&&setTimeout(()=>{a(this,M).focusMainContainer()},0),I.div.remove(),I.isAttachedToDOM=!1,a(this,R)||this.addInkEditorIfNeeded(!1)}changeParent(I){var z;I.parent!==this&&(I.annotationElementId&&(a(this,M).addDeletedAnnotationElement(I.annotationElementId),s.AnnotationEditor.deleteAnnotationElement(I),I.annotationElementId=null),this.attach(I),(z=I.parent)==null||z.detach(I),I.setParent(this),I.div&&I.isAttachedToDOM&&(I.div.remove(),this.div.append(I.div)))}add(I){if(this.changeParent(I),a(this,M).addEditor(I),this.attach(I),!I.isAttachedToDOM){const z=I.render();this.div.append(z),I.isAttachedToDOM=!0}this.moveEditorInDOM(I),I.onceAdded(),a(this,M).addToAnnotationStorage(I)}moveEditorInDOM(I){var Y;if(!I.isAttachedToDOM)return;const{activeElement:z}=document;I.div.contains(z)&&(I._focusEventsAllowed=!1,setTimeout(()=>{I.div.addEventListener("focusin",()=>{I._focusEventsAllowed=!0},{once:!0}),z.focus()},0)),(Y=a(this,o))==null||Y.moveElementInDOM(this.div,I.div,I.contentDiv,!0)}addOrRebuild(I){I.needsToBeRebuilt()?I.rebuild():this.add(I)}addUndoableEditor(I){const z=()=>I._uiManager.rebuild(I),Y=()=>{I.remove()};this.addCommands({cmd:z,undo:Y,mustExec:!1})}getNextId(){return a(this,M).getId()}pasteEditor(I,z){a(this,M).updateToolbar(I),a(this,M).updateMode(I);const{offsetX:Y,offsetY:j}=ae(this,b,kn).call(this),P=this.getNextId(),$=ae(this,T,Tn).call(this,{parent:this,id:P,x:Y,y:j,uiManager:a(this,M),isCentered:!0,...z});$&&this.add($)}deserialize(I){var z;switch((z=I.annotationType)!=null?z:I.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return f.FreeTextEditor.deserialize(I,this,a(this,M));case n.AnnotationEditorType.INK:return l.InkEditor.deserialize(I,this,a(this,M));case n.AnnotationEditorType.STAMP:return c.StampEditor.deserialize(I,this,a(this,M))}return null}addNewEditor(){ae(this,u,Bt).call(this,ae(this,b,kn).call(this),!0)}setSelected(I){a(this,M).setSelected(I)}toggleSelected(I){a(this,M).toggleSelected(I)}isSelected(I){return a(this,M).isSelected(I)}unselect(I){a(this,M).unselect(I)}pointerup(I){const{isMac:z}=n.FeatureTest.platform;if(!(I.button!==0||I.ctrlKey&&z)&&I.target===this.div&&!!a(this,w)){if(me(this,w,!1),!a(this,A)){me(this,A,!0);return}if(a(this,M).getMode()===n.AnnotationEditorType.STAMP){a(this,M).unselectAll();return}ae(this,u,Bt).call(this,I,!1)}}pointerdown(I){if(a(this,w)){me(this,w,!1);return}const{isMac:z}=n.FeatureTest.platform;if(I.button!==0||I.ctrlKey&&z||I.target!==this.div)return;me(this,w,!0);const Y=a(this,M).getActive();me(this,A,!Y||Y.isEmpty())}findNewParent(I,z,Y){const j=a(this,M).findParent(z,Y);return j===null||j===this?!1:(j.changeParent(I),!0)}destroy(){var I,z;((I=a(this,M).getActive())==null?void 0:I.parent)===this&&a(this,M).setActiveEditor(null);for(const Y of a(this,v).values())(z=a(this,o))==null||z.removePointerInTextLayer(Y.contentDiv),Y.setParent(null),Y.isAttachedToDOM=!1,Y.div.remove();this.div=null,a(this,v).clear(),a(this,M).removeLayer(this)}render({viewport:I}){this.viewport=I,(0,g.setLayerDimensions)(this.div,I);for(const z of a(this,M).getEditors(this.pageIndex))this.add(z);this.updateMode()}update({viewport:I}){a(this,M).commitOrRemove(),this.viewport=I,(0,g.setLayerDimensions)(this.div,{rotation:I.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:I,pageHeight:z}=this.viewport.rawDims;return[I,z]}};let r=N;o=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakMap,R=new WeakMap,F=new WeakMap,M=new WeakMap,T=new WeakSet,Tn=function(I){switch(a(this,M).getMode()){case n.AnnotationEditorType.FREETEXT:return new f.FreeTextEditor(I);case n.AnnotationEditorType.INK:return new l.InkEditor(I);case n.AnnotationEditorType.STAMP:return new c.StampEditor(I)}return null},u=new WeakSet,Bt=function(I,z){const Y=this.getNextId(),j=ae(this,T,Tn).call(this,{parent:this,id:Y,x:I.offsetX,y:I.offsetY,uiManager:a(this,M),isCentered:z});return j&&this.add(j),j},b=new WeakSet,kn=function(){const{x:I,y:z,width:Y,height:j}=this.div.getBoundingClientRect(),P=Math.max(0,I),$=Math.max(0,z),B=Math.min(window.innerWidth,I+Y),pe=Math.min(window.innerHeight,z+j),Ae=(P+B)/2-I,U=($+pe)/2-z,[y,k]=this.viewport.rotation%180===0?[Ae,U]:[U,Ae];return{offsetX:y,offsetY:k}},L=new WeakSet,Mn=function(){me(this,R,!0);for(const I of a(this,v).values())I.isEmpty()&&I.remove();me(this,R,!1)},nt(r,"_initialized",!1),t.AnnotationEditorLayer=r},(e,t,i)=>{var c,r,o,A,S,E,_,v,w,R,Ii,M,Fi,d,Li,D,wt,m,Rn,C,Oi,q,In;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var n=i(1),s=i(5),f=i(4),l=i(29);const z=class extends f.AnnotationEditor{constructor(P){super({...P,name:"freeTextEditor"});K(this,R);K(this,M);K(this,d);K(this,D);K(this,m);K(this,C);K(this,q);K(this,c,this.editorDivBlur.bind(this));K(this,r,this.editorDivFocus.bind(this));K(this,o,this.editorDivInput.bind(this));K(this,A,this.editorDivKeydown.bind(this));K(this,S,void 0);K(this,E,"");K(this,_,`${this.id}-editor`);K(this,v,void 0);K(this,w,null);me(this,S,P.color||z._defaultColor||f.AnnotationEditor._defaultLineColor),me(this,v,P.fontSize||z._defaultFontSize)}static get _keyboardManager(){const P=z.prototype,$=Ae=>Ae.isEmpty(),B=s.AnnotationEditorUIManager.TRANSLATE_SMALL,pe=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],P.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],P.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],P._translateEmpty,{args:[-B,0],checker:$}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],P._translateEmpty,{args:[-pe,0],checker:$}],[["ArrowRight","mac+ArrowRight"],P._translateEmpty,{args:[B,0],checker:$}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],P._translateEmpty,{args:[pe,0],checker:$}],[["ArrowUp","mac+ArrowUp"],P._translateEmpty,{args:[0,-B],checker:$}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],P._translateEmpty,{args:[0,-pe],checker:$}],[["ArrowDown","mac+ArrowDown"],P._translateEmpty,{args:[0,B],checker:$}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],P._translateEmpty,{args:[0,pe],checker:$}]]))}static initialize(P){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(B=>[B,P.get(B)]));const $=getComputedStyle(document.documentElement);this._internalPadding=parseFloat($.getPropertyValue("--freetext-padding"))}static updateDefaultParams(P,$){switch(P){case n.AnnotationEditorParamsType.FREETEXT_SIZE:z._defaultFontSize=$;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:z._defaultColor=$;break}}updateParams(P,$){switch(P){case n.AnnotationEditorParamsType.FREETEXT_SIZE:ae(this,R,Ii).call(this,$);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:ae(this,M,Fi).call(this,$);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,z._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,z._defaultColor||f.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,a(this,v)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,a(this,S)]]}_translateEmpty(P,$){this._uiManager.translateSelectedEditors(P,$,!0)}getInitialTranslation(){const P=this.parentScale;return[-z._internalPadding*P,-(z._internalPadding+a(this,v))*P]}rebuild(){!this.parent||(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",a(this,A)),this.editorDiv.addEventListener("focus",a(this,r)),this.editorDiv.addEventListener("blur",a(this,c)),this.editorDiv.addEventListener("input",a(this,o)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",a(this,_)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",a(this,A)),this.editorDiv.removeEventListener("focus",a(this,r)),this.editorDiv.removeEventListener("blur",a(this,c)),this.editorDiv.removeEventListener("input",a(this,o)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(P){!this._focusEventsAllowed||(super.focusin(P),P.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var P;if(this.width){ae(this,q,In).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(P=this._initialOptions)!=null&&P.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const P=a(this,E),$=me(this,E,ae(this,d,Li).call(this).trimEnd());if(P===$)return;const B=pe=>{if(me(this,E,pe),!pe){this.remove();return}ae(this,m,Rn).call(this),this._uiManager.rebuild(this),ae(this,D,wt).call(this)};this.addCommands({cmd:()=>{B($)},undo:()=>{B(P)},mustExec:!1}),ae(this,D,wt).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(P){this.enterInEditMode()}keydown(P){P.target===this.div&&P.key==="Enter"&&(this.enterInEditMode(),P.preventDefault())}editorDivKeydown(P){z._keyboardManager.exec(this,P)}editorDivFocus(P){this.isEditing=!0}editorDivBlur(P){this.isEditing=!1}editorDivInput(P){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let P,$;this.width&&(P=this.x,$=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",a(this,_)),this.enableEditing(),z._l10nPromise.get("editor_free_text2_aria_label").then(pe=>{var Ae;return(Ae=this.editorDiv)==null?void 0:Ae.setAttribute("aria-label",pe)}),z._l10nPromise.get("free_text2_default_content").then(pe=>{var Ae;return(Ae=this.editorDiv)==null?void 0:Ae.setAttribute("default-content",pe)}),this.editorDiv.contentEditable=!0;const{style:B}=this.editorDiv;if(B.fontSize=`calc(${a(this,v)}px * var(--scale-factor))`,B.color=a(this,S),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[pe,Ae]=this.parentDimensions;if(this.annotationElementId){const{position:U}=a(this,w);let[y,k]=this.getInitialTranslation();[y,k]=this.pageTranslationToScreen(y,k);const[H,se]=this.pageDimensions,[Q,de]=this.pageTranslation;let ge,ye;switch(this.rotation){case 0:ge=P+(U[0]-Q)/H,ye=$+this.height-(U[1]-de)/se;break;case 90:ge=P+(U[0]-Q)/H,ye=$-(U[1]-de)/se,[y,k]=[k,-y];break;case 180:ge=P-this.width+(U[0]-Q)/H,ye=$-(U[1]-de)/se,[y,k]=[-y,-k];break;case 270:ge=P+(U[0]-Q-this.height*se)/H,ye=$+(U[1]-de-this.width*H)/se,[y,k]=[-k,y];break}this.setAt(ge*pe,ye*Ae,y,k)}else this.setAt(P*pe,$*Ae,this.width*pe,this.height*Ae);ae(this,m,Rn).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(P,$,B){let pe=null;if(P instanceof l.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:U,fontColor:y},rect:k,rotation:H,id:se},textContent:Q,textPosition:de,parent:{page:{pageNumber:ge}}}=P;if(!Q||Q.length===0)return null;pe=P={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(y),fontSize:U,value:Q.join(`
`),position:de,pageIndex:ge-1,rect:k,rotation:H,id:se,deleted:!1}}const Ae=super.deserialize(P,$,B);return me(Ae,v,P.fontSize),me(Ae,S,n.Util.makeHexColor(...P.color)),me(Ae,E,P.value),Ae.annotationElementId=P.id||null,me(Ae,w,pe),Ae}serialize(P=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const $=z._internalPadding*this.parentScale,B=this.getRect($,$),pe=f.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:a(this,S)),Ae={annotationType:n.AnnotationEditorType.FREETEXT,color:pe,fontSize:a(this,v),value:a(this,E),pageIndex:this.pageIndex,rect:B,rotation:this.rotation};return P?Ae:this.annotationElementId&&!ae(this,C,Oi).call(this,Ae)?null:(Ae.id=this.annotationElementId,Ae)}};let g=z;c=new WeakMap,r=new WeakMap,o=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakMap,R=new WeakSet,Ii=function(P){const $=pe=>{this.editorDiv.style.fontSize=`calc(${pe}px * var(--scale-factor))`,this.translate(0,-(pe-a(this,v))*this.parentScale),me(this,v,pe),ae(this,D,wt).call(this)},B=a(this,v);this.addCommands({cmd:()=>{$(P)},undo:()=>{$(B)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},M=new WeakSet,Fi=function(P){const $=a(this,S);this.addCommands({cmd:()=>{me(this,S,this.editorDiv.style.color=P)},undo:()=>{me(this,S,this.editorDiv.style.color=$)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},d=new WeakSet,Li=function(){const P=this.editorDiv.getElementsByTagName("div");if(P.length===0)return this.editorDiv.innerText;const $=[];for(const B of P)$.push(B.innerText.replace(/\r\n?|\n/,""));return $.join(`
`)},D=new WeakSet,wt=function(){const[P,$]=this.parentDimensions;let B;if(this.isAttachedToDOM)B=this.div.getBoundingClientRect();else{const{currentLayer:pe,div:Ae}=this,U=Ae.style.display;Ae.style.display="hidden",pe.div.append(this.div),B=Ae.getBoundingClientRect(),Ae.remove(),Ae.style.display=U}this.rotation%180===this.parentRotation%180?(this.width=B.width/P,this.height=B.height/$):(this.width=B.height/P,this.height=B.width/$),this.fixAndSetPosition()},m=new WeakSet,Rn=function(){if(this.editorDiv.replaceChildren(),!!a(this,E))for(const P of a(this,E).split(`
`)){const $=document.createElement("div");$.append(P?document.createTextNode(P):document.createElement("br")),this.editorDiv.append($)}},C=new WeakSet,Oi=function(P){const{value:$,fontSize:B,color:pe,rect:Ae,pageIndex:U}=a(this,w);return P.value!==$||P.fontSize!==B||P.rect.some((y,k)=>Math.abs(y-Ae[k])>=1)||P.color.some((y,k)=>y!==pe[k])||P.pageIndex!==U},q=new WeakSet,In=function(P=!1){if(!this.annotationElementId)return;if(ae(this,D,wt).call(this),!P&&(this.width===0||this.height===0)){setTimeout(()=>ae(this,q,In).call(this,!0),0);return}const $=z._internalPadding*this.parentScale;a(this,w).rect=this.getRect($,$)},nt(g,"_freeTextDefaultContent",""),nt(g,"_l10nPromise"),nt(g,"_internalPadding",0),nt(g,"_defaultColor",null),nt(g,"_defaultFontSize",10),nt(g,"_type","freetext"),t.FreeTextEditor=g},(e,t,i)=>{var k,H,lt,Q,Di,ge,ye,W,J,ce,Z,ue,_e,Ee,Pe,Se,we,le,te,oe,he,Me,Fn,je,Ln,He,On,Ke,qe,Fe,O,G,be,Ve,Le,Te,Ie,Ni,Ce,Dn;Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var n=i(1),s=i(6),f=i(3),l=i(30),g=i(31),c=i(32);const r=1e3,o=9,A=new WeakSet;function S(Re){return{width:Re[2]-Re[0],height:Re[3]-Re[1]}}class E{static create(X){switch(X.data.annotationType){case n.AnnotationType.LINK:return new v(X);case n.AnnotationType.TEXT:return new w(X);case n.AnnotationType.WIDGET:switch(X.data.fieldType){case"Tx":return new F(X);case"Btn":return X.data.radioButton?new d(X):X.data.checkBox?new T(X):new u(X);case"Ch":return new D(X);case"Sig":return new M(X)}return new R(X);case n.AnnotationType.POPUP:return new b(X);case n.AnnotationType.FREETEXT:return new L(X);case n.AnnotationType.LINE:return new C(X);case n.AnnotationType.SQUARE:return new N(X);case n.AnnotationType.CIRCLE:return new q(X);case n.AnnotationType.POLYLINE:return new I(X);case n.AnnotationType.CARET:return new Y(X);case n.AnnotationType.INK:return new j(X);case n.AnnotationType.POLYGON:return new z(X);case n.AnnotationType.HIGHLIGHT:return new P(X);case n.AnnotationType.UNDERLINE:return new $(X);case n.AnnotationType.SQUIGGLY:return new B(X);case n.AnnotationType.STRIKEOUT:return new pe(X);case n.AnnotationType.STAMP:return new Ae(X);case n.AnnotationType.FILEATTACHMENT:return new U(X);default:return new _(X)}}}class _{constructor(X,{isRenderable:V=!1,ignoreBorder:ne=!1,createQuadrilaterals:ie=!1}={}){K(this,k,!1);this.isRenderable=V,this.data=X.data,this.layer=X.layer,this.linkService=X.linkService,this.downloadManager=X.downloadManager,this.imageResourcesPath=X.imageResourcesPath,this.renderForms=X.renderForms,this.svgFactory=X.svgFactory,this.annotationStorage=X.annotationStorage,this.enableScripting=X.enableScripting,this.hasJSActions=X.hasJSActions,this._fieldObjects=X.fieldObjects,this.parent=X.parent,V&&(this.container=this._createContainer(ne)),ie&&this._createQuadrilaterals()}_createContainer(X){const{data:V,parent:{page:ne,viewport:ie}}=this,fe=document.createElement("section");fe.setAttribute("data-annotation-id",V.id),fe.style.zIndex=this.parent.zIndex++,this.data.popupRef&&fe.setAttribute("aria-haspopup","dialog"),V.noRotate&&fe.classList.add("norotate");const{pageWidth:xe,pageHeight:Ne,pageX:re,pageY:ve}=ie.rawDims;if(!V.rect||this instanceof b){const{rotation:We}=V;return!V.hasOwnCanvas&&We!==0&&this.setRotation(We,fe),fe}const{width:ke,height:$e}=S(V.rect),De=n.Util.normalizeRect([V.rect[0],ne.view[3]-V.rect[1]+ne.view[1],V.rect[2],ne.view[3]-V.rect[3]+ne.view[1]]);if(!X&&V.borderStyle.width>0){fe.style.borderWidth=`${V.borderStyle.width}px`;const We=V.borderStyle.horizontalCornerRadius,Xe=V.borderStyle.verticalCornerRadius;if(We>0||Xe>0){const Je=`calc(${We}px * var(--scale-factor)) / calc(${Xe}px * var(--scale-factor))`;fe.style.borderRadius=Je}else if(this instanceof d){const Je=`calc(${ke}px * var(--scale-factor)) / calc(${$e}px * var(--scale-factor))`;fe.style.borderRadius=Je}switch(V.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:fe.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:fe.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:fe.style.borderBottomStyle="solid";break}const Ye=V.borderColor||null;Ye?(me(this,k,!0),fe.style.borderColor=n.Util.makeHexColor(Ye[0]|0,Ye[1]|0,Ye[2]|0)):fe.style.borderWidth=0}fe.style.left=`${100*(De[0]-re)/xe}%`,fe.style.top=`${100*(De[1]-ve)/Ne}%`;const{rotation:Ue}=V;return V.hasOwnCanvas||Ue===0?(fe.style.width=`${100*ke/xe}%`,fe.style.height=`${100*$e/Ne}%`):this.setRotation(Ue,fe),fe}setRotation(X,V=this.container){if(!this.data.rect)return;const{pageWidth:ne,pageHeight:ie}=this.parent.viewport.rawDims,{width:fe,height:xe}=S(this.data.rect);let Ne,re;X%180===0?(Ne=100*fe/ne,re=100*xe/ie):(Ne=100*xe/ne,re=100*fe/ie),V.style.width=`${Ne}%`,V.style.height=`${re}%`,V.setAttribute("data-main-rotation",(360-X)%360)}get _commonActions(){const X=(V,ne,ie)=>{const fe=ie.detail[V],xe=fe[0],Ne=fe.slice(1);ie.target.style[ne]=l.ColorConverters[`${xe}_HTML`](Ne),this.annotationStorage.setValue(this.data.id,{[ne]:l.ColorConverters[`${xe}_rgb`](Ne)})};return(0,n.shadow)(this,"_commonActions",{display:V=>{const{display:ne}=V.detail,ie=ne%2===1;this.container.style.visibility=ie?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ie,noPrint:ne===1||ne===2})},print:V=>{this.annotationStorage.setValue(this.data.id,{noPrint:!V.detail.print})},hidden:V=>{const{hidden:ne}=V.detail;this.container.style.visibility=ne?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ne,noView:ne})},focus:V=>{setTimeout(()=>V.target.focus({preventScroll:!1}),0)},userName:V=>{V.target.title=V.detail.userName},readonly:V=>{V.target.disabled=V.detail.readonly},required:V=>{this._setRequired(V.target,V.detail.required)},bgColor:V=>{X("bgColor","backgroundColor",V)},fillColor:V=>{X("fillColor","backgroundColor",V)},fgColor:V=>{X("fgColor","color",V)},textColor:V=>{X("textColor","color",V)},borderColor:V=>{X("borderColor","borderColor",V)},strokeColor:V=>{X("strokeColor","borderColor",V)},rotation:V=>{const ne=V.detail.rotation;this.setRotation(ne),this.annotationStorage.setValue(this.data.id,{rotation:ne})}})}_dispatchEventFromSandbox(X,V){const ne=this._commonActions;for(const ie of Object.keys(V.detail)){const fe=X[ie]||ne[ie];fe==null||fe(V)}}_setDefaultPropertiesFromJS(X){if(!this.enableScripting)return;const V=this.annotationStorage.getRawValue(this.data.id);if(!V)return;const ne=this._commonActions;for(const[ie,fe]of Object.entries(V)){const xe=ne[ie];if(xe){const Ne={detail:{[ie]:fe},target:X};xe(Ne),delete V[ie]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:X}=this.data;if(!X)return;const[V,ne,ie,fe]=this.data.rect;if(X.length===1){const[,{x:Xe,y:Ye},{x:Je,y:et}]=X[0];if(ie===Xe&&fe===Ye&&V===Je&&ne===et)return}const{style:xe}=this.container;let Ne;if(a(this,k)){const{borderColor:Xe,borderWidth:Ye}=xe;xe.borderWidth=0,Ne=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xe}" stroke-width="${Ye}">`],this.container.classList.add("hasBorder")}const re=ie-V,ve=fe-ne,{svgFactory:ke}=this,$e=ke.createElement("svg");$e.classList.add("quadrilateralsContainer"),$e.setAttribute("width",0),$e.setAttribute("height",0);const De=ke.createElement("defs");$e.append(De);const Ue=ke.createElement("clipPath"),We=`clippath_${this.data.id}`;Ue.setAttribute("id",We),Ue.setAttribute("clipPathUnits","objectBoundingBox"),De.append(Ue);for(const[,{x:Xe,y:Ye},{x:Je,y:et}]of X){const Ze=ke.createElement("rect"),Qe=(Je-V)/re,it=(fe-Ye)/ve,tt=(Xe-Je)/re,st=(Ye-et)/ve;Ze.setAttribute("x",Qe),Ze.setAttribute("y",it),Ze.setAttribute("width",tt),Ze.setAttribute("height",st),Ue.append(Ze),Ne==null||Ne.push(`<rect vector-effect="non-scaling-stroke" x="${Qe}" y="${it}" width="${tt}" height="${st}"/>`)}a(this,k)&&(Ne.push("</g></svg>')"),xe.backgroundImage=Ne.join("")),this.container.append($e),this.container.style.clipPath=`url(#${We})`}_createPopup(){const{container:X,data:V}=this;X.setAttribute("aria-haspopup","dialog");const ne=new b({data:{color:V.color,titleObj:V.titleObj,modificationDate:V.modificationDate,contentsObj:V.contentsObj,richText:V.richText,parentRect:V.rect,borderStyle:0,id:`popup_${V.id}`,rotation:V.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ne.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(X,V=null){const ne=[];if(this._fieldObjects){const ie=this._fieldObjects[X];if(ie)for(const{page:fe,id:xe,exportValues:Ne}of ie){if(fe===-1||xe===V)continue;const re=typeof Ne=="string"?Ne:null,ve=document.querySelector(`[data-element-id="${xe}"]`);if(ve&&!A.has(ve)){(0,n.warn)(`_getElementsByName - element not allowed: ${xe}`);continue}ne.push({id:xe,exportValue:re,domElement:ve})}return ne}for(const ie of document.getElementsByName(X)){const{exportValue:fe}=ie,xe=ie.getAttribute("data-element-id");xe!==V&&(!A.has(ie)||ne.push({id:xe,exportValue:fe,domElement:ie}))}return ne}show(){var X;this.container&&(this.container.hidden=!1),(X=this.popup)==null||X.maybeShow()}hide(){var X;this.container&&(this.container.hidden=!0),(X=this.popup)==null||X.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const X=this.getElementsToTriggerPopup();if(Array.isArray(X))for(const V of X)V.classList.add("highlightArea");else X.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:X,data:{id:V}}=this;this.container.addEventListener("dblclick",()=>{var ne;(ne=this.linkService.eventBus)==null||ne.dispatch("switchannotationeditormode",{source:this,mode:X,editId:V})})}}k=new WeakMap;class v extends _{constructor(V,ne=null){super(V,{isRenderable:!0,ignoreBorder:!!(ne!=null&&ne.ignoreBorder),createQuadrilaterals:!0});K(this,H);K(this,Q);this.isTooltipOnly=V.data.isTooltipOnly}render(){const{data:V,linkService:ne}=this,ie=document.createElement("a");ie.setAttribute("data-element-id",V.id);let fe=!1;return V.url?(ne.addLinkAttributes(ie,V.url,V.newWindow),fe=!0):V.action?(this._bindNamedAction(ie,V.action),fe=!0):V.attachment?(this._bindAttachment(ie,V.attachment),fe=!0):V.setOCGState?(ae(this,Q,Di).call(this,ie,V.setOCGState),fe=!0):V.dest?(this._bindLink(ie,V.dest),fe=!0):(V.actions&&(V.actions.Action||V.actions["Mouse Up"]||V.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ie,V),fe=!0),V.resetForm?(this._bindResetFormAction(ie,V.resetForm),fe=!0):this.isTooltipOnly&&!fe&&(this._bindLink(ie,""),fe=!0)),this.container.classList.add("linkAnnotation"),fe&&this.container.append(ie),this.container}_bindLink(V,ne){V.href=this.linkService.getDestinationHash(ne),V.onclick=()=>(ne&&this.linkService.goToDestination(ne),!1),(ne||ne==="")&&ae(this,H,lt).call(this)}_bindNamedAction(V,ne){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>(this.linkService.executeNamedAction(ne),!1),ae(this,H,lt).call(this)}_bindAttachment(V,ne){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>{var ie;return(ie=this.downloadManager)==null||ie.openOrDownloadData(this.container,ne.content,ne.filename),!1},ae(this,H,lt).call(this)}_bindJSAction(V,ne){V.href=this.linkService.getAnchorUrl("");const ie=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const fe of Object.keys(ne.actions)){const xe=ie.get(fe);!xe||(V[xe]=()=>{var Ne;return(Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ne.id,name:fe}}),!1})}V.onclick||(V.onclick=()=>!1),ae(this,H,lt).call(this)}_bindResetFormAction(V,ne){const ie=V.onclick;if(ie||(V.href=this.linkService.getAnchorUrl("")),ae(this,H,lt).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ie||(V.onclick=()=>!1);return}V.onclick=()=>{var $e;ie==null||ie();const{fields:fe,refs:xe,include:Ne}=ne,re=[];if(fe.length!==0||xe.length!==0){const De=new Set(xe);for(const Ue of fe){const We=this._fieldObjects[Ue]||[];for(const{id:Xe}of We)De.add(Xe)}for(const Ue of Object.values(this._fieldObjects))for(const We of Ue)De.has(We.id)===Ne&&re.push(We)}else for(const De of Object.values(this._fieldObjects))re.push(...De);const ve=this.annotationStorage,ke=[];for(const De of re){const{id:Ue}=De;switch(ke.push(Ue),De.type){case"text":{const Xe=De.defaultValue||"";ve.setValue(Ue,{value:Xe});break}case"checkbox":case"radiobutton":{const Xe=De.defaultValue===De.exportValues;ve.setValue(Ue,{value:Xe});break}case"combobox":case"listbox":{const Xe=De.defaultValue||"";ve.setValue(Ue,{value:Xe});break}default:continue}const We=document.querySelector(`[data-element-id="${Ue}"]`);if(We){if(!A.has(We)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${Ue}`);continue}}else continue;We.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(($e=this.linkService.eventBus)==null||$e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ke,name:"ResetForm"}})),!1}}}H=new WeakSet,lt=function(){this.container.setAttribute("data-internal-link","")},Q=new WeakSet,Di=function(V,ne){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>(this.linkService.executeSetOCGState(ne),!1),ae(this,H,lt).call(this)};class w extends _{constructor(X){var ne,ie,fe;const V=!!(X.data.popupRef||((ne=X.data.titleObj)==null?void 0:ne.str)||((ie=X.data.contentsObj)==null?void 0:ie.str)||((fe=X.data.richText)==null?void 0:fe.str));super(X,{isRenderable:V})}render(){this.container.classList.add("textAnnotation");const X=document.createElement("img");return X.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",X.alt="[{{type}} Annotation]",X.dataset.l10nId="text_annotation_type",X.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.popupRef||this._createPopup(),this.container.append(X),this.container}}class R extends _{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(X){var V;this.data.hasOwnCanvas&&(((V=X.previousSibling)==null?void 0:V.nodeName)==="CANVAS"&&(X.previousSibling.hidden=!0),X.hidden=!1)}_getKeyModifier(X){const{isWin:V,isMac:ne}=n.FeatureTest.platform;return V&&X.ctrlKey||ne&&X.metaKey}_setEventListener(X,V,ne,ie){V.includes("mouse")?X.addEventListener(V,fe=>{var xe;(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:ie(fe),shift:fe.shiftKey,modifier:this._getKeyModifier(fe)}})}):X.addEventListener(V,fe=>{var xe;(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:ie(fe)}})})}_setEventListeners(X,V,ne){var ie;for(const[fe,xe]of V)(xe==="Action"||((ie=this.data.actions)==null?void 0:ie[xe]))&&this._setEventListener(X,fe,xe,ne)}_setBackgroundColor(X){const V=this.data.backgroundColor||null;X.style.backgroundColor=V===null?"transparent":n.Util.makeHexColor(V[0],V[1],V[2])}_setTextStyle(X){const V=["left","center","right"],{fontColor:ne}=this.data.defaultAppearanceData,ie=this.data.defaultAppearanceData.fontSize||o,fe=X.style;let xe;const Ne=2,re=ve=>Math.round(10*ve)/10;if(this.data.multiLine){const ve=Math.abs(this.data.rect[3]-this.data.rect[1]-Ne),ke=Math.round(ve/(n.LINE_FACTOR*ie))||1,$e=ve/ke;xe=Math.min(ie,re($e/n.LINE_FACTOR))}else{const ve=Math.abs(this.data.rect[3]-this.data.rect[1]-Ne);xe=Math.min(ie,re(ve/n.LINE_FACTOR))}fe.fontSize=`calc(${xe}px * var(--scale-factor))`,fe.color=n.Util.makeHexColor(ne[0],ne[1],ne[2]),this.data.textAlignment!==null&&(fe.textAlign=V[this.data.textAlignment])}_setRequired(X,V){V?X.setAttribute("required",!0):X.removeAttribute("required"),X.setAttribute("aria-required",V)}}class F extends R{constructor(X){const V=X.renderForms||!X.data.hasAppearance&&!!X.data.fieldValue;super(X,{isRenderable:V})}setPropertyOnSiblings(X,V,ne,ie){const fe=this.annotationStorage;for(const xe of this._getElementsByName(X.name,X.id))xe.domElement&&(xe.domElement[V]=ne),fe.setValue(xe.id,{[ie]:ne})}render(){var ie,fe;const X=this.annotationStorage,V=this.data.id;this.container.classList.add("textWidgetAnnotation");let ne=null;if(this.renderForms){const xe=X.getValue(V,{value:this.data.fieldValue});let Ne=xe.value||"";const re=X.getValue(V,{charLimit:this.data.maxLen}).charLimit;re&&Ne.length>re&&(Ne=Ne.slice(0,re));let ve=xe.formattedValue||((ie=this.data.textContent)==null?void 0:ie.join(`
`))||null;ve&&this.data.comb&&(ve=ve.replaceAll(/\s+/g,""));const ke={userValue:Ne,formattedValue:ve,lastCommittedValue:null,commitKey:1};this.data.multiLine?(ne=document.createElement("textarea"),ne.textContent=ve!=null?ve:Ne,this.data.doNotScroll&&(ne.style.overflowY="hidden")):(ne=document.createElement("input"),ne.type="text",ne.setAttribute("value",ve!=null?ve:Ne),this.data.doNotScroll&&(ne.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ne.hidden=!0),A.add(ne),ne.setAttribute("data-element-id",V),ne.disabled=this.data.readOnly,ne.name=this.data.fieldName,ne.tabIndex=r,this._setRequired(ne,this.data.required),re&&(ne.maxLength=re),ne.addEventListener("input",De=>{X.setValue(V,{value:De.target.value}),this.setPropertyOnSiblings(ne,"value",De.target.value,"value"),ke.formattedValue=null}),ne.addEventListener("resetform",De=>{var We;const Ue=(We=this.data.defaultFieldValue)!=null?We:"";ne.value=ke.userValue=Ue,ke.formattedValue=null});let $e=De=>{const{formattedValue:Ue}=ke;Ue!=null&&(De.target.value=Ue),De.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ne.addEventListener("focus",Ue=>{const{target:We}=Ue;ke.userValue&&(We.value=ke.userValue),ke.lastCommittedValue=We.value,ke.commitKey=1}),ne.addEventListener("updatefromsandbox",Ue=>{this.showElementAndHideCanvas(Ue.target);const We={value(Xe){var Ye;ke.userValue=(Ye=Xe.detail.value)!=null?Ye:"",X.setValue(V,{value:ke.userValue.toString()}),Xe.target.value=ke.userValue},formattedValue(Xe){const{formattedValue:Ye}=Xe.detail;ke.formattedValue=Ye,Ye!=null&&Xe.target!==document.activeElement&&(Xe.target.value=Ye),X.setValue(V,{formattedValue:Ye})},selRange(Xe){Xe.target.setSelectionRange(...Xe.detail.selRange)},charLimit:Xe=>{var Ze;const{charLimit:Ye}=Xe.detail,{target:Je}=Xe;if(Ye===0){Je.removeAttribute("maxLength");return}Je.setAttribute("maxLength",Ye);let et=ke.userValue;!et||et.length<=Ye||(et=et.slice(0,Ye),Je.value=ke.userValue=et,X.setValue(V,{value:et}),(Ze=this.linkService.eventBus)==null||Ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:et,willCommit:!0,commitKey:1,selStart:Je.selectionStart,selEnd:Je.selectionEnd}}))}};this._dispatchEventFromSandbox(We,Ue)}),ne.addEventListener("keydown",Ue=>{var Ye;ke.commitKey=1;let We=-1;if(Ue.key==="Escape"?We=0:Ue.key==="Enter"&&!this.data.multiLine?We=2:Ue.key==="Tab"&&(ke.commitKey=3),We===-1)return;const{value:Xe}=Ue.target;ke.lastCommittedValue!==Xe&&(ke.lastCommittedValue=Xe,ke.userValue=Xe,(Ye=this.linkService.eventBus)==null||Ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:Xe,willCommit:!0,commitKey:We,selStart:Ue.target.selectionStart,selEnd:Ue.target.selectionEnd}}))});const De=$e;$e=null,ne.addEventListener("blur",Ue=>{var Xe;if(!Ue.relatedTarget)return;const{value:We}=Ue.target;ke.userValue=We,ke.lastCommittedValue!==We&&((Xe=this.linkService.eventBus)==null||Xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:We,willCommit:!0,commitKey:ke.commitKey,selStart:Ue.target.selectionStart,selEnd:Ue.target.selectionEnd}})),De(Ue)}),(fe=this.data.actions)!=null&&fe.Keystroke&&ne.addEventListener("beforeinput",Ue=>{var it;ke.lastCommittedValue=null;const{data:We,target:Xe}=Ue,{value:Ye,selectionStart:Je,selectionEnd:et}=Xe;let Ze=Je,Qe=et;switch(Ue.inputType){case"deleteWordBackward":{const tt=Ye.substring(0,Je).match(/\w*[^\w]*$/);tt&&(Ze-=tt[0].length);break}case"deleteWordForward":{const tt=Ye.substring(Je).match(/^[^\w]*\w*/);tt&&(Qe+=tt[0].length);break}case"deleteContentBackward":Je===et&&(Ze-=1);break;case"deleteContentForward":Je===et&&(Qe+=1);break}Ue.preventDefault(),(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:Ye,change:We||"",willCommit:!1,selStart:Ze,selEnd:Qe}})}),this._setEventListeners(ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ue=>Ue.target.value)}if($e&&ne.addEventListener("blur",$e),this.data.comb){const Ue=(this.data.rect[2]-this.data.rect[0])/re;ne.classList.add("comb"),ne.style.letterSpacing=`calc(${Ue}px * var(--scale-factor) - 1ch)`}}else ne=document.createElement("div"),ne.textContent=this.data.fieldValue,ne.style.verticalAlign="middle",ne.style.display="table-cell";return this._setTextStyle(ne),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.append(ne),this.container}}class M extends R{constructor(X){super(X,{isRenderable:!!X.data.hasOwnCanvas})}}class T extends R{constructor(X){super(X,{isRenderable:X.renderForms})}render(){const X=this.annotationStorage,V=this.data,ne=V.id;let ie=X.getValue(ne,{value:V.exportValue===V.fieldValue}).value;typeof ie=="string"&&(ie=ie!=="Off",X.setValue(ne,{value:ie})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const fe=document.createElement("input");return A.add(fe),fe.setAttribute("data-element-id",ne),fe.disabled=V.readOnly,this._setRequired(fe,this.data.required),fe.type="checkbox",fe.name=V.fieldName,ie&&fe.setAttribute("checked",!0),fe.setAttribute("exportValue",V.exportValue),fe.tabIndex=r,fe.addEventListener("change",xe=>{const{name:Ne,checked:re}=xe.target;for(const ve of this._getElementsByName(Ne,ne)){const ke=re&&ve.exportValue===V.exportValue;ve.domElement&&(ve.domElement.checked=ke),X.setValue(ve.id,{value:ke})}X.setValue(ne,{value:re})}),fe.addEventListener("resetform",xe=>{const Ne=V.defaultFieldValue||"Off";xe.target.checked=Ne===V.exportValue}),this.enableScripting&&this.hasJSActions&&(fe.addEventListener("updatefromsandbox",xe=>{const Ne={value(re){re.target.checked=re.detail.value!=="Off",X.setValue(ne,{value:re.target.checked})}};this._dispatchEventFromSandbox(Ne,xe)}),this._setEventListeners(fe,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xe=>xe.target.checked)),this._setBackgroundColor(fe),this._setDefaultPropertiesFromJS(fe),this.container.append(fe),this.container}}class d extends R{constructor(X){super(X,{isRenderable:X.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const X=this.annotationStorage,V=this.data,ne=V.id;let ie=X.getValue(ne,{value:V.fieldValue===V.buttonValue}).value;typeof ie=="string"&&(ie=ie!==V.buttonValue,X.setValue(ne,{value:ie}));const fe=document.createElement("input");if(A.add(fe),fe.setAttribute("data-element-id",ne),fe.disabled=V.readOnly,this._setRequired(fe,this.data.required),fe.type="radio",fe.name=V.fieldName,ie&&fe.setAttribute("checked",!0),fe.tabIndex=r,fe.addEventListener("change",xe=>{const{name:Ne,checked:re}=xe.target;for(const ve of this._getElementsByName(Ne,ne))X.setValue(ve.id,{value:!1});X.setValue(ne,{value:re})}),fe.addEventListener("resetform",xe=>{const Ne=V.defaultFieldValue;xe.target.checked=Ne!=null&&Ne===V.buttonValue}),this.enableScripting&&this.hasJSActions){const xe=V.buttonValue;fe.addEventListener("updatefromsandbox",Ne=>{const re={value:ve=>{const ke=xe===ve.detail.value;for(const $e of this._getElementsByName(ve.target.name)){const De=ke&&$e.id===ne;$e.domElement&&($e.domElement.checked=De),X.setValue($e.id,{value:De})}}};this._dispatchEventFromSandbox(re,Ne)}),this._setEventListeners(fe,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ne=>Ne.target.checked)}return this._setBackgroundColor(fe),this._setDefaultPropertiesFromJS(fe),this.container.append(fe),this.container}}class u extends v{constructor(X){super(X,{ignoreBorder:X.data.hasAppearance})}render(){const X=super.render();X.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(X.title=this.data.alternativeText);const V=X.lastChild;return this.enableScripting&&this.hasJSActions&&V&&(this._setDefaultPropertiesFromJS(V),V.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({},ne)})),X}}class D extends R{constructor(X){super(X,{isRenderable:X.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const X=this.annotationStorage,V=this.data.id,ne=X.getValue(V,{value:this.data.fieldValue}),ie=document.createElement("select");A.add(ie),ie.setAttribute("data-element-id",V),ie.disabled=this.data.readOnly,this._setRequired(ie,this.data.required),ie.name=this.data.fieldName,ie.tabIndex=r;let fe=this.data.combo&&this.data.options.length>0;this.data.combo||(ie.size=this.data.options.length,this.data.multiSelect&&(ie.multiple=!0)),ie.addEventListener("resetform",ke=>{const $e=this.data.defaultFieldValue;for(const De of ie.options)De.selected=De.value===$e});for(const ke of this.data.options){const $e=document.createElement("option");$e.textContent=ke.displayValue,$e.value=ke.exportValue,ne.value.includes(ke.exportValue)&&($e.setAttribute("selected",!0),fe=!1),ie.append($e)}let xe=null;if(fe){const ke=document.createElement("option");ke.value=" ",ke.setAttribute("hidden",!0),ke.setAttribute("selected",!0),ie.prepend(ke),xe=()=>{ke.remove(),ie.removeEventListener("input",xe),xe=null},ie.addEventListener("input",xe)}const Ne=ke=>{const $e=ke?"value":"textContent",{options:De,multiple:Ue}=ie;return Ue?Array.prototype.filter.call(De,We=>We.selected).map(We=>We[$e]):De.selectedIndex===-1?null:De[De.selectedIndex][$e]};let re=Ne(!1);const ve=ke=>{const $e=ke.target.options;return Array.prototype.map.call($e,De=>({displayValue:De.textContent,exportValue:De.value}))};return this.enableScripting&&this.hasJSActions?(ie.addEventListener("updatefromsandbox",ke=>{const $e={value(De){xe==null||xe();const Ue=De.detail.value,We=new Set(Array.isArray(Ue)?Ue:[Ue]);for(const Xe of ie.options)Xe.selected=We.has(Xe.value);X.setValue(V,{value:Ne(!0)}),re=Ne(!1)},multipleSelection(De){ie.multiple=!0},remove(De){const Ue=ie.options,We=De.detail.remove;Ue[We].selected=!1,ie.remove(We),Ue.length>0&&Array.prototype.findIndex.call(Ue,Ye=>Ye.selected)===-1&&(Ue[0].selected=!0),X.setValue(V,{value:Ne(!0),items:ve(De)}),re=Ne(!1)},clear(De){for(;ie.length!==0;)ie.remove(0);X.setValue(V,{value:null,items:[]}),re=Ne(!1)},insert(De){const{index:Ue,displayValue:We,exportValue:Xe}=De.detail.insert,Ye=ie.children[Ue],Je=document.createElement("option");Je.textContent=We,Je.value=Xe,Ye?Ye.before(Je):ie.append(Je),X.setValue(V,{value:Ne(!0),items:ve(De)}),re=Ne(!1)},items(De){const{items:Ue}=De.detail;for(;ie.length!==0;)ie.remove(0);for(const We of Ue){const{displayValue:Xe,exportValue:Ye}=We,Je=document.createElement("option");Je.textContent=Xe,Je.value=Ye,ie.append(Je)}ie.options.length>0&&(ie.options[0].selected=!0),X.setValue(V,{value:Ne(!0),items:ve(De)}),re=Ne(!1)},indices(De){const Ue=new Set(De.detail.indices);for(const We of De.target.options)We.selected=Ue.has(We.index);X.setValue(V,{value:Ne(!0)}),re=Ne(!1)},editable(De){De.target.disabled=!De.detail.editable}};this._dispatchEventFromSandbox($e,ke)}),ie.addEventListener("input",ke=>{var De;const $e=Ne(!0);X.setValue(V,{value:$e}),ke.preventDefault(),(De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:V,name:"Keystroke",value:re,changeEx:$e,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ie,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ke=>ke.target.value)):ie.addEventListener("input",function(ke){X.setValue(V,{value:Ne(!0)})}),this.data.combo&&this._setTextStyle(ie),this._setBackgroundColor(ie),this._setDefaultPropertiesFromJS(ie),this.container.append(ie),this.container}}class b extends _{constructor(X){var fe,xe,Ne;const{data:V,elements:ne}=X,ie=!!(((fe=V.titleObj)==null?void 0:fe.str)||((xe=V.contentsObj)==null?void 0:xe.str)||((Ne=V.richText)==null?void 0:Ne.str));super(X,{isRenderable:ie}),this.elements=ne}render(){this.container.classList.add("popupAnnotation");const X=new m({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),V=[];for(const ne of this.elements)ne.popup=X,V.push(ne.data.id),ne.addHighlightArea();return this.container.setAttribute("aria-controls",V.join(",")),this.container}}class m{constructor({container:X,color:V,elements:ne,titleObj:ie,modificationDate:fe,contentsObj:xe,richText:Ne,parent:re,rect:ve,parentRect:ke,open:$e}){K(this,Me);K(this,je);K(this,He);K(this,ge,null);K(this,ye,ae(this,He,On).bind(this));K(this,W,ae(this,je,Ln).bind(this));K(this,J,ae(this,Me,Fn).bind(this));K(this,ce,null);K(this,Z,null);K(this,ue,null);K(this,_e,null);K(this,Ee,null);K(this,Pe,null);K(this,Se,!1);K(this,we,null);K(this,le,null);K(this,te,null);K(this,oe,null);K(this,he,!1);me(this,Z,X),me(this,oe,ie),me(this,ue,xe),me(this,te,Ne),me(this,Ee,re),me(this,ce,V),me(this,le,ve),me(this,Pe,ke),me(this,_e,ne);const De=s.PDFDateString.toDateObject(fe);De&&me(this,ge,re.l10n.get("annotation_date_string",{date:De.toLocaleDateString(),time:De.toLocaleTimeString()})),this.trigger=ne.flatMap(Ue=>Ue.getElementsToTriggerPopup());for(const Ue of this.trigger)Ue.addEventListener("click",a(this,J)),Ue.addEventListener("mouseenter",a(this,W)),Ue.addEventListener("mouseleave",a(this,ye));a(this,Z).hidden=!0,$e&&ae(this,Me,Fn).call(this)}render(){if(a(this,we))return;const{page:{view:X},viewport:{rawDims:{pageWidth:V,pageHeight:ne,pageX:ie,pageY:fe}}}=a(this,Ee),xe=me(this,we,document.createElement("div"));if(xe.className="popup",a(this,ce)){const Ze=xe.style.outlineColor=n.Util.makeHexColor(...a(this,ce));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?xe.style.backgroundColor=`color-mix(in srgb, ${Ze} 30%, white)`:xe.style.backgroundColor=n.Util.makeHexColor(...a(this,ce).map(it=>Math.floor(.7*(255-it)+it)))}const Ne=document.createElement("span");Ne.className="header";const re=document.createElement("h1");if(Ne.append(re),{dir:re.dir,str:re.textContent}=a(this,oe),xe.append(Ne),a(this,ge)){const Ze=document.createElement("span");Ze.classList.add("popupDate"),a(this,ge).then(Qe=>{Ze.textContent=Qe}),Ne.append(Ze)}const ve=a(this,ue),ke=a(this,te);if((ke==null?void 0:ke.str)&&(!(ve!=null&&ve.str)||ve.str===ke.str))c.XfaLayer.render({xfaHtml:ke.html,intent:"richText",div:xe}),xe.lastChild.classList.add("richText","popupContent");else{const Ze=this._formatContents(ve);xe.append(Ze)}let $e=!!a(this,Pe),De=$e?a(this,Pe):a(this,le);for(const Ze of a(this,_e))if(!De||n.Util.intersect(Ze.data.rect,De)!==null){De=Ze.data.rect,$e=!0;break}const Ue=n.Util.normalizeRect([De[0],X[3]-De[1]+X[1],De[2],X[3]-De[3]+X[1]]),We=5,Xe=$e?De[2]-De[0]+We:0,Ye=Ue[0]+Xe,Je=Ue[1],{style:et}=a(this,Z);et.left=`${100*(Ye-ie)/V}%`,et.top=`${100*(Je-fe)/ne}%`,a(this,Z).append(xe)}_formatContents({str:X,dir:V}){const ne=document.createElement("p");ne.classList.add("popupContent"),ne.dir=V;const ie=X.split(/(?:\r\n?|\n)/);for(let fe=0,xe=ie.length;fe<xe;++fe){const Ne=ie[fe];ne.append(document.createTextNode(Ne)),fe<xe-1&&ne.append(document.createElement("br"))}return ne}forceHide(){me(this,he,this.isVisible),a(this,he)&&(a(this,Z).hidden=!0)}maybeShow(){!a(this,he)||(me(this,he,!1),a(this,Z).hidden=!1)}get isVisible(){return a(this,Z).hidden===!1}}ge=new WeakMap,ye=new WeakMap,W=new WeakMap,J=new WeakMap,ce=new WeakMap,Z=new WeakMap,ue=new WeakMap,_e=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,Se=new WeakMap,we=new WeakMap,le=new WeakMap,te=new WeakMap,oe=new WeakMap,he=new WeakMap,Me=new WeakSet,Fn=function(){me(this,Se,!a(this,Se)),a(this,Se)?(ae(this,je,Ln).call(this),a(this,Z).addEventListener("click",a(this,J))):(ae(this,He,On).call(this),a(this,Z).removeEventListener("click",a(this,J)))},je=new WeakSet,Ln=function(){a(this,we)||this.render(),this.isVisible?a(this,Se)&&a(this,Z).classList.add("focused"):(a(this,Z).hidden=!1,a(this,Z).style.zIndex=parseInt(a(this,Z).style.zIndex)+1e3)},He=new WeakSet,On=function(){a(this,Z).classList.remove("focused"),!(a(this,Se)||!this.isVisible)&&(a(this,Z).hidden=!0,a(this,Z).style.zIndex=parseInt(a(this,Z).style.zIndex)-1e3)};class L extends _{constructor(X){var ne,ie,fe;const V=!!(X.data.popupRef||((ne=X.data.titleObj)==null?void 0:ne.str)||((ie=X.data.contentsObj)==null?void 0:ie.str)||((fe=X.data.richText)==null?void 0:fe.str));super(X,{isRenderable:V,ignoreBorder:!0}),this.textContent=X.data.textContent,this.textPosition=X.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const X=document.createElement("div");X.classList.add("annotationTextContent"),X.setAttribute("role","comment");for(const V of this.textContent){const ne=document.createElement("span");ne.textContent=V,X.append(ne)}this.container.append(X)}return this.data.popupRef||this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=L;class C extends _{constructor(V){var ie,fe,xe;const ne=!!(V.data.popupRef||((ie=V.data.titleObj)==null?void 0:ie.str)||((fe=V.data.contentsObj)==null?void 0:fe.str)||((xe=V.data.richText)==null?void 0:xe.str));super(V,{isRenderable:ne,ignoreBorder:!0});K(this,Ke,null)}render(){this.container.classList.add("lineAnnotation");const V=this.data,{width:ne,height:ie}=S(V.rect),fe=this.svgFactory.create(ne,ie,!0),xe=me(this,Ke,this.svgFactory.createElement("svg:line"));return xe.setAttribute("x1",V.rect[2]-V.lineCoordinates[0]),xe.setAttribute("y1",V.rect[3]-V.lineCoordinates[1]),xe.setAttribute("x2",V.rect[2]-V.lineCoordinates[2]),xe.setAttribute("y2",V.rect[3]-V.lineCoordinates[3]),xe.setAttribute("stroke-width",V.borderStyle.width||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","transparent"),fe.append(xe),this.container.append(fe),V.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Ke)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ke=new WeakMap;class N extends _{constructor(V){var ie,fe,xe;const ne=!!(V.data.popupRef||((ie=V.data.titleObj)==null?void 0:ie.str)||((fe=V.data.contentsObj)==null?void 0:fe.str)||((xe=V.data.richText)==null?void 0:xe.str));super(V,{isRenderable:ne,ignoreBorder:!0});K(this,qe,null)}render(){this.container.classList.add("squareAnnotation");const V=this.data,{width:ne,height:ie}=S(V.rect),fe=this.svgFactory.create(ne,ie,!0),xe=V.borderStyle.width,Ne=me(this,qe,this.svgFactory.createElement("svg:rect"));return Ne.setAttribute("x",xe/2),Ne.setAttribute("y",xe/2),Ne.setAttribute("width",ne-xe),Ne.setAttribute("height",ie-xe),Ne.setAttribute("stroke-width",xe||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),fe.append(Ne),this.container.append(fe),V.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,qe)}addHighlightArea(){this.container.classList.add("highlightArea")}}qe=new WeakMap;class q extends _{constructor(V){var ie,fe,xe;const ne=!!(V.data.popupRef||((ie=V.data.titleObj)==null?void 0:ie.str)||((fe=V.data.contentsObj)==null?void 0:fe.str)||((xe=V.data.richText)==null?void 0:xe.str));super(V,{isRenderable:ne,ignoreBorder:!0});K(this,Fe,null)}render(){this.container.classList.add("circleAnnotation");const V=this.data,{width:ne,height:ie}=S(V.rect),fe=this.svgFactory.create(ne,ie,!0),xe=V.borderStyle.width,Ne=me(this,Fe,this.svgFactory.createElement("svg:ellipse"));return Ne.setAttribute("cx",ne/2),Ne.setAttribute("cy",ie/2),Ne.setAttribute("rx",ne/2-xe/2),Ne.setAttribute("ry",ie/2-xe/2),Ne.setAttribute("stroke-width",xe||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),fe.append(Ne),this.container.append(fe),V.popupRef||this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Fe)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fe=new WeakMap;class I extends _{constructor(V){var ie,fe,xe;const ne=!!(V.data.popupRef||((ie=V.data.titleObj)==null?void 0:ie.str)||((fe=V.data.contentsObj)==null?void 0:fe.str)||((xe=V.data.richText)==null?void 0:xe.str));super(V,{isRenderable:ne,ignoreBorder:!0});K(this,O,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const V=this.data,{width:ne,height:ie}=S(V.rect),fe=this.svgFactory.create(ne,ie,!0);let xe=[];for(const re of V.vertices){const ve=re.x-V.rect[0],ke=V.rect[3]-re.y;xe.push(ve+","+ke)}xe=xe.join(" ");const Ne=me(this,O,this.svgFactory.createElement(this.svgElementName));return Ne.setAttribute("points",xe),Ne.setAttribute("stroke-width",V.borderStyle.width||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),fe.append(Ne),this.container.append(fe),V.popupRef||this._createPopup(Ne,V),this.container}getElementsToTriggerPopup(){return a(this,O)}addHighlightArea(){this.container.classList.add("highlightArea")}}O=new WeakMap;class z extends I{constructor(X){super(X),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Y extends _{constructor(X){var ne,ie,fe;const V=!!(X.data.popupRef||((ne=X.data.titleObj)==null?void 0:ne.str)||((ie=X.data.contentsObj)==null?void 0:ie.str)||((fe=X.data.richText)==null?void 0:fe.str));super(X,{isRenderable:V,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.popupRef||this._createPopup(),this.container}}class j extends _{constructor(V){var ie,fe,xe;const ne=!!(V.data.popupRef||((ie=V.data.titleObj)==null?void 0:ie.str)||((fe=V.data.contentsObj)==null?void 0:fe.str)||((xe=V.data.richText)==null?void 0:xe.str));super(V,{isRenderable:ne,ignoreBorder:!0});K(this,G,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const V=this.data,{width:ne,height:ie}=S(V.rect),fe=this.svgFactory.create(ne,ie,!0);for(const xe of V.inkLists){let Ne=[];for(const ve of xe){const ke=ve.x-V.rect[0],$e=V.rect[3]-ve.y;Ne.push(`${ke},${$e}`)}Ne=Ne.join(" ");const re=this.svgFactory.createElement(this.svgElementName);a(this,G).push(re),re.setAttribute("points",Ne),re.setAttribute("stroke-width",V.borderStyle.width||1),re.setAttribute("stroke","transparent"),re.setAttribute("fill","transparent"),V.popupRef||this._createPopup(re,V),fe.append(re)}return this.container.append(fe),this.container}getElementsToTriggerPopup(){return a(this,G)}addHighlightArea(){this.container.classList.add("highlightArea")}}G=new WeakMap,t.InkAnnotationElement=j;class P extends _{constructor(X){var ne,ie,fe;const V=!!(X.data.popupRef||((ne=X.data.titleObj)==null?void 0:ne.str)||((ie=X.data.contentsObj)==null?void 0:ie.str)||((fe=X.data.richText)==null?void 0:fe.str));super(X,{isRenderable:V,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.popupRef||this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class $ extends _{constructor(X){var ne,ie,fe;const V=!!(X.data.popupRef||((ne=X.data.titleObj)==null?void 0:ne.str)||((ie=X.data.contentsObj)==null?void 0:ie.str)||((fe=X.data.richText)==null?void 0:fe.str));super(X,{isRenderable:V,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.popupRef||this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class B extends _{constructor(X){var ne,ie,fe;const V=!!(X.data.popupRef||((ne=X.data.titleObj)==null?void 0:ne.str)||((ie=X.data.contentsObj)==null?void 0:ie.str)||((fe=X.data.richText)==null?void 0:fe.str));super(X,{isRenderable:V,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.popupRef||this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class pe extends _{constructor(X){var ne,ie,fe;const V=!!(X.data.popupRef||((ne=X.data.titleObj)==null?void 0:ne.str)||((ie=X.data.contentsObj)==null?void 0:ie.str)||((fe=X.data.richText)==null?void 0:fe.str));super(X,{isRenderable:V,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.popupRef||this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ae extends _{constructor(X){var ne,ie,fe;const V=!!(X.data.popupRef||((ne=X.data.titleObj)==null?void 0:ne.str)||((ie=X.data.contentsObj)==null?void 0:ie.str)||((fe=X.data.richText)==null?void 0:fe.str));super(X,{isRenderable:V,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.popupRef||this._createPopup(),this.container}}t.StampAnnotationElement=Ae;class U extends _{constructor(V){var fe;super(V,{isRenderable:!0});K(this,be,null);const{filename:ne,content:ie}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(ne,!0),this.content=ie,(fe=this.linkService.eventBus)==null||fe.dispatch("fileattachmentannotation",{source:this,filename:ne,content:ie})}render(){var ie,fe;this.container.classList.add("fileAttachmentAnnotation");const{data:V}=this;let ne;return V.hasAppearance||V.fillAlpha===0?ne=document.createElement("div"):(ne=document.createElement("img"),ne.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(V.name)?"paperclip":"pushpin"}.svg`,V.fillAlpha&&V.fillAlpha<1&&(ne.style=`filter: opacity(${Math.round(V.fillAlpha*100)}%);`)),ne.classList.add("popupTriggerArea"),ne.addEventListener("dblclick",this._download.bind(this)),me(this,be,ne),!V.popupRef&&(((ie=V.titleObj)==null?void 0:ie.str)||((fe=V.contentsObj)==null?void 0:fe.str)||V.richText)&&this._createPopup(),this.container.append(ne),this.container}getElementsToTriggerPopup(){return a(this,be)}addHighlightArea(){this.container.classList.add("highlightArea")}_download(){var V;(V=this.downloadManager)==null||V.openOrDownloadData(this.container,this.content,this.filename)}}be=new WeakMap;class y{constructor({div:X,accessibilityManager:V,annotationCanvasMap:ne,l10n:ie,page:fe,viewport:xe}){K(this,Ie);K(this,Ce);K(this,Ve,null);K(this,Le,null);K(this,Te,new Map);this.div=X,me(this,Ve,V),me(this,Le,ne),this.l10n=ie,this.page=fe,this.viewport=xe,this.zIndex=0,this.l10n||(this.l10n=g.NullL10n)}async render(X){const{annotations:V}=X,ne=this.div;(0,s.setLayerDimensions)(ne,this.viewport);const ie=new Map,fe={data:null,layer:ne,linkService:X.linkService,downloadManager:X.downloadManager,imageResourcesPath:X.imageResourcesPath||"",renderForms:X.renderForms!==!1,svgFactory:new s.DOMSVGFactory,annotationStorage:X.annotationStorage||new f.AnnotationStorage,enableScripting:X.enableScripting===!0,hasJSActions:X.hasJSActions,fieldObjects:X.fieldObjects,parent:this,elements:null};for(const xe of V){if(xe.noHTML)continue;const Ne=xe.annotationType===n.AnnotationType.POPUP;if(Ne){const ke=ie.get(xe.id);if(!ke)continue;fe.elements=ke}else{const{width:ke,height:$e}=S(xe.rect);if(ke<=0||$e<=0)continue}fe.data=xe;const re=E.create(fe);if(!re.isRenderable)continue;if(!Ne&&xe.popupRef){const ke=ie.get(xe.popupRef);ke?ke.push(re):ie.set(xe.popupRef,[re])}re.annotationEditorType>0&&a(this,Te).set(re.data.id,re);const ve=re.render();xe.hidden&&(ve.style.visibility="hidden"),ae(this,Ie,Ni).call(this,ve,xe.id)}ae(this,Ce,Dn).call(this),await this.l10n.translate(ne)}update({viewport:X}){const V=this.div;this.viewport=X,(0,s.setLayerDimensions)(V,{rotation:X.rotation}),ae(this,Ce,Dn).call(this),V.hidden=!1}getEditableAnnotations(){return Array.from(a(this,Te).values())}getEditableAnnotation(X){return a(this,Te).get(X)}}Ve=new WeakMap,Le=new WeakMap,Te=new WeakMap,Ie=new WeakSet,Ni=function(X,V){var ie;const ne=X.firstChild||X;ne.id=`${s.AnnotationPrefix}${V}`,this.div.append(X),(ie=a(this,Ve))==null||ie.moveElementInDOM(this.div,X,ne,!1)},Ce=new WeakSet,Dn=function(){if(!a(this,Le))return;const X=this.div;for(const[V,ne]of a(this,Le)){const ie=X.querySelector(`[data-annotation-id="${V}"]`);if(!ie)continue;const{firstChild:fe}=ie;fe?fe.nodeName==="CANVAS"?fe.replaceWith(ne):fe.before(ne):ie.append(ne)}a(this,Le).clear()},t.AnnotationLayer=y},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function i(f){return Math.floor(Math.max(0,Math.min(1,f))*255).toString(16).padStart(2,"0")}function n(f){return Math.max(0,Math.min(255,255*f))}class s{static CMYK_G([l,g,c,r]){return["G",1-Math.min(1,.3*l+.59*c+.11*g+r)]}static G_CMYK([l]){return["CMYK",0,0,0,1-l]}static G_RGB([l]){return["RGB",l,l,l]}static G_rgb([l]){return l=n(l),[l,l,l]}static G_HTML([l]){const g=i(l);return`#${g}${g}${g}`}static RGB_G([l,g,c]){return["G",.3*l+.59*g+.11*c]}static RGB_rgb(l){return l.map(n)}static RGB_HTML(l){return`#${l.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([l,g,c,r]){return["RGB",1-Math.min(1,l+r),1-Math.min(1,c+r),1-Math.min(1,g+r)]}static CMYK_rgb([l,g,c,r]){return[n(1-Math.min(1,l+r)),n(1-Math.min(1,c+r)),n(1-Math.min(1,g+r))]}static CMYK_HTML(l){const g=this.CMYK_RGB(l).slice(1);return this.RGB_HTML(g)}static RGB_CMYK([l,g,c]){const r=1-l,o=1-g,A=1-c,S=Math.min(r,o,A);return["CMYK",r,o,A,S]}}t.ColorConverters=s},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=n;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};i.print_progress_percent="{{progress}}%";function n(l,g){switch(l){case"find_match_count":l=`find_match_count[${g.total===1?"one":"other"}]`;break;case"find_match_count_limit":l=`find_match_count_limit[${g.limit===1?"one":"other"}]`;break}return i[l]||""}function s(l,g){return g?l.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(c,r)=>r in g?g[r]:"{{"+r+"}}"):l}const f={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(l,g=null,c=n(l,g)){return s(c,g)},async translate(l){}};t.NullL10n=f},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var n=i(25);class s{static setupStorage(l,g,c,r,o){const A=r.getValue(g,{value:null});switch(c.name){case"textarea":if(A.value!==null&&(l.textContent=A.value),o==="print")break;l.addEventListener("input",S=>{r.setValue(g,{value:S.target.value})});break;case"input":if(c.attributes.type==="radio"||c.attributes.type==="checkbox"){if(A.value===c.attributes.xfaOn?l.setAttribute("checked",!0):A.value===c.attributes.xfaOff&&l.removeAttribute("checked"),o==="print")break;l.addEventListener("change",S=>{r.setValue(g,{value:S.target.checked?S.target.getAttribute("xfaOn"):S.target.getAttribute("xfaOff")})})}else{if(A.value!==null&&l.setAttribute("value",A.value),o==="print")break;l.addEventListener("input",S=>{r.setValue(g,{value:S.target.value})})}break;case"select":if(A.value!==null){l.setAttribute("value",A.value);for(const S of c.children)S.attributes.value===A.value?S.attributes.selected=!0:S.attributes.hasOwnProperty("selected")&&delete S.attributes.selected}l.addEventListener("input",S=>{const E=S.target.options,_=E.selectedIndex===-1?"":E[E.selectedIndex].value;r.setValue(g,{value:_})});break}}static setAttributes({html:l,element:g,storage:c=null,intent:r,linkService:o}){const{attributes:A}=g,S=l instanceof HTMLAnchorElement;A.type==="radio"&&(A.name=`${A.name}-${r}`);for(const[E,_]of Object.entries(A))if(_!=null)switch(E){case"class":_.length&&l.setAttribute(E,_.join(" "));break;case"dataId":break;case"id":l.setAttribute("data-element-id",_);break;case"style":Object.assign(l.style,_);break;case"textContent":l.textContent=_;break;default:(!S||E!=="href"&&E!=="newWindow")&&l.setAttribute(E,_)}S&&o.addLinkAttributes(l,A.href,A.newWindow),c&&A.dataId&&this.setupStorage(l,A.dataId,g,c)}static render(l){var v;const g=l.annotationStorage,c=l.linkService,r=l.xfaHtml,o=l.intent||"display",A=document.createElement(r.name);r.attributes&&this.setAttributes({html:A,element:r,intent:o,linkService:c});const S=[[r,-1,A]],E=l.div;if(E.append(A),l.viewport){const w=`matrix(${l.viewport.transform.join(",")})`;E.style.transform=w}o!=="richText"&&E.setAttribute("class","xfaLayer xfaFont");const _=[];for(;S.length>0;){const[w,R,F]=S.at(-1);if(R+1===w.children.length){S.pop();continue}const M=w.children[++S.at(-1)[1]];if(M===null)continue;const{name:T}=M;if(T==="#text"){const u=document.createTextNode(M.value);_.push(u),F.append(u);continue}const d=(v=M==null?void 0:M.attributes)!=null&&v.xmlns?document.createElementNS(M.attributes.xmlns,T):document.createElement(T);if(F.append(d),M.attributes&&this.setAttributes({html:d,element:M,storage:g,intent:o,linkService:c}),M.children&&M.children.length>0)S.push([M,-1,d]);else if(M.value){const u=document.createTextNode(M.value);n.XfaText.shouldBuildText(T)&&_.push(u),d.append(u)}}for(const w of E.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:_}}static update(l){const g=`matrix(${l.viewport.transform.join(",")})`;l.div.style.transform=g,l.div.hidden=!1}}t.XfaLayer=s},(e,t,i)=>{var c,r,o,A,S,E,_,v,w,R,F,M,T,d,u,D,Bi,m,Vi,C,$i,q,Hi,z,Nn,j,Ui,$,Bn,pe,ji,U,Wi,k,zi,se,Gi,de,qi,ye,ot,J,Vn,Z,Vt,_e,$t,Pe,pt,we,$n,te,Ht,he,Xi,Oe,Hn,ze,Ki,Ge,Yi,qe,Un,O,Ut,be,gt;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var n=i(1),s=i(4),f=i(29),l=i(5);const Le=class extends s.AnnotationEditor{constructor(ee){super({...ee,name:"inkEditor"});K(this,D);K(this,m);K(this,C);K(this,q);K(this,z);K(this,j);K(this,$);K(this,pe);K(this,U);K(this,k);K(this,se);K(this,de);K(this,ye);K(this,J);K(this,Z);K(this,_e);K(this,Pe);K(this,we);K(this,te);K(this,Ge);K(this,qe);K(this,O);K(this,be);K(this,c,0);K(this,r,0);K(this,o,this.canvasContextMenu.bind(this));K(this,A,this.canvasPointermove.bind(this));K(this,S,this.canvasPointerleave.bind(this));K(this,E,this.canvasPointerup.bind(this));K(this,_,this.canvasPointerdown.bind(this));K(this,v,new Path2D);K(this,w,!1);K(this,R,!1);K(this,F,!1);K(this,M,null);K(this,T,0);K(this,d,0);K(this,u,null);this.color=ee.color||null,this.thickness=ee.thickness||null,this.opacity=ee.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ee){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(Ce=>[Ce,ee.get(Ce)]))}static updateDefaultParams(ee,Ce){switch(ee){case n.AnnotationEditorParamsType.INK_THICKNESS:Le._defaultThickness=Ce;break;case n.AnnotationEditorParamsType.INK_COLOR:Le._defaultColor=Ce;break;case n.AnnotationEditorParamsType.INK_OPACITY:Le._defaultOpacity=Ce/100;break}}updateParams(ee,Ce){switch(ee){case n.AnnotationEditorParamsType.INK_THICKNESS:ae(this,D,Bi).call(this,Ce);break;case n.AnnotationEditorParamsType.INK_COLOR:ae(this,m,Vi).call(this,Ce);break;case n.AnnotationEditorParamsType.INK_OPACITY:ae(this,C,$i).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,Le._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,Le._defaultColor||s.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(Le._defaultOpacity*100)]]}get propertiesToUpdate(){var ee;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Le._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||Le._defaultColor||s.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((ee=this.opacity)!=null?ee:Le._defaultOpacity))]]}rebuild(){!this.parent||(super.rebuild(),this.div!==null&&(this.canvas||(ae(this,Z,Vt).call(this),ae(this,_e,$t).call(this)),this.isAttachedToDOM||(this.parent.add(this),ae(this,Pe,pt).call(this)),ae(this,be,gt).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,a(this,M).disconnect(),me(this,M,null),super.remove())}setParent(ee){!this.parent&&ee?this._uiManager.removeShouldRescale(this):this.parent&&ee===null&&this._uiManager.addShouldRescale(this),super.setParent(ee)}onScaleChanging(){const[ee,Ce]=this.parentDimensions,Be=this.width*ee,Re=this.height*Ce;this.setDimensions(Be,Re)}enableEditMode(){a(this,w)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",a(this,_)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",a(this,_)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){a(this,w)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),me(this,w,!0),this.div.classList.add("disabled"),ae(this,be,gt).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ee){!this._focusEventsAllowed||(super.focusin(ee),this.enableEditMode())}canvasPointerdown(ee){ee.button!==0||!this.isInEditMode()||a(this,w)||(this.setInForeground(),ee.preventDefault(),ee.type!=="mouse"&&this.div.focus(),ae(this,j,Ui).call(this,ee.offsetX,ee.offsetY))}canvasContextMenu(ee){ee.preventDefault()}canvasPointermove(ee){ee.preventDefault(),ae(this,$,Bn).call(this,ee.offsetX,ee.offsetY)}canvasPointerup(ee){ee.preventDefault(),ae(this,J,Vn).call(this,ee)}canvasPointerleave(ee){ae(this,J,Vn).call(this,ee)}get isResizable(){return!this.isEmpty()&&a(this,w)}render(){if(this.div)return this.div;let ee,Ce;this.width&&(ee=this.x,Ce=this.y),super.render(),Le._l10nPromise.get("editor_ink2_aria_label").then(ne=>{var ie;return(ie=this.div)==null?void 0:ie.setAttribute("aria-label",ne)});const[Be,Re,X,V]=ae(this,q,Hi).call(this);if(this.setAt(Be,Re,0,0),this.setDims(X,V),ae(this,Z,Vt).call(this),this.width){const[ne,ie]=this.parentDimensions;this.setAspectRatio(this.width*ne,this.height*ie),this.setAt(ee*ne,Ce*ie,this.width*ne,this.height*ie),me(this,F,!0),ae(this,Pe,pt).call(this),this.setDims(this.width*ne,this.height*ie),ae(this,ye,ot).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ae(this,_e,$t).call(this),this.div}setDimensions(ee,Ce){const Be=Math.round(ee),Re=Math.round(Ce);if(a(this,T)===Be&&a(this,d)===Re)return;me(this,T,Be),me(this,d,Re),this.canvas.style.visibility="hidden";const[X,V]=this.parentDimensions;this.width=ee/X,this.height=Ce/V,this.fixAndSetPosition(),a(this,w)&&ae(this,we,$n).call(this,ee,Ce),ae(this,Pe,pt).call(this),ae(this,ye,ot).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ee,Ce,Be){var $e,De,Ue;if(ee instanceof f.InkAnnotationElement)return null;const Re=super.deserialize(ee,Ce,Be);Re.thickness=ee.thickness,Re.color=n.Util.makeHexColor(...ee.color),Re.opacity=ee.opacity;const[X,V]=Re.pageDimensions,ne=Re.width*X,ie=Re.height*V,fe=Re.parentScale,xe=ee.thickness/2;me(Re,w,!0),me(Re,T,Math.round(ne)),me(Re,d,Math.round(ie));const{paths:Ne,rect:re,rotation:ve}=ee;for(let{bezier:We}of Ne){We=ae($e=Le,ze,Ki).call($e,We,re,ve);const Xe=[];Re.paths.push(Xe);let Ye=fe*(We[0]-xe),Je=fe*(We[1]-xe);for(let Ze=2,Qe=We.length;Ze<Qe;Ze+=6){const it=fe*(We[Ze]-xe),tt=fe*(We[Ze+1]-xe),st=fe*(We[Ze+2]-xe),es=fe*(We[Ze+3]-xe),zn=fe*(We[Ze+4]-xe),Gn=fe*(We[Ze+5]-xe);Xe.push([[Ye,Je],[it,tt],[st,es],[zn,Gn]]),Ye=zn,Je=Gn}const et=ae(this,he,Xi).call(this,Xe);Re.bezierPath2D.push(et)}const ke=ae(De=Re,qe,Un).call(De);return me(Re,r,Math.max(s.AnnotationEditor.MIN_SIZE,ke[2]-ke[0])),me(Re,c,Math.max(s.AnnotationEditor.MIN_SIZE,ke[3]-ke[1])),ae(Ue=Re,we,$n).call(Ue,ne,ie),Re}serialize(){if(this.isEmpty())return null;const ee=this.getRect(0,0),Ce=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:Ce,thickness:this.thickness,opacity:this.opacity,paths:ae(this,Ge,Yi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ee),pageIndex:this.pageIndex,rect:ee,rotation:this.rotation}}};let g=Le;c=new WeakMap,r=new WeakMap,o=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakMap,R=new WeakMap,F=new WeakMap,M=new WeakMap,T=new WeakMap,d=new WeakMap,u=new WeakMap,D=new WeakSet,Bi=function(ee){const Ce=this.thickness;this.addCommands({cmd:()=>{this.thickness=ee,ae(this,be,gt).call(this)},undo:()=>{this.thickness=Ce,ae(this,be,gt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},m=new WeakSet,Vi=function(ee){const Ce=this.color;this.addCommands({cmd:()=>{this.color=ee,ae(this,ye,ot).call(this)},undo:()=>{this.color=Ce,ae(this,ye,ot).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},C=new WeakSet,$i=function(ee){ee/=100;const Ce=this.opacity;this.addCommands({cmd:()=>{this.opacity=ee,ae(this,ye,ot).call(this)},undo:()=>{this.opacity=Ce,ae(this,ye,ot).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},q=new WeakSet,Hi=function(){const{parentRotation:ee,parentDimensions:[Ce,Be]}=this;switch(ee){case 90:return[0,Be,Be,Ce];case 180:return[Ce,Be,Ce,Be];case 270:return[Ce,0,Be,Ce];default:return[0,0,Ce,Be]}},z=new WeakSet,Nn=function(){const{ctx:ee,color:Ce,opacity:Be,thickness:Re,parentScale:X,scaleFactor:V}=this;ee.lineWidth=Re*X/V,ee.lineCap="round",ee.lineJoin="round",ee.miterLimit=10,ee.strokeStyle=`${Ce}${(0,l.opacityToHex)(Be)}`},j=new WeakSet,Ui=function(ee,Ce){var Be;this.canvas.addEventListener("contextmenu",a(this,o)),this.canvas.addEventListener("pointerleave",a(this,S)),this.canvas.addEventListener("pointermove",a(this,A)),this.canvas.addEventListener("pointerup",a(this,E)),this.canvas.removeEventListener("pointerdown",a(this,_)),this.isEditing=!0,a(this,F)||(me(this,F,!0),ae(this,Pe,pt).call(this),this.thickness||(this.thickness=Le._defaultThickness),this.color||(this.color=Le._defaultColor||s.AnnotationEditor._defaultLineColor),(Be=this.opacity)!=null||(this.opacity=Le._defaultOpacity)),this.currentPath.push([ee,Ce]),me(this,R,!1),ae(this,z,Nn).call(this),me(this,u,()=>{ae(this,k,zi).call(this),a(this,u)&&window.requestAnimationFrame(a(this,u))}),window.requestAnimationFrame(a(this,u))},$=new WeakSet,Bn=function(ee,Ce){const[Be,Re]=this.currentPath.at(-1);if(this.currentPath.length>1&&ee===Be&&Ce===Re)return;const X=this.currentPath;let V=a(this,v);if(X.push([ee,Ce]),me(this,R,!0),X.length<=2){V.moveTo(...X[0]),V.lineTo(ee,Ce);return}X.length===3&&(me(this,v,V=new Path2D),V.moveTo(...X[0])),ae(this,se,Gi).call(this,V,...X.at(-3),...X.at(-2),ee,Ce)},pe=new WeakSet,ji=function(){if(this.currentPath.length===0)return;const ee=this.currentPath.at(-1);a(this,v).lineTo(...ee)},U=new WeakSet,Wi=function(ee,Ce){me(this,u,null),ee=Math.min(Math.max(ee,0),this.canvas.width),Ce=Math.min(Math.max(Ce,0),this.canvas.height),ae(this,$,Bn).call(this,ee,Ce),ae(this,pe,ji).call(this);let Be;if(this.currentPath.length!==1)Be=ae(this,de,qi).call(this);else{const ie=[ee,Ce];Be=[[ie,ie.slice(),ie.slice(),ie]]}const Re=a(this,v),X=this.currentPath;this.currentPath=[],me(this,v,new Path2D);const V=()=>{this.allRawPaths.push(X),this.paths.push(Be),this.bezierPath2D.push(Re),this.rebuild()},ne=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ae(this,Z,Vt).call(this),ae(this,_e,$t).call(this)),ae(this,be,gt).call(this))};this.addCommands({cmd:V,undo:ne,mustExec:!0})},k=new WeakSet,zi=function(){if(!a(this,R))return;me(this,R,!1);const ee=Math.ceil(this.thickness*this.parentScale),Ce=this.currentPath.slice(-3),Be=Ce.map(V=>V[0]),Re=Ce.map(V=>V[1]);Math.min(...Be)-ee,Math.max(...Be)+ee,Math.min(...Re)-ee,Math.max(...Re)+ee;const{ctx:X}=this;X.save(),X.clearRect(0,0,this.canvas.width,this.canvas.height);for(const V of this.bezierPath2D)X.stroke(V);X.stroke(a(this,v)),X.restore()},se=new WeakSet,Gi=function(ee,Ce,Be,Re,X,V,ne){const ie=(Ce+Re)/2,fe=(Be+X)/2,xe=(Re+V)/2,Ne=(X+ne)/2;ee.bezierCurveTo(ie+2*(Re-ie)/3,fe+2*(X-fe)/3,xe+2*(Re-xe)/3,Ne+2*(X-Ne)/3,xe,Ne)},de=new WeakSet,qi=function(){const ee=this.currentPath;if(ee.length<=2)return[[ee[0],ee[0],ee.at(-1),ee.at(-1)]];const Ce=[];let Be,[Re,X]=ee[0];for(Be=1;Be<ee.length-2;Be++){const[re,ve]=ee[Be],[ke,$e]=ee[Be+1],De=(re+ke)/2,Ue=(ve+$e)/2,We=[Re+2*(re-Re)/3,X+2*(ve-X)/3],Xe=[De+2*(re-De)/3,Ue+2*(ve-Ue)/3];Ce.push([[Re,X],We,Xe,[De,Ue]]),[Re,X]=[De,Ue]}const[V,ne]=ee[Be],[ie,fe]=ee[Be+1],xe=[Re+2*(V-Re)/3,X+2*(ne-X)/3],Ne=[ie+2*(V-ie)/3,fe+2*(ne-fe)/3];return Ce.push([[Re,X],xe,Ne,[ie,fe]]),Ce},ye=new WeakSet,ot=function(){if(this.isEmpty()){ae(this,te,Ht).call(this);return}ae(this,z,Nn).call(this);const{canvas:ee,ctx:Ce}=this;Ce.setTransform(1,0,0,1,0,0),Ce.clearRect(0,0,ee.width,ee.height),ae(this,te,Ht).call(this);for(const Be of this.bezierPath2D)Ce.stroke(Be)},J=new WeakSet,Vn=function(ee){this.canvas.removeEventListener("pointerleave",a(this,S)),this.canvas.removeEventListener("pointermove",a(this,A)),this.canvas.removeEventListener("pointerup",a(this,E)),this.canvas.addEventListener("pointerdown",a(this,_)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",a(this,o))},10),ae(this,U,Wi).call(this,ee.offsetX,ee.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Z=new WeakSet,Vt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Le._l10nPromise.get("editor_ink_canvas_aria_label").then(ee=>{var Ce;return(Ce=this.canvas)==null?void 0:Ce.setAttribute("aria-label",ee)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},_e=new WeakSet,$t=function(){me(this,M,new ResizeObserver(ee=>{const Ce=ee[0].contentRect;Ce.width&&Ce.height&&this.setDimensions(Ce.width,Ce.height)})),a(this,M).observe(this.div)},Pe=new WeakSet,pt=function(){if(!a(this,F))return;const[ee,Ce]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ee),this.canvas.height=Math.ceil(this.height*Ce),ae(this,te,Ht).call(this)},we=new WeakSet,$n=function(ee,Ce){const Be=ae(this,O,Ut).call(this),Re=(ee-Be)/a(this,r),X=(Ce-Be)/a(this,c);this.scaleFactor=Math.min(Re,X)},te=new WeakSet,Ht=function(){const ee=ae(this,O,Ut).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ee,this.translationY*this.scaleFactor+ee)},he=new WeakSet,Xi=function(ee){const Ce=new Path2D;for(let Be=0,Re=ee.length;Be<Re;Be++){const[X,V,ne,ie]=ee[Be];Be===0&&Ce.moveTo(...X),Ce.bezierCurveTo(V[0],V[1],ne[0],ne[1],ie[0],ie[1])}return Ce},Oe=new WeakSet,Hn=function(ee,Ce,Be){const[Re,X,V,ne]=Ce;switch(Be){case 0:for(let ie=0,fe=ee.length;ie<fe;ie+=2)ee[ie]+=Re,ee[ie+1]=ne-ee[ie+1];break;case 90:for(let ie=0,fe=ee.length;ie<fe;ie+=2){const xe=ee[ie];ee[ie]=ee[ie+1]+Re,ee[ie+1]=xe+X}break;case 180:for(let ie=0,fe=ee.length;ie<fe;ie+=2)ee[ie]=V-ee[ie],ee[ie+1]+=X;break;case 270:for(let ie=0,fe=ee.length;ie<fe;ie+=2){const xe=ee[ie];ee[ie]=V-ee[ie+1],ee[ie+1]=ne-xe}break;default:throw new Error("Invalid rotation")}return ee},ze=new WeakSet,Ki=function(ee,Ce,Be){const[Re,X,V,ne]=Ce;switch(Be){case 0:for(let ie=0,fe=ee.length;ie<fe;ie+=2)ee[ie]-=Re,ee[ie+1]=ne-ee[ie+1];break;case 90:for(let ie=0,fe=ee.length;ie<fe;ie+=2){const xe=ee[ie];ee[ie]=ee[ie+1]-X,ee[ie+1]=xe-Re}break;case 180:for(let ie=0,fe=ee.length;ie<fe;ie+=2)ee[ie]=V-ee[ie],ee[ie+1]-=X;break;case 270:for(let ie=0,fe=ee.length;ie<fe;ie+=2){const xe=ee[ie];ee[ie]=ne-ee[ie+1],ee[ie+1]=V-xe}break;default:throw new Error("Invalid rotation")}return ee},Ge=new WeakSet,Yi=function(ee,Ce,Be,Re){var fe,xe;const X=[],V=this.thickness/2,ne=ee*Ce+V,ie=ee*Be+V;for(const Ne of this.paths){const re=[],ve=[];for(let ke=0,$e=Ne.length;ke<$e;ke++){const[De,Ue,We,Xe]=Ne[ke],Ye=ee*De[0]+ne,Je=ee*De[1]+ie,et=ee*Ue[0]+ne,Ze=ee*Ue[1]+ie,Qe=ee*We[0]+ne,it=ee*We[1]+ie,tt=ee*Xe[0]+ne,st=ee*Xe[1]+ie;ke===0&&(re.push(Ye,Je),ve.push(Ye,Je)),re.push(et,Ze,Qe,it,tt,st),ve.push(et,Ze),ke===$e-1&&ve.push(tt,st)}X.push({bezier:ae(fe=Le,Oe,Hn).call(fe,re,Re,this.rotation),points:ae(xe=Le,Oe,Hn).call(xe,ve,Re,this.rotation)})}return X},qe=new WeakSet,Un=function(){let ee=1/0,Ce=-1/0,Be=1/0,Re=-1/0;for(const X of this.paths)for(const[V,ne,ie,fe]of X){const xe=n.Util.bezierBoundingBox(...V,...ne,...ie,...fe);ee=Math.min(ee,xe[0]),Be=Math.min(Be,xe[1]),Ce=Math.max(Ce,xe[2]),Re=Math.max(Re,xe[3])}return[ee,Be,Ce,Re]},O=new WeakSet,Ut=function(){return a(this,w)?Math.ceil(this.thickness*this.parentScale):0},be=new WeakSet,gt=function(ee=!1){if(this.isEmpty())return;if(!a(this,w)){ae(this,ye,ot).call(this);return}const Ce=ae(this,qe,Un).call(this),Be=ae(this,O,Ut).call(this);me(this,r,Math.max(s.AnnotationEditor.MIN_SIZE,Ce[2]-Ce[0])),me(this,c,Math.max(s.AnnotationEditor.MIN_SIZE,Ce[3]-Ce[1]));const Re=Math.ceil(Be+a(this,r)*this.scaleFactor),X=Math.ceil(Be+a(this,c)*this.scaleFactor),[V,ne]=this.parentDimensions;this.width=Re/V,this.height=X/ne,this.setAspectRatio(Re,X);const ie=this.translationX,fe=this.translationY;this.translationX=-Ce[0],this.translationY=-Ce[1],ae(this,Pe,pt).call(this),ae(this,ye,ot).call(this),me(this,T,Re),me(this,d,X),this.setDims(Re,X);const xe=ee?Be/this.scaleFactor/2:0;this.translate(ie-this.translationX-xe,fe-this.translationY-xe)},K(g,he),K(g,Oe),K(g,ze),nt(g,"_defaultColor",null),nt(g,"_defaultOpacity",1),nt(g,"_defaultThickness",1),nt(g,"_l10nPromise"),nt(g,"_type","ink"),t.InkEditor=g},(e,t,i)=>{var c,r,o,A,S,E,_,v,w,R,F,xt,T,Pt,u,jt,b,jn,L,Ji,N,Zi,I,Wn,Y,Wt,P,Qi;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var n=i(1),s=i(4),f=i(6),l=i(29);const B=class extends s.AnnotationEditor{constructor(U){super({...U,name:"stampEditor"});K(this,F);K(this,T);K(this,u);K(this,b);K(this,L);K(this,N);K(this,I);K(this,Y);K(this,P);K(this,c,null);K(this,r,null);K(this,o,null);K(this,A,null);K(this,S,null);K(this,E,null);K(this,_,null);K(this,v,null);K(this,w,!1);K(this,R,!1);me(this,A,U.bitmapUrl),me(this,S,U.bitmapFile)}static get supportedTypes(){const U=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",U.map(y=>`image/${y}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(U){return this.supportedTypes.includes(U)}static paste(U,y){y.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:U.getAsFile()})}remove(){var U,y;a(this,r)&&(me(this,c,null),this._uiManager.imageManager.deleteId(a(this,r)),(U=a(this,E))==null||U.remove(),me(this,E,null),(y=a(this,_))==null||y.disconnect(),me(this,_,null)),super.remove()}rebuild(){if(!this.parent){a(this,r)&&ae(this,u,jt).call(this);return}super.rebuild(),this.div!==null&&(a(this,r)&&ae(this,u,jt).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(a(this,o)||a(this,c)||a(this,A)||a(this,S))}get isResizable(){return!0}render(){if(this.div)return this.div;let U,y;if(this.width&&(U=this.x,y=this.y),super.render(),this.div.hidden=!0,a(this,c)?ae(this,b,jn).call(this):ae(this,u,jt).call(this),this.width){const[k,H]=this.parentDimensions;this.setAt(U*k,y*H,this.width*k,this.height*H)}return this.div}static deserialize(U,y,k){if(U instanceof l.StampAnnotationElement)return null;const H=super.deserialize(U,y,k),{rect:se,bitmapUrl:Q,bitmapId:de,isSvg:ge}=U;de&&k.imageManager.isValidId(de)?me(H,r,de):me(H,A,Q),me(H,w,ge);const[ye,W]=H.pageDimensions;return H.width=(se[2]-se[0])/ye,H.height=(se[3]-se[1])/W,H}serialize(U=!1,y=null){if(this.isEmpty())return null;const k={annotationType:n.AnnotationEditorType.STAMP,bitmapId:a(this,r),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:a(this,w)};if(U)return k.bitmapUrl=ae(this,Y,Wt).call(this,!0),k;if(y===null)return k;y.stamps||(y.stamps=new Map);const H=a(this,w)?(k.rect[2]-k.rect[0])*(k.rect[3]-k.rect[1]):null;if(!y.stamps.has(a(this,r)))y.stamps.set(a(this,r),{area:H,serialized:k}),k.bitmap=ae(this,Y,Wt).call(this,!1);else if(a(this,w)){const se=y.stamps.get(a(this,r));H>se.area&&(se.area=H,se.serialized.bitmap.close(),se.serialized.bitmap=ae(this,Y,Wt).call(this,!1))}return k}};let g=B;c=new WeakMap,r=new WeakMap,o=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakMap,_=new WeakMap,v=new WeakMap,w=new WeakMap,R=new WeakMap,F=new WeakSet,xt=function(U,y=!1){if(!U){this.remove();return}me(this,c,U.bitmap),y||(me(this,r,U.id),me(this,w,U.isSvg)),ae(this,b,jn).call(this)},T=new WeakSet,Pt=function(){me(this,o,null),this._uiManager.enableWaiting(!1),a(this,E)&&this.div.focus()},u=new WeakSet,jt=function(){if(a(this,r)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(a(this,r)).then(y=>ae(this,F,xt).call(this,y,!0)).finally(()=>ae(this,T,Pt).call(this));return}if(a(this,A)){const y=a(this,A);me(this,A,null),this._uiManager.enableWaiting(!0),me(this,o,this._uiManager.imageManager.getFromUrl(y).then(k=>ae(this,F,xt).call(this,k)).finally(()=>ae(this,T,Pt).call(this)));return}if(a(this,S)){const y=a(this,S);me(this,S,null),this._uiManager.enableWaiting(!0),me(this,o,this._uiManager.imageManager.getFromFile(y).then(k=>ae(this,F,xt).call(this,k)).finally(()=>ae(this,T,Pt).call(this)));return}const U=document.createElement("input");U.type="file",U.accept=B.supportedTypesStr,me(this,o,new Promise(y=>{U.addEventListener("change",async()=>{if(!U.files||U.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const k=await this._uiManager.imageManager.getFromFile(U.files[0]);ae(this,F,xt).call(this,k)}y()}),U.addEventListener("cancel",()=>{this.remove(),y()})}).finally(()=>ae(this,T,Pt).call(this))),U.click()},b=new WeakSet,jn=function(){const{div:U}=this;let{width:y,height:k}=a(this,c);const[H,se]=this.pageDimensions,Q=.75;if(this.width)y=this.width*H,k=this.height*se;else if(y>Q*H||k>Q*se){const W=Math.min(Q*H/y,Q*se/k);y*=W,k*=W}const[de,ge]=this.parentDimensions;this.setDims(y*de/H,k*ge/se),this._uiManager.enableWaiting(!1);const ye=me(this,E,document.createElement("canvas"));U.append(ye),U.hidden=!1,ae(this,I,Wn).call(this,y,k),ae(this,P,Qi).call(this),a(this,R)||(this.parent.addUndoableEditor(this),me(this,R,!0))},L=new WeakSet,Ji=function(U,y){var Q;const[k,H]=this.parentDimensions;this.width=U/k,this.height=y/H,this.setDims(U,y),(Q=this._initialOptions)!=null&&Q.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,a(this,v)!==null&&clearTimeout(a(this,v)),me(this,v,setTimeout(()=>{me(this,v,null),ae(this,I,Wn).call(this,U,y)},200))},N=new WeakSet,Zi=function(U,y){const{width:k,height:H}=a(this,c);let se=k,Q=H,de=a(this,c);for(;se>2*U||Q>2*y;){const ge=se,ye=Q;se>2*U&&(se=se>=16384?Math.floor(se/2)-1:Math.ceil(se/2)),Q>2*y&&(Q=Q>=16384?Math.floor(Q/2)-1:Math.ceil(Q/2));const W=new OffscreenCanvas(se,Q);W.getContext("2d").drawImage(de,0,0,ge,ye,0,0,se,Q),de=W.transferToImageBitmap()}return de},I=new WeakSet,Wn=function(U,y){U=Math.ceil(U),y=Math.ceil(y);const k=a(this,E);if(!k||k.width===U&&k.height===y)return;k.width=U,k.height=y;const H=a(this,w)?a(this,c):ae(this,N,Zi).call(this,U,y),se=k.getContext("2d");se.filter=this._uiManager.hcmFilter,se.drawImage(H,0,0,H.width,H.height,0,0,U,y)},Y=new WeakSet,Wt=function(U){if(U){if(a(this,w)){const H=this._uiManager.imageManager.getSvgUrl(a(this,r));if(H)return H}const y=document.createElement("canvas");return{width:y.width,height:y.height}=a(this,c),y.getContext("2d").drawImage(a(this,c),0,0),y.toDataURL()}if(a(this,w)){const[y,k]=this.pageDimensions,H=Math.round(this.width*y*f.PixelsPerInch.PDF_TO_CSS_UNITS),se=Math.round(this.height*k*f.PixelsPerInch.PDF_TO_CSS_UNITS),Q=new OffscreenCanvas(H,se);return Q.getContext("2d").drawImage(a(this,c),0,0,a(this,c).width,a(this,c).height,0,0,H,se),Q.transferToImageBitmap()}return structuredClone(a(this,c))},P=new WeakSet,Qi=function(){me(this,_,new ResizeObserver(U=>{const y=U[0].contentRect;y.width&&y.height&&ae(this,L,Ji).call(this,y.width,y.height)})),a(this,_).observe(this.div)},nt(g,"_type","stamp"),t.StampEditor=g}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return f.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return l.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return g.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return c.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return r.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return s.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var t=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),s=__w_pdfjs_require__(26),f=__w_pdfjs_require__(27),l=__w_pdfjs_require__(5),g=__w_pdfjs_require__(29),c=__w_pdfjs_require__(14),r=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);const _hoisted_1$2={id:"pdf-document",class:"relative flex flex-col h-screen"},_hoisted_2$1={key:1,class:"font-thin text-2xl text-center text-gray-800 h-40 m-auto"},_sfc_main$3=defineComponent({__name:"PDFViewer",props:{url:{type:String,required:!0}},setup(e){const t=e;pdf.exports.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdf.exports.version}/build/pdf.worker.min.js`;const i=ref("page-width"),n=ref(1),s=ref(null),f=ref(!0),l=ref(null),g=E=>{l.value=E},c=E=>{i.value=E},r=new pdf_viewer.exports.EventBus,o=new pdf_viewer.exports.PDFLinkService({eventBus:r}),A=new pdf_viewer.exports.PDFFindController({eventBus:r,linkService:o});provide("pdf",s),provide("eventBus",r),provide("pdfLinkService",o),provide("pdfFindController",A),onMounted(async()=>{const _=await pdf.exports.getDocument({url:t.url,cMapUrl:`https://unpkg.com/pdfjs-dist@${pdf.exports.version}/cmaps/`,cMapPacked:!0,enableXfa:!0}).promise;s.value=_,r.on("scalechanging",({scale:v})=>{n.value=v})});const S=()=>f.value=!f.value;return(E,_)=>{var R;const v=__unplugin_components_0,w=_sfc_main$5;return openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(v,{title:unref(pdf.exports.getFilenameFromUrl)(e.url),"num-pages":(R=s.value)==null?void 0:R.numPages,"show-sidebar":f.value,"page-scale-value":i.value,"page-zoom":n.value,onOnToggleSidebar:S,onOnPagePrev:_[0]||(_[0]=F=>{var M;return(M=toRaw(l.value))==null?void 0:M.previousPage()}),onOnPageNext:_[1]||(_[1]=F=>{var M;return(M=toRaw(l.value))==null?void 0:M.nextPage()}),onOnZoomIn:_[2]||(_[2]=F=>{var M;return(M=toRaw(l.value))==null?void 0:M.increaseScale()}),onOnZoomOut:_[3]||(_[3]=F=>{var M;return(M=toRaw(l.value))==null?void 0:M.decreaseScale()}),onOnPageScaleChange:c},null,8,["title","num-pages","show-sidebar","page-scale-value","page-zoom"]),s.value?(openBlock(),createBlock(w,{key:0,"show-sidebar":f.value,"page-scale-value":i.value,onOnPdfViewerSet:g},null,8,["show-sidebar","page-scale-value"])):(openBlock(),createElementBlock("div",_hoisted_2$1," Loading... "))])}}}),_hoisted_1$1={key:1,class:"content"},_sfc_main$2=defineComponent({__name:"PDFComponent",props:{url:{type:String,required:!0},loading:Boolean},setup(e){const t=ref(window.innerWidth),i=ref(window.innerHeight),n=()=>{t.value=window.innerWidth,i.value=window.innerHeight};return onMounted(()=>{window.addEventListener("resize",n)}),onBeforeUnmount(()=>{window.removeEventListener("resize",n)}),(s,f)=>(openBlock(),createElementBlock(Fragment,null,[!e.loading&&e.url.length?(openBlock(),createBlock(_sfc_main$3,{key:0,url:e.url},null,8,["url"])):createCommentVNode("",!0),e.url.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1$1,"No media found"))],64))}}),_sfc_main$1=defineComponent({__name:"FloatingWindow",props:["setIsOpen","loading","isBlackTheme","url","top","right","type","typeOfContent","width","height"],setup(e){const t=e,i=ref(null),n=ref(null),s=ref(null),f=ref(null);return onMounted(()=>{if(t.typeOfContent.includes("video")&&!t.width&&!t.height){const l=document.createElement("video");l.addEventListener("loadedmetadata",()=>{s.value=l.videoWidth,f.value=l.videoHeight+100}),l.src=t.url}else if(t.typeOfContent.includes("image")&&!t.width&&!t.height){const l=new Image;l.onload=()=>{i.value=l.naturalWidth,n.value=l.naturalHeight},l.src=t.url}}),(l,g)=>{const c=__unplugin_components_0$3;return openBlock(),createElementBlock("div",null,[e.typeOfContent.includes("video")&&f.value&&s.value||e.typeOfContent.includes("video")&&e.width&&e.height?(openBlock(),createBlock(VideoComponent,{key:0,"set-is-open":e.setIsOpen,"is-black-theme":e.isBlackTheme,url:e.url,top:e.top,right:e.right,type:e.type,width:e.width,height:e.height,"video-width":s.value,"video-height":f.value},null,8,["set-is-open","is-black-theme","url","top","right","type","width","height","video-width","video-height"])):e.typeOfContent.includes("image")?(openBlock(),createBlock(_sfc_main$7,{key:1,"set-is-open":e.setIsOpen,loading:e.loading,url:e.url,top:e.top,right:e.right,width:e.width,height:e.height,"img-width":i.value,"img-height":n.value},null,8,["set-is-open","loading","url","top","right","width","height","img-width","img-height"])):e.typeOfContent.includes("pdf")?(openBlock(),createBlock(_sfc_main$2,{key:2,url:e.url,loading:e.loading},null,8,["url","loading"])):e.typeOfContent.includes("audio")&&!e.loading&&e.url.length?(openBlock(),createBlock(c,{key:3,url:e.url},null,8,["url"])):createCommentVNode("",!0)])}}}),App_vue_vue_type_style_index_0_scoped_2c86ca36_lang="",_hoisted_1={class:"full-screen"},_hoisted_2={key:0,class:"content"},_hoisted_3={key:1},initialWidth=null,initialHeight=null,_sfc_main={__name:"App",props:{msg:{type:String,default:""}},setup(e){const t=ref(!1),i=ref(!0),n=ref("image"),s=ref("image/png"),f=ref("");return onMounted(async()=>{await dl.init(),dl.on("ready",async()=>{const g=(await dl.items.get()).metadata.system.modalities.find(c=>c.type==="preview");if(g){if(g.refType==="url")f.value=g.ref;else{const c=await dl.items.stream(g.stream);f.value=c}s.value=g.mimetype?g.mimetype:s.value,n.value=s.value}i.value=!1})}),(l,g)=>(openBlock(),createElementBlock("div",_hoisted_1,[i.value?(openBlock(),createElementBlock("div",_hoisted_2,"Content is loading...")):(openBlock(),createElementBlock("div",_hoisted_3,[createVNode(_sfc_main$1,{loading:i.value,"type-of-content":n.value,"set-is-open":c=>t.value=c,width:initialWidth,height:initialHeight,url:f.value,type:s.value},null,8,["loading","type-of-content","set-is-open","url","type"])]))]))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-2c86ca36"]]);createApp(App).mount("#app");
