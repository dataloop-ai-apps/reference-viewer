var yi=Object.defineProperty;var Ai=(e,t,i)=>t in e?yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Ke=(e,t,i)=>(Ai(e,typeof t!="symbol"?t+"":t,i),i),Ot=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)};var P=(e,t,i)=>(Ot(e,t,"read from private field"),i?i.call(e):t.get(e)),oe=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},Ee=(e,t,i,n)=>(Ot(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i),mt=(e,t,i,n)=>({set _(r){Ee(e,t,r,i)},get _(){return P(e,t,n)}}),de=(e,t,i)=>(Ot(e,t,"access private method"),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerpolicy&&(d.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?d.credentials="include":r.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(r){if(r.ep)return;r.ep=!0;const d=i(r);fetch(r.href,d)}})();function makeMap(e,t){const i=Object.create(null),n=e.split(",");for(let r=0;r<n.length;r++)i[n[r]]=!0;return t?r=>!!i[r.toLowerCase()]:r=>!!i[r]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>isObject(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,i)=>i?i.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},def=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],r=isString(n)?parseStringStyle(n):normalizeStyle(n);if(r)for(const d in r)t[d]=r[d]}return t}else{if(isString(e))return e;if(isObject(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(i=>{if(i){const n=i.split(propertyDelimiterRE);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let i=0;i<e.length;i++){const n=normalizeClass(e[i]);n&&(t+=n+" ")}else if(isObject(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const toDisplayString=e=>isString(e)?e:e==null?"":isArray(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[n,r])=>(i[`${n} =>`]=r,i),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject(t)&&!isArray(t)&&!isPlainObject$1(t)?String(t):t;let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=i}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let i=0;for(let n=0;n<t.length;n++){const r=t[n];wasTracked(r)&&!newTracked(r)?r.delete(e):t[i++]=r,r.w&=~trackOpBit,r.n&=~trackOpBit}t.length=i}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,i=null,n){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let t=activeEffect,i=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,i){if(shouldTrack&&activeEffect){let n=targetMap.get(e);n||targetMap.set(e,n=new Map);let r=n.get(i);r||n.set(i,r=createDep()),trackEffects(r)}}function trackEffects(e,t){let i=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,i=!wasTracked(e)):i=!e.has(activeEffect),i&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,i,n,r,d){const c=targetMap.get(e);if(!c)return;let _=[];if(t==="clear")_=[...c.values()];else if(i==="length"&&isArray(e)){const v=Number(n);c.forEach((a,l)=>{(l==="length"||l>=v)&&_.push(a)})}else switch(i!==void 0&&_.push(c.get(i)),t){case"add":isArray(e)?isIntegerKey(i)&&_.push(c.get("length")):(_.push(c.get(ITERATE_KEY)),isMap(e)&&_.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(_.push(c.get(ITERATE_KEY)),isMap(e)&&_.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&_.push(c.get(ITERATE_KEY));break}if(_.length===1)_[0]&&triggerEffects(_[0]);else{const v=[];for(const a of _)a&&v.push(...a);triggerEffects(createDep(v))}}function triggerEffects(e,t){const i=isArray(e)?e:[...e];for(const n of i)n.computed&&triggerEffect(n);for(const n of i)n.computed||triggerEffect(n)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const n=toRaw(this);for(let d=0,c=this.length;d<c;d++)track(n,"get",d+"");const r=n[t](...i);return r===-1||r===!1?n[t](...i.map(toRaw)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){pauseTracking();const n=toRaw(this)[t].apply(this,i);return resetTracking(),n}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(n,r,d){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&d===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(n))return n;const c=isArray(n);if(!e){if(c&&hasOwn(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,d);if(r==="hasOwnProperty")return hasOwnProperty}const _=Reflect.get(n,r,d);return(isSymbol(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(e||track(n,"get",r),t)?_:isRef(_)?c&&isIntegerKey(r)?_:_.value:isObject(_)?e?readonly(_):reactive(_):_}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(i,n,r,d){let c=i[n];if(isReadonly(c)&&isRef(c)&&!isRef(r))return!1;if(!e&&(!isShallow(r)&&!isReadonly(r)&&(c=toRaw(c),r=toRaw(r)),!isArray(i)&&isRef(c)&&!isRef(r)))return c.value=r,!0;const _=isArray(i)&&isIntegerKey(n)?Number(n)<i.length:hasOwn(i,n),v=Reflect.set(i,n,r,d);return i===toRaw(d)&&(_?hasChanged(r,c)&&trigger(i,"set",n,r):trigger(i,"add",n,r)),v}}function deleteProperty(e,t){const i=hasOwn(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&trigger(e,"delete",t,void 0),n}function has$1(e,t){const i=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),i}function ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,i=!1,n=!1){e=e.__v_raw;const r=toRaw(e),d=toRaw(t);i||(t!==d&&track(r,"get",t),track(r,"get",d));const{has:c}=getProto(r),_=n?toShallow:i?toReadonly:toReactive;if(c.call(r,t))return _(e.get(t));if(c.call(r,d))return _(e.get(d));e!==r&&e.get(t)}function has(e,t=!1){const i=this.__v_raw,n=toRaw(i),r=toRaw(e);return t||(e!==r&&track(n,"has",e),track(n,"has",r)),e===r?i.has(e):i.has(e)||i.has(r)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const i=toRaw(this),{has:n,get:r}=getProto(i);let d=n.call(i,e);d||(e=toRaw(e),d=n.call(i,e));const c=r.call(i,e);return i.set(e,t),d?hasChanged(t,c)&&trigger(i,"set",e,t):trigger(i,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:i,get:n}=getProto(t);let r=i.call(t,e);r||(e=toRaw(e),r=i.call(t,e)),n&&n.call(t,e);const d=t.delete(e);return r&&trigger(t,"delete",e,void 0),d}function clear(){const e=toRaw(this),t=e.size!==0,i=e.clear();return t&&trigger(e,"clear",void 0,void 0),i}function createForEach(e,t){return function(n,r){const d=this,c=d.__v_raw,_=toRaw(c),v=t?toShallow:e?toReadonly:toReactive;return!e&&track(_,"iterate",ITERATE_KEY),c.forEach((a,l)=>n.call(r,v(a),v(l),d))}}function createIterableMethod(e,t,i){return function(...n){const r=this.__v_raw,d=toRaw(r),c=isMap(d),_=e==="entries"||e===Symbol.iterator&&c,v=e==="keys"&&c,a=r[e](...n),l=i?toShallow:t?toReadonly:toReactive;return!t&&track(d,"iterate",v?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:w,done:R}=a.next();return R?{value:w,done:R}:{value:_?[l(w[0]),l(w[1])]:l(w),done:R}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(d){return get(this,d)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(d){return get(this,d,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},i={get(d){return get(this,d,!0)},get size(){return size(this,!0)},has(d){return has.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(d){return get(this,d,!0,!0)},get size(){return size(this,!0)},has(d){return has.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{e[d]=createIterableMethod(d,!1,!1),i[d]=createIterableMethod(d,!0,!1),t[d]=createIterableMethod(d,!1,!0),n[d]=createIterableMethod(d,!0,!0)}),[e,i,t,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const i=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(n,r,d)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(hasOwn(i,r)&&r in n?i:n,r,d)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,i,n,r){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=r.get(e);if(d)return d;const c=getTargetType(e);if(c===0)return e;const _=new Proxy(e,c===2?n:i);return r.set(e,_),_}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e);const i=e.dep;i&&triggerEffects(i)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:toRaw(t),this._value=i?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const i=this.__v_isShallow||isShallow(t)||isReadonly(t);t=i?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,i)=>unref(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const r=e[t];return isRef(r)&&!isRef(i)?(r.value=i,!0):Reflect.set(e,t,i,n)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,i,n,r){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(e,t,i=!1){let n,r;const d=isFunction(e);return d?(n=e,r=NOOP):(n=e.get,r=e.set),new ComputedRefImpl(n,r,d||!r,i)}function warn(e,...t){}function callWithErrorHandling(e,t,i,n){let r;try{r=n?e(...n):e()}catch(d){handleError(d,t,i)}return r}function callWithAsyncErrorHandling(e,t,i,n){if(isFunction(e)){const d=callWithErrorHandling(e,t,i,n);return d&&isPromise(d)&&d.catch(c=>{handleError(c,t,i)}),d}const r=[];for(let d=0;d<e.length;d++)r.push(callWithAsyncErrorHandling(e[d],t,i,n));return r}function handleError(e,t,i,n=!0){const r=t?t.vnode:null;if(t){let d=t.parent;const c=t.proxy,_=i;for(;d;){const a=d.ec;if(a){for(let l=0;l<a.length;l++)if(a[l](e,c,_)===!1)return}d=d.parent}const v=t.appContext.config.errorHandler;if(v){callWithErrorHandling(v,null,10,[e,c,_]);return}}logError(e,i,r,n)}function logError(e,t,i,n=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,i=queue.length;for(;t<i;){const n=t+i>>>1;getId(queue[n])<e?t=n+1:i=n}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const i=queue[t];i&&i.pre&&(queue.splice(t,1),t--,i())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((i,n)=>getId(i)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const i=getId(e)-getId(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const i=queue[flushIndex];i&&i.active!==!1&&callWithErrorHandling(i,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||EMPTY_OBJ;let r=i;const d=t.startsWith("update:"),c=d&&t.slice(7);if(c&&c in n){const l=`${c==="modelValue"?"model":c}Modifiers`,{number:w,trim:R}=n[l]||EMPTY_OBJ;R&&(r=i.map(A=>isString(A)?A.trim():A)),w&&(r=i.map(looseToNumber))}let _,v=n[_=toHandlerKey(t)]||n[_=toHandlerKey(camelize(t))];!v&&d&&(v=n[_=toHandlerKey(hyphenate(t))]),v&&callWithAsyncErrorHandling(v,e,6,r);const a=n[_+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[_])return;e.emitted[_]=!0,callWithAsyncErrorHandling(a,e,6,r)}}function normalizeEmitsOptions(e,t,i=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const d=e.emits;let c={},_=!1;if(!isFunction(e)){const v=a=>{const l=normalizeEmitsOptions(a,t,!0);l&&(_=!0,extend(c,l))};!i&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}return!d&&!_?(isObject(e)&&n.set(e,null),null):(isArray(d)?d.forEach(v=>c[v]=null):extend(c,d),isObject(e)&&n.set(e,c),c)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,i){if(!t||e._n)return e;const n=(...r)=>{n._d&&setBlockTracking(-1);const d=setCurrentRenderingInstance(t);let c;try{c=e(...r)}finally{setCurrentRenderingInstance(d),n._d&&setBlockTracking(1)}return c};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:i,proxy:n,withProxy:r,props:d,propsOptions:[c],slots:_,attrs:v,emit:a,render:l,renderCache:w,data:R,setupState:A,ctx:f,inheritAttrs:b}=e;let k,I;const L=setCurrentRenderingInstance(e);try{if(i.shapeFlag&4){const E=r||n;k=normalizeVNode(l.call(E,E,w,d,A,R,f)),I=v}else{const E=t;k=normalizeVNode(E.length>1?E(d,{attrs:v,slots:_,emit:a}):E(d,null)),I=t.props?v:getFunctionalFallthrough(v)}}catch(E){blockStack.length=0,handleError(E,e,1),k=createVNode(Comment)}let S=k;if(I&&b!==!1){const E=Object.keys(I),{shapeFlag:D}=S;E.length&&D&7&&(c&&E.some(isModelListener)&&(I=filterModelListeners(I,c)),S=cloneVNode(S,I))}return i.dirs&&(S=cloneVNode(S),S.dirs=S.dirs?S.dirs.concat(i.dirs):i.dirs),i.transition&&(S.transition=i.transition),k=S,setCurrentRenderingInstance(L),k}function filterSingleRoot(e){let t;for(let i=0;i<e.length;i++){const n=e[i];if(isVNode(n)){if(n.type!==Comment||n.children==="v-if"){if(t)return;t=n}}else return}return t}const getFunctionalFallthrough=e=>{let t;for(const i in e)(i==="class"||i==="style"||isOn(i))&&((t||(t={}))[i]=e[i]);return t},filterModelListeners=(e,t)=>{const i={};for(const n in e)(!isModelListener(n)||!(n.slice(9)in t))&&(i[n]=e[n]);return i};function shouldUpdateComponent(e,t,i){const{props:n,children:r,component:d}=e,{props:c,children:_,patchFlag:v}=t,a=d.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&v>=0){if(v&1024)return!0;if(v&16)return n?hasPropsChanged(n,c,a):!!c;if(v&8){const l=t.dynamicProps;for(let w=0;w<l.length;w++){const R=l[w];if(c[R]!==n[R]&&!isEmitListener(a,R))return!0}}}else return(r||_)&&(!_||!_.$stable)?!0:n===c?!1:n?c?hasPropsChanged(n,c,a):!0:!!c;return!1}function hasPropsChanged(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const d=n[r];if(t[d]!==e[d]&&!isEmitListener(i,d))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const isSuspense=e=>e.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,t,i,n,r,d,c,_,v,a){e==null?mountSuspense(t,i,n,r,d,c,_,v,a):patchSuspense(e,t,i,n,r,c,_,v,a)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,t){const i=e.props&&e.props[t];isFunction(i)&&i()}function mountSuspense(e,t,i,n,r,d,c,_,v){const{p:a,o:{createElement:l}}=v,w=l("div"),R=e.suspense=createSuspenseBoundary(e,r,n,t,w,i,d,c,_,v);a(null,R.pendingBranch=e.ssContent,w,null,n,R,d,c),R.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),a(null,e.ssFallback,t,i,n,null,d,c),setActiveBranch(R,e.ssFallback)):R.resolve(!1,!0)}function patchSuspense(e,t,i,n,r,d,c,_,{p:v,um:a,o:{createElement:l}}){const w=t.suspense=e.suspense;w.vnode=t,t.el=e.el;const R=t.ssContent,A=t.ssFallback,{activeBranch:f,pendingBranch:b,isInFallback:k,isHydrating:I}=w;if(b)w.pendingBranch=R,isSameVNodeType(R,b)?(v(b,R,w.hiddenContainer,null,r,w,d,c,_),w.deps<=0?w.resolve():k&&(v(f,A,i,n,r,null,d,c,_),setActiveBranch(w,A))):(w.pendingId++,I?(w.isHydrating=!1,w.activeBranch=b):a(b,r,w),w.deps=0,w.effects.length=0,w.hiddenContainer=l("div"),k?(v(null,R,w.hiddenContainer,null,r,w,d,c,_),w.deps<=0?w.resolve():(v(f,A,i,n,r,null,d,c,_),setActiveBranch(w,A))):f&&isSameVNodeType(R,f)?(v(f,R,i,n,r,w,d,c,_),w.resolve(!0)):(v(null,R,w.hiddenContainer,null,r,w,d,c,_),w.deps<=0&&w.resolve()));else if(f&&isSameVNodeType(R,f))v(f,R,i,n,r,w,d,c,_),setActiveBranch(w,R);else if(triggerEvent(t,"onPending"),w.pendingBranch=R,w.pendingId++,v(null,R,w.hiddenContainer,null,r,w,d,c,_),w.deps<=0)w.resolve();else{const{timeout:L,pendingId:S}=w;L>0?setTimeout(()=>{w.pendingId===S&&w.fallback(A)},L):L===0&&w.fallback(A)}}function createSuspenseBoundary(e,t,i,n,r,d,c,_,v,a,l=!1){const{p:w,m:R,um:A,n:f,o:{parentNode:b,remove:k}}=a;let I;const L=isVNodeSuspensible(e);L&&t!=null&&t.pendingBranch&&(I=t.pendingId,t.deps++);const S=e.props?toNumber(e.props.timeout):void 0,E={vnode:e,parent:t,parentComponent:i,isSVG:c,container:n,hiddenContainer:r,anchor:d,deps:0,pendingId:0,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:l,isUnmounted:!1,effects:[],resolve(D=!1,M=!1){const{vnode:O,activeBranch:s,pendingBranch:u,pendingId:C,effects:g,parentComponent:y,container:U}=E;if(E.isHydrating)E.isHydrating=!1;else if(!D){const K=s&&u.transition&&u.transition.mode==="out-in";K&&(s.transition.afterLeave=()=>{C===E.pendingId&&R(u,U,ne,0)});let{anchor:ne}=E;s&&(ne=f(s),A(s,y,E,!0)),K||R(u,U,ne,0)}setActiveBranch(E,u),E.pendingBranch=null,E.isInFallback=!1;let Y=E.parent,X=!1;for(;Y;){if(Y.pendingBranch){Y.effects.push(...g),X=!0;break}Y=Y.parent}X||queuePostFlushCb(g),E.effects=[],L&&t&&t.pendingBranch&&I===t.pendingId&&(t.deps--,t.deps===0&&!M&&t.resolve()),triggerEvent(O,"onResolve")},fallback(D){if(!E.pendingBranch)return;const{vnode:M,activeBranch:O,parentComponent:s,container:u,isSVG:C}=E;triggerEvent(M,"onFallback");const g=f(O),y=()=>{!E.isInFallback||(w(null,D,u,g,s,null,C,_,v),setActiveBranch(E,D))},U=D.transition&&D.transition.mode==="out-in";U&&(O.transition.afterLeave=y),E.isInFallback=!0,A(O,s,null,!0),U||y()},move(D,M,O){E.activeBranch&&R(E.activeBranch,D,M,O),E.container=D},next(){return E.activeBranch&&f(E.activeBranch)},registerDep(D,M){const O=!!E.pendingBranch;O&&E.deps++;const s=D.vnode.el;D.asyncDep.catch(u=>{handleError(u,D,0)}).then(u=>{if(D.isUnmounted||E.isUnmounted||E.pendingId!==D.suspenseId)return;D.asyncResolved=!0;const{vnode:C}=D;handleSetupResult(D,u,!1),s&&(C.el=s);const g=!s&&D.subTree.el;M(D,C,b(s||D.subTree.el),s?null:f(D.subTree),E,c,v),g&&k(g),updateHOCHostEl(D,C.el),O&&--E.deps===0&&E.resolve()})},unmount(D,M){E.isUnmounted=!0,E.activeBranch&&A(E.activeBranch,i,D,M),E.pendingBranch&&A(E.pendingBranch,i,D,M)}};return E}function hydrateSuspense(e,t,i,n,r,d,c,_,v){const a=t.suspense=createSuspenseBoundary(t,n,i,e.parentNode,document.createElement("div"),null,r,d,c,_,!0),l=v(e,a.pendingBranch=t.ssContent,i,a,d,c);return a.deps===0&&a.resolve(!1,!0),l}function normalizeSuspenseChildren(e){const{shapeFlag:t,children:i}=e,n=t&32;e.ssContent=normalizeSuspenseSlot(n?i.default:i),e.ssFallback=n?normalizeSuspenseSlot(i.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let t;if(isFunction(e)){const i=isBlockTreeEnabled&&e._c;i&&(e._d=!1,openBlock()),e=e(),i&&(e._d=!0,t=currentBlock,closeBlock())}return isArray(e)&&(e=filterSingleRoot(e)),e=normalizeVNode(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,t){e.activeBranch=t;const{vnode:i,parentComponent:n}=e,r=i.el=t.el;n&&n.subTree===i&&(n.vnode.el=r,updateHOCHostEl(n,r))}function isVNodeSuspensible(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}const INITIAL_WATCHER_VALUE={};function watch(e,t,i){return doWatch(e,t,i)}function doWatch(e,t,{immediate:i,deep:n,flush:r,onTrack:d,onTrigger:c}=EMPTY_OBJ){var _;const v=getCurrentScope()===((_=currentInstance)==null?void 0:_.scope)?currentInstance:null;let a,l=!1,w=!1;if(isRef(e)?(a=()=>e.value,l=isShallow(e)):isReactive(e)?(a=()=>e,n=!0):isArray(e)?(w=!0,l=e.some(E=>isReactive(E)||isShallow(E)),a=()=>e.map(E=>{if(isRef(E))return E.value;if(isReactive(E))return traverse(E);if(isFunction(E))return callWithErrorHandling(E,v,2)})):isFunction(e)?t?a=()=>callWithErrorHandling(e,v,2):a=()=>{if(!(v&&v.isUnmounted))return R&&R(),callWithAsyncErrorHandling(e,v,3,[A])}:a=NOOP,t&&n){const E=a;a=()=>traverse(E())}let R,A=E=>{R=L.onStop=()=>{callWithErrorHandling(E,v,4)}},f;if(isInSSRComponentSetup)if(A=NOOP,t?i&&callWithAsyncErrorHandling(t,v,3,[a(),w?[]:void 0,A]):a(),r==="sync"){const E=useSSRContext();f=E.__watcherHandles||(E.__watcherHandles=[])}else return NOOP;let b=w?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const k=()=>{if(!!L.active)if(t){const E=L.run();(n||l||(w?E.some((D,M)=>hasChanged(D,b[M])):hasChanged(E,b)))&&(R&&R(),callWithAsyncErrorHandling(t,v,3,[E,b===INITIAL_WATCHER_VALUE?void 0:w&&b[0]===INITIAL_WATCHER_VALUE?[]:b,A]),b=E)}else L.run()};k.allowRecurse=!!t;let I;r==="sync"?I=k:r==="post"?I=()=>queuePostRenderEffect(k,v&&v.suspense):(k.pre=!0,v&&(k.id=v.uid),I=()=>queueJob(k));const L=new ReactiveEffect(a,I);t?i?k():b=L.run():r==="post"?queuePostRenderEffect(L.run.bind(L),v&&v.suspense):L.run();const S=()=>{L.stop(),v&&v.scope&&remove(v.scope.effects,L)};return f&&f.push(S),S}function instanceWatch(e,t,i){const n=this.proxy,r=isString(e)?e.includes(".")?createPathGetter(n,e):()=>n[e]:e.bind(n,n);let d;isFunction(t)?d=t:(d=t.handler,i=t);const c=currentInstance;setCurrentInstance(this);const _=doWatch(r,d.bind(n),i);return c?setCurrentInstance(c):unsetCurrentInstance(),_}function createPathGetter(e,t){const i=t.split(".");return()=>{let n=e;for(let r=0;r<i.length&&n;r++)n=n[i[r]];return n}}function traverse(e,t){if(!isObject(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray(e))for(let i=0;i<e.length;i++)traverse(e[i],t);else if(isSet(e)||isMap(e))e.forEach(i=>{traverse(i,t)});else if(isPlainObject$1(e))for(const i in e)traverse(e[i],t);return e}function withDirectives(e,t){const i=currentRenderingInstance;if(i===null)return e;const n=getExposeProxy(i)||i.proxy,r=e.dirs||(e.dirs=[]);for(let d=0;d<t.length;d++){let[c,_,v,a=EMPTY_OBJ]=t[d];c&&(isFunction(c)&&(c={mounted:c,updated:c}),c.deep&&traverse(_),r.push({dir:c,instance:n,value:_,oldValue:void 0,arg:v,modifiers:a}))}return e}function invokeDirectiveHook(e,t,i,n){const r=e.dirs,d=t&&t.dirs;for(let c=0;c<r.length;c++){const _=r[c];d&&(_.oldValue=d[c].value);let v=_.dir[n];v&&(pauseTracking(),callWithAsyncErrorHandling(v,i,8,[e.el,_,e,t]),resetTracking())}}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const i=getCurrentInstance(),n=useTransitionState();let r;return()=>{const d=t.default&&getTransitionRawChildren(t.default(),!0);if(!d||!d.length)return;let c=d[0];if(d.length>1){for(const b of d)if(b.type!==Comment){c=b;break}}const _=toRaw(e),{mode:v}=_;if(n.isLeaving)return emptyPlaceholder(c);const a=getKeepAliveChild(c);if(!a)return emptyPlaceholder(c);const l=resolveTransitionHooks(a,_,n,i);setTransitionHooks(a,l);const w=i.subTree,R=w&&getKeepAliveChild(w);let A=!1;const{getTransitionKey:f}=a.type;if(f){const b=f();r===void 0?r=b:b!==r&&(r=b,A=!0)}if(R&&R.type!==Comment&&(!isSameVNodeType(a,R)||A)){const b=resolveTransitionHooks(R,_,n,i);if(setTransitionHooks(R,b),v==="out-in")return n.isLeaving=!0,b.afterLeave=()=>{n.isLeaving=!1,i.update.active!==!1&&i.update()},emptyPlaceholder(c);v==="in-out"&&a.type!==Comment&&(b.delayLeave=(k,I,L)=>{const S=getLeavingNodesForType(n,R);S[String(R.key)]=R,k._leaveCb=()=>{I(),k._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=L})}return c}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:i}=e;let n=i.get(t.type);return n||(n=Object.create(null),i.set(t.type,n)),n}function resolveTransitionHooks(e,t,i,n){const{appear:r,mode:d,persisted:c=!1,onBeforeEnter:_,onEnter:v,onAfterEnter:a,onEnterCancelled:l,onBeforeLeave:w,onLeave:R,onAfterLeave:A,onLeaveCancelled:f,onBeforeAppear:b,onAppear:k,onAfterAppear:I,onAppearCancelled:L}=t,S=String(e.key),E=getLeavingNodesForType(i,e),D=(s,u)=>{s&&callWithAsyncErrorHandling(s,n,9,u)},M=(s,u)=>{const C=u[1];D(s,u),isArray(s)?s.every(g=>g.length<=1)&&C():s.length<=1&&C()},O={mode:d,persisted:c,beforeEnter(s){let u=_;if(!i.isMounted)if(r)u=b||_;else return;s._leaveCb&&s._leaveCb(!0);const C=E[S];C&&isSameVNodeType(e,C)&&C.el._leaveCb&&C.el._leaveCb(),D(u,[s])},enter(s){let u=v,C=a,g=l;if(!i.isMounted)if(r)u=k||v,C=I||a,g=L||l;else return;let y=!1;const U=s._enterCb=Y=>{y||(y=!0,Y?D(g,[s]):D(C,[s]),O.delayedLeave&&O.delayedLeave(),s._enterCb=void 0)};u?M(u,[s,U]):U()},leave(s,u){const C=String(e.key);if(s._enterCb&&s._enterCb(!0),i.isUnmounting)return u();D(w,[s]);let g=!1;const y=s._leaveCb=U=>{g||(g=!0,u(),U?D(f,[s]):D(A,[s]),s._leaveCb=void 0,E[C]===e&&delete E[C])};E[C]=e,R?M(R,[s,y]):y()},clone(s){return resolveTransitionHooks(s,t,i,n)}};return O}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,i){let n=[],r=0;for(let d=0;d<e.length;d++){let c=e[d];const _=i==null?c.key:String(i)+String(c.key!=null?c.key:d);c.type===Fragment?(c.patchFlag&128&&r++,n=n.concat(getTransitionRawChildren(c.children,t,_))):(t||c.type!==Comment)&&n.push(_!=null?cloneVNode(c,{key:_}):c)}if(r>1)for(let d=0;d<n.length;d++)n[d].patchFlag=-2;return n}function defineComponent(e,t){return isFunction(e)?(()=>extend({name:e.name},t,{setup:e}))():e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,i=currentInstance){const n=e.__wdc||(e.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(injectHook(t,n,i),i){let r=i.parent;for(;r&&r.parent;)isKeepAlive(r.parent.vnode)&&injectToKeepAliveRoot(n,t,i,r),r=r.parent}}function injectToKeepAliveRoot(e,t,i,n){const r=injectHook(t,e,n,!0);onUnmounted(()=>{remove(n[t],r)},i)}function injectHook(e,t,i=currentInstance,n=!1){if(i){const r=i[e]||(i[e]=[]),d=t.__weh||(t.__weh=(...c)=>{if(i.isUnmounted)return;pauseTracking(),setCurrentInstance(i);const _=callWithAsyncErrorHandling(t,i,e,c);return unsetCurrentInstance(),resetTracking(),_});return n?r.unshift(d):r.push(d),d}}const createHook=e=>(t,i=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...n)=>t(...n),i),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(e,t,i,n){let r;const d=i&&i[n];if(isArray(e)||isString(e)){r=new Array(e.length);for(let c=0,_=e.length;c<_;c++)r[c]=t(e[c],c,void 0,d&&d[c])}else if(typeof e=="number"){r=new Array(e);for(let c=0;c<e;c++)r[c]=t(c+1,c,void 0,d&&d[c])}else if(isObject(e))if(e[Symbol.iterator])r=Array.from(e,(c,_)=>t(c,_,void 0,d&&d[_]));else{const c=Object.keys(e);r=new Array(c.length);for(let _=0,v=c.length;_<v;_++){const a=c[_];r[_]=t(e[a],a,_,d&&d[_])}}else r=[];return i&&(i[n]=r),r}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:i,setupState:n,data:r,props:d,accessCache:c,type:_,appContext:v}=e;let a;if(t[0]!=="$"){const A=c[t];if(A!==void 0)switch(A){case 1:return n[t];case 2:return r[t];case 4:return i[t];case 3:return d[t]}else{if(hasSetupBinding(n,t))return c[t]=1,n[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return c[t]=2,r[t];if((a=e.propsOptions[0])&&hasOwn(a,t))return c[t]=3,d[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return c[t]=4,i[t];shouldCacheAccess&&(c[t]=0)}}const l=publicPropertiesMap[t];let w,R;if(l)return t==="$attrs"&&track(e,"get",t),l(e);if((w=_.__cssModules)&&(w=w[t]))return w;if(i!==EMPTY_OBJ&&hasOwn(i,t))return c[t]=4,i[t];if(R=v.config.globalProperties,hasOwn(R,t))return R[t]},set({_:e},t,i){const{data:n,setupState:r,ctx:d}=e;return hasSetupBinding(r,t)?(r[t]=i,!0):n!==EMPTY_OBJ&&hasOwn(n,t)?(n[t]=i,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:r,propsOptions:d}},c){let _;return!!i[c]||e!==EMPTY_OBJ&&hasOwn(e,c)||hasSetupBinding(t,c)||(_=d[0])&&hasOwn(_,c)||hasOwn(n,c)||hasOwn(publicPropertiesMap,c)||hasOwn(r.config.globalProperties,c)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:hasOwn(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function normalizePropsOrEmits(e){return isArray(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function withAsyncContext(e){const t=getCurrentInstance();let i=e();return unsetCurrentInstance(),isPromise(i)&&(i=i.catch(n=>{throw setCurrentInstance(t),n})),[i,()=>setCurrentInstance(t)]}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),i=e.proxy,n=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:r,computed:d,methods:c,watch:_,provide:v,inject:a,created:l,beforeMount:w,mounted:R,beforeUpdate:A,updated:f,activated:b,deactivated:k,beforeDestroy:I,beforeUnmount:L,destroyed:S,unmounted:E,render:D,renderTracked:M,renderTriggered:O,errorCaptured:s,serverPrefetch:u,expose:C,inheritAttrs:g,components:y,directives:U,filters:Y}=t;if(a&&resolveInjections(a,n,null),c)for(const ne in c){const ee=c[ne];isFunction(ee)&&(n[ne]=ee.bind(i))}if(r){const ne=r.call(i,i);isObject(ne)&&(e.data=reactive(ne))}if(shouldCacheAccess=!0,d)for(const ne in d){const ee=d[ne],re=isFunction(ee)?ee.bind(i,i):isFunction(ee.get)?ee.get.bind(i,i):NOOP,ve=!isFunction(ee)&&isFunction(ee.set)?ee.set.bind(i):NOOP,Z=computed({get:re,set:ve});Object.defineProperty(n,ne,{enumerable:!0,configurable:!0,get:()=>Z.value,set:we=>Z.value=we})}if(_)for(const ne in _)createWatcher(_[ne],n,i,ne);if(v){const ne=isFunction(v)?v.call(i):v;Reflect.ownKeys(ne).forEach(ee=>{provide(ee,ne[ee])})}l&&callHook$1(l,e,"c");function K(ne,ee){isArray(ee)?ee.forEach(re=>ne(re.bind(i))):ee&&ne(ee.bind(i))}if(K(onBeforeMount,w),K(onMounted,R),K(onBeforeUpdate,A),K(onUpdated,f),K(onActivated,b),K(onDeactivated,k),K(onErrorCaptured,s),K(onRenderTracked,M),K(onRenderTriggered,O),K(onBeforeUnmount,L),K(onUnmounted,E),K(onServerPrefetch,u),isArray(C))if(C.length){const ne=e.exposed||(e.exposed={});C.forEach(ee=>{Object.defineProperty(ne,ee,{get:()=>i[ee],set:re=>i[ee]=re})})}else e.exposed||(e.exposed={});D&&e.render===NOOP&&(e.render=D),g!=null&&(e.inheritAttrs=g),y&&(e.components=y),U&&(e.directives=U)}function resolveInjections(e,t,i=NOOP){isArray(e)&&(e=normalizeInject(e));for(const n in e){const r=e[n];let d;isObject(r)?"default"in r?d=inject(r.from||n,r.default,!0):d=inject(r.from||n):d=inject(r),isRef(d)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>d.value,set:c=>d.value=c}):t[n]=d}}function callHook$1(e,t,i){callWithAsyncErrorHandling(isArray(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,i)}function createWatcher(e,t,i,n){const r=n.includes(".")?createPathGetter(i,n):()=>i[n];if(isString(e)){const d=t[e];isFunction(d)&&watch(r,d)}else if(isFunction(e))watch(r,e.bind(i));else if(isObject(e))if(isArray(e))e.forEach(d=>createWatcher(d,t,i,n));else{const d=isFunction(e.handler)?e.handler.bind(i):t[e.handler];isFunction(d)&&watch(r,d,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:r,optionsCache:d,config:{optionMergeStrategies:c}}=e.appContext,_=d.get(t);let v;return _?v=_:!r.length&&!i&&!n?v=t:(v={},r.length&&r.forEach(a=>mergeOptions(v,a,c,!0)),mergeOptions(v,t,c)),isObject(t)&&d.set(t,v),v}function mergeOptions(e,t,i,n=!1){const{mixins:r,extends:d}=t;d&&mergeOptions(e,d,i,!0),r&&r.forEach(c=>mergeOptions(e,c,i,!0));for(const c in t)if(!(n&&c==="expose")){const _=internalOptionMergeStrats[c]||i&&i[c];e[c]=_?_(e[c],t[c]):t[c]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray(e)&&isArray(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t!=null?t:{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const i=extend(Object.create(null),e);for(const n in t)i[n]=mergeAsArray(e[n],t[n]);return i}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(n,r=null){isFunction(n)||(n=extend({},n)),r!=null&&!isObject(r)&&(r=null);const d=createAppContext(),c=new Set;let _=!1;const v=d.app={_uid:uid$1++,_component:n,_props:r,_container:null,_context:d,_instance:null,version,get config(){return d.config},set config(a){},use(a,...l){return c.has(a)||(a&&isFunction(a.install)?(c.add(a),a.install(v,...l)):isFunction(a)&&(c.add(a),a(v,...l))),v},mixin(a){return d.mixins.includes(a)||d.mixins.push(a),v},component(a,l){return l?(d.components[a]=l,v):d.components[a]},directive(a,l){return l?(d.directives[a]=l,v):d.directives[a]},mount(a,l,w){if(!_){const R=createVNode(n,r);return R.appContext=d,l&&t?t(R,a):e(R,a,w),_=!0,v._container=a,a.__vue_app__=v,getExposeProxy(R.component)||R.component.proxy}},unmount(){_&&(e(null,v._container),delete v._container.__vue_app__)},provide(a,l){return d.provides[a]=l,v},runWithContext(a){currentApp=v;try{return a()}finally{currentApp=null}}};return v}}let currentApp=null;function provide(e,t){if(currentInstance){let i=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===i&&(i=currentInstance.provides=Object.create(n)),i[e]=t}}function inject(e,t,i=!1){const n=currentInstance||currentRenderingInstance;if(n||currentApp){const r=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:currentApp._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return i&&isFunction(t)?t.call(n&&n.proxy):t}}function initProps(e,t,i,n=!1){const r={},d={};def(d,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,r,d);for(const c in e.propsOptions[0])c in r||(r[c]=void 0);i?e.props=n?r:shallowReactive(r):e.type.props?e.props=r:e.props=d,e.attrs=d}function updateProps(e,t,i,n){const{props:r,attrs:d,vnode:{patchFlag:c}}=e,_=toRaw(r),[v]=e.propsOptions;let a=!1;if((n||c>0)&&!(c&16)){if(c&8){const l=e.vnode.dynamicProps;for(let w=0;w<l.length;w++){let R=l[w];if(isEmitListener(e.emitsOptions,R))continue;const A=t[R];if(v)if(hasOwn(d,R))A!==d[R]&&(d[R]=A,a=!0);else{const f=camelize(R);r[f]=resolvePropValue(v,_,f,A,e,!1)}else A!==d[R]&&(d[R]=A,a=!0)}}}else{setFullProps(e,t,r,d)&&(a=!0);let l;for(const w in _)(!t||!hasOwn(t,w)&&((l=hyphenate(w))===w||!hasOwn(t,l)))&&(v?i&&(i[w]!==void 0||i[l]!==void 0)&&(r[w]=resolvePropValue(v,_,w,void 0,e,!0)):delete r[w]);if(d!==_)for(const w in d)(!t||!hasOwn(t,w)&&!0)&&(delete d[w],a=!0)}a&&trigger(e,"set","$attrs")}function setFullProps(e,t,i,n){const[r,d]=e.propsOptions;let c=!1,_;if(t)for(let v in t){if(isReservedProp(v))continue;const a=t[v];let l;r&&hasOwn(r,l=camelize(v))?!d||!d.includes(l)?i[l]=a:(_||(_={}))[l]=a:isEmitListener(e.emitsOptions,v)||(!(v in n)||a!==n[v])&&(n[v]=a,c=!0)}if(d){const v=toRaw(i),a=_||EMPTY_OBJ;for(let l=0;l<d.length;l++){const w=d[l];i[w]=resolvePropValue(r,v,w,a[w],e,!hasOwn(a,w))}}return c}function resolvePropValue(e,t,i,n,r,d){const c=e[i];if(c!=null){const _=hasOwn(c,"default");if(_&&n===void 0){const v=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction(v)){const{propsDefaults:a}=r;i in a?n=a[i]:(setCurrentInstance(r),n=a[i]=v.call(null,t),unsetCurrentInstance())}else n=v}c[0]&&(d&&!_?n=!1:c[1]&&(n===""||n===hyphenate(i))&&(n=!0))}return n}function normalizePropsOptions(e,t,i=!1){const n=t.propsCache,r=n.get(e);if(r)return r;const d=e.props,c={},_=[];let v=!1;if(!isFunction(e)){const l=w=>{v=!0;const[R,A]=normalizePropsOptions(w,t,!0);extend(c,R),A&&_.push(...A)};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!d&&!v)return isObject(e)&&n.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(d))for(let l=0;l<d.length;l++){const w=camelize(d[l]);validatePropName(w)&&(c[w]=EMPTY_OBJ)}else if(d)for(const l in d){const w=camelize(l);if(validatePropName(w)){const R=d[l],A=c[w]=isArray(R)||isFunction(R)?{type:R}:extend({},R);if(A){const f=getTypeIndex(Boolean,A.type),b=getTypeIndex(String,A.type);A[0]=f>-1,A[1]=b<0||f<b,(f>-1||hasOwn(A,"default"))&&_.push(w)}}}const a=[c,_];return isObject(e)&&n.set(e,a),a}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(i=>isSameType(i,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,i)=>{if(t._n)return t;const n=withCtx((...r)=>normalizeSlotValue(t(...r)),i);return n._c=!1,n},normalizeObjectSlots=(e,t,i)=>{const n=e._ctx;for(const r in e){if(isInternalKey(r))continue;const d=e[r];if(isFunction(d))t[r]=normalizeSlot(r,d,n);else if(d!=null){const c=normalizeSlotValue(d);t[r]=()=>c}}},normalizeVNodeSlots=(e,t)=>{const i=normalizeSlotValue(t);e.slots.default=()=>i},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=toRaw(t),def(t,"_",i)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,i)=>{const{vnode:n,slots:r}=e;let d=!0,c=EMPTY_OBJ;if(n.shapeFlag&32){const _=t._;_?i&&_===1?d=!1:(extend(r,t),!i&&_===1&&delete r._):(d=!t.$stable,normalizeObjectSlots(t,r)),c=t}else t&&(normalizeVNodeSlots(e,t),c={default:1});if(d)for(const _ in r)!isInternalKey(_)&&!(_ in c)&&delete r[_]};function setRef(e,t,i,n,r=!1){if(isArray(e)){e.forEach((R,A)=>setRef(R,t&&(isArray(t)?t[A]:t),i,n,r));return}if(isAsyncWrapper(n)&&!r)return;const d=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,c=r?null:d,{i:_,r:v}=e,a=t&&t.r,l=_.refs===EMPTY_OBJ?_.refs={}:_.refs,w=_.setupState;if(a!=null&&a!==v&&(isString(a)?(l[a]=null,hasOwn(w,a)&&(w[a]=null)):isRef(a)&&(a.value=null)),isFunction(v))callWithErrorHandling(v,_,12,[c,l]);else{const R=isString(v),A=isRef(v);if(R||A){const f=()=>{if(e.f){const b=R?hasOwn(w,v)?w[v]:l[v]:v.value;r?isArray(b)&&remove(b,d):isArray(b)?b.includes(d)||b.push(d):R?(l[v]=[d],hasOwn(w,v)&&(w[v]=l[v])):(v.value=[d],e.k&&(l[e.k]=v.value))}else R?(l[v]=c,hasOwn(w,v)&&(w[v]=c)):A&&(v.value=c,e.k&&(l[e.k]=c))};c?(f.id=-1,queuePostRenderEffect(f,i)):f()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const i=getGlobalThis();i.__VUE__=!0;const{insert:n,remove:r,patchProp:d,createElement:c,createText:_,createComment:v,setText:a,setElementText:l,parentNode:w,nextSibling:R,setScopeId:A=NOOP,insertStaticContent:f}=e,b=(F,N,o,m=null,T=null,B=null,$=!1,G=null,ce=!!N.dynamicChildren)=>{if(F===N)return;F&&!isSameVNodeType(F,N)&&(m=z(F),we(F,T,B,!0),F=null),N.patchFlag===-2&&(ce=!1,N.dynamicChildren=null);const{type:Q,ref:q,shapeFlag:J}=N;switch(Q){case Text:k(F,N,o,m);break;case Comment:I(F,N,o,m);break;case Static:F==null&&L(N,o,m,$);break;case Fragment:y(F,N,o,m,T,B,$,G,ce);break;default:J&1?D(F,N,o,m,T,B,$,G,ce):J&6?U(F,N,o,m,T,B,$,G,ce):(J&64||J&128)&&Q.process(F,N,o,m,T,B,$,G,ce,se)}q!=null&&T&&setRef(q,F&&F.ref,B,N||F,!N)},k=(F,N,o,m)=>{if(F==null)n(N.el=_(N.children),o,m);else{const T=N.el=F.el;N.children!==F.children&&a(T,N.children)}},I=(F,N,o,m)=>{F==null?n(N.el=v(N.children||""),o,m):N.el=F.el},L=(F,N,o,m)=>{[F.el,F.anchor]=f(F.children,N,o,m,F.el,F.anchor)},S=({el:F,anchor:N},o,m)=>{let T;for(;F&&F!==N;)T=R(F),n(F,o,m),F=T;n(N,o,m)},E=({el:F,anchor:N})=>{let o;for(;F&&F!==N;)o=R(F),r(F),F=o;r(N)},D=(F,N,o,m,T,B,$,G,ce)=>{$=$||N.type==="svg",F==null?M(N,o,m,T,B,$,G,ce):u(F,N,T,B,$,G,ce)},M=(F,N,o,m,T,B,$,G)=>{let ce,Q;const{type:q,props:J,shapeFlag:fe,transition:ue,dirs:me}=F;if(ce=F.el=c(F.type,B,J&&J.is,J),fe&8?l(ce,F.children):fe&16&&s(F.children,ce,null,m,T,B&&q!=="foreignObject",$,G),me&&invokeDirectiveHook(F,null,m,"created"),O(ce,F,F.scopeId,$,m),J){for(const xe in J)xe!=="value"&&!isReservedProp(xe)&&d(ce,xe,null,J[xe],B,F.children,m,T,H);"value"in J&&d(ce,"value",null,J.value),(Q=J.onVnodeBeforeMount)&&invokeVNodeHook(Q,m,F)}me&&invokeDirectiveHook(F,null,m,"beforeMount");const ye=(!T||T&&!T.pendingBranch)&&ue&&!ue.persisted;ye&&ue.beforeEnter(ce),n(ce,N,o),((Q=J&&J.onVnodeMounted)||ye||me)&&queuePostRenderEffect(()=>{Q&&invokeVNodeHook(Q,m,F),ye&&ue.enter(ce),me&&invokeDirectiveHook(F,null,m,"mounted")},T)},O=(F,N,o,m,T)=>{if(o&&A(F,o),m)for(let B=0;B<m.length;B++)A(F,m[B]);if(T){let B=T.subTree;if(N===B){const $=T.vnode;O(F,$,$.scopeId,$.slotScopeIds,T.parent)}}},s=(F,N,o,m,T,B,$,G,ce=0)=>{for(let Q=ce;Q<F.length;Q++){const q=F[Q]=G?cloneIfMounted(F[Q]):normalizeVNode(F[Q]);b(null,q,N,o,m,T,B,$,G)}},u=(F,N,o,m,T,B,$)=>{const G=N.el=F.el;let{patchFlag:ce,dynamicChildren:Q,dirs:q}=N;ce|=F.patchFlag&16;const J=F.props||EMPTY_OBJ,fe=N.props||EMPTY_OBJ;let ue;o&&toggleRecurse(o,!1),(ue=fe.onVnodeBeforeUpdate)&&invokeVNodeHook(ue,o,N,F),q&&invokeDirectiveHook(N,F,o,"beforeUpdate"),o&&toggleRecurse(o,!0);const me=T&&N.type!=="foreignObject";if(Q?C(F.dynamicChildren,Q,G,o,m,me,B):$||ee(F,N,G,null,o,m,me,B,!1),ce>0){if(ce&16)g(G,N,J,fe,o,m,T);else if(ce&2&&J.class!==fe.class&&d(G,"class",null,fe.class,T),ce&4&&d(G,"style",J.style,fe.style,T),ce&8){const ye=N.dynamicProps;for(let xe=0;xe<ye.length;xe++){const Me=ye[xe],Ie=J[Me],ge=fe[Me];(ge!==Ie||Me==="value")&&d(G,Me,Ie,ge,T,F.children,o,m,H)}}ce&1&&F.children!==N.children&&l(G,N.children)}else!$&&Q==null&&g(G,N,J,fe,o,m,T);((ue=fe.onVnodeUpdated)||q)&&queuePostRenderEffect(()=>{ue&&invokeVNodeHook(ue,o,N,F),q&&invokeDirectiveHook(N,F,o,"updated")},m)},C=(F,N,o,m,T,B,$)=>{for(let G=0;G<N.length;G++){const ce=F[G],Q=N[G],q=ce.el&&(ce.type===Fragment||!isSameVNodeType(ce,Q)||ce.shapeFlag&70)?w(ce.el):o;b(ce,Q,q,null,m,T,B,$,!0)}},g=(F,N,o,m,T,B,$)=>{if(o!==m){if(o!==EMPTY_OBJ)for(const G in o)!isReservedProp(G)&&!(G in m)&&d(F,G,o[G],null,$,N.children,T,B,H);for(const G in m){if(isReservedProp(G))continue;const ce=m[G],Q=o[G];ce!==Q&&G!=="value"&&d(F,G,Q,ce,$,N.children,T,B,H)}"value"in m&&d(F,"value",o.value,m.value)}},y=(F,N,o,m,T,B,$,G,ce)=>{const Q=N.el=F?F.el:_(""),q=N.anchor=F?F.anchor:_("");let{patchFlag:J,dynamicChildren:fe,slotScopeIds:ue}=N;ue&&(G=G?G.concat(ue):ue),F==null?(n(Q,o,m),n(q,o,m),s(N.children,o,q,T,B,$,G,ce)):J>0&&J&64&&fe&&F.dynamicChildren?(C(F.dynamicChildren,fe,o,T,B,$,G),(N.key!=null||T&&N===T.subTree)&&traverseStaticChildren(F,N,!0)):ee(F,N,o,q,T,B,$,G,ce)},U=(F,N,o,m,T,B,$,G,ce)=>{N.slotScopeIds=G,F==null?N.shapeFlag&512?T.ctx.activate(N,o,m,$,ce):Y(N,o,m,T,B,$,ce):X(F,N,ce)},Y=(F,N,o,m,T,B,$)=>{const G=F.component=createComponentInstance(F,m,T);if(isKeepAlive(F)&&(G.ctx.renderer=se),setupComponent(G),G.asyncDep){if(T&&T.registerDep(G,K),!F.el){const ce=G.subTree=createVNode(Comment);I(null,ce,N,o)}return}K(G,F,N,o,T,B,$)},X=(F,N,o)=>{const m=N.component=F.component;if(shouldUpdateComponent(F,N,o))if(m.asyncDep&&!m.asyncResolved){ne(m,N,o);return}else m.next=N,invalidateJob(m.update),m.update();else N.el=F.el,m.vnode=N},K=(F,N,o,m,T,B,$)=>{const G=()=>{if(F.isMounted){let{next:q,bu:J,u:fe,parent:ue,vnode:me}=F,ye=q,xe;toggleRecurse(F,!1),q?(q.el=me.el,ne(F,q,$)):q=me,J&&invokeArrayFns(J),(xe=q.props&&q.props.onVnodeBeforeUpdate)&&invokeVNodeHook(xe,ue,q,me),toggleRecurse(F,!0);const Me=renderComponentRoot(F),Ie=F.subTree;F.subTree=Me,b(Ie,Me,w(Ie.el),z(Ie),F,T,B),q.el=Me.el,ye===null&&updateHOCHostEl(F,Me.el),fe&&queuePostRenderEffect(fe,T),(xe=q.props&&q.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(xe,ue,q,me),T)}else{let q;const{el:J,props:fe}=N,{bm:ue,m:me,parent:ye}=F,xe=isAsyncWrapper(N);if(toggleRecurse(F,!1),ue&&invokeArrayFns(ue),!xe&&(q=fe&&fe.onVnodeBeforeMount)&&invokeVNodeHook(q,ye,N),toggleRecurse(F,!0),J&&ie){const Me=()=>{F.subTree=renderComponentRoot(F),ie(J,F.subTree,F,T,null)};xe?N.type.__asyncLoader().then(()=>!F.isUnmounted&&Me()):Me()}else{const Me=F.subTree=renderComponentRoot(F);b(null,Me,o,m,F,T,B),N.el=Me.el}if(me&&queuePostRenderEffect(me,T),!xe&&(q=fe&&fe.onVnodeMounted)){const Me=N;queuePostRenderEffect(()=>invokeVNodeHook(q,ye,Me),T)}(N.shapeFlag&256||ye&&isAsyncWrapper(ye.vnode)&&ye.vnode.shapeFlag&256)&&F.a&&queuePostRenderEffect(F.a,T),F.isMounted=!0,N=o=m=null}},ce=F.effect=new ReactiveEffect(G,()=>queueJob(Q),F.scope),Q=F.update=()=>ce.run();Q.id=F.uid,toggleRecurse(F,!0),Q()},ne=(F,N,o)=>{N.component=F;const m=F.vnode.props;F.vnode=N,F.next=null,updateProps(F,N.props,m,o),updateSlots(F,N.children,o),pauseTracking(),flushPreFlushCbs(),resetTracking()},ee=(F,N,o,m,T,B,$,G,ce=!1)=>{const Q=F&&F.children,q=F?F.shapeFlag:0,J=N.children,{patchFlag:fe,shapeFlag:ue}=N;if(fe>0){if(fe&128){ve(Q,J,o,m,T,B,$,G,ce);return}else if(fe&256){re(Q,J,o,m,T,B,$,G,ce);return}}ue&8?(q&16&&H(Q,T,B),J!==Q&&l(o,J)):q&16?ue&16?ve(Q,J,o,m,T,B,$,G,ce):H(Q,T,B,!0):(q&8&&l(o,""),ue&16&&s(J,o,m,T,B,$,G,ce))},re=(F,N,o,m,T,B,$,G,ce)=>{F=F||EMPTY_ARR,N=N||EMPTY_ARR;const Q=F.length,q=N.length,J=Math.min(Q,q);let fe;for(fe=0;fe<J;fe++){const ue=N[fe]=ce?cloneIfMounted(N[fe]):normalizeVNode(N[fe]);b(F[fe],ue,o,null,T,B,$,G,ce)}Q>q?H(F,T,B,!0,!1,J):s(N,o,m,T,B,$,G,ce,J)},ve=(F,N,o,m,T,B,$,G,ce)=>{let Q=0;const q=N.length;let J=F.length-1,fe=q-1;for(;Q<=J&&Q<=fe;){const ue=F[Q],me=N[Q]=ce?cloneIfMounted(N[Q]):normalizeVNode(N[Q]);if(isSameVNodeType(ue,me))b(ue,me,o,null,T,B,$,G,ce);else break;Q++}for(;Q<=J&&Q<=fe;){const ue=F[J],me=N[fe]=ce?cloneIfMounted(N[fe]):normalizeVNode(N[fe]);if(isSameVNodeType(ue,me))b(ue,me,o,null,T,B,$,G,ce);else break;J--,fe--}if(Q>J){if(Q<=fe){const ue=fe+1,me=ue<q?N[ue].el:m;for(;Q<=fe;)b(null,N[Q]=ce?cloneIfMounted(N[Q]):normalizeVNode(N[Q]),o,me,T,B,$,G,ce),Q++}}else if(Q>fe)for(;Q<=J;)we(F[Q],T,B,!0),Q++;else{const ue=Q,me=Q,ye=new Map;for(Q=me;Q<=fe;Q++){const j=N[Q]=ce?cloneIfMounted(N[Q]):normalizeVNode(N[Q]);j.key!=null&&ye.set(j.key,Q)}let xe,Me=0;const Ie=fe-me+1;let ge=!1,Re=0;const Ne=new Array(Ie);for(Q=0;Q<Ie;Q++)Ne[Q]=0;for(Q=ue;Q<=J;Q++){const j=F[Q];if(Me>=Ie){we(j,T,B,!0);continue}let W;if(j.key!=null)W=ye.get(j.key);else for(xe=me;xe<=fe;xe++)if(Ne[xe-me]===0&&isSameVNodeType(j,N[xe])){W=xe;break}W===void 0?we(j,T,B,!0):(Ne[W-me]=Q+1,W>=Re?Re=W:ge=!0,b(j,N[W],o,null,T,B,$,G,ce),Me++)}const je=ge?getSequence(Ne):EMPTY_ARR;for(xe=je.length-1,Q=Ie-1;Q>=0;Q--){const j=me+Q,W=N[j],te=j+1<q?N[j+1].el:m;Ne[Q]===0?b(null,W,o,te,T,B,$,G,ce):ge&&(xe<0||Q!==je[xe]?Z(W,o,te,2):xe--)}}},Z=(F,N,o,m,T=null)=>{const{el:B,type:$,transition:G,children:ce,shapeFlag:Q}=F;if(Q&6){Z(F.component.subTree,N,o,m);return}if(Q&128){F.suspense.move(N,o,m);return}if(Q&64){$.move(F,N,o,se);return}if($===Fragment){n(B,N,o);for(let J=0;J<ce.length;J++)Z(ce[J],N,o,m);n(F.anchor,N,o);return}if($===Static){S(F,N,o);return}if(m!==2&&Q&1&&G)if(m===0)G.beforeEnter(B),n(B,N,o),queuePostRenderEffect(()=>G.enter(B),T);else{const{leave:J,delayLeave:fe,afterLeave:ue}=G,me=()=>n(B,N,o),ye=()=>{J(B,()=>{me(),ue&&ue()})};fe?fe(B,me,ye):ye()}else n(B,N,o)},we=(F,N,o,m=!1,T=!1)=>{const{type:B,props:$,ref:G,children:ce,dynamicChildren:Q,shapeFlag:q,patchFlag:J,dirs:fe}=F;if(G!=null&&setRef(G,null,o,F,!0),q&256){N.ctx.deactivate(F);return}const ue=q&1&&fe,me=!isAsyncWrapper(F);let ye;if(me&&(ye=$&&$.onVnodeBeforeUnmount)&&invokeVNodeHook(ye,N,F),q&6)V(F.component,o,m);else{if(q&128){F.suspense.unmount(o,m);return}ue&&invokeDirectiveHook(F,null,N,"beforeUnmount"),q&64?F.type.remove(F,N,o,T,se,m):Q&&(B!==Fragment||J>0&&J&64)?H(Q,N,o,!1,!0):(B===Fragment&&J&384||!T&&q&16)&&H(ce,N,o),m&&Ce(F)}(me&&(ye=$&&$.onVnodeUnmounted)||ue)&&queuePostRenderEffect(()=>{ye&&invokeVNodeHook(ye,N,F),ue&&invokeDirectiveHook(F,null,N,"unmounted")},o)},Ce=F=>{const{type:N,el:o,anchor:m,transition:T}=F;if(N===Fragment){le(o,m);return}if(N===Static){E(F);return}const B=()=>{r(o),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(F.shapeFlag&1&&T&&!T.persisted){const{leave:$,delayLeave:G}=T,ce=()=>$(o,B);G?G(F.el,B,ce):ce()}else B()},le=(F,N)=>{let o;for(;F!==N;)o=R(F),r(F),F=o;r(N)},V=(F,N,o)=>{const{bum:m,scope:T,update:B,subTree:$,um:G}=F;m&&invokeArrayFns(m),T.stop(),B&&(B.active=!1,we($,F,N,o)),G&&queuePostRenderEffect(G,N),queuePostRenderEffect(()=>{F.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},H=(F,N,o,m=!1,T=!1,B=0)=>{for(let $=B;$<F.length;$++)we(F[$],N,o,m,T)},z=F=>F.shapeFlag&6?z(F.component.subTree):F.shapeFlag&128?F.suspense.next():R(F.anchor||F.el),ae=(F,N,o)=>{F==null?N._vnode&&we(N._vnode,null,null,!0):b(N._vnode||null,F,N,null,null,null,o),flushPreFlushCbs(),flushPostFlushCbs(),N._vnode=F},se={p:b,um:we,m:Z,r:Ce,mt:Y,mc:s,pc:ee,pbc:C,n:z,o:e};let pe,ie;return t&&([pe,ie]=t(se)),{render:ae,hydrate:pe,createApp:createAppAPI(ae,pe)}}function toggleRecurse({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function traverseStaticChildren(e,t,i=!1){const n=e.children,r=t.children;if(isArray(n)&&isArray(r))for(let d=0;d<n.length;d++){const c=n[d];let _=r[d];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=r[d]=cloneIfMounted(r[d]),_.el=c.el),i||traverseStaticChildren(c,_)),_.type===Text&&(_.el=c.el)}}function getSequence(e){const t=e.slice(),i=[0];let n,r,d,c,_;const v=e.length;for(n=0;n<v;n++){const a=e[n];if(a!==0){if(r=i[i.length-1],e[r]<a){t[n]=r,i.push(n);continue}for(d=0,c=i.length-1;d<c;)_=d+c>>1,e[i[_]]<a?d=_+1:c=_;a<e[i[d]]&&(d>0&&(t[n]=i[d-1]),i[d]=n)}}for(d=i.length,c=i[d-1];d-- >0;)i[d]=c,c=t[c];return i}const isTeleport=e=>e.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,i,n,r,d){return setupBlock(createBaseVNode(e,t,i,n,r,d,!0))}function createBlock(e,t,i,n,r){return setupBlock(createVNode(e,t,i,n,r,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e!=null?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!i}:e:null);function createBaseVNode(e,t=null,i=null,n=0,r=null,d=e===Fragment?0:1,c=!1,_=!1){const v={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return _?(normalizeChildren(v,i),d&128&&e.normalize(v)):i&&(v.shapeFlag|=isString(i)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(v.patchFlag>0||d&6)&&v.patchFlag!==32&&currentBlock.push(v),v}const createVNode=_createVNode;function _createVNode(e,t=null,i=null,n=0,r=null,d=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const _=cloneVNode(e,t,!0);return i&&normalizeChildren(_,i),isBlockTreeEnabled>0&&!d&&currentBlock&&(_.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=_:currentBlock.push(_)),_.patchFlag|=-2,_}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:_,style:v}=t;_&&!isString(_)&&(t.class=normalizeClass(_)),isObject(v)&&(isProxy(v)&&!isArray(v)&&(v=extend({},v)),t.style=normalizeStyle(v))}const c=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,i,n,r,c,d,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,i=!1){const{props:n,ref:r,patchFlag:d,children:c}=e,_=t?mergeProps(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&normalizeKey(_),ref:t&&t.ref?i&&r?isArray(r)?r.concat(normalizeRef(t)):[r,normalizeRef(t)]:normalizeRef(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let i=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(isArray(t))i=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),normalizeChildren(e,r()),r._c&&(r._d=!0));return}else{i=32;const r=t._;!r&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:r===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},i=32):(t=String(t),n&64?(i=16,t=[createTextVNode(t)]):i=8);e.children=t,e.shapeFlag|=i}function mergeProps(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=normalizeClass([t.class,n.class]));else if(r==="style")t.style=normalizeStyle([t.style,n.style]);else if(isOn(r)){const d=t[r],c=n[r];c&&d!==c&&!(isArray(d)&&d.includes(c))&&(t[r]=d?[].concat(d,c):c)}else r!==""&&(t[r]=n[r])}return t}function invokeVNodeHook(e,t,i,n=null){callWithAsyncErrorHandling(e,t,7,[i,n])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,i){const n=e.type,r=(t?t.appContext:e.appContext)||emptyAppContext,d={uid:uid++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,r),emitsOptions:normalizeEmitsOptions(n,r),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=emit.bind(null,d),e.ce&&e.ce(d),d}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(e=>currentInstance=e),internalSetCurrentInstance=e=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(t=>t(e)):globalCurrentInstanceSetters[0](e)};const setCurrentInstance=e=>{internalSetCurrentInstance(e),e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:i,children:n}=e.vnode,r=isStatefulComponent(e);initProps(e,i,r,t),initSlots(e,n);const d=r?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,d}function setupStatefulComponent(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:n}=i;if(n){const r=e.setupContext=n.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const d=callWithErrorHandling(n,e,0,[e.props,r]);if(resetTracking(),unsetCurrentInstance(),isPromise(d)){if(d.then(unsetCurrentInstance,unsetCurrentInstance),t)return d.then(c=>{handleSetupResult(e,c,t)}).catch(c=>{handleError(c,e,0)});e.asyncDep=d}else handleSetupResult(e,d,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,i){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,i)}let compile;function finishComponentSetup(e,t,i){const n=e.type;if(!e.render){if(!t&&compile&&!n.render){const r=n.template||resolveMergedOptions(e).template;if(r){const{isCustomElement:d,compilerOptions:c}=e.appContext.config,{delimiters:_,compilerOptions:v}=n,a=extend(extend({isCustomElement:d,delimiters:_},c),v);n.render=compile(r,a)}}e.render=n.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,i){return track(e,"get","$attrs"),t[i]}}))}function createSetupContext(e){const t=i=>{e.exposed=i||{}};return{get attrs(){return getAttrsProxy(e)},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in publicPropertiesMap)return publicPropertiesMap[i](e)},has(t,i){return i in t||i in publicPropertiesMap}}))}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,i){const n=arguments.length;return n===2?isObject(t)&&!isArray(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&isVNode(i)&&(i=[i]),createVNode(e,t,i))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const r=t?doc.createElementNS(svgNS,e):doc.createElement(e,i?{is:i}:void 0);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,r,d){const c=i?i.previousSibling:t.lastChild;if(r&&(r===d||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),i),!(r===d||!(r=r.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${e}</svg>`:e;const _=templateContainer.content;if(n){const v=_.firstChild;for(;v.firstChild;)_.appendChild(v.firstChild);_.removeChild(v)}t.insertBefore(_,i)}return[c?c.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function patchClass(e,t,i){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,i){const n=e.style,r=isString(i);if(i&&!r){if(t&&!isString(t))for(const d in t)i[d]==null&&setStyle(n,d,"");for(const d in i)setStyle(n,d,i[d])}else{const d=n.display;r?t!==i&&(n.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=d)}}const importantRE=/\s*!important$/;function setStyle(e,t,i){if(isArray(i))i.forEach(n=>setStyle(e,t,n));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const n=autoPrefix(e,t);importantRE.test(i)?e.setProperty(hyphenate(n),i.replace(importantRE,""),"important"):e[n]=i}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const i=prefixCache[t];if(i)return i;let n=camelize(t);if(n!=="filter"&&n in e)return prefixCache[t]=n;n=capitalize(n);for(let r=0;r<prefixes.length;r++){const d=prefixes[r]+n;if(d in e)return prefixCache[t]=d}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,i,n,r){if(n&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,i);else{const d=isSpecialBooleanAttr(t);i==null||d&&!includeBooleanAttr(i)?e.removeAttribute(t):e.setAttribute(t,d?"":i)}}function patchDOMProp(e,t,i,n,r,d,c){if(t==="innerHTML"||t==="textContent"){n&&c(n,r,d),e[t]=i==null?"":i;return}const _=e.tagName;if(t==="value"&&_!=="PROGRESS"&&!_.includes("-")){e._value=i;const a=_==="OPTION"?e.getAttribute("value"):e.value,l=i==null?"":i;a!==l&&(e.value=l),i==null&&e.removeAttribute(t);return}let v=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=includeBooleanAttr(i):i==null&&a==="string"?(i="",v=!0):a==="number"&&(i=0,v=!0)}try{e[t]=i}catch{}v&&e.removeAttribute(t)}function addEventListener(e,t,i,n){e.addEventListener(t,i,n)}function removeEventListener(e,t,i,n){e.removeEventListener(t,i,n)}function patchEvent(e,t,i,n,r=null){const d=e._vei||(e._vei={}),c=d[t];if(n&&c)c.value=n;else{const[_,v]=parseName(t);if(n){const a=d[t]=createInvoker(n,r);addEventListener(e,_,a,v)}else c&&(removeEventListener(e,_,c,v),d[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let n;for(;n=e.match(optionsModifierRE);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,i.value),t,5,[n])};return i.value=e,i.attached=getNow(),i}function patchStopImmediatePropagation(e,t){if(isArray(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,i,n,r=!1,d,c,_,v)=>{t==="class"?patchClass(e,n,r):t==="style"?patchStyle(e,i,n):isOn(t)?isModelListener(t)||patchEvent(e,t,i,n,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,n,r))?patchDOMProp(e,t,n,d,c,_,v):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),patchAttr(e,t,n,r))};function shouldSetAsProp(e,t,i,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(i)?!1:t in e}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=(e,t=[])=>{isArray(e)?e.forEach(i=>i(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const y in e)y in DOMTransitionPropsValidators||(t[y]=e[y]);if(e.css===!1)return t;const{name:i="v",type:n,duration:r,enterFromClass:d=`${i}-enter-from`,enterActiveClass:c=`${i}-enter-active`,enterToClass:_=`${i}-enter-to`,appearFromClass:v=d,appearActiveClass:a=c,appearToClass:l=_,leaveFromClass:w=`${i}-leave-from`,leaveActiveClass:R=`${i}-leave-active`,leaveToClass:A=`${i}-leave-to`}=e,f=normalizeDuration(r),b=f&&f[0],k=f&&f[1],{onBeforeEnter:I,onEnter:L,onEnterCancelled:S,onLeave:E,onLeaveCancelled:D,onBeforeAppear:M=I,onAppear:O=L,onAppearCancelled:s=S}=t,u=(y,U,Y)=>{removeTransitionClass(y,U?l:_),removeTransitionClass(y,U?a:c),Y&&Y()},C=(y,U)=>{y._isLeaving=!1,removeTransitionClass(y,w),removeTransitionClass(y,A),removeTransitionClass(y,R),U&&U()},g=y=>(U,Y)=>{const X=y?O:L,K=()=>u(U,y,Y);callHook(X,[U,K]),nextFrame(()=>{removeTransitionClass(U,y?v:d),addTransitionClass(U,y?l:_),hasExplicitCallback(X)||whenTransitionEnds(U,n,b,K)})};return extend(t,{onBeforeEnter(y){callHook(I,[y]),addTransitionClass(y,d),addTransitionClass(y,c)},onBeforeAppear(y){callHook(M,[y]),addTransitionClass(y,v),addTransitionClass(y,a)},onEnter:g(!1),onAppear:g(!0),onLeave(y,U){y._isLeaving=!0;const Y=()=>C(y,U);addTransitionClass(y,w),forceReflow(),addTransitionClass(y,R),nextFrame(()=>{!y._isLeaving||(removeTransitionClass(y,w),addTransitionClass(y,A),hasExplicitCallback(E)||whenTransitionEnds(y,n,k,Y))}),callHook(E,[y,Y])},onEnterCancelled(y){u(y,!1),callHook(S,[y])},onAppearCancelled(y){u(y,!0),callHook(s,[y])},onLeaveCancelled(y){C(y),callHook(D,[y])}})}function normalizeDuration(e){if(e==null)return null;if(isObject(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,i,n){const r=e._endId=++endId,d=()=>{r===e._endId&&n()};if(i)return setTimeout(d,i);const{type:c,timeout:_,propCount:v}=getTransitionInfo(e,t);if(!c)return n();const a=c+"end";let l=0;const w=()=>{e.removeEventListener(a,R),d()},R=A=>{A.target===e&&++l>=v&&w()};setTimeout(()=>{l<v&&w()},_+1),e.addEventListener(a,R)}function getTransitionInfo(e,t){const i=window.getComputedStyle(e),n=f=>(i[f]||"").split(", "),r=n(`${TRANSITION}Delay`),d=n(`${TRANSITION}Duration`),c=getTimeout(r,d),_=n(`${ANIMATION}Delay`),v=n(`${ANIMATION}Duration`),a=getTimeout(_,v);let l=null,w=0,R=0;t===TRANSITION?c>0&&(l=TRANSITION,w=c,R=d.length):t===ANIMATION?a>0&&(l=ANIMATION,w=a,R=v.length):(w=Math.max(c,a),l=w>0?c>a?TRANSITION:ANIMATION:null,R=l?l===TRANSITION?d.length:v.length:0);const A=l===TRANSITION&&/\b(transform|all)(,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:l,timeout:w,propCount:R,hasTransform:A}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,n)=>toMs(i)+toMs(e[n])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray(t)?i=>invokeArrayFns(t,i):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:i,number:n}},r){e._assign=getModelAssigner(r);const d=n||r.props&&r.props.type==="number";addEventListener(e,t?"change":"input",c=>{if(c.target.composing)return;let _=e.value;i&&(_=_.trim()),d&&(_=looseToNumber(_)),e._assign(_)}),i&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:n,number:r}},d){if(e._assign=getModelAssigner(d),e.composing||document.activeElement===e&&e.type!=="range"&&(i||n&&e.value.trim()===t||(r||e.type==="number")&&looseToNumber(e.value)===t))return;const c=t==null?"":t;e.value!==c&&(e.value=c)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(i=>e[`${i}Key`]&&!t.includes(i))},withModifiers=(e,t)=>(i,...n)=>{for(let r=0;r<t.length;r++){const d=modifierGuards[t[r]];if(d&&d(i,t))return}return e(i,...n)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>i=>{if(!("key"in i))return;const n=hyphenate(i.key);if(t.some(r=>r===n||keyNames[r]===n))return e(i)},vShow={beforeMount(e,{value:t},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:n}){!t!=!i&&(n?t?(n.beforeEnter(e),setDisplay(e,!0),n.enter(e)):n.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:i}=t;return t.mount=n=>{const r=normalizeContainer(n);if(!r)return;const d=t._component;!isFunction(d)&&!d.render&&!d.template&&(d.template=r.innerHTML),r.innerHTML="";const c=i(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),c},t};function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const style$1="",style="",_hoisted_1$n={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_hoisted_2$l=createBaseVNode("g",{fill:"none","fill-rule":"evenodd"},[createBaseVNode("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),createBaseVNode("path",{fill:"currentColor",d:"M5.669 4.76a1.469 1.469 0 0 1 2.04-1.177c1.062.454 3.442 1.533 6.462 3.276c3.021 1.744 5.146 3.267 6.069 3.958c.788.591.79 1.763.001 2.356c-.914.687-3.013 2.19-6.07 3.956c-3.06 1.766-5.412 2.832-6.464 3.28c-.906.387-1.92-.2-2.038-1.177c-.138-1.142-.396-3.735-.396-7.237c0-3.5.257-6.092.396-7.235Z"})],-1),_hoisted_3$k=[_hoisted_2$l];function render$d(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$n,_hoisted_3$k)}const __unplugin_components_3$1={name:"mingcute-play-fill",render:render$d},_hoisted_1$m={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},_hoisted_2$k=createBaseVNode("path",{fill:"currentColor",d:"M5.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75A.75.75 0 0 0 7.25 3h-1.5Zm7 0a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75a.75.75 0 0 0-.75-.75h-1.5Z"},null,-1),_hoisted_3$j=[_hoisted_2$k];function render$c(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$m,_hoisted_3$j)}const __unplugin_components_2$1={name:"heroicons-pause20-solid",render:render$c},_hoisted_1$l=["onClick","onPointerdown","onPointermove","onPointerup"],frameRequest=null,_sfc_main$b=defineComponent({__name:"Slider",props:{modelValue:{type:Number,required:!0},position:{type:String,default:"horizontal",required:!1,validator:e=>["horizontal","vertical"].includes(e)}},emits:["update:modelValue","click","dragStart","dragMove","dragEnd"],setup(e,{emit:t}){const i=e,n=i.position==="vertical",r=ref(10);let d,c=null;const _=ref(!1),v=ref(null),a=computed({get(){return i.modelValue},set(b){t("update:modelValue",b)}});watch(a,b=>{r.value=b},{immediate:!0}),watch(r,b=>{a.value=b});const l=b=>{const{clientX:k,clientY:I}=b,{left:L,bottom:S,width:E,height:D}=v.value.getBoundingClientRect(),M=n?S-I:k-L,s=Math.max(0,Math.min(1,M/(n?D:E)));r.value=s,t("click",s)},w=b=>{const{pointerId:k,clientX:I,clientY:L}=b;c=n?L:I,v.value.setPointerCapture(k),t("dragStart",c)},R=()=>{if(!d||!_.value)return;const{width:b,height:k,left:I,bottom:L}=v.value.getBoundingClientRect(),S=n?k:b,E=n?L-d:d-I,D=Math.max(0,Math.min(1,E/S));r.value=D,t("dragMove",D),_.value=!1},A=b=>{if(!c||_.value)return;_.value=!0;const{clientX:k,clientY:I}=b;d=n?I:k,window.requestAnimationFrame(R)},f=b=>{v.value.releasePointerCapture(b.pointerId),c=null,d=null,_.value=!1,t("dragEnd",r.value)};return onBeforeUnmount(()=>{window.cancelAnimationFrame(frameRequest)}),(b,k)=>(openBlock(),createElementBlock("div",{ref_key:"wrapper",ref:v,class:normalizeClass(["flex items-center justify-center cursor-pointer",[n?"h-full w-3":"w-full h-3"]]),onClick:withModifiers(l,["prevent","stop"]),onPointerdown:withModifiers(w,["prevent","stop"]),onPointermove:withModifiers(A,["prevent","stop"]),onPointerup:withModifiers(f,["prevent","stop"])},[createBaseVNode("div",{class:normalizeClass(["bg-[#555] rounded-md relative z-10",[n?"h-full w-0.5":"w-full h-0.5 "]])},[createBaseVNode("div",{class:normalizeClass(["absolute bg-primary rounded-md",[n?"w-1 bottom-0 translate-x-1/2 right-1/2 ":"h-1 left-0 -translate-y-1/2 top-1/2"]]),style:normalizeStyle(`${n?"height":"width"}:  ${r.value*100}%`)},[createBaseVNode("div",{class:normalizeClass(["touch-none select-none cursor-pointer absolute w-3 h-3 rounded-full shadow-sm hover:scale-150 hover:shadow-md transition-all duration-75 ease-in bg-white",[n?"-translate-x-1/2 left-1/2 -translate-y-1/2":"right-0 top-1/2 -translate-y-1/2 translate-x-1/2 "]])},null,2)],6)],2)],42,_hoisted_1$l))}});function getAugmentedNamespace(e){var t=e.default;if(typeof t=="function"){var i=function(){return t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),i}var resolveConfig$2={},resolveConfig$1={},negateValue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i){if(i=`${i}`,i==="0")return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(i))return i.replace(/^[+-]?/,r=>r==="-"?"":"-");let n=["var","calc","min","max","clamp"];for(const r of n)if(i.includes(`${r}(`))return`calc(${i} * -1)`}})(negateValue);var corePluginList={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});const t=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","content"]})(corePluginList);var configurePlugins={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i,n){return i===void 0?n:Array.isArray(i)?i:[...new Set(n.filter(d=>i!==!1&&i[d]!==!1).concat(Object.keys(i).filter(d=>i[d]!==!1)))]}})(configurePlugins);var colors={},log={},picocolors_browser={exports:{}},x=String,create=function(){return{isColorSupported:!1,reset:x,bold:x,dim:x,italic:x,underline:x,inverse:x,hidden:x,strikethrough:x,black:x,red:x,green:x,yellow:x,blue:x,magenta:x,cyan:x,white:x,gray:x,bgBlack:x,bgRed:x,bgGreen:x,bgYellow:x,bgBlue:x,bgMagenta:x,bgCyan:x,bgWhite:x}};picocolors_browser.exports=create();picocolors_browser.exports.createColors=create;(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(v,a){for(var l in a)Object.defineProperty(v,l,{enumerable:!0,get:a[l]})}t(e,{dim:function(){return c},default:function(){return _}});const i=n(picocolors_browser.exports);function n(v){return v&&v.__esModule?v:{default:v}}let r=new Set;function d(v,a,l){typeof process<"u"&&{}.JEST_WORKER_ID||l&&r.has(l)||(l&&r.add(l),console.warn(""),a.forEach(w=>console.warn(v,"-",w)))}function c(v){return i.default.dim(v)}const _={info(v,a){d(i.default.bold(i.default.cyan("info")),...Array.isArray(v)?[v]:[a,v])},warn(v,a){d(i.default.bold(i.default.yellow("warn")),...Array.isArray(v)?[v]:[a,v])},risk(v,a){d(i.default.bold(i.default.magenta("risk")),...Array.isArray(v)?[v]:[a,v])}}})(log);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});const t=i(log);function i(d){return d&&d.__esModule?d:{default:d}}function n({version:d,from:c,to:_}){t.default.warn(`${c}-color-renamed`,[`As of Tailwind CSS ${d}, \`${c}\` has been renamed to \`${_}\`.`,"Update your configuration file to silence this warning."])}const r={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(colors);var defaults={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"defaults",{enumerable:!0,get:function(){return t}});function t(i,...n){for(let c of n){for(let _ in c){var r;!(i==null||(r=i.hasOwnProperty)===null||r===void 0)&&r.call(i,_)||(i[_]=c[_])}for(let _ of Object.getOwnPropertySymbols(c)){var d;!(i==null||(d=i.hasOwnProperty)===null||d===void 0)&&d.call(i,_)||(i[_]=c[_])}}return i}})(defaults);var toPath={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"toPath",{enumerable:!0,get:function(){return t}});function t(i){if(Array.isArray(i))return i;let n=i.split("[").length-1,r=i.split("]").length-1;if(n!==r)throw new Error(`Path is invalid. Has unbalanced brackets: ${i}`);return i.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}})(toPath);var normalizeConfig={},featureFlags={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(w,R){for(var A in R)Object.defineProperty(w,A,{enumerable:!0,get:R[A]})}t(e,{flagEnabled:function(){return _},issueFlagNotices:function(){return a},default:function(){return l}});const i=r(picocolors_browser.exports),n=r(log);function r(w){return w&&w.__esModule?w:{default:w}}let d={optimizeUniversalDefaults:!1,generalizedModifiers:!0,get disableColorOpacityUtilitiesByDefault(){return!1},get relativeContentPathsByDefault(){return!1}},c={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]};function _(w,R){if(c.future.includes(R)){var A,f,b;return w.future==="all"||((b=(f=w==null||(A=w.future)===null||A===void 0?void 0:A[R])!==null&&f!==void 0?f:d[R])!==null&&b!==void 0?b:!1)}if(c.experimental.includes(R)){var k,I,L;return w.experimental==="all"||((L=(I=w==null||(k=w.experimental)===null||k===void 0?void 0:k[R])!==null&&I!==void 0?I:d[R])!==null&&L!==void 0?L:!1)}return!1}function v(w){if(w.experimental==="all")return c.experimental;var R;return Object.keys((R=w==null?void 0:w.experimental)!==null&&R!==void 0?R:{}).filter(A=>c.experimental.includes(A)&&w.experimental[A])}function a(w){if({}.JEST_WORKER_ID===void 0&&v(w).length>0){let R=v(w).map(A=>i.default.yellow(A)).join(", ");n.default.warn("experimental-flags-enabled",[`You have enabled experimental features: ${R}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}const l=c})(featureFlags);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"normalizeConfig",{enumerable:!0,get:function(){return d}});const t=featureFlags,i=r(log);function n(c){if(typeof WeakMap!="function")return null;var _=new WeakMap,v=new WeakMap;return(n=function(a){return a?v:_})(c)}function r(c,_){if(!_&&c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var v=n(_);if(v&&v.has(c))return v.get(c);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in c)if(w!=="default"&&Object.prototype.hasOwnProperty.call(c,w)){var R=l?Object.getOwnPropertyDescriptor(c,w):null;R&&(R.get||R.set)?Object.defineProperty(a,w,R):a[w]=c[w]}return a.default=c,v&&v.set(c,a),a}function d(c){if((()=>{if(c.purge||!c.content||!Array.isArray(c.content)&&!(typeof c.content=="object"&&c.content!==null))return!1;if(Array.isArray(c.content))return c.content.every(a=>typeof a=="string"?!0:!(typeof(a==null?void 0:a.raw)!="string"||(a==null?void 0:a.extension)&&typeof(a==null?void 0:a.extension)!="string"));if(typeof c.content=="object"&&c.content!==null){if(Object.keys(c.content).some(a=>!["files","relative","extract","transform"].includes(a)))return!1;if(Array.isArray(c.content.files)){if(!c.content.files.every(a=>typeof a=="string"?!0:!(typeof(a==null?void 0:a.raw)!="string"||(a==null?void 0:a.extension)&&typeof(a==null?void 0:a.extension)!="string")))return!1;if(typeof c.content.extract=="object"){for(let a of Object.values(c.content.extract))if(typeof a!="function")return!1}else if(!(c.content.extract===void 0||typeof c.content.extract=="function"))return!1;if(typeof c.content.transform=="object"){for(let a of Object.values(c.content.transform))if(typeof a!="function")return!1}else if(!(c.content.transform===void 0||typeof c.content.transform=="function"))return!1;if(typeof c.content.relative!="boolean"&&typeof c.content.relative<"u")return!1}return!0}return!1})()||i.default.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),c.safelist=(()=>{var a;let{content:l,purge:w,safelist:R}=c;return Array.isArray(R)?R:Array.isArray(l==null?void 0:l.safelist)?l.safelist:Array.isArray(w==null?void 0:w.safelist)?w.safelist:Array.isArray(w==null||(a=w.options)===null||a===void 0?void 0:a.safelist)?w.options.safelist:[]})(),c.blocklist=(()=>{let{blocklist:a}=c;if(Array.isArray(a)){if(a.every(l=>typeof l=="string"))return a;i.default.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),typeof c.prefix=="function")i.default.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),c.prefix="";else{var v;c.prefix=(v=c.prefix)!==null&&v!==void 0?v:""}c.content={relative:(()=>{let{content:a}=c;return a!=null&&a.relative?a.relative:(0,t.flagEnabled)(c,"relativeContentPathsByDefault")})(),files:(()=>{let{content:a,purge:l}=c;return Array.isArray(l)?l:Array.isArray(l==null?void 0:l.content)?l.content:Array.isArray(a)?a:Array.isArray(a==null?void 0:a.content)?a.content:Array.isArray(a==null?void 0:a.files)?a.files:[]})(),extract:(()=>{let a=(()=>{var R,A,f,b,k,I,L,S,E,D;return!((R=c.purge)===null||R===void 0)&&R.extract?c.purge.extract:!((A=c.content)===null||A===void 0)&&A.extract?c.content.extract:!((f=c.purge)===null||f===void 0||(b=f.extract)===null||b===void 0)&&b.DEFAULT?c.purge.extract.DEFAULT:!((k=c.content)===null||k===void 0||(I=k.extract)===null||I===void 0)&&I.DEFAULT?c.content.extract.DEFAULT:!((L=c.purge)===null||L===void 0||(S=L.options)===null||S===void 0)&&S.extractors?c.purge.options.extractors:!((E=c.content)===null||E===void 0||(D=E.options)===null||D===void 0)&&D.extractors?c.content.options.extractors:{}})(),l={},w=(()=>{var R,A,f,b;if(!((R=c.purge)===null||R===void 0||(A=R.options)===null||A===void 0)&&A.defaultExtractor)return c.purge.options.defaultExtractor;if(!((f=c.content)===null||f===void 0||(b=f.options)===null||b===void 0)&&b.defaultExtractor)return c.content.options.defaultExtractor})();if(w!==void 0&&(l.DEFAULT=w),typeof a=="function")l.DEFAULT=a;else if(Array.isArray(a))for(let{extensions:R,extractor:A}of a!=null?a:[])for(let f of R)l[f]=A;else typeof a=="object"&&a!==null&&Object.assign(l,a);return l})(),transform:(()=>{let a=(()=>{var w,R,A,f,b,k;return!((w=c.purge)===null||w===void 0)&&w.transform?c.purge.transform:!((R=c.content)===null||R===void 0)&&R.transform?c.content.transform:!((A=c.purge)===null||A===void 0||(f=A.transform)===null||f===void 0)&&f.DEFAULT?c.purge.transform.DEFAULT:!((b=c.content)===null||b===void 0||(k=b.transform)===null||k===void 0)&&k.DEFAULT?c.content.transform.DEFAULT:{}})(),l={};return typeof a=="function"&&(l.DEFAULT=a),typeof a=="object"&&a!==null&&Object.assign(l,a),l})()};for(let a of c.content.files)if(typeof a=="string"&&/{([^,]*?)}/g.test(a)){i.default.warn("invalid-glob-braces",[`The glob pattern ${(0,i.dim)(a)} in your Tailwind CSS configuration is invalid.`,`Update it to ${(0,i.dim)(a.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return c}})(normalizeConfig);var isPlainObject={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i){if(Object.prototype.toString.call(i)!=="[object Object]")return!1;const n=Object.getPrototypeOf(i);return n===null||n===Object.prototype}})(isPlainObject);var cloneDeep={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cloneDeep",{enumerable:!0,get:function(){return t}});function t(i){return Array.isArray(i)?i.map(n=>t(n)):typeof i=="object"&&i!==null?Object.fromEntries(Object.entries(i).map(([n,r])=>[n,t(r)])):i}})(cloneDeep);var pluginUtils={},escapeCommas={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i){return i.replace(/\\,/g,"\\2c ")}})(escapeCommas);var withAlphaVariable={},color={},colorNames={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});const t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}})(colorNames);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(f,b){for(var k in b)Object.defineProperty(f,k,{enumerable:!0,get:b[k]})}t(e,{parseColor:function(){return R},formatColor:function(){return A}});const i=n(colorNames);function n(f){return f&&f.__esModule?f:{default:f}}let r=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,d=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,c=/(?:\d+|\d*\.\d+)%?/,_=/(?:\s*,\s*|\s+)/,v=/\s*[,/]\s*/,a=/var\(--(?:[^ )]*?)\)/,l=new RegExp(`^(rgba?)\\(\\s*(${c.source}|${a.source})(?:${_.source}(${c.source}|${a.source}))?(?:${_.source}(${c.source}|${a.source}))?(?:${v.source}(${c.source}|${a.source}))?\\s*\\)$`),w=new RegExp(`^(hsla?)\\(\\s*((?:${c.source})(?:deg|rad|grad|turn)?|${a.source})(?:${_.source}(${c.source}|${a.source}))?(?:${_.source}(${c.source}|${a.source}))?(?:${v.source}(${c.source}|${a.source}))?\\s*\\)$`);function R(f,{loose:b=!1}={}){var k,I;if(typeof f!="string")return null;if(f=f.trim(),f==="transparent")return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(f in i.default)return{mode:"rgb",color:i.default[f].map(M=>M.toString())};let L=f.replace(d,(M,O,s,u,C)=>["#",O,O,s,s,u,u,C?C+C:""].join("")).match(r);if(L!==null)return{mode:"rgb",color:[parseInt(L[1],16),parseInt(L[2],16),parseInt(L[3],16)].map(M=>M.toString()),alpha:L[4]?(parseInt(L[4],16)/255).toString():void 0};var S;let E=(S=f.match(l))!==null&&S!==void 0?S:f.match(w);if(E===null)return null;let D=[E[2],E[3],E[4]].filter(Boolean).map(M=>M.toString());return D.length===2&&D[0].startsWith("var(")?{mode:E[1],color:[D[0]],alpha:D[1]}:!b&&D.length!==3||D.length<3&&!D.some(M=>/^var\(.*?\)$/.test(M))?null:{mode:E[1],color:D,alpha:(k=E[5])===null||k===void 0||(I=k.toString)===null||I===void 0?void 0:I.call(k)}}function A({mode:f,color:b,alpha:k}){let I=k!==void 0;return f==="rgba"||f==="hsla"?`${f}(${b.join(", ")}${I?`, ${k}`:""})`:`${f}(${b.join(" ")}${I?` / ${k}`:""})`}})(color);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(d,c){for(var _ in c)Object.defineProperty(d,_,{enumerable:!0,get:c[_]})}t(e,{withAlphaValue:function(){return n},default:function(){return r}});const i=color;function n(d,c,_){if(typeof d=="function")return d({opacityValue:c});let v=(0,i.parseColor)(d,{loose:!0});return v===null?_:(0,i.formatColor)({...v,alpha:c})}function r({color:d,property:c,variable:_}){let v=[].concat(c);if(typeof d=="function")return{[_]:"1",...Object.fromEntries(v.map(l=>[l,d({opacityVariable:_,opacityValue:`var(${_})`})]))};const a=(0,i.parseColor)(d);return a===null?Object.fromEntries(v.map(l=>[l,d])):a.alpha!==void 0?Object.fromEntries(v.map(l=>[l,d])):{[_]:"1",...Object.fromEntries(v.map(l=>[l,(0,i.formatColor)({...a,alpha:`var(${_})`})]))}}})(withAlphaVariable);var dataTypes={},parseBoxShadowValue={},splitAtTopLevelOnly={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"splitAtTopLevelOnly",{enumerable:!0,get:function(){return t}});function t(i,n){let r=[],d=[],c=0,_=!1;for(let v=0;v<i.length;v++){let a=i[v];r.length===0&&a===n[0]&&!_&&(n.length===1||i.slice(v,v+n.length)===n)&&(d.push(i.slice(c,v)),c=v+n.length),_?_=!1:a==="\\"&&(_=!0),a==="("||a==="["||a==="{"?r.push(a):(a===")"&&r[r.length-1]==="("||a==="]"&&r[r.length-1]==="["||a==="}"&&r[r.length-1]==="{")&&r.pop()}return d.push(i.slice(c)),d}})(splitAtTopLevelOnly);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(v,a){for(var l in a)Object.defineProperty(v,l,{enumerable:!0,get:a[l]})}t(e,{parseBoxShadowValue:function(){return c},formatBoxShadowValue:function(){return _}});const i=splitAtTopLevelOnly;let n=new Set(["inset","inherit","initial","revert","unset"]),r=/\ +(?![^(]*\))/g,d=/^-?(\d+|\.\d+)(.*?)$/g;function c(v){return(0,i.splitAtTopLevelOnly)(v,",").map(l=>{let w=l.trim(),R={raw:w},A=w.split(r),f=new Set;for(let b of A)d.lastIndex=0,!f.has("KEYWORD")&&n.has(b)?(R.keyword=b,f.add("KEYWORD")):d.test(b)?f.has("X")?f.has("Y")?f.has("BLUR")?f.has("SPREAD")||(R.spread=b,f.add("SPREAD")):(R.blur=b,f.add("BLUR")):(R.y=b,f.add("Y")):(R.x=b,f.add("X")):R.color?(R.unknown||(R.unknown=[]),R.unknown.push(b)):R.color=b;return R.valid=R.x!==void 0&&R.y!==void 0,R})}function _(v){return v.map(a=>a.valid?[a.keyword,a.x,a.y,a.blur,a.spread,a.color].filter(Boolean).join(" "):a.raw).join(", ")}})(parseBoxShadowValue);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(K,ne){for(var ee in ne)Object.defineProperty(K,ee,{enumerable:!0,get:ne[ee]})}t(e,{normalize:function(){return a},url:function(){return l},number:function(){return w},percentage:function(){return R},length:function(){return b},lineWidth:function(){return I},shadow:function(){return L},color:function(){return S},image:function(){return E},gradient:function(){return M},position:function(){return s},familyName:function(){return u},genericName:function(){return g},absoluteSize:function(){return U},relativeSize:function(){return X}});const i=color,n=parseBoxShadowValue,r=splitAtTopLevelOnly;let d=["min","max","clamp","calc"];function c(K){return d.some(ne=>new RegExp(`^${ne}\\(.*\\)`).test(K))}const _="--tw-placeholder",v=new RegExp(_,"g");function a(K,ne=!0){return K.startsWith("--")?`var(${K})`:K.includes("url(")?K.split(/(url\(.*?\))/g).filter(Boolean).map(ee=>/^url\(.*?\)$/.test(ee)?ee:a(ee,!1)).join(""):(K=K.replace(/([^\\])_+/g,(ee,re)=>re+" ".repeat(ee.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),ne&&(K=K.trim()),K=K.replace(/(calc|min|max|clamp)\(.+\)/g,ee=>{let re=[];return ee.replace(/var\((--.+?)[,)]/g,(ve,Z)=>(re.push(Z),ve.replace(Z,_))).replace(/(-?\d*\.?\d(?!\b-\d.+[,)](?![^+\-/*])\D)(?:%|[a-z]+)?|\))([+\-/*])/g,"$1 $2 ").replace(v,()=>re.shift())}),K)}function l(K){return K.startsWith("url(")}function w(K){return!isNaN(Number(K))||c(K)}function R(K){return K.endsWith("%")&&w(K.slice(0,-1))||c(K)}let f=`(?:${["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","lh","rlh","vw","vh","vmin","vmax","vb","vi","svw","svh","lvw","lvh","dvw","dvh","cqw","cqh","cqi","cqb","cqmin","cqmax"].join("|")})`;function b(K){return K==="0"||new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${f}$`).test(K)||c(K)}let k=new Set(["thin","medium","thick"]);function I(K){return k.has(K)}function L(K){let ne=(0,n.parseBoxShadowValue)(a(K));for(let ee of ne)if(!ee.valid)return!1;return!0}function S(K){let ne=0;return(0,r.splitAtTopLevelOnly)(K,"_").every(re=>(re=a(re),re.startsWith("var(")?!0:(0,i.parseColor)(re,{loose:!0})!==null?(ne++,!0):!1))?ne>0:!1}function E(K){let ne=0;return(0,r.splitAtTopLevelOnly)(K,",").every(re=>(re=a(re),re.startsWith("var(")?!0:l(re)||M(re)||["element(","image(","cross-fade(","image-set("].some(ve=>re.startsWith(ve))?(ne++,!0):!1))?ne>0:!1}let D=new Set(["linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","conic-gradient"]);function M(K){K=a(K);for(let ne of D)if(K.startsWith(`${ne}(`))return!0;return!1}let O=new Set(["center","top","right","bottom","left"]);function s(K){let ne=0;return(0,r.splitAtTopLevelOnly)(K,"_").every(re=>(re=a(re),re.startsWith("var(")?!0:O.has(re)||b(re)||R(re)?(ne++,!0):!1))?ne>0:!1}function u(K){let ne=0;return(0,r.splitAtTopLevelOnly)(K,",").every(re=>(re=a(re),re.startsWith("var(")?!0:re.includes(" ")&&!/(['"])([^"']+)\1/g.test(re)||/^\d/g.test(re)?!1:(ne++,!0)))?ne>0:!1}let C=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);function g(K){return C.has(K)}let y=new Set(["xx-small","x-small","small","medium","large","x-large","x-large","xxx-large"]);function U(K){return y.has(K)}let Y=new Set(["larger","smaller"]);function X(K){return Y.has(K)}})(dataTypes);var validateFormalSyntax={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"backgroundSize",{enumerable:!0,get:function(){return n}});const t=dataTypes,i=splitAtTopLevelOnly;function n(r){let d=["cover","contain"];return(0,i.splitAtTopLevelOnly)(r,",").every(c=>{let _=(0,i.splitAtTopLevelOnly)(c,"_").filter(Boolean);return _.length===1&&d.includes(_[0])?!0:_.length!==1&&_.length!==2?!1:_.every(v=>(0,t.length)(v)||(0,t.percentage)(v)||v==="auto")})}})(validateFormalSyntax);(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(u,C){for(var g in C)Object.defineProperty(u,g,{enumerable:!0,get:C[g]})}t(e,{updateAllClasses:function(){return a},asValue:function(){return R},parseColorFormat:function(){return b},asColor:function(){return I},asLookupValue:function(){return L},typeMap:function(){return E},coerceValue:function(){return O},getMatchingTypes:function(){return s}});const i=v(escapeCommas),n=withAlphaVariable,r=dataTypes,d=v(negateValue),c=validateFormalSyntax,_=featureFlags;function v(u){return u&&u.__esModule?u:{default:u}}function a(u,C){u.walkClasses(g=>{g.value=C(g.value),g.raws&&g.raws.value&&(g.raws.value=(0,i.default)(g.raws.value))})}function l(u,C){if(!A(u))return;let g=u.slice(1,-1);if(!!C(g))return(0,r.normalize)(g)}function w(u,C={},g){let y=C[u];if(y!==void 0)return(0,d.default)(y);if(A(u)){let U=l(u,g);return U===void 0?void 0:(0,d.default)(U)}}function R(u,C={},{validate:g=()=>!0}={}){var y;let U=(y=C.values)===null||y===void 0?void 0:y[u];return U!==void 0?U:C.supportsNegativeValues&&u.startsWith("-")?w(u.slice(1),C.values,g):l(u,g)}function A(u){return u.startsWith("[")&&u.endsWith("]")}function f(u){let C=u.lastIndexOf("/");return C===-1||C===u.length-1?[u,void 0]:A(u)&&!u.includes("]/[")?[u,void 0]:[u.slice(0,C),u.slice(C+1)]}function b(u){if(typeof u=="string"&&u.includes("<alpha-value>")){let C=u;return({opacityValue:g=1})=>C.replace("<alpha-value>",g)}return u}function k(u){return(0,r.normalize)(u.slice(1,-1))}function I(u,C={},{tailwindConfig:g={}}={}){var y;if(((y=C.values)===null||y===void 0?void 0:y[u])!==void 0){var U;return b((U=C.values)===null||U===void 0?void 0:U[u])}let[Y,X]=f(u);if(X!==void 0){var K,ne,ee,re;let ve=(re=(K=C.values)===null||K===void 0?void 0:K[Y])!==null&&re!==void 0?re:A(Y)?Y.slice(1,-1):void 0;return ve===void 0?void 0:(ve=b(ve),A(X)?(0,n.withAlphaValue)(ve,k(X)):((ne=g.theme)===null||ne===void 0||(ee=ne.opacity)===null||ee===void 0?void 0:ee[X])===void 0?void 0:(0,n.withAlphaValue)(ve,g.theme.opacity[X]))}return R(u,C,{validate:r.color})}function L(u,C={}){var g;return(g=C.values)===null||g===void 0?void 0:g[u]}function S(u){return(C,g)=>R(C,g,{validate:u})}let E={any:R,color:I,url:S(r.url),image:S(r.image),length:S(r.length),percentage:S(r.percentage),position:S(r.position),lookup:L,"generic-name":S(r.genericName),"family-name":S(r.familyName),number:S(r.number),"line-width":S(r.lineWidth),"absolute-size":S(r.absoluteSize),"relative-size":S(r.relativeSize),shadow:S(r.shadow),size:S(c.backgroundSize)},D=Object.keys(E);function M(u,C){let g=u.indexOf(C);return g===-1?[void 0,u]:[u.slice(0,g),u.slice(g+1)]}function O(u,C,g,y){if(g.values&&C in g.values)for(let{type:Y}of u!=null?u:[]){let X=E[Y](C,g,{tailwindConfig:y});if(X!==void 0)return[X,Y,null]}if(A(C)){let Y=C.slice(1,-1),[X,K]=M(Y,":");if(!/^[\w-_]+$/g.test(X))K=Y;else if(X!==void 0&&!D.includes(X))return[];if(K.length>0&&D.includes(X))return[R(`[${K}]`,g),X,null]}let U=s(u,C,g,y);for(let Y of U)return Y;return[]}function*s(u,C,g,y){let U=(0,_.flagEnabled)(y,"generalizedModifiers"),[Y,X]=f(C);if(U&&g.modifiers!=null&&(g.modifiers==="any"||typeof g.modifiers=="object"&&(X&&A(X)||X in g.modifiers))||(Y=C,X=void 0),X!==void 0&&Y===""&&(Y="DEFAULT"),X!==void 0&&typeof g.modifiers=="object"){var ne,ee;let re=(ee=(ne=g.modifiers)===null||ne===void 0?void 0:ne[X])!==null&&ee!==void 0?ee:null;re!==null?X=re:A(X)&&(X=k(X))}for(let{type:re}of u!=null?u:[]){let ve=E[re](Y,g,{tailwindConfig:y});ve!==void 0&&(yield[ve,re,X!=null?X:null])}}})(pluginUtils);var toColorValue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(i){return typeof i=="function"?i({}):i}})(toColorValue);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return g}});const t=A(negateValue),i=A(corePluginList),n=A(configurePlugins),r=A(colors),d=defaults,c=toPath,_=normalizeConfig,v=A(isPlainObject),a=cloneDeep,l=pluginUtils,w=withAlphaVariable,R=A(toColorValue);function A(y){return y&&y.__esModule?y:{default:y}}function f(y){return typeof y=="function"}function b(y,...U){let Y=U.pop();for(let X of U)for(let K in X){let ne=Y(y[K],X[K]);ne===void 0?(0,v.default)(y[K])&&(0,v.default)(X[K])?y[K]=b({},y[K],X[K],Y):y[K]=X[K]:y[K]=ne}return y}const k={colors:r.default,negative(y){return Object.keys(y).filter(U=>y[U]!=="0").reduce((U,Y)=>{let X=(0,t.default)(y[Y]);return X!==void 0&&(U[`-${Y}`]=X),U},{})},breakpoints(y){return Object.keys(y).filter(U=>typeof y[U]=="string").reduce((U,Y)=>({...U,[`screen-${Y}`]:y[Y]}),{})}};function I(y,...U){return f(y)?y(...U):y}function L(y){return y.reduce((U,{extend:Y})=>b(U,Y,(X,K)=>X===void 0?[K]:Array.isArray(X)?[K,...X]:[K,X]),{})}function S(y){return{...y.reduce((U,Y)=>(0,d.defaults)(U,Y),{}),extend:L(y)}}function E(y,U){if(Array.isArray(y)&&(0,v.default)(y[0]))return y.concat(U);if(Array.isArray(U)&&(0,v.default)(U[0])&&(0,v.default)(y))return[y,...U];if(Array.isArray(U))return U}function D({extend:y,...U}){return b(U,y,(Y,X)=>!f(Y)&&!X.some(f)?b({},Y,...X,E):(K,ne)=>b({},...[Y,...X].map(ee=>I(ee,K,ne)),E))}function*M(y){let U=(0,c.toPath)(y);if(U.length===0||(yield U,Array.isArray(y)))return;let Y=/^(.*?)\s*\/\s*([^/]+)$/,X=y.match(Y);if(X!==null){let[,K,ne]=X,ee=(0,c.toPath)(K);ee.alpha=ne,yield ee}}function O(y){const U=(Y,X)=>{for(const K of M(Y)){let ne=0,ee=y;for(;ee!=null&&ne<K.length;)ee=ee[K[ne++]],ee=f(ee)&&(K.alpha===void 0||ne<=K.length-1)?ee(U,k):ee;if(ee!==void 0){if(K.alpha!==void 0){let re=(0,l.parseColorFormat)(ee);return(0,w.withAlphaValue)(re,K.alpha,(0,R.default)(re))}return(0,v.default)(ee)?(0,a.cloneDeep)(ee):ee}}return X};return Object.assign(U,{theme:U,...k}),Object.keys(y).reduce((Y,X)=>(Y[X]=f(y[X])?y[X](U,k):y[X],Y),{})}function s(y){let U=[];return y.forEach(Y=>{U=[...U,Y];var X;const K=(X=Y==null?void 0:Y.plugins)!==null&&X!==void 0?X:[];K.length!==0&&K.forEach(ne=>{ne.__isOptionsFunction&&(ne=ne());var ee;U=[...U,...s([(ee=ne==null?void 0:ne.config)!==null&&ee!==void 0?ee:{}])]})}),U}function u(y){return[...y].reduceRight((Y,X)=>f(X)?X({corePlugins:Y}):(0,n.default)(X,Y),i.default)}function C(y){return[...y].reduceRight((Y,X)=>[...Y,...X],[])}function g(y){let U=[...s(y),{prefix:"",important:!1,separator:":"}];var Y,X;return(0,_.normalizeConfig)((0,d.defaults)({theme:O(D(S(U.map(K=>(Y=K==null?void 0:K.theme)!==null&&Y!==void 0?Y:{})))),corePlugins:u(U.map(K=>K.corePlugins)),plugins:C(y.map(K=>(X=K==null?void 0:K.plugins)!==null&&X!==void 0?X:[]))},...U))}})(resolveConfig$1);var getAllConfigs={},config_full={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:e})=>({...e("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:e})=>e("blur"),backdropBrightness:({theme:e})=>e("brightness"),backdropContrast:({theme:e})=>e("contrast"),backdropGrayscale:({theme:e})=>e("grayscale"),backdropHueRotate:({theme:e})=>e("hueRotate"),backdropInvert:({theme:e})=>e("invert"),backdropOpacity:({theme:e})=>e("opacity"),backdropSaturate:({theme:e})=>e("saturate"),backdropSepia:({theme:e})=>e("sepia"),backgroundColor:({theme:e})=>e("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:e})=>e("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"0",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:e})=>({...e("colors"),DEFAULT:e("colors.gray.200","currentColor")}),borderOpacity:({theme:e})=>e("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:e})=>({...e("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:e})=>e("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:e})=>e("colors"),colors:({colors:e})=>({inherit:e.inherit,current:e.current,transparent:e.transparent,black:e.black,white:e.white,slate:e.slate,gray:e.gray,zinc:e.zinc,neutral:e.neutral,stone:e.stone,red:e.red,orange:e.orange,amber:e.amber,yellow:e.yellow,lime:e.lime,green:e.green,emerald:e.emerald,teal:e.teal,cyan:e.cyan,sky:e.sky,blue:e.blue,indigo:e.indigo,violet:e.violet,purple:e.purple,fuchsia:e.fuchsia,pink:e.pink,rose:e.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:e})=>e("borderColor"),divideOpacity:({theme:e})=>e("borderOpacity"),divideWidth:({theme:e})=>e("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:e})=>({none:"none",...e("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:e})=>e("spacing"),gradientColorStops:({theme:e})=>e("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7"},gridTemplateColumns:{none:"none",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))"},height:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:e})=>({auto:"auto",...e("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:e})=>({...e("spacing"),none:"none",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:e,breakpoints:t})=>({none:"none",0:"0rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...t(e("screens"))}),minHeight:{0:"0px",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"},minWidth:{0:"0px",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"},objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",20:"0.2",25:"0.25",30:"0.3",40:"0.4",50:"0.5",60:"0.6",70:"0.7",75:"0.75",80:"0.8",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:e})=>e("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:e})=>e("spacing"),placeholderColor:({theme:e})=>e("colors"),placeholderOpacity:({theme:e})=>e("opacity"),ringColor:({theme:e})=>({DEFAULT:e("colors.blue.500","#3b82f6"),...e("colors")}),ringOffsetColor:({theme:e})=>e("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:e})=>({DEFAULT:"0.5",...e("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:e})=>({...e("spacing")}),scrollPadding:({theme:e})=>e("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:e})=>({...e("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:e})=>({none:"none",...e("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:e})=>e("colors"),textDecorationColor:({theme:e})=>e("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:e})=>({...e("spacing")}),textOpacity:({theme:e})=>e("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:e})=>({...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),width:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});const t=n(config_full),i=featureFlags;function n(d){return d&&d.__esModule?d:{default:d}}function r(d){var c;const _=((c=d==null?void 0:d.presets)!==null&&c!==void 0?c:[t.default]).slice().reverse().flatMap(l=>r(l instanceof Function?l():l)),v={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:l})=>({DEFAULT:"#3b82f67f",...l("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},a=Object.keys(v).filter(l=>(0,i.flagEnabled)(d,l)).map(l=>v[l]);return[d,...a,..._]}})(getAllConfigs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});const t=n(resolveConfig$1),i=n(getAllConfigs);function n(d){return d&&d.__esModule?d:{default:d}}function r(...d){let[,...c]=(0,i.default)(d[0]);return(0,t.default)([...d,...c])}})(resolveConfig$2);let resolveConfig=resolveConfig$2;var resolveConfig_1=(resolveConfig.__esModule?resolveConfig:{default:resolveConfig}).default,defaultTheme$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});const t=cloneDeep,i=n(config_full);function n(d){return d&&d.__esModule?d:{default:d}}const r=(0,t.cloneDeep)(i.default.theme)})(defaultTheme$1);let defaultTheme=defaultTheme$1;var defaultTheme_1=(defaultTheme.__esModule?defaultTheme:{default:defaultTheme}).default;const tailwindConfig={darkMode:"class",content:["./index.html","./src/**/*.{vue,js,ts,jsx,tsx}"],theme:{extend:{fontFamily:{sans:["Ubuntu",...defaultTheme_1.fontFamily.sans]},colors:{primary:"#3759FB"},animation:{blob:"blob 7s infinite"},keyframes:{blob:{"0%":{transform:"translate(0px, 0px) scale(1)"},"33%":{transform:"translate(40px, -20px) scale(1.2)"},"66%":{transform:"translate(-10px, 10px) scale(0.8)"},"100%":{transform:"tranlate(0px, 0px) scale(1)"}}}}},plugins:[]},_sfc_main$a=defineComponent({__name:"WaveForm",props:{url:{type:String,required:!0},currentProgress:{type:Number,required:!0},show:Boolean,isPlaying:Boolean,isDragging:Boolean},setup(e){const t=e,i={height:88,barWidth:4,barGap:4,barRadius:3,barHeight:3,minPxPerSec:100,fillParent:!0,sampleRate:8e3};let n=null;const r=ref(null),d=ref(null),c=ref(null),_=ref(null),v=ref(null);let a=[],l=null,w=!1;const R=resolveConfig_1(tailwindConfig),A=()=>{!t.isDragging||(M(t.currentProgress),window.requestAnimationFrame(A))};watch(()=>[t.isDragging],()=>{window.requestAnimationFrame(A)});const f=(O=10)=>{const s={};return a.push(s),u=>{s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(u,O)}},b=(O,s,u)=>{const C=document.createElement("div");C.style.height=`${s.height}px`,_.value.appendChild(C);const g=C.cloneNode();v.value.appendChild(g);const y=4e3,{scrollLeft:U,scrollWidth:Y,clientWidth:X}=d.value,K=O[0].length,ne=K/Y,ee=Math.min(y,X),re=Math.floor(Math.abs(U)*ne),ve=Math.ceil(re+ee*ne),Z=ve-re,we=(z,ae)=>{k(O,s,u,Math.max(0,z),Math.min(ae,K),C,g)},Ce=f(),le=f(),V=(z,ae)=>{we(z,ae),z>0&&Ce(()=>{V(z-Z,ae-Z)})},H=(z,ae)=>{we(z,ae),ae<K&&le(()=>{H(z+Z,ae+Z)})};V(re,ve),ve<K&&H(ve,ve+Z)},k=(O,s,u,C,g,y,U)=>{const Y=window.devicePixelRatio||1,X=s.height||0,K=s.barWidth!=null&&!isNaN(s.barWidth)?s.barWidth*Y:1,ne=s.barGap!=null&&!isNaN(s.barGap)?s.barGap*Y:s.barWidth?K/2:0,ee=s.barRadius||0,re=s.barHeight||1,ve=O.length===1,Z=O[0],we=ve?Z:O[1],Ce=ve&&we.some(m=>m<0),le=Z.length,H=Math.floor(u/(K+ne))/le,z=X/2;let ae=0,se=0,pe=0;const ie=document.createElement("canvas");ie.width=Math.round(u*(g-C)/le),ie.height=X,ie.style.width=`${Math.floor(ie.width/Y)}px`,ie.style.height=`${s.height}px`,ie.style.left=`${Math.floor(C*u/Y/le)}px`,y.appendChild(ie);const F=ie.getContext("2d",{desynchronized:!0});F.beginPath(),F.fillStyle=s.waveColor,F.roundRect||(F.roundRect=F.fillRect);for(let m=C;m<g;m++){const T=Math.round((m-C)*H);if(T>ae){const G=Math.round(se*z*re),ce=Math.round(pe*z*re),Q=G+(ce||1);F.roundRect(ae*(K+ne),X-Q,K,Q,ee),ae=T,se=0,pe=0}const B=Ce?Z[m]:Math.abs(Z[m]),$=Ce?we[m]:Math.abs(we[m]);B>se&&(se=B),(Ce?$<-pe:$>pe)&&(pe=$<0?-$:$)}F.fill(),F.closePath();const N=ie.cloneNode();U.appendChild(N);const o=N.getContext("2d",{desynchronized:!0});ie.width>0&&ie.height>0&&o.drawImage(ie,0,0),o.globalCompositeOperation="source-in",o.fillStyle=s.progressColor,o.fillRect(0,0,ie.width,ie.height)},I=async O=>fetch(O).then(s=>s.arrayBuffer()),L=(O,s)=>{const u=new AudioContext({sampleRate:s}),C=u.decodeAudioData(O);return C.finally(()=>u.close()),C},S=async O=>{const u=await I(O);l=await L(u,8e3)},E=O=>{a.forEach(Y=>Y.timeout&&clearTimeout(Y.timeout)),a=[];const s=window.devicePixelRatio||1,u=d.value.clientWidth,C=Math.ceil(O.duration*(n.minPxPerSec||0));w=C>u;const g=n.fillParent&&!w,y=(g?u:C)*s;c.value.style.width=g?"100%":`${C}px`;const U=[O.getChannelData(0)];O.numberOfChannels>1&&U.push(O.getChannelData(1)),b(U,n,y)},D=O=>{const{clientWidth:s,scrollWidth:u}=d.value,C=u*O,g=s*O;d.value.scrollLeft=C-g},M=O=>{isNaN(O)||(v.value.style.width=`${O*100}%`,w&&D(O))};return onMounted(async()=>{await S(t.url),n=Object.assign({},i,{container:r.value,waveColor:"#555",progressColor:R.theme.colors.primary}),E(l)}),(O,s)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:r,class:"waveform scale-x-105 relative"},[createBaseVNode("div",{ref_key:"scrollContainer",ref:d,class:"scroll"},[createBaseVNode("div",{ref_key:"wrapper",ref:c,class:normalizeClass(["wrapper",{"is-open":e.show}])},[createBaseVNode("div",{ref_key:"canvasWrapper",ref:_,class:"canvases"},null,512),createBaseVNode("div",{ref_key:"progressWrapper",ref:v,class:"progress"},null,512)],2)],512)],512))}}),WaveForm_vue_vue_type_style_index_0_lang="",_hoisted_1$k={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_hoisted_2$j=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.51 6.303c-.255-1.466-1.932-2.065-3.083-1.25L7.94 6.817A1 1 0 0 1 7.363 7H5a3 3 0 0 0-3 3v4a3 3 0 0 0 3 3h2.363a1 1 0 0 1 .578.184l2.486 1.762c1.15.816 2.828.217 3.083-1.25c.322-1.85.49-3.754.49-5.696c0-1.942-.168-3.845-.49-5.697Zm8.288 1.598a1 1 0 0 0-1.99.198a39.469 39.469 0 0 1 0 7.802a1 1 0 1 0 1.99.198a41.471 41.471 0 0 0 0-8.198Zm-3.925 1.017a1 1 0 1 0-1.993.164a35.506 35.506 0 0 1 0 5.836a1 1 0 0 0 1.993.164a37.465 37.465 0 0 0 0-6.164Z","clip-rule":"evenodd"},null,-1),_hoisted_3$i=[_hoisted_2$j];function render$b(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$k,_hoisted_3$i)}const IIconamoonVolumeUpFill={name:"iconamoon-volume-up-fill",render:render$b},_hoisted_1$j={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_hoisted_2$i=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.427 5.054c1.15-.816 2.828-.217 3.083 1.25c.322 1.85.49 3.754.49 5.696c0 1.942-.168 3.845-.49 5.697c-.255 1.466-1.932 2.065-3.083 1.25L7.94 17.183A1 1 0 0 0 7.363 17H5a3 3 0 0 1-3-3v-4a3 3 0 0 1 3-3h2.363a1 1 0 0 0 .578-.184l2.486-1.762Zm7.446 3.864a1 1 0 1 0-1.993.164a35.506 35.506 0 0 1 0 5.836a1 1 0 0 0 1.993.164a37.465 37.465 0 0 0 0-6.164Z","clip-rule":"evenodd"},null,-1),_hoisted_3$h=[_hoisted_2$i];function render$a(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$j,_hoisted_3$h)}const IIconamoonVolumeDownFill={name:"iconamoon-volume-down-fill",render:render$a},_hoisted_1$i={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_hoisted_2$h=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.427 5.054c1.15-.816 2.828-.217 3.083 1.25c.322 1.85.49 3.754.49 5.696c0 1.942-.168 3.845-.49 5.697c-.255 1.466-1.932 2.065-3.083 1.25L7.94 17.183A1 1 0 0 0 7.363 17H5a3 3 0 0 1-3-3v-4a3 3 0 0 1 3-3h2.363a1 1 0 0 0 .578-.184l2.486-1.762Zm7.28 4.239a1 1 0 0 0-1.414 1.414L17.586 12l-1.293 1.293a1 1 0 0 0 1.414 1.414L19 13.414l1.293 1.293a1 1 0 0 0 1.414-1.414L20.414 12l1.293-1.293a1 1 0 0 0-1.414-1.414L19 10.586l-1.293-1.293Z","clip-rule":"evenodd"},null,-1),_hoisted_3$g=[_hoisted_2$h];function render$9(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$i,_hoisted_3$g)}const IIconamoonVolumeOffFill={name:"iconamoon-volume-off-fill",render:render$9},_withScopeId$1=e=>(pushScopeId("data-v-c11e66ea"),e=e(),popScopeId(),e),_hoisted_1$h={class:"relative bg-[#161b22] w-full h-screen flex items-center justify-center z-10"},_hoisted_2$g=_withScopeId$1(()=>createBaseVNode("div",{class:"mask"},null,-1)),_hoisted_3$f={class:"max-w-lg w-full backdrop-blur-3xl bg-black/10 rounded-md p-4 shadow-lg border border-[#ffa3b80d]"},_hoisted_4$6={key:0,class:"absolute z-20 w-full h-full backdrop-blur bg-black/80 inset-0 flex items-center justify-center rounded-md"},_hoisted_5$2={class:"text-lg text-center text-medium text-pink-700"},_hoisted_6$2=["src"],_hoisted_7$2={class:"audio-controls"},_hoisted_8$2={class:"progress-container w-full"},_hoisted_9$2={class:"flex justify-between text-white/80 font-semibold text-sm pt-1 select-none"},_hoisted_10$2={class:"my-0.5"},_hoisted_11$1={class:"flex items-center justify-center text-white w-full relative"},_hoisted_12$1=_withScopeId$1(()=>createBaseVNode("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",fill:"none","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"h-6 w-6"},[createBaseVNode("path",{d:"M8 5L5 8M5 8L8 11M5 8H13.5C16.5376 8 19 10.4624 19 13.5C19 15.4826 18.148 17.2202 17 18.188"}),createBaseVNode("path",{d:"M5 15V19"}),createBaseVNode("path",{d:"M8 18V16C8 15.4477 8.44772 15 9 15H10C10.5523 15 11 15.4477 11 16V18C11 18.5523 10.5523 19 10 19H9C8.44772 19 8 18.5523 8 18Z"})],-1)),_hoisted_13$1=[_hoisted_12$1],_hoisted_14$1={class:"flex items-center justify-center w-16 h-16 p-2"},_hoisted_15$1=["title"],_hoisted_16$1=_withScopeId$1(()=>createBaseVNode("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",fill:"none",class:"h-6 w-6"},[createBaseVNode("path",{d:"M16 5L19 8M19 8L16 11M19 8H10.5C7.46243 8 5 10.4624 5 13.5C5 15.4826 5.85204 17.2202 7 18.188","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M13 15V19","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M16 18V16C16 15.4477 16.4477 15 17 15H18C18.5523 15 19 15.4477 19 16V18C19 18.5523 18.5523 19 18 19H17C16.4477 19 16 18.5523 16 18Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),_hoisted_17$1=[_hoisted_16$1],_hoisted_18$1={class:"absolute inset-y-0 right-0 flex items-center"},_hoisted_19$1=["onClick"],_hoisted_20$1={key:0},_hoisted_21$1={key:1},_hoisted_22$1={key:2},_hoisted_23$1=_withScopeId$1(()=>createBaseVNode("p",null,"x",-1)),_hoisted_24$1=["title","onClick"],_hoisted_25$1={class:"volume__menu opacity-0 w-fit invisible absolute transition-all duration-500 ease-linear bottom-full pb-2 -translate-x-1/2 left-1/2"},_hoisted_26$1={class:"bg-[#171e3d] w-full h-36 p-3 py-6 rounded shadow flex items-center justify-center border border-black/10"},_sfc_main$9=defineComponent({__name:"AudioComponent",props:{url:{type:String,required:!0},loading:Boolean},setup(e){const t=ref(null),i=ref(null),n=ref(null),r=ref(!1),d=ref(0),c=ref(0),_=ref(0),v=ref(1),a=ref(null),l=ref(1),w=ref(!1),R=ref(!1),A=ref(null);watch(v,re=>{n.value.volume=re});const f=re=>{const ve=`${parseInt(`${re%60}`,10)}`.padStart(2,"0");return`${parseInt(`${re/60%60}`,10)}:${ve}`},b=async()=>{t.value.state==="suspended"&&await t.value.resume(),r.value?n.value.pause():n.value.play()},k=re=>{n.value.currentTime=re},I=re=>{k(n.value.currentTime-re)},L=re=>{k(n.value.currentTime+re)},S=()=>{n.value.pause(),r.value&&(w.value=!0)},E=re=>{R.value=!0,d.value=re*c.value},D=re=>{R.value=!1,k(re*c.value),w.value&&n.value.play(),w.value=!1},M=re=>{k(re*c.value)},O=re=>{n.value.playbackRate=re,l.value=re},s=()=>{const re=n.value.playbackRate;O(re===1?1.5:re===1.5?2:1)},u=()=>{var re;v.value>0?(a.value=v.value,v.value=0):v.value=(re=a.value)!=null?re:50},C=()=>{c.value=n.value.duration},g=()=>{throw i.value=n.value.error.message,new Error(i.value)},y=()=>{d.value=n.value.currentTime,_.value=d.value/c.value},U=()=>{r.value=!0},Y=()=>{r.value=!1},X=()=>{r.value=!1},K=re=>{switch(re.key.toLowerCase()){case"m":u();break;case"k":case" ":b();break;case"j":case"arrowleft":I(10);break;case"l":case"arrowright":L(10);break;case">":s();break}},ne=()=>{const re=n.value;re.addEventListener("loadedmetadata",C),re.addEventListener("error",g),re.addEventListener("timeupdate",y),re.addEventListener("play",U),re.addEventListener("pause",Y),re.addEventListener("ended",X),window.addEventListener("keydown",K)},ee=()=>{const re=n.value;re.removeEventListener("loadedmetadata",C),re.removeEventListener("error",g),re.removeEventListener("timeupdate",y),re.removeEventListener("play",U),re.removeEventListener("pause",Y),re.removeEventListener("ended",X),window.removeEventListener("keydown",K)};return onMounted(async()=>{ne(),t.value=new AudioContext}),onBeforeUnmount(()=>{ee()}),(re,ve)=>{const Z=_sfc_main$a,we=_sfc_main$b,Ce=__unplugin_components_2$1,le=__unplugin_components_3$1;return openBlock(),createElementBlock("div",_hoisted_1$h,[_hoisted_2$g,createBaseVNode("div",{ref_key:"shineRef",ref:A,class:normalizeClass(["absolute bg-[#939aff] blur-[180px] will-change-transform mix-blend-overlay rounded-[300px] pointer-events-none -z-10 top-0 w-[80rem] h-[80rem]",{"animate-blob":r.value}]),style:{"animation-delay":"2s"}},null,2),createBaseVNode("div",_hoisted_3$f,[i.value?(openBlock(),createElementBlock("div",_hoisted_4$6,[createBaseVNode("p",_hoisted_5$2,toDisplayString(i.value),1)])):createCommentVNode("",!0),createBaseVNode("audio",{ref_key:"audio",ref:n,src:e.url},null,8,_hoisted_6$2),createBaseVNode("div",_hoisted_7$2,[createBaseVNode("div",_hoisted_8$2,[createVNode(Z,{url:e.url,show:R.value,"current-progress":_.value,"is-playing":r.value,"is-dragging":R.value},null,8,["url","show","current-progress","is-playing","is-dragging"]),createVNode(we,{modelValue:_.value,"onUpdate:modelValue":ve[0]||(ve[0]=V=>_.value=V),"is-playing":r.value,onDragStart:S,onDragMove:E,onDragEnd:D,onClick:M},null,8,["modelValue","is-playing"]),createBaseVNode("div",_hoisted_9$2,[createBaseVNode("p",null,toDisplayString(f(d.value)),1),createBaseVNode("p",null,toDisplayString(f(c.value)),1)])]),createBaseVNode("div",_hoisted_10$2,[createBaseVNode("div",_hoisted_11$1,[createBaseVNode("button",{class:"transition-all duration-75 ease-in active:scale-95 stroke-slate-300 hover:stroke-slate-50 px-4 outline-none",title:"Rewind by 10 seconds [j]",onClick:ve[1]||(ve[1]=V=>I(10))},_hoisted_13$1),createBaseVNode("div",_hoisted_14$1,[createBaseVNode("button",{class:normalizeClass(["rounded-full p-3 transition-all duration-75 ease-in active:scale-95 outline-none",[r.value?"scale-125 bg-black text-white hover:bg-primary":"bg-white text-black hover:bg-primary hover:text-white "]]),title:r.value?"Pause [k]":"Play [k]",onClick:b},[r.value?(openBlock(),createBlock(Ce,{key:0,class:"w-6 h-6"})):(openBlock(),createBlock(le,{key:1,class:"w-5 h-5"}))],10,_hoisted_15$1)]),createBaseVNode("button",{class:"transition-all duration-75 ease-in active:scale-95 stroke-slate-300 hover:stroke-slate-50 px-4 outline-none",title:"Forward by 10 seconds [l]",onClick:ve[2]||(ve[2]=V=>L(10))},_hoisted_17$1),createBaseVNode("div",_hoisted_18$1,[createBaseVNode("button",{class:"relative transition-colors duration-75 ease-in hover:text-gray-100 z-40 select-none mr-4 outline-none",title:"Change playback rate [>]",onClick:withModifiers(s,["prevent","stop"])},[createBaseVNode("div",{class:normalizeClass(["flex text-xs font-bold",[l.value!==1?"text-white":"text-white/50"]])},[createVNode(Transition,{name:"slide-up",mode:"out-in"},{default:withCtx(()=>[l.value===1?(openBlock(),createElementBlock("p",_hoisted_20$1,"1")):l.value===1.5?(openBlock(),createElementBlock("p",_hoisted_21$1,"1.5")):l.value===2?(openBlock(),createElementBlock("p",_hoisted_22$1,"2")):createCommentVNode("",!0)]),_:1}),_hoisted_23$1],2)],8,_hoisted_19$1),createBaseVNode("button",{class:"volume__button relative transition-colors duration-75 ease-in hover:text-gray-100 z-40 text-white/50 outline-none",title:v.value===0?"unmute [m]":"mute [m]",onClick:withModifiers(u,["prevent","stop"])},[v.value>.5?(openBlock(),createBlock(unref(IIconamoonVolumeUpFill),{key:0})):v.value<.5&&v.value>0?(openBlock(),createBlock(unref(IIconamoonVolumeDownFill),{key:1})):(openBlock(),createBlock(unref(IIconamoonVolumeOffFill),{key:2})),createBaseVNode("div",_hoisted_25$1,[createBaseVNode("div",_hoisted_26$1,[createVNode(we,{modelValue:v.value,"onUpdate:modelValue":ve[3]||(ve[3]=V=>v.value=V),position:"vertical",class:"slider"},null,8,["modelValue"])])])],8,_hoisted_24$1)])])])])])])}}}),AudioComponent_vue_vue_type_style_index_0_scoped_c11e66ea_lang="",_export_sfc=(e,t)=>{const i=e.__vccOpts||e;for(const[n,r]of t)i[n]=r;return i},__unplugin_components_0$3=_export_sfc(_sfc_main$9,[["__scopeId","data-v-c11e66ea"]]),VideoComponent_vue_vue_type_style_index_0_lang="",_sfc_main$8={name:"VideoComponent",props:["setIsOpen","isBlackTheme","url","top","right","type","typeOfContent","width","height","videoWidth","videoHeight"],data(){return{isActive:!1,isPlayBtn:!0,speedValue:1,handleId:"handle-id"}},computed:{player(){return this.$refs.videoElem},progressBar(){return this.$refs.progressBar}},mounted(){["timeupdate","volumechange","seeked","loadedmetadata"].map(t=>{this.$refs.videoElem.addEventListener(t,()=>{this.$forceUpdate()})}),this.$refs.videoElem.addEventListener("loadedmetadata",()=>{this.$refs.videoElem.volume=0,this.$forceUpdate()})},methods:{playPauseVideo(){this.player.paused||this.player.ended?(this.isPlayBtn=!1,this.player.play()):(this.player.pause(),this.isPlayBtn=!0)},endedVideo(){this.isPlayBtn=!0},progressPercentage(){return this.currentTime()/this.duration()*100},skipVideo(e){const t=e.currentTarget.getBoundingClientRect().left,n=(e.clientX-t)/e.currentTarget.getBoundingClientRect().width*100,r=this.duration()/100*n;this.$refs.videoElem.currentTime=r},updateProgressBar(){const e=Math.floor(100/this.player.duration*this.player.currentTime);this.progressBar.value=e,this.progressBar.innerHTML=`${e}% played`},resetPlayer(){this.player.currentTime=0},toEndVideo(){this.player.currentTime=this.player.duration},toPreviousFrame(){this.player.currentTime=this.player.currentTime-1},toNextFrame(){this.player.currentTime=this.player.currentTime+1},replayVideo(){this.isActive=!this.isActive,this.isActive?this.player.loop=!0:this.player.loop=!1},currentTime(){var e;return((e=this.$refs.videoElem)==null?void 0:e.currentTime)||0},duration(){var e;return((e=this.$refs.videoElem)==null?void 0:e.duration)||0},formatTime(e){if(!e||!parseInt(e))return"00:00";let t,i,n;return i=Math.floor(e/60%60),n=Math.floor(e%60),t=Math.floor(e/60/60),i<10&&(i=`0${i}`),n<10&&(n=`0${n}`),`${t?`${t}:`:""}${i}:${n}`},speedUp(e){e===.5&&(this.player.playbackRate=.5),e===1&&(this.player.playbackRate=1),e===2&&(this.player.playbackRate=2),e===4&&(this.player.playbackRate=4),e>4&&(this.player.playbackRate=.5)},changeSpeed(){this.speedValue<4?(this.speedValue*=2,this.speedUp(this.speedValue)):(this.speedValue=.5,this.speedUp(this.speedValue))}}},_hoisted_1$g={class:"video-box"},_hoisted_2$f=["src","type"],_hoisted_3$e={id:"controls"},_hoisted_4$5={class:"counters"},_hoisted_5$1={class:"currentTime"},_hoisted_6$1={class:"totalTime"},_hoisted_7$1={id:"progress-bar",ref:"progressBar",class:"progressBar",max:"100",min:"0",value:"0"},_hoisted_8$1={class:"row"},_hoisted_9$1={class:"wrap"},_hoisted_10$1={class:"buttons"};function _sfc_render(e,t,i,n,r,d){return openBlock(),createElementBlock("div",{id:"player",ref:r.handleId},[createBaseVNode("div",_hoisted_1$g,[createBaseVNode("video",{id:"video-element",ref:"videoElem",class:"videoContainer",onEnded:t[0]||(t[0]=c=>d.endedVideo()),onTimeupdate:t[1]||(t[1]=c=>d.updateProgressBar())},[createBaseVNode("source",{src:i.url,type:i.type},null,8,_hoisted_2$f)],544)]),createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("div",_hoisted_5$1,toDisplayString(d.formatTime(d.currentTime())),1),createBaseVNode("div",_hoisted_6$1,toDisplayString(d.formatTime(d.duration())),1)]),createBaseVNode("div",{class:"wrapperProgressbar",onClick:t[2]||(t[2]=c=>d.skipVideo(c))},[createBaseVNode("progress",_hoisted_7$1," 0% played ",512)]),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,[createBaseVNode("button",{id:"btnReplay",class:normalizeClass([{active:r.isActive},"icon-dl-replay btnReplay"]),onClick:t[3]||(t[3]=c=>d.replayVideo())},null,2),createBaseVNode("span",{onClick:t[4]||(t[4]=c=>d.changeSpeed())},"x"+toDisplayString(r.speedValue),1)]),createBaseVNode("div",_hoisted_10$1,[createBaseVNode("button",{id:"btnStart",class:"icon-dl-back",onClick:t[5]||(t[5]=c=>d.resetPlayer())}),createBaseVNode("button",{id:"btnPrevious",class:"icon-dl-back-frame",onClick:t[6]||(t[6]=c=>d.toPreviousFrame())}),r.isPlayBtn?(openBlock(),createElementBlock("button",{key:0,id:"btnPlay",class:"icon-dl-play",onClick:t[7]||(t[7]=c=>d.playPauseVideo())})):(openBlock(),createElementBlock("button",{key:1,id:"btnPause",class:"icon-dl-pause",onClick:t[8]||(t[8]=c=>d.playPauseVideo())})),createBaseVNode("button",{id:"btnNext",class:"icon-dl-next-frame",onClick:t[9]||(t[9]=c=>d.toNextFrame())}),createBaseVNode("button",{id:"btnEnd",class:"icon-dl-next",onClick:t[10]||(t[10]=c=>d.toEndVideo())})])])])],512)}const VideoComponent=_export_sfc(_sfc_main$8,[["render",_sfc_render]]),_hoisted_1$f={key:0,class:"imageContainer"},_hoisted_2$e=["src"],_hoisted_3$d={key:1,class:"content"},_sfc_main$7=defineComponent({__name:"ImageComponent",props:["setIsOpen","isBlackTheme","url","loading","top","right","width","height","imgWidth","imgHeight"],setup(e){const t=ref(!1),i=ref(),n=reactive({x:0,y:0,scale:1});let r={x:0,y:0};const d=a=>{a.preventDefault(),i.value&&(i.value.style.cursor="grabbing"),r.x=a.clientX-n.x,r.y=a.clientY-n.y,t.value=!0},c=a=>{a.preventDefault(),i.value&&(i.value.style.cursor="grab"),t.value=!1},_=a=>{a.preventDefault(),t.value&&(n.x=a.clientX-r.x,n.y=a.clientY-r.y)},v=a=>{a.preventDefault();const l=(a.clientX-n.x)/n.scale,w=(a.clientY-n.y)/n.scale;a.deltaY>0?n.scale*=1.2:n.scale/=1.2,n.x=a.clientX-l*n.scale,n.y=a.clientY-w*n.scale};return watch(n,()=>{i.value&&(i.value.style.transform="translate("+n.x+"px, "+n.y+"px) scale("+n.scale+")")}),(a,l)=>(openBlock(),createElementBlock(Fragment,null,[!e.loading&&e.url.length?(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("img",{src:e.url,ref_key:"imgElem",ref:i,onMousedown:d,onMouseup:c,onMousemove:_,onWheel:v},null,40,_hoisted_2$e)])):createCommentVNode("",!0),e.url.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$d,"No media found"))],64))}}),ImageComponent_vue_vue_type_style_index_0_lang="",_hoisted_1$e={class:"w-32 p-2 space-y-1"},_hoisted_2$d=["data-page","onClick"],_hoisted_3$c={class:"title text-xs font-medium text-gray-400"},THUMB_MIN_HEIGHT="123px",_sfc_main$6=defineComponent({__name:"PDFSidebar",async setup(e){let t,i;const n=inject("pdfLinkService"),r=inject("pdf"),d=inject("eventBus"),c=toRaw(r.value).getPage(1),_=ref(null);[t,i]=withAsyncContext(()=>c.then(I=>{_.value=I.getViewport({scale:1})})),await t,i();const v=ref((n==null?void 0:n.page)||1),a=ref(null),l=ref(null),w=ref(null),R=async I=>{const{dataset:{page:L}}=I.target,S=await toRaw(r.value).getPage(parseInt(L)),E=document.createElement("canvas"),M={canvasContext:E.getContext("2d",{alpha:!1}),viewport:toRaw(_.value)};E.height=toRaw(_.value).height,E.width=toRaw(_.value).width,S.render(M).promise.then(()=>{const s=E.toDataURL(),u=document.createElement("img");u.src=s,l.value[parseInt(L)-1].firstChild.src=s,E.width=0,E.height=0})},A=(I,L)=>{I.forEach(S=>{if(S.isIntersecting){const{dataset:{pageLoaded:E}}=S.target;JSON.parse(E)||(S.target.setAttribute("data-page-loaded","true"),R(S))}})},f=()=>{const I={root:a.value,rootMargin:"0px",threshold:0};w.value=new IntersectionObserver(A,I);for(let L=0;L<r.value.numPages;L++)w.value.observe(toRaw(l.value[L]))},b=I=>{n.goToPage(I),v.value=I},k=I=>{l.value[I].scrollIntoView()};return onMounted(()=>{f(),d.on("pagechanging",async({pageNumber:I})=>{await nextTick(),I!==v.value&&(v.value=I,k(I-1))})}),(I,L)=>{var S;return openBlock(),createElementBlock("aside",{ref_key:"sidebarRef",ref:a,class:"pdf__sidebar bg-[#f9fbfc] overflow-auto"},[createBaseVNode("div",_hoisted_1$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList((S=unref(r))==null?void 0:S.numPages,E=>(openBlock(),createElementBlock("button",{ref_for:!0,ref_key:"thumbsRef",ref:l,key:E,"data-page":E,"data-page-loaded":!1,class:normalizeClass(["w-full rounded p-2 thumbWrapper",[E===v.value?"active":""]]),onClick:withModifiers(D=>b(E),["stop","prevent"])},[createBaseVNode("img",{class:"w-full thumb-img border border-gray-200 rounded my-1",style:normalizeStyle({minHeight:THUMB_MIN_HEIGHT})},null,4),createBaseVNode("p",_hoisted_3$c,"Page "+toDisplayString(E),1)],10,_hoisted_2$d))),128))])],512)}}}),PDFSidebar_vue_vue_type_style_index_0_scoped_304884cf_lang="",__unplugin_components_0$2=_export_sfc(_sfc_main$6,[["__scopeId","data-v-304884cf"]]);var pdf_viewer={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(t,i){module.exports=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,t)=>{var je;Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=Z,t.bytesToString=N,t.createValidAbsoluteUrl=Ce,t.getModificationDate=Me,t.getVerbosityLevel=ne,t.info=ee,t.isArrayBuffer=ye,t.isArrayEqual=xe,t.normalizeUnicode=Ne,t.objectFromMap=B,t.objectSize=T,t.setVerbosityLevel=K,t.shadow=le,t.string32=m,t.stringToBytes=o,t.stringToPDFString=fe,t.stringToUTF8String=ue,t.unreachable=ve,t.utf8StringToString=me,t.warn=re;const i=[1,0,0,1,0,0];t.IDENTITY_MATRIX=i;const n=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=n;const r=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=r;const d=1.35;t.LINE_FACTOR=d;const c=.35;t.LINE_DESCENT_FACTOR=c;const _=c/d;t.BASELINE_FACTOR=_;const v={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=v;const a={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=a;const l="pdfjs_internal_editor_";t.AnnotationEditorPrefix=l;const w={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};t.AnnotationEditorType=w;const R={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};t.AnnotationEditorParamsType=R;const A={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=A;const f={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=f;const b={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=b;const k={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=k;const I={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=I;const L={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=L;const S={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=S;const E={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=E;const D={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=D;const M={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=M;const O={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=O;const s={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=s;const u={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=u;const C={O:"PageOpen",C:"PageClose"};t.PageActionEventType=C;const g={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=g;const y={NONE:0,BINARY:1};t.CMapCompressionType=y;const U={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=U;const Y={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=Y;let X=g.WARNINGS;function K(j){Number.isInteger(j)&&(X=j)}function ne(){return X}function ee(j){X>=g.INFOS&&console.log(`Info: ${j}`)}function re(j){X>=g.WARNINGS&&console.log(`Warning: ${j}`)}function ve(j){throw new Error(j)}function Z(j,W){j||ve(W)}function we(j){switch(j==null?void 0:j.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ce(j,W=null,te=null){if(!j)return null;try{if(te&&typeof j=="string"){if(te.addDefaultProtocol&&j.startsWith("www.")){const Te=j.match(/\./g);(Te==null?void 0:Te.length)>=2&&(j=`http://${j}`)}if(te.tryConvertEncoding)try{j=ue(j)}catch{}}const be=W?new URL(j,W):new URL(j);if(we(be))return be}catch{}return null}function le(j,W,te,be=!1){return Object.defineProperty(j,W,{value:te,enumerable:!be,configurable:!0,writable:!1}),te}const V=function(){function W(te,be){this.constructor===W&&ve("Cannot initialize BaseException."),this.message=te,this.name=be}return W.prototype=new Error,W.constructor=W,W}();t.BaseException=V;class H extends V{constructor(W,te){super(W,"PasswordException"),this.code=te}}t.PasswordException=H;class z extends V{constructor(W,te){super(W,"UnknownErrorException"),this.details=te}}t.UnknownErrorException=z;class ae extends V{constructor(W){super(W,"InvalidPDFException")}}t.InvalidPDFException=ae;class se extends V{constructor(W){super(W,"MissingPDFException")}}t.MissingPDFException=se;class pe extends V{constructor(W,te){super(W,"UnexpectedResponseException"),this.status=te}}t.UnexpectedResponseException=pe;class ie extends V{constructor(W){super(W,"FormatError")}}t.FormatError=ie;class F extends V{constructor(W){super(W,"AbortException")}}t.AbortException=F;function N(j){(typeof j!="object"||(j==null?void 0:j.length)===void 0)&&ve("Invalid argument for bytesToString");const W=j.length,te=8192;if(W<te)return String.fromCharCode.apply(null,j);const be=[];for(let Te=0;Te<W;Te+=te){const _e=Math.min(Te+te,W),Se=j.subarray(Te,_e);be.push(String.fromCharCode.apply(null,Se))}return be.join("")}function o(j){typeof j!="string"&&ve("Invalid argument for stringToBytes");const W=j.length,te=new Uint8Array(W);for(let be=0;be<W;++be)te[be]=j.charCodeAt(be)&255;return te}function m(j){return String.fromCharCode(j>>24&255,j>>16&255,j>>8&255,j&255)}function T(j){return Object.keys(j).length}function B(j){const W=Object.create(null);for(const[te,be]of j)W[te]=be;return W}function $(){const j=new Uint8Array(4);return j[0]=1,new Uint32Array(j.buffer,0,1)[0]===1}function G(){try{return new Function(""),!0}catch{return!1}}class ce{static get isLittleEndian(){return le(this,"isLittleEndian",$())}static get isEvalSupported(){return le(this,"isEvalSupported",G())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?le(this,"platform",{isWin:!1,isMac:!1}):le(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}t.FeatureTest=ce;const Q=[...Array(256).keys()].map(j=>j.toString(16).padStart(2,"0"));class q{static makeHexColor(W,te,be){return`#${Q[W]}${Q[te]}${Q[be]}`}static scaleMinMax(W,te){let be;W[0]?(W[0]<0&&(be=te[0],te[0]=te[1],te[1]=be),te[0]*=W[0],te[1]*=W[0],W[3]<0&&(be=te[2],te[2]=te[3],te[3]=be),te[2]*=W[3],te[3]*=W[3]):(be=te[0],te[0]=te[2],te[2]=be,be=te[1],te[1]=te[3],te[3]=be,W[1]<0&&(be=te[2],te[2]=te[3],te[3]=be),te[2]*=W[1],te[3]*=W[1],W[2]<0&&(be=te[0],te[0]=te[1],te[1]=be),te[0]*=W[2],te[1]*=W[2]),te[0]+=W[4],te[1]+=W[4],te[2]+=W[5],te[3]+=W[5]}static transform(W,te){return[W[0]*te[0]+W[2]*te[1],W[1]*te[0]+W[3]*te[1],W[0]*te[2]+W[2]*te[3],W[1]*te[2]+W[3]*te[3],W[0]*te[4]+W[2]*te[5]+W[4],W[1]*te[4]+W[3]*te[5]+W[5]]}static applyTransform(W,te){const be=W[0]*te[0]+W[1]*te[2]+te[4],Te=W[0]*te[1]+W[1]*te[3]+te[5];return[be,Te]}static applyInverseTransform(W,te){const be=te[0]*te[3]-te[1]*te[2],Te=(W[0]*te[3]-W[1]*te[2]+te[2]*te[5]-te[4]*te[3])/be,_e=(-W[0]*te[1]+W[1]*te[0]+te[4]*te[1]-te[5]*te[0])/be;return[Te,_e]}static getAxialAlignedBoundingBox(W,te){const be=q.applyTransform(W,te),Te=q.applyTransform(W.slice(2,4),te),_e=q.applyTransform([W[0],W[3]],te),Se=q.applyTransform([W[2],W[1]],te);return[Math.min(be[0],Te[0],_e[0],Se[0]),Math.min(be[1],Te[1],_e[1],Se[1]),Math.max(be[0],Te[0],_e[0],Se[0]),Math.max(be[1],Te[1],_e[1],Se[1])]}static inverseTransform(W){const te=W[0]*W[3]-W[1]*W[2];return[W[3]/te,-W[1]/te,-W[2]/te,W[0]/te,(W[2]*W[5]-W[4]*W[3])/te,(W[4]*W[1]-W[5]*W[0])/te]}static singularValueDecompose2dScale(W){const te=[W[0],W[2],W[1],W[3]],be=W[0]*te[0]+W[1]*te[2],Te=W[0]*te[1]+W[1]*te[3],_e=W[2]*te[0]+W[3]*te[2],Se=W[2]*te[1]+W[3]*te[3],Ae=(be+Se)/2,Le=Math.sqrt((be+Se)**2-4*(be*Se-_e*Te))/2,Be=Ae+Le||1,he=Ae-Le||1;return[Math.sqrt(Be),Math.sqrt(he)]}static normalizeRect(W){const te=W.slice(0);return W[0]>W[2]&&(te[0]=W[2],te[2]=W[0]),W[1]>W[3]&&(te[1]=W[3],te[3]=W[1]),te}static intersect(W,te){const be=Math.max(Math.min(W[0],W[2]),Math.min(te[0],te[2])),Te=Math.min(Math.max(W[0],W[2]),Math.max(te[0],te[2]));if(be>Te)return null;const _e=Math.max(Math.min(W[1],W[3]),Math.min(te[1],te[3])),Se=Math.min(Math.max(W[1],W[3]),Math.max(te[1],te[3]));return _e>Se?null:[be,_e,Te,Se]}static bezierBoundingBox(W,te,be,Te,_e,Se,Ae,Le){const Be=[],he=[[],[]];let Pe,Oe,ke,Fe,Ve,$e,De,Ue;for(let qe=0;qe<2;++qe){if(qe===0?(Oe=6*W-12*be+6*_e,Pe=-3*W+9*be-9*_e+3*Ae,ke=3*be-3*W):(Oe=6*te-12*Te+6*Se,Pe=-3*te+9*Te-9*Se+3*Le,ke=3*Te-3*te),Math.abs(Pe)<1e-12){if(Math.abs(Oe)<1e-12)continue;Fe=-ke/Oe,0<Fe&&Fe<1&&Be.push(Fe);continue}De=Oe*Oe-4*ke*Pe,Ue=Math.sqrt(De),!(De<0)&&(Ve=(-Oe+Ue)/(2*Pe),0<Ve&&Ve<1&&Be.push(Ve),$e=(-Oe-Ue)/(2*Pe),0<$e&&$e<1&&Be.push($e))}let He=Be.length,We;const ze=He;for(;He--;)Fe=Be[He],We=1-Fe,he[0][He]=We*We*We*W+3*We*We*Fe*be+3*We*Fe*Fe*_e+Fe*Fe*Fe*Ae,he[1][He]=We*We*We*te+3*We*We*Fe*Te+3*We*Fe*Fe*Se+Fe*Fe*Fe*Le;return he[0][ze]=W,he[1][ze]=te,he[0][ze+1]=Ae,he[1][ze+1]=Le,he[0].length=he[1].length=ze+2,[Math.min(...he[0]),Math.min(...he[1]),Math.max(...he[0]),Math.max(...he[1])]}}t.Util=q;const J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function fe(j){if(j[0]>="\xEF"){let te;if(j[0]==="\xFE"&&j[1]==="\xFF"?te="utf-16be":j[0]==="\xFF"&&j[1]==="\xFE"?te="utf-16le":j[0]==="\xEF"&&j[1]==="\xBB"&&j[2]==="\xBF"&&(te="utf-8"),te)try{const be=new TextDecoder(te,{fatal:!0}),Te=o(j);return be.decode(Te)}catch(be){re(`stringToPDFString: "${be}".`)}}const W=[];for(let te=0,be=j.length;te<be;te++){const Te=J[j.charCodeAt(te)];W.push(Te?String.fromCharCode(Te):j.charAt(te))}return W.join("")}function ue(j){return decodeURIComponent(escape(j))}function me(j){return unescape(encodeURIComponent(j))}function ye(j){return typeof j=="object"&&(j==null?void 0:j.byteLength)!==void 0}function xe(j,W){if(j.length!==W.length)return!1;for(let te=0,be=j.length;te<be;te++)if(j[te]!==W[te])return!1;return!0}function Me(j=new Date){return[j.getUTCFullYear().toString(),(j.getUTCMonth()+1).toString().padStart(2,"0"),j.getUTCDate().toString().padStart(2,"0"),j.getUTCHours().toString().padStart(2,"0"),j.getUTCMinutes().toString().padStart(2,"0"),j.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ie{constructor(){oe(this,je,!1);this.promise=new Promise((W,te)=>{this.resolve=be=>{Ee(this,je,!0),W(be)},this.reject=be=>{Ee(this,je,!0),te(be)}})}get settled(){return P(this,je)}}je=new WeakMap,t.PromiseCapability=Ie;let ge=null,Re=null;function Ne(j){return ge||(ge=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Re=new Map([["\uFB05","\u017Ft"]])),j.replaceAll(ge,(W,te,be)=>te?te.normalize("NFKC"):Re.get(be))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,i,n,r,dt,c,St,v,a,l,w,R,A,f,b,It,I,L,Lt,E,D;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:O,NodeCMapReaderFactory:s,NodeFilterFactory:u,NodeStandardFontDataFactory:C}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=O,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultFilterFactory=DefaultFilterFactory=u,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=C}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:O}=__w_pdfjs_require__(21);createPDFNetworkStream=s=>new O(s)}else{const{PDFNetworkStream:O}=__w_pdfjs_require__(24),{PDFFetchStream:s}=__w_pdfjs_require__(25);createPDFNetworkStream=u=>(0,_display_utils.isValidFetchUrl)(u.url)?new s(u):new O(u)}function getDocument(O){var ye,xe;if(typeof O=="string"||O instanceof URL?O={url:O}:(0,_util.isArrayBuffer)(O)&&(O={data:O}),typeof O!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!O.url&&!O.data&&!O.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const s=new PDFDocumentLoadingTask,{docId:u}=s,C=O.url?getUrlProp(O.url):null,g=O.data?getDataProp(O.data):null,y=O.httpHeaders||null,U=O.withCredentials===!0,Y=(ye=O.password)!=null?ye:null,X=O.range instanceof PDFDataRangeTransport?O.range:null,K=Number.isInteger(O.rangeChunkSize)&&O.rangeChunkSize>0?O.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ne=O.worker instanceof PDFWorker?O.worker:null;const ee=O.verbosity,re=typeof O.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(O.docBaseUrl)?O.docBaseUrl:null,ve=typeof O.cMapUrl=="string"?O.cMapUrl:null,Z=O.cMapPacked!==!1,we=O.CMapReaderFactory||DefaultCMapReaderFactory,Ce=typeof O.standardFontDataUrl=="string"?O.standardFontDataUrl:null,le=O.StandardFontDataFactory||DefaultStandardFontDataFactory,V=O.stopAtErrors!==!0,H=Number.isInteger(O.maxImageSize)&&O.maxImageSize>-1?O.maxImageSize:-1,z=O.isEvalSupported!==!1,ae=typeof O.isOffscreenCanvasSupported=="boolean"?O.isOffscreenCanvasSupported:!_is_node.isNodeJS,se=Number.isInteger(O.canvasMaxAreaInBytes)?O.canvasMaxAreaInBytes:-1,pe=typeof O.disableFontFace=="boolean"?O.disableFontFace:_is_node.isNodeJS,ie=O.fontExtraProperties===!0,F=O.enableXfa===!0,N=O.ownerDocument||globalThis.document,o=O.disableRange===!0,m=O.disableStream===!0,T=O.disableAutoFetch===!0,B=O.pdfBug===!0,$=X?X.length:(xe=O.length)!=null?xe:NaN,G=typeof O.useSystemFonts=="boolean"?O.useSystemFonts:!_is_node.isNodeJS&&!pe,ce=typeof O.useWorkerFetch=="boolean"?O.useWorkerFetch:we===_display_utils.DOMCMapReaderFactory&&le===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(ve,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Ce,document.baseURI),Q=O.canvasFactory||new DefaultCanvasFactory({ownerDocument:N}),q=O.filterFactory||new DefaultFilterFactory({docId:u,ownerDocument:N}),J=null;(0,_util.setVerbosityLevel)(ee);const fe={canvasFactory:Q,filterFactory:q};if(ce||(fe.cMapReaderFactory=new we({baseUrl:ve,isCompressed:Z}),fe.standardFontDataFactory=new le({baseUrl:Ce})),!ne){const Me={verbosity:ee,port:_worker_options.GlobalWorkerOptions.workerPort};ne=Me.port?PDFWorker.fromPort(Me):new PDFWorker(Me),s._worker=ne}const ue={docId:u,apiVersion:"3.7.107",data:g,password:Y,disableAutoFetch:T,rangeChunkSize:K,length:$,docBaseUrl:re,enableXfa:F,evaluatorOptions:{maxImageSize:H,disableFontFace:pe,ignoreErrors:V,isEvalSupported:z,isOffscreenCanvasSupported:ae,canvasMaxAreaInBytes:se,fontExtraProperties:ie,useSystemFonts:G,cMapUrl:ce?ve:null,standardFontDataUrl:ce?Ce:null}},me={ignoreErrors:V,isEvalSupported:z,disableFontFace:pe,fontExtraProperties:ie,enableXfa:F,ownerDocument:N,disableAutoFetch:T,pdfBug:B,styleElement:J};return ne.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const Me=_fetchDocument(ne,ue),Ie=new Promise(function(ge){let Re;X?Re=new _transport_stream.PDFDataTransportStream({length:$,initialData:X.initialData,progressiveDone:X.progressiveDone,contentDispositionFilename:X.contentDispositionFilename,disableRange:o,disableStream:m},X):g||(Re=createPDFNetworkStream({url:C,length:$,httpHeaders:y,withCredentials:U,rangeChunkSize:K,disableRange:o,disableStream:m})),ge(Re)});return Promise.all([Me,Ie]).then(function([ge,Re]){if(s.destroyed)throw new Error("Loading aborted");const Ne=new _message_handler.MessageHandler(u,ge,ne.port),je=new WorkerTransport(Ne,s,Re,me,fe);s._transport=je,Ne.send("Ready",null)})}).catch(s._capability.reject),s}async function _fetchDocument(O,s){if(O.destroyed)throw new Error("Worker was destroyed");const u=await O.messageHandler.sendWithPromise("GetDocRequest",s,s.data?[s.data.buffer]:null);if(O.destroyed)throw new Error("Worker was destroyed");return u}function getUrlProp(O){if(O instanceof URL)return O.href;try{return new URL(O,window.location).href}catch{if(_is_node.isNodeJS&&typeof O=="string")return O}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(O){if(_is_node.isNodeJS&&typeof Buffer<"u"&&O instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(O);if(O instanceof Uint8Array&&O.byteLength===O.buffer.byteLength)return O;if(typeof O=="string")return(0,_util.stringToBytes)(O);if(typeof O=="object"&&!isNaN(O==null?void 0:O.length)||(0,_util.isArrayBuffer)(O))return new Uint8Array(O);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${mt(t,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var s;this.destroyed=!0,await((s=this._transport)==null?void 0:s.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=t;e=new WeakMap,oe(PDFDocumentLoadingTask,e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,u,C=!1,g=null){this.length=s,this.initialData=u,this.progressiveDone=C,this.contentDispositionFilename=g,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,u){for(const C of this._rangeListeners)C(s,u)}onDataProgress(s,u){this._readyCapability.promise.then(()=>{for(const C of this._progressListeners)C(s,u)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const u of this._progressiveReadListeners)u(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,u){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,u){this._pdfInfo=s,this._transport=u}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,u,C,g=!1){oe(this,r);oe(this,c);oe(this,i,null);oe(this,n,!1);this._pageIndex=s,this._pageInfo=u,this._transport=C,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=C.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:u=this.rotate,offsetX:C=0,offsetY:g=0,dontFlip:y=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:u,offsetX:C,offsetY:g,dontFlip:y})}getAnnotations({intent:s="display"}={}){const u=this._transport.getRenderingIntent(s);return this._transport.getAnnotations(this._pageIndex,u.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var s;return((s=this._transport._htmlForXfa)==null?void 0:s.children[this._pageIndex])||null}render({canvasContext:s,viewport:u,intent:C="display",annotationMode:g=_util.AnnotationMode.ENABLE,transform:y=null,background:U=null,optionalContentConfigPromise:Y=null,annotationCanvasMap:X=null,pageColors:K=null,printAnnotationStorage:ne=null}){var le,V,H;if((le=arguments[0])!=null&&le.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");(V=this._stats)==null||V.time("Overall");const ee=this._transport.getRenderingIntent(C,g,ne);Ee(this,n,!1),de(this,c,St).call(this),Y||(Y=this._transport.getOptionalContentConfig());let re=this._intentStates.get(ee.cacheKey);re||(re=Object.create(null),this._intentStates.set(ee.cacheKey,re)),re.streamReaderCancelTimeout&&(clearTimeout(re.streamReaderCancelTimeout),re.streamReaderCancelTimeout=null);const ve=!!(ee.renderingIntent&_util.RenderingIntentFlag.PRINT);re.displayReadyCapability||(re.displayReadyCapability=new _util.PromiseCapability,re.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(ee));const Z=z=>{var ae,se;re.renderTasks.delete(we),(this._maybeCleanupAfterRender||ve)&&Ee(this,n,!0),de(this,r,dt).call(this,!ve),z?(we.capability.reject(z),this._abortOperatorList({intentState:re,reason:z instanceof Error?z:new Error(z)})):we.capability.resolve(),(ae=this._stats)==null||ae.timeEnd("Rendering"),(se=this._stats)==null||se.timeEnd("Overall")},we=new InternalRenderTask({callback:Z,params:{canvasContext:s,viewport:u,transform:y,background:U},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:X,operatorList:re.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ve,pdfBug:this._pdfBug,pageColors:K});(re.renderTasks||(re.renderTasks=new Set)).add(we);const Ce=we.task;return Promise.all([re.displayReadyCapability.promise,Y]).then(([z,ae])=>{var se;if(P(this,n)){Z();return}(se=this._stats)==null||se.time("Rendering"),we.initializeGraphics({transparency:z,optionalContentConfig:ae}),we.operatorListChanged()}).catch(Z),Ce}getOperatorList({intent:s="display",annotationMode:u=_util.AnnotationMode.ENABLE,printAnnotationStorage:C=null}={}){var X;function g(){U.operatorList.lastChunk&&(U.opListReadCapability.resolve(U.operatorList),U.renderTasks.delete(Y))}const y=this._transport.getRenderingIntent(s,u,C,!0);let U=this._intentStates.get(y.cacheKey);U||(U=Object.create(null),this._intentStates.set(y.cacheKey,U));let Y;return U.opListReadCapability||(Y=Object.create(null),Y.operatorListChanged=g,U.opListReadCapability=new _util.PromiseCapability,(U.renderTasks||(U.renderTasks=new Set)).add(Y),U.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(X=this._stats)==null||X.time("Page Request"),this._pumpOperatorList(y)),U.opListReadCapability.promise}streamTextContent({includeMarkedContent:s=!1,disableNormalization:u=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:s===!0,disableNormalization:u===!0},{highWaterMark:100,size(g){return g.items.length}})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(C=>_xfa_text.XfaText.textContent(C));const u=this.streamTextContent(s);return new Promise(function(C,g){function y(){U.read().then(function({value:X,done:K}){if(K){C(Y);return}Object.assign(Y.styles,X.styles),Y.items.push(...X.items),y()},g)}const U=u.getReader(),Y={items:[],styles:Object.create(null)};y()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const s=[];for(const u of this._intentStates.values())if(this._abortOperatorList({intentState:u,reason:new Error("Page was destroyed."),force:!0}),!u.opListReadCapability)for(const C of u.renderTasks)s.push(C.completed),C.cancel();return this.objs.clear(),Ee(this,n,!1),de(this,c,St).call(this),Promise.all(s)}cleanup(s=!1){Ee(this,n,!0);const u=de(this,r,dt).call(this,!1);return s&&u&&this._stats&&(this._stats=new _display_utils.StatTimer),u}_startRenderPage(s,u){var g,y;const C=this._intentStates.get(u);!C||((g=this._stats)==null||g.timeEnd("Page Request"),(y=C.displayReadyCapability)==null||y.resolve(s))}_renderPageChunk(s,u){for(let C=0,g=s.length;C<g;C++)u.operatorList.fnArray.push(s.fnArray[C]),u.operatorList.argsArray.push(s.argsArray[C]);u.operatorList.lastChunk=s.lastChunk,u.operatorList.separateAnnots=s.separateAnnots;for(const C of u.renderTasks)C.operatorListChanged();s.lastChunk&&de(this,r,dt).call(this,!0)}_pumpOperatorList({renderingIntent:s,cacheKey:u,annotationStorageMap:C}){const y=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:u,annotationStorage:C}).getReader(),U=this._intentStates.get(u);U.streamReader=y;const Y=()=>{y.read().then(({value:X,done:K})=>{if(K){U.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(X,U),Y())},X=>{if(U.streamReader=null,!this._transport.destroyed){if(U.operatorList){U.operatorList.lastChunk=!0;for(const K of U.renderTasks)K.operatorListChanged();de(this,r,dt).call(this,!0)}if(U.displayReadyCapability)U.displayReadyCapability.reject(X);else if(U.opListReadCapability)U.opListReadCapability.reject(X);else throw X}})};Y()}_abortOperatorList({intentState:s,reason:u,force:C=!1}){if(!!s.streamReader){if(s.streamReaderCancelTimeout&&(clearTimeout(s.streamReaderCancelTimeout),s.streamReaderCancelTimeout=null),!C){if(s.renderTasks.size>0)return;if(u instanceof _display_utils.RenderingCancelledException){let g=RENDERING_CANCELLED_TIMEOUT;u.extraDelay>0&&u.extraDelay<1e3&&(g+=u.extraDelay),s.streamReaderCancelTimeout=setTimeout(()=>{s.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:s,reason:u,force:!0})},g);return}}if(s.streamReader.cancel(new _util.AbortException(u.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[g,y]of this._intentStates)if(y===s){this._intentStates.delete(g);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,n=new WeakMap,r=new WeakSet,dt=function(s=!1){if(de(this,c,St).call(this),!P(this,n))return!1;if(s)return Ee(this,i,setTimeout(()=>{Ee(this,i,null),de(this,r,dt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:u,operatorList:C}of this._intentStates.values())if(u.size>0||!C.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ee(this,n,!1),!0},c=new WeakSet,St=function(){P(this,i)&&(clearTimeout(P(this,i)),Ee(this,i,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){oe(this,v,new Set);oe(this,a,Promise.resolve())}postMessage(s,u){const C={data:structuredClone(s,u?{transfer:u}:null)};P(this,a).then(()=>{for(const g of P(this,v))g.call(this,C)})}addEventListener(s,u){P(this,v).add(u)}removeEventListener(s,u){P(this,v).delete(u)}terminate(){P(this,v).clear()}}v=new WeakMap,a=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const O=(l=document==null?void 0:document.currentScript)==null?void 0:l.src;O&&(PDFWorkerUtil.fallbackWorkerSrc=O.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(O,s){let u;try{if(u=new URL(O),!u.origin||u.origin==="null")return!1}catch{return!1}const C=new URL(s,u);return u.origin===C.origin},PDFWorkerUtil.createCDNWrapper=function(O){const s=`importScripts("${O}");`;return URL.createObjectURL(new Blob([s]))}}const _PDFWorker=class{constructor({name:O=null,port:s=null,verbosity:u=(0,_util.getVerbosityLevel)()}={}){if(s&&P(_PDFWorker,w).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=O,this.destroyed=!1,this.verbosity=u,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,s){P(_PDFWorker,w).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(O){this._port=O,this._messageHandler=new _message_handler.MessageHandler("main","worker",O),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:O}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,O)||(O=PDFWorkerUtil.createCDNWrapper(new URL(O,window.location).href));const s=new Worker(O),u=new _message_handler.MessageHandler("main","worker",s),C=()=>{s.removeEventListener("error",g),u.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},g=()=>{this._webWorker||C()};s.addEventListener("error",g),u.on("test",U=>{if(s.removeEventListener("error",g),this.destroyed){C();return}U?(this._messageHandler=u,this._port=s,this._webWorker=s,this._readyCapability.resolve(),u.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),u.destroy(),s.terminate())}),u.on("ready",U=>{if(s.removeEventListener("error",g),this.destroyed){C();return}try{y()}catch{this._setupFakeWorker()}});const y=()=>{const U=new Uint8Array;u.send("test",U,[U.buffer])};y();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(O=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const u=`fake${PDFWorkerUtil.fakeWorkerId++}`,C=new _message_handler.MessageHandler(u+"_worker",u,s);O.setup(C,s);const g=new _message_handler.MessageHandler(u,u+"_worker",s);this._messageHandler=g,this._readyCapability.resolve(),g.send("configure",{verbosity:this.verbosity})}).catch(O=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${O.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),P(_PDFWorker,w).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(O){if(!(O!=null&&O.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return P(this,w).has(O.port)?P(this,w).get(O.port):new _PDFWorker(O)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var O;try{return((O=globalThis.pdfjsWorker)==null?void 0:O.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;w=new WeakMap,oe(PDFWorker,w,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(s,u,C,g,y){oe(this,b);oe(this,R,new Map);oe(this,A,new Map);oe(this,f,new Map);this.messageHandler=s,this.loadingTask=u,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:g.ownerDocument,styleElement:g.styleElement}),this._params=g,this.canvasFactory=y.canvasFactory,this.filterFactory=y.filterFactory,this.cMapReaderFactory=y.cMapReaderFactory,this.standardFontDataFactory=y.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=C,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(s,u=_util.AnnotationMode.ENABLE,C=null,g=!1){let y=_util.RenderingIntentFlag.DISPLAY,U=null;switch(s){case"any":y=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":y=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(u){case _util.AnnotationMode.DISABLE:y+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:y+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:y+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,U=(y&_util.RenderingIntentFlag.PRINT&&C instanceof _annotation_storage.PrintAnnotationStorage?C:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${u}`)}return g&&(y+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:y,cacheKey:`${y}_${_annotation_storage.AnnotationStorage.getHash(U)}`,annotationStorageMap:U}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const C of P(this,A).values())s.push(C._destroy());P(this,A).clear(),P(this,f).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const u=this.messageHandler.sendWithPromise("Terminate",null);return s.push(u),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),P(this,R).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:u}=this;s.on("GetReader",(C,g)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=y=>{this._lastProgress={loaded:y.loaded,total:y.total}},g.onPull=()=>{this._fullReader.read().then(function({value:y,done:U}){if(U){g.close();return}(0,_util.assert)(y instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(y),1,[y])}).catch(y=>{g.error(y)})},g.onCancel=y=>{this._fullReader.cancel(y),g.ready.catch(U=>{if(!this.destroyed)throw U})}}),s.on("ReaderHeadersReady",C=>{const g=new _util.PromiseCapability,y=this._fullReader;return y.headersReady.then(()=>{var U;(!y.isStreamingSupported||!y.isRangeSupported)&&(this._lastProgress&&((U=u.onProgress)==null||U.call(u,this._lastProgress)),y.onProgress=Y=>{var X;(X=u.onProgress)==null||X.call(u,{loaded:Y.loaded,total:Y.total})}),g.resolve({isStreamingSupported:y.isStreamingSupported,isRangeSupported:y.isRangeSupported,contentLength:y.contentLength})},g.reject),g.promise}),s.on("GetRangeReader",(C,g)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const y=this._networkStream.getRangeReader(C.begin,C.end);if(!y){g.close();return}g.onPull=()=>{y.read().then(function({value:U,done:Y}){if(Y){g.close();return}(0,_util.assert)(U instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(U),1,[U])}).catch(U=>{g.error(U)})},g.onCancel=U=>{y.cancel(U),g.ready.catch(Y=>{if(!this.destroyed)throw Y})}}),s.on("GetDoc",({pdfInfo:C})=>{this._numPages=C.numPages,this._htmlForXfa=C.htmlForXfa,delete C.htmlForXfa,u._capability.resolve(new PDFDocumentProxy(C,this))}),s.on("DocException",function(C){let g;switch(C.name){case"PasswordException":g=new _util.PasswordException(C.message,C.code);break;case"InvalidPDFException":g=new _util.InvalidPDFException(C.message);break;case"MissingPDFException":g=new _util.MissingPDFException(C.message);break;case"UnexpectedResponseException":g=new _util.UnexpectedResponseException(C.message,C.status);break;case"UnknownErrorException":g=new _util.UnknownErrorException(C.message,C.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}u._capability.reject(g)}),s.on("PasswordRequest",C=>{if(this._passwordCapability=new _util.PromiseCapability,u.onPassword){const g=y=>{y instanceof Error?this._passwordCapability.reject(y):this._passwordCapability.resolve({password:y})};try{u.onPassword(g,C.code)}catch(y){this._passwordCapability.reject(y)}}else this._passwordCapability.reject(new _util.PasswordException(C.message,C.code));return this._passwordCapability.promise}),s.on("DataLoaded",C=>{var g;(g=u.onProgress)==null||g.call(u,{loaded:C.length,total:C.length}),this.downloadInfoCapability.resolve(C)}),s.on("StartRenderPage",C=>{if(this.destroyed)return;P(this,A).get(C.pageIndex)._startRenderPage(C.transparency,C.cacheKey)}),s.on("commonobj",([C,g,y])=>{var U;if(!this.destroyed&&!this.commonObjs.has(C))switch(g){case"Font":const Y=this._params;if("error"in y){const ne=y.error;(0,_util.warn)(`Error during font loading: ${ne}`),this.commonObjs.resolve(C,ne);break}const X=Y.pdfBug&&((U=globalThis.FontInspector)==null?void 0:U.enabled)?(ne,ee)=>globalThis.FontInspector.fontAdded(ne,ee):null,K=new _font_loader.FontFaceObject(y,{isEvalSupported:Y.isEvalSupported,disableFontFace:Y.disableFontFace,ignoreErrors:Y.ignoreErrors,inspectFont:X});this.fontLoader.bind(K).catch(ne=>s.sendWithPromise("FontFallback",{id:C})).finally(()=>{!Y.fontExtraProperties&&K.data&&(K.data=null),this.commonObjs.resolve(C,K)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(C,y);break;default:throw new Error(`Got unknown common object type ${g}`)}}),s.on("obj",([C,g,y,U])=>{var X;if(this.destroyed)return;const Y=P(this,A).get(g);if(!Y.objs.has(C))switch(y){case"Image":if(Y.objs.resolve(C,U),U){let K;if(U.bitmap){const{width:ne,height:ee}=U;K=ne*ee*4}else K=((X=U.data)==null?void 0:X.length)||0;K>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Y._maybeCleanupAfterRender=!0)}break;case"Pattern":Y.objs.resolve(C,U);break;default:throw new Error(`Got unknown object type ${y}`)}}),s.on("DocProgress",C=>{var g;this.destroyed||(g=u.onProgress)==null||g.call(u,{loaded:C.loaded,total:C.total})}),s.on("FetchBuiltInCMap",C=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(C):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",C=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(C):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s,u;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(u=(s=this._fullReader)==null?void 0:s.filename)!=null?u:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const u=s-1,C=P(this,f).get(u);if(C)return C;const g=this.messageHandler.sendWithPromise("GetPage",{pageIndex:u}).then(y=>{if(this.destroyed)throw new Error("Transport destroyed");const U=new PDFPageProxy(u,y,this,this._params.pdfBug);return P(this,A).set(u,U),U});return P(this,f).set(u,g),g}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,u){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:u})}getFieldObjects(){return de(this,b,It).call(this,"GetFieldObjects")}hasJSActions(){return de(this,b,It).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const s="GetMetadata",u=P(this,R).get(s);if(u)return u;const C=this.messageHandler.sendWithPromise(s,null).then(g=>{var y,U,Y,X;return{info:g[0],metadata:g[1]?new _metadata.Metadata(g[1]):null,contentDispositionFilename:(U=(y=this._fullReader)==null?void 0:y.filename)!=null?U:null,contentLength:(X=(Y=this._fullReader)==null?void 0:Y.contentLength)!=null?X:null}});return P(this,R).set(s,C),C}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(s=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const u of P(this,A).values())if(!u.cleanup())throw new Error(`startCleanup: Page ${u.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),P(this,R).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:s,enableXfa:u}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s,enableXfa:u})}}R=new WeakMap,A=new WeakMap,f=new WeakMap,b=new WeakSet,It=function(s,u=null){const C=P(this,R).get(s);if(C)return C;const g=this.messageHandler.sendWithPromise(s,u);return P(this,R).set(s,g),g};class PDFObjects{constructor(){oe(this,L);oe(this,I,Object.create(null))}get(s,u=null){if(u){const g=de(this,L,Lt).call(this,s);return g.capability.promise.then(()=>u(g.data)),null}const C=P(this,I)[s];if(!(C!=null&&C.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${s}.`);return C.data}has(s){const u=P(this,I)[s];return(u==null?void 0:u.capability.settled)||!1}resolve(s,u=null){const C=de(this,L,Lt).call(this,s);C.data=u,C.capability.resolve()}clear(){var s;for(const u in P(this,I)){const{data:C}=P(this,I)[u];(s=C==null?void 0:C.bitmap)==null||s.close()}Ee(this,I,Object.create(null))}}I=new WeakMap,L=new WeakSet,Lt=function(s){const u=P(this,I)[s];return u||(P(this,I)[s]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(s){oe(this,E,null);Ee(this,E,s),this.onContinue=null}get promise(){return P(this,E).capability.promise}cancel(s=0){P(this,E).cancel(null,s)}get separateAnnots(){const{separateAnnots:s}=P(this,E).operatorList;if(!s)return!1;const{annotationCanvasMap:u}=P(this,E);return s.form||s.canvas&&(u==null?void 0:u.size)>0}}E=new WeakMap,exports.RenderTask=RenderTask;const M=class{constructor({callback:s,params:u,objs:C,commonObjs:g,annotationCanvasMap:y,operatorList:U,pageIndex:Y,canvasFactory:X,filterFactory:K,useRequestAnimationFrame:ne=!1,pdfBug:ee=!1,pageColors:re=null}){this.callback=s,this.params=u,this.objs=C,this.commonObjs=g,this.annotationCanvasMap=y,this.operatorListIdx=null,this.operatorList=U,this._pageIndex=Y,this.canvasFactory=X,this.filterFactory=K,this._pdfBug=ee,this.pageColors=re,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ne===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=u.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:u}){var Y,X;if(this.cancelled)return;if(this._canvas){if(P(M,D).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");P(M,D).add(this._canvas)}this._pdfBug&&((Y=globalThis.StepperManager)==null?void 0:Y.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:C,viewport:g,transform:y,background:U}=this.params;this.gfx=new _canvas.CanvasGraphics(C,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:u},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:y,viewport:g,transparency:s,background:U}),this.operatorListIdx=0,this.graphicsReady=!0,(X=this.graphicsReadyCallback)==null||X.call(this)}cancel(s=null,u=0){var C;this.running=!1,this.cancelled=!0,(C=this.gfx)==null||C.endDrawing(),this._canvas&&P(M,D).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",u))}operatorListChanged(){var s;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(s=this.stepper)==null||s.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&P(M,D).delete(this._canvas),this.callback())))}};let InternalRenderTask=M;D=new WeakMap,oe(InternalRenderTask,D,new WeakSet);const version="3.7.107";exports.version=version;const build="036f855dc";exports.build=build},(e,t,i)=>{var v,a,l,wn,R;Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var n=i(1),r=i(4),d=i(8);class c{constructor(){oe(this,l);oe(this,v,!1);oe(this,a,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(f,b){const k=P(this,a).get(f);return k===void 0?b:Object.assign(b,k)}getRawValue(f){return P(this,a).get(f)}remove(f){if(P(this,a).delete(f),P(this,a).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const b of P(this,a).values())if(b instanceof r.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(f,b){const k=P(this,a).get(f);let I=!1;if(k!==void 0)for(const[L,S]of Object.entries(b))k[L]!==S&&(I=!0,k[L]=S);else I=!0,P(this,a).set(f,b);I&&de(this,l,wn).call(this),b instanceof r.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(b.constructor._type)}has(f){return P(this,a).has(f)}getAll(){return P(this,a).size>0?(0,n.objectFromMap)(P(this,a)):null}setAll(f){for(const[b,k]of Object.entries(f))this.setValue(b,k)}get size(){return P(this,a).size}resetModified(){P(this,v)&&(Ee(this,v,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _(this)}get serializable(){if(P(this,a).size===0)return null;const f=new Map;for(const[b,k]of P(this,a)){const I=k instanceof r.AnnotationEditor?k.serialize():k;I&&f.set(b,I)}return f}static getHash(f){if(!f)return"";const b=new d.MurmurHash3_64;for(const[k,I]of f)b.update(`${k}:${JSON.stringify(I)}`);return b.hexdigest()}}v=new WeakMap,a=new WeakMap,l=new WeakSet,wn=function(){P(this,v)||(Ee(this,v,!0),typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=c;class _ extends c{constructor(b){super();oe(this,R,null);Ee(this,R,structuredClone(b.serializable))}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return P(this,R)}}R=new WeakMap,t.PrintAnnotationStorage=_},(e,t,i)=>{var c,_,v,a,l,w;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var n=i(5),r=i(1);const R=class{constructor(f){oe(this,c,this.focusin.bind(this));oe(this,_,this.focusout.bind(this));oe(this,v,!1);oe(this,a,!1);oe(this,l,!1);Ke(this,"_uiManager",null);oe(this,w,R._zIndex++);this.constructor===R&&(0,r.unreachable)("Cannot initialize AnnotationEditor."),this.parent=f.parent,this.id=f.id,this.width=this.height=null,this.pageIndex=f.parent.pageIndex,this.name=f.name,this.div=null,this._uiManager=f.uiManager;const{rotation:b,rawDims:{pageWidth:k,pageHeight:I,pageX:L,pageY:S}}=this.parent.viewport;this.rotation=b,this.pageRotation=(360+b-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[k,I],this.pageTranslation=[L,S];const[E,D]=this.parentDimensions;this.x=f.x/E,this.y=f.y/D,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,r.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(f){this._uiManager.addCommands(f)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=P(this,w)}setParent(f){f!==null&&(this.pageIndex=f.pageIndex,this.pageDimensions=f.pageDimensions),this.parent=f}focusin(f){P(this,v)?Ee(this,v,!1):this.parent.setSelected(this)}focusout(f){var k;if(!this.isAttachedToDOM)return;const b=f.relatedTarget;b!=null&&b.closest(`#${this.id}`)||(f.preventDefault(),(k=this.parent)!=null&&k.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(f){const b=this.parent.div.getBoundingClientRect();this.startX=f.clientX-b.x,this.startY=f.clientY-b.y,f.dataTransfer.setData("text/plain",this.id),f.dataTransfer.effectAllowed="move"}setAt(f,b,k,I){const[L,S]=this.parentDimensions;[k,I]=this.screenToPageTranslation(k,I),this.x=(f+k)/L,this.y=(b+I)/S,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(f,b){const[k,I]=this.parentDimensions;[f,b]=this.screenToPageTranslation(f,b),this.x+=f/k,this.y+=b/I,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(f,b){switch(this.parentRotation){case 90:return[b,-f];case 180:return[-f,-b];case 270:return[-b,f];default:return[f,b]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:f}=this._uiManager.viewParameters,[b,k]=this.pageDimensions;return[b*f,k*f]}setDims(f,b){const[k,I]=this.parentDimensions;this.div.style.width=`${100*f/k}%`,this.div.style.height=`${100*b/I}%`}fixDims(){const{style:f}=this.div,{height:b,width:k}=f,I=k.endsWith("%"),L=b.endsWith("%");if(I&&L)return;const[S,E]=this.parentDimensions;I||(f.width=`${100*parseFloat(k)/S}%`),L||(f.height=`${100*parseFloat(b)/E}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",P(this,c)),this.div.addEventListener("focusout",P(this,_));const[f,b]=this.getInitialTranslation();return this.translate(f,b),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(f){const{isMac:b}=r.FeatureTest.platform;if(f.button!==0||f.ctrlKey&&b){f.preventDefault();return}f.ctrlKey&&!b||f.shiftKey||f.metaKey&&b?this.parent.toggleSelected(this):this.parent.setSelected(this),Ee(this,v,!0)}getRect(f,b){const k=this.parentScale,[I,L]=this.pageDimensions,[S,E]=this.pageTranslation,D=f/k,M=b/k,O=this.x*I,s=this.y*L,u=this.width*I,C=this.height*L;switch(this.rotation){case 0:return[O+D+S,L-s-M-C+E,O+D+u+S,L-s-M+E];case 90:return[O+M+S,L-s+D+E,O+M+C+S,L-s+D+u+E];case 180:return[O-D-u+S,L-s+M+E,O-D+S,L-s+M+C+E];case 270:return[O-M-C+S,L-s-D-u+E,O-M+S,L-s-D+E];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(f,b){const[k,I,L,S]=f,E=L-k,D=S-I;switch(this.rotation){case 0:return[k,b-S,E,D];case 90:return[k,b-I,D,E];case 180:return[L,b-I,E,D];case 270:return[L,b-S,D,E];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ee(this,l,!0)}disableEditMode(){Ee(this,l,!1)}isInEditMode(){return P(this,l)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var f;(f=this.div)==null||f.addEventListener("focusin",P(this,c))}serialize(){(0,r.unreachable)("An editor must be serializable")}static deserialize(f,b,k){const I=new this.prototype.constructor({parent:b,id:b.getNextId(),uiManager:k});I.rotation=f.rotation;const[L,S]=I.pageDimensions,[E,D,M,O]=I.getRectInCurrentCoords(f.rect,S);return I.x=E/L,I.y=D/S,I.width=M/L,I.height=O/S,I}remove(){this.div.removeEventListener("focusin",P(this,c)),this.div.removeEventListener("focusout",P(this,_)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var f;(f=this.div)==null||f.classList.add("selectedEditor")}unselect(){var f;(f=this.div)==null||f.classList.remove("selectedEditor")}updateParams(f,b){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return P(this,a)}set isEditing(f){Ee(this,a,f),f?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let d=R;c=new WeakMap,_=new WeakMap,v=new WeakMap,a=new WeakMap,l=new WeakMap,w=new WeakMap,Ke(d,"_colorManager",new n.ColorManager),Ke(d,"_zIndex",1),t.AnnotationEditor=d},(e,t,i)=>{var R,A,f,b,k,I,Pn,E,D,M,O,s,u,C,g,y,U,Y,X,K,ne,ee,re,ve,Z,we,Ce,le,V,H,z,Cn,se,Dt,ie,xn,N,Tn,m,it,B,_t,G,kn,Q,Mn,J,Nt,ue,vt,ye,Bt;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=d,t.opacityToHex=c;var n=i(1),r=i(6);function d(Ie,ge,Re){for(const Ne of Re)ge.addEventListener(Ne,Ie[Ne].bind(Ie))}function c(Ie){return Math.round(Math.min(255,Math.max(1,255*Ie))).toString(16).padStart(2,"0")}class _{constructor(){oe(this,R,0)}getId(){return`${n.AnnotationEditorPrefix}${mt(this,R)._++}`}}R=new WeakMap;class v{constructor(ge=128){oe(this,A,[]);oe(this,f,!1);oe(this,b,void 0);oe(this,k,-1);Ee(this,b,ge)}add({cmd:ge,undo:Re,mustExec:Ne,type:je=NaN,overwriteIfSameType:j=!1,keepUndo:W=!1}){if(Ne&&ge(),P(this,f))return;const te={cmd:ge,undo:Re,type:je};if(P(this,k)===-1){P(this,A).length>0&&(P(this,A).length=0),Ee(this,k,0),P(this,A).push(te);return}if(j&&P(this,A)[P(this,k)].type===je){W&&(te.undo=P(this,A)[P(this,k)].undo),P(this,A)[P(this,k)]=te;return}const be=P(this,k)+1;be===P(this,b)?P(this,A).splice(0,1):(Ee(this,k,be),be<P(this,A).length&&P(this,A).splice(be)),P(this,A).push(te)}undo(){P(this,k)!==-1&&(Ee(this,f,!0),P(this,A)[P(this,k)].undo(),Ee(this,f,!1),Ee(this,k,P(this,k)-1))}redo(){P(this,k)<P(this,A).length-1&&(Ee(this,k,P(this,k)+1),Ee(this,f,!0),P(this,A)[P(this,k)].cmd(),Ee(this,f,!1))}hasSomethingToUndo(){return P(this,k)!==-1}hasSomethingToRedo(){return P(this,k)<P(this,A).length-1}destroy(){Ee(this,A,null)}}A=new WeakMap,f=new WeakMap,b=new WeakMap,k=new WeakMap,t.CommandManager=v;class a{constructor(ge){oe(this,I);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Re}=n.FeatureTest.platform;for(const[Ne,je]of ge)for(const j of Ne){const W=j.startsWith("mac+");Re&&W?(this.callbacks.set(j.slice(4),je),this.allKeys.add(j.split("+").at(-1))):!Re&&!W&&(this.callbacks.set(j,je),this.allKeys.add(j.split("+").at(-1)))}}exec(ge,Re){if(!this.allKeys.has(Re.key))return;const Ne=this.callbacks.get(de(this,I,Pn).call(this,Re));!Ne||(Ne.bind(ge)(),Re.stopPropagation(),Re.preventDefault())}}I=new WeakSet,Pn=function(ge){ge.altKey&&this.buffer.push("alt"),ge.ctrlKey&&this.buffer.push("ctrl"),ge.metaKey&&this.buffer.push("meta"),ge.shiftKey&&this.buffer.push("shift"),this.buffer.push(ge.key);const Re=this.buffer.join("+");return this.buffer.length=0,Re},t.KeyboardManager=a;const S=class{get _colors(){const ge=new Map([["CanvasText",null],["Canvas",null]]);return(0,r.getColorValues)(ge),(0,n.shadow)(this,"_colors",ge)}convert(ge){const Re=(0,r.getRGB)(ge);if(!window.matchMedia("(forced-colors: active)").matches)return Re;for(const[Ne,je]of this._colors)if(je.every((j,W)=>j===Re[W]))return S._colorsMapping.get(Ne);return Re}getHexCode(ge){const Re=this._colors.get(ge);return Re?n.Util.makeHexColor(...Re):ge}};let l=S;Ke(l,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=l;const Me=class{constructor(ge,Re,Ne){oe(this,z);oe(this,se);oe(this,ie);oe(this,N);oe(this,m);oe(this,B);oe(this,G);oe(this,Q);oe(this,J);oe(this,ue);oe(this,ye);oe(this,E,null);oe(this,D,new Map);oe(this,M,new Map);oe(this,O,null);oe(this,s,new v);oe(this,u,0);oe(this,C,null);oe(this,g,new Set);oe(this,y,null);oe(this,U,new _);oe(this,Y,!1);oe(this,X,n.AnnotationEditorType.NONE);oe(this,K,new Set);oe(this,ne,this.copy.bind(this));oe(this,ee,this.cut.bind(this));oe(this,re,this.paste.bind(this));oe(this,ve,this.keydown.bind(this));oe(this,Z,this.onEditingAction.bind(this));oe(this,we,this.onPageChanging.bind(this));oe(this,Ce,this.onScaleChanging.bind(this));oe(this,le,this.onRotationChanging.bind(this));oe(this,V,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});oe(this,H,null);Ee(this,H,ge),Ee(this,y,Re),P(this,y)._on("editingaction",P(this,Z)),P(this,y)._on("pagechanging",P(this,we)),P(this,y)._on("scalechanging",P(this,Ce)),P(this,y)._on("rotationchanging",P(this,le)),Ee(this,O,Ne),this.viewParameters={realScale:r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){de(this,se,Dt).call(this),P(this,y)._off("editingaction",P(this,Z)),P(this,y)._off("pagechanging",P(this,we)),P(this,y)._off("scalechanging",P(this,Ce)),P(this,y)._off("rotationchanging",P(this,le));for(const ge of P(this,M).values())ge.destroy();P(this,M).clear(),P(this,D).clear(),P(this,g).clear(),Ee(this,E,null),P(this,K).clear(),P(this,s).destroy()}onPageChanging({pageNumber:ge}){Ee(this,u,ge-1)}focusMainContainer(){P(this,H).focus()}addShouldRescale(ge){P(this,g).add(ge)}removeShouldRescale(ge){P(this,g).delete(ge)}onScaleChanging({scale:ge}){this.commitOrRemove(),this.viewParameters.realScale=ge*r.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Re of P(this,g))Re.onScaleChanging()}onRotationChanging({pagesRotation:ge}){this.commitOrRemove(),this.viewParameters.rotation=ge}addToAnnotationStorage(ge){!ge.isEmpty()&&P(this,O)&&!P(this,O).has(ge.id)&&P(this,O).setValue(ge.id,ge)}copy(ge){if(ge.preventDefault(),P(this,E)&&P(this,E).commitOrRemove(),!this.hasSelection)return;const Re=[];for(const Ne of P(this,K))Ne.isEmpty()||Re.push(Ne.serialize());Re.length!==0&&ge.clipboardData.setData("application/pdfjs",JSON.stringify(Re))}cut(ge){this.copy(ge),this.delete()}paste(ge){ge.preventDefault();let Re=ge.clipboardData.getData("application/pdfjs");if(!Re)return;try{Re=JSON.parse(Re)}catch(je){(0,n.warn)(`paste: "${je.message}".`);return}if(!Array.isArray(Re))return;this.unselectAll();const Ne=P(this,M).get(P(this,u));try{const je=[];for(const te of Re){const be=Ne.deserialize(te);if(!be)return;je.push(be)}const j=()=>{for(const te of je)de(this,J,Nt).call(this,te);de(this,ye,Bt).call(this,je)},W=()=>{for(const te of je)te.remove()};this.addCommands({cmd:j,undo:W,mustExec:!0})}catch(je){(0,n.warn)(`paste: "${je.message}".`)}}keydown(ge){var Re;(Re=this.getActive())!=null&&Re.shouldGetKeyboardEvents()||Me._keyboardManager.exec(this,ge)}onEditingAction(ge){["undo","redo","delete","selectAll"].includes(ge.name)&&this[ge.name]()}setEditingState(ge){ge?(de(this,z,Cn).call(this),de(this,ie,xn).call(this),de(this,m,it).call(this,{isEditing:P(this,X)!==n.AnnotationEditorType.NONE,isEmpty:de(this,ue,vt).call(this),hasSomethingToUndo:P(this,s).hasSomethingToUndo(),hasSomethingToRedo:P(this,s).hasSomethingToRedo(),hasSelectedEditor:!1})):(de(this,se,Dt).call(this),de(this,N,Tn).call(this),de(this,m,it).call(this,{isEditing:!1}))}registerEditorTypes(ge){if(!P(this,C)){Ee(this,C,ge);for(const Re of P(this,C))de(this,B,_t).call(this,Re.defaultPropertiesToUpdate)}}getId(){return P(this,U).getId()}get currentLayer(){return P(this,M).get(P(this,u))}get currentPageIndex(){return P(this,u)}addLayer(ge){P(this,M).set(ge.pageIndex,ge),P(this,Y)?ge.enable():ge.disable()}removeLayer(ge){P(this,M).delete(ge.pageIndex)}updateMode(ge){if(Ee(this,X,ge),ge===n.AnnotationEditorType.NONE)this.setEditingState(!1),de(this,Q,Mn).call(this);else{this.setEditingState(!0),de(this,G,kn).call(this);for(const Re of P(this,M).values())Re.updateMode(ge)}}updateToolbar(ge){ge!==P(this,X)&&P(this,y).dispatch("switchannotationeditormode",{source:this,mode:ge})}updateParams(ge,Re){if(!!P(this,C)){for(const Ne of P(this,K))Ne.updateParams(ge,Re);for(const Ne of P(this,C))Ne.updateDefaultParams(ge,Re)}}getEditors(ge){const Re=[];for(const Ne of P(this,D).values())Ne.pageIndex===ge&&Re.push(Ne);return Re}getEditor(ge){return P(this,D).get(ge)}addEditor(ge){P(this,D).set(ge.id,ge)}removeEditor(ge){var Re;P(this,D).delete(ge.id),this.unselect(ge),(Re=P(this,O))==null||Re.remove(ge.id)}setActiveEditor(ge){P(this,E)!==ge&&(Ee(this,E,ge),ge&&de(this,B,_t).call(this,ge.propertiesToUpdate))}toggleSelected(ge){if(P(this,K).has(ge)){P(this,K).delete(ge),ge.unselect(),de(this,m,it).call(this,{hasSelectedEditor:this.hasSelection});return}P(this,K).add(ge),ge.select(),de(this,B,_t).call(this,ge.propertiesToUpdate),de(this,m,it).call(this,{hasSelectedEditor:!0})}setSelected(ge){for(const Re of P(this,K))Re!==ge&&Re.unselect();P(this,K).clear(),P(this,K).add(ge),ge.select(),de(this,B,_t).call(this,ge.propertiesToUpdate),de(this,m,it).call(this,{hasSelectedEditor:!0})}isSelected(ge){return P(this,K).has(ge)}unselect(ge){ge.unselect(),P(this,K).delete(ge),de(this,m,it).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return P(this,K).size!==0}undo(){P(this,s).undo(),de(this,m,it).call(this,{hasSomethingToUndo:P(this,s).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:de(this,ue,vt).call(this)})}redo(){P(this,s).redo(),de(this,m,it).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:P(this,s).hasSomethingToRedo(),isEmpty:de(this,ue,vt).call(this)})}addCommands(ge){P(this,s).add(ge),de(this,m,it).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:de(this,ue,vt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ge=[...P(this,K)],Re=()=>{for(const je of ge)je.remove()},Ne=()=>{for(const je of ge)de(this,J,Nt).call(this,je)};this.addCommands({cmd:Re,undo:Ne,mustExec:!0})}commitOrRemove(){var ge;(ge=P(this,E))==null||ge.commitOrRemove()}selectAll(){for(const ge of P(this,K))ge.commit();de(this,ye,Bt).call(this,P(this,D).values())}unselectAll(){if(P(this,E)){P(this,E).commitOrRemove();return}if(P(this,K).size!==0){for(const ge of P(this,K))ge.unselect();P(this,K).clear(),de(this,m,it).call(this,{hasSelectedEditor:!1})}}isActive(ge){return P(this,E)===ge}getActive(){return P(this,E)}getMode(){return P(this,X)}};let w=Me;E=new WeakMap,D=new WeakMap,M=new WeakMap,O=new WeakMap,s=new WeakMap,u=new WeakMap,C=new WeakMap,g=new WeakMap,y=new WeakMap,U=new WeakMap,Y=new WeakMap,X=new WeakMap,K=new WeakMap,ne=new WeakMap,ee=new WeakMap,re=new WeakMap,ve=new WeakMap,Z=new WeakMap,we=new WeakMap,Ce=new WeakMap,le=new WeakMap,V=new WeakMap,H=new WeakMap,z=new WeakSet,Cn=function(){P(this,H).addEventListener("keydown",P(this,ve))},se=new WeakSet,Dt=function(){P(this,H).removeEventListener("keydown",P(this,ve))},ie=new WeakSet,xn=function(){document.addEventListener("copy",P(this,ne)),document.addEventListener("cut",P(this,ee)),document.addEventListener("paste",P(this,re))},N=new WeakSet,Tn=function(){document.removeEventListener("copy",P(this,ne)),document.removeEventListener("cut",P(this,ee)),document.removeEventListener("paste",P(this,re))},m=new WeakSet,it=function(ge){Object.entries(ge).some(([Ne,je])=>P(this,V)[Ne]!==je)&&P(this,y).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(P(this,V),ge)})},B=new WeakSet,_t=function(ge){P(this,y).dispatch("annotationeditorparamschanged",{source:this,details:ge})},G=new WeakSet,kn=function(){if(!P(this,Y)){Ee(this,Y,!0);for(const ge of P(this,M).values())ge.enable()}},Q=new WeakSet,Mn=function(){if(this.unselectAll(),P(this,Y)){Ee(this,Y,!1);for(const ge of P(this,M).values())ge.disable()}},J=new WeakSet,Nt=function(ge){const Re=P(this,M).get(ge.pageIndex);Re?Re.addOrRebuild(ge):this.addEditor(ge)},ue=new WeakSet,vt=function(){if(P(this,D).size===0)return!0;if(P(this,D).size===1)for(const ge of P(this,D).values())return ge.isEmpty();return!1},ye=new WeakSet,Bt=function(ge){P(this,K).clear();for(const Re of ge)Re.isEmpty()||(P(this,K).add(Re),Re.select());de(this,m,it).call(this,{hasSelectedEditor:!0})},Ke(w,"_keyboardManager",new a([[["ctrl+a","mac+meta+a"],Me.prototype.selectAll],[["ctrl+z","mac+meta+z"],Me.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Me.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Me.prototype.delete],[["Escape","mac+Escape"],Me.prototype.unselectAll]])),t.AnnotationEditorUIManager=w},(e,t,i)=>{var ne,ee,re,ve,Z,we,Ce,le,V,ht,z,lt,se,st;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=O,t.getColorValues=y,t.getCurrentTransform=U,t.getCurrentTransformInverse=Y,t.getFilenameFromUrl=L,t.getPdfFilenameFromUrl=S,t.getRGB=g,t.getXfaPageViewport=C,t.isDataScheme=k,t.isPdfFile=I,t.isValidFetchUrl=D,t.loadScript=M,t.setLayerDimensions=X;var n=i(7),r=i(1);const d="http://www.w3.org/2000/svg",c="pdfjs_internal_id_";t.AnnotationPrefix=c;const K=class{};let _=K;Ke(_,"CSS",96),Ke(_,"PDF",72),Ke(_,"PDF_TO_CSS_UNITS",K.CSS/K.PDF),t.PixelsPerInch=_;class v extends n.BaseFilterFactory{constructor({docId:N,ownerDocument:o=globalThis.document}={}){super();oe(this,V);oe(this,z);oe(this,se);oe(this,ne,void 0);oe(this,ee,void 0);oe(this,re,void 0);oe(this,ve,void 0);oe(this,Z,void 0);oe(this,we,void 0);oe(this,Ce,void 0);oe(this,le,0);Ee(this,re,N),Ee(this,ve,o)}addFilter(N){if(!N)return"none";let o=P(this,V,ht).get(N);if(o)return o;let m,T,B,$;if(N.length===1){const J=N[0],fe=new Array(256);for(let ue=0;ue<256;ue++)fe[ue]=J[ue]/255;$=m=T=B=fe.join(",")}else{const[J,fe,ue]=N,me=new Array(256),ye=new Array(256),xe=new Array(256);for(let Me=0;Me<256;Me++)me[Me]=J[Me]/255,ye[Me]=fe[Me]/255,xe[Me]=ue[Me]/255;m=me.join(","),T=ye.join(","),B=xe.join(","),$=`${m}${T}${B}`}if(o=P(this,V,ht).get($),o)return P(this,V,ht).set(N,o),o;const G=`g_${P(this,re)}_transfer_map_${mt(this,le)._++}`,ce=`url(#${G})`;P(this,V,ht).set(N,ce),P(this,V,ht).set($,ce);const Q=P(this,ve).createElementNS(d,"filter",d);Q.setAttribute("id",G),Q.setAttribute("color-interpolation-filters","sRGB");const q=P(this,ve).createElementNS(d,"feComponentTransfer");return Q.append(q),de(this,se,st).call(this,q,"feFuncR",m),de(this,se,st).call(this,q,"feFuncG",T),de(this,se,st).call(this,q,"feFuncB",B),P(this,z,lt).append(Q),ce}addHCMFilter(N,o){var ue;const m=`${N}-${o}`;if(P(this,we)===m)return P(this,Ce);if(Ee(this,we,m),Ee(this,Ce,"none"),(ue=P(this,Z))==null||ue.remove(),!N||!o)return P(this,Ce);P(this,z,lt).style.color=N,N=getComputedStyle(P(this,z,lt)).getPropertyValue("color");const T=g(N);N=r.Util.makeHexColor(...T),P(this,z,lt).style.color=o,o=getComputedStyle(P(this,z,lt)).getPropertyValue("color");const B=g(o);if(o=r.Util.makeHexColor(...B),P(this,z,lt).style.color="",N==="#000000"&&o==="#ffffff"||N===o)return P(this,Ce);const $=new Array(256);for(let me=0;me<=255;me++){const ye=me/255;$[me]=ye<=.03928?ye/12.92:((ye+.055)/1.055)**2.4}const G=$.join(","),ce=`g_${P(this,re)}_hcm_filter`,Q=Ee(this,Z,P(this,ve).createElementNS(d,"filter",d));Q.setAttribute("id",ce),Q.setAttribute("color-interpolation-filters","sRGB");let q=P(this,ve).createElementNS(d,"feComponentTransfer");Q.append(q),de(this,se,st).call(this,q,"feFuncR",G),de(this,se,st).call(this,q,"feFuncG",G),de(this,se,st).call(this,q,"feFuncB",G);const J=P(this,ve).createElementNS(d,"feColorMatrix");J.setAttribute("type","matrix"),J.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Q.append(J),q=P(this,ve).createElementNS(d,"feComponentTransfer"),Q.append(q);const fe=(me,ye)=>{const xe=T[me]/255,Me=B[me]/255,Ie=new Array(ye+1);for(let ge=0;ge<=ye;ge++)Ie[ge]=xe+ge/ye*(Me-xe);return Ie.join(",")};return de(this,se,st).call(this,q,"feFuncR",fe(0,5)),de(this,se,st).call(this,q,"feFuncG",fe(1,5)),de(this,se,st).call(this,q,"feFuncB",fe(2,5)),P(this,z,lt).append(Q),Ee(this,Ce,`url(#${ce})`),P(this,Ce)}destroy(N=!1){N&&P(this,Ce)||(P(this,ee)&&(P(this,ee).parentNode.parentNode.remove(),Ee(this,ee,null)),P(this,ne)&&(P(this,ne).clear(),Ee(this,ne,null)),Ee(this,le,0))}}ne=new WeakMap,ee=new WeakMap,re=new WeakMap,ve=new WeakMap,Z=new WeakMap,we=new WeakMap,Ce=new WeakMap,le=new WeakMap,V=new WeakSet,ht=function(){return P(this,ne)||Ee(this,ne,new Map)},z=new WeakSet,lt=function(){if(!P(this,ee)){const N=P(this,ve).createElement("div"),{style:o}=N;o.visibility="hidden",o.contain="strict",o.width=o.height=0,o.position="absolute",o.top=o.left=0,o.zIndex=-1;const m=P(this,ve).createElementNS(d,"svg");m.setAttribute("width",0),m.setAttribute("height",0),Ee(this,ee,P(this,ve).createElementNS(d,"defs")),N.append(m),m.append(P(this,ee)),P(this,ve).body.append(N)}return P(this,ee)},se=new WeakSet,st=function(N,o,m){const T=P(this,ve).createElementNS(d,o);T.setAttribute("type","discrete"),T.setAttribute("tableValues",m),N.append(T)},t.DOMFilterFactory=v;class a extends n.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,N){const o=this._document.createElement("canvas");return o.width=F,o.height=N,o}}t.DOMCanvasFactory=a;async function l(ie,F=!1){if(D(ie,document.baseURI)){const N=await fetch(ie);if(!N.ok)throw new Error(N.statusText);return F?new Uint8Array(await N.arrayBuffer()):(0,r.stringToBytes)(await N.text())}return new Promise((N,o)=>{const m=new XMLHttpRequest;m.open("GET",ie,!0),F&&(m.responseType="arraybuffer"),m.onreadystatechange=()=>{if(m.readyState===XMLHttpRequest.DONE){if(m.status===200||m.status===0){let T;if(F&&m.response?T=new Uint8Array(m.response):!F&&m.responseText&&(T=(0,r.stringToBytes)(m.responseText)),T){N(T);return}}o(new Error(m.statusText))}},m.send(null)})}class w extends n.BaseCMapReaderFactory{_fetchData(F,N){return l(F,this.isCompressed).then(o=>({cMapData:o,compressionType:N}))}}t.DOMCMapReaderFactory=w;class R extends n.BaseStandardFontDataFactory{_fetchData(F){return l(F,!0)}}t.DOMStandardFontDataFactory=R;class A extends n.BaseSVGFactory{_createSVG(F){return document.createElementNS(d,F)}}t.DOMSVGFactory=A;class f{constructor({viewBox:F,scale:N,rotation:o,offsetX:m=0,offsetY:T=0,dontFlip:B=!1}){this.viewBox=F,this.scale=N,this.rotation=o,this.offsetX=m,this.offsetY=T;const $=(F[2]+F[0])/2,G=(F[3]+F[1])/2;let ce,Q,q,J;switch(o%=360,o<0&&(o+=360),o){case 180:ce=-1,Q=0,q=0,J=1;break;case 90:ce=0,Q=1,q=1,J=0;break;case 270:ce=0,Q=-1,q=-1,J=0;break;case 0:ce=1,Q=0,q=0,J=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}B&&(q=-q,J=-J);let fe,ue,me,ye;ce===0?(fe=Math.abs(G-F[1])*N+m,ue=Math.abs($-F[0])*N+T,me=(F[3]-F[1])*N,ye=(F[2]-F[0])*N):(fe=Math.abs($-F[0])*N+m,ue=Math.abs(G-F[1])*N+T,me=(F[2]-F[0])*N,ye=(F[3]-F[1])*N),this.transform=[ce*N,Q*N,q*N,J*N,fe-ce*N*$-q*N*G,ue-Q*N*$-J*N*G],this.width=me,this.height=ye}get rawDims(){const{viewBox:F}=this;return(0,r.shadow)(this,"rawDims",{pageWidth:F[2]-F[0],pageHeight:F[3]-F[1],pageX:F[0],pageY:F[1]})}clone({scale:F=this.scale,rotation:N=this.rotation,offsetX:o=this.offsetX,offsetY:m=this.offsetY,dontFlip:T=!1}={}){return new f({viewBox:this.viewBox.slice(),scale:F,rotation:N,offsetX:o,offsetY:m,dontFlip:T})}convertToViewportPoint(F,N){return r.Util.applyTransform([F,N],this.transform)}convertToViewportRectangle(F){const N=r.Util.applyTransform([F[0],F[1]],this.transform),o=r.Util.applyTransform([F[2],F[3]],this.transform);return[N[0],N[1],o[0],o[1]]}convertToPdfPoint(F,N){return r.Util.applyInverseTransform([F,N],this.transform)}}t.PageViewport=f;class b extends r.BaseException{constructor(F,N,o=0){super(F,"RenderingCancelledException"),this.type=N,this.extraDelay=o}}t.RenderingCancelledException=b;function k(ie){const F=ie.length;let N=0;for(;N<F&&ie[N].trim()==="";)N++;return ie.substring(N,N+5).toLowerCase()==="data:"}function I(ie){return typeof ie=="string"&&/\.pdf$/i.test(ie)}function L(ie,F=!1){return F||([ie]=ie.split(/[#?]/,1)),ie.substring(ie.lastIndexOf("/")+1)}function S(ie,F="document.pdf"){if(typeof ie!="string")return F;if(k(ie))return(0,r.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;const N=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,o=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,m=N.exec(ie);let T=o.exec(m[1])||o.exec(m[2])||o.exec(m[3]);if(T&&(T=T[0],T.includes("%")))try{T=o.exec(decodeURIComponent(T))[0]}catch{}return T||F}class E{constructor(){Ke(this,"started",Object.create(null));Ke(this,"times",[])}time(F){F in this.started&&(0,r.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,r.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){const F=[];let N=0;for(const{name:o}of this.times)N=Math.max(o.length,N);for(const{name:o,start:m,end:T}of this.times)F.push(`${o.padEnd(N)} ${T-m}ms
`);return F.join("")}}t.StatTimer=E;function D(ie,F){try{const{protocol:N}=F?new URL(ie,F):new URL(ie);return N==="http:"||N==="https:"}catch{return!1}}function M(ie,F=!1){return new Promise((N,o)=>{const m=document.createElement("script");m.src=ie,m.onload=function(T){F&&m.remove(),N(T)},m.onerror=function(){o(new Error(`Cannot load script at: ${m.src}`))},(document.head||document.documentElement).append(m)})}function O(ie){console.log("Deprecated API usage: "+ie)}let s;class u{static toDateObject(F){if(!F||typeof F!="string")return null;s||(s=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const N=s.exec(F);if(!N)return null;const o=parseInt(N[1],10);let m=parseInt(N[2],10);m=m>=1&&m<=12?m-1:0;let T=parseInt(N[3],10);T=T>=1&&T<=31?T:1;let B=parseInt(N[4],10);B=B>=0&&B<=23?B:0;let $=parseInt(N[5],10);$=$>=0&&$<=59?$:0;let G=parseInt(N[6],10);G=G>=0&&G<=59?G:0;const ce=N[7]||"Z";let Q=parseInt(N[8],10);Q=Q>=0&&Q<=23?Q:0;let q=parseInt(N[9],10)||0;return q=q>=0&&q<=59?q:0,ce==="-"?(B+=Q,$+=q):ce==="+"&&(B-=Q,$-=q),new Date(Date.UTC(o,m,T,B,$,G))}}t.PDFDateString=u;function C(ie,{scale:F=1,rotation:N=0}){const{width:o,height:m}=ie.attributes.style,T=[0,0,parseInt(o),parseInt(m)];return new f({viewBox:T,scale:F,rotation:N})}function g(ie){if(ie.startsWith("#")){const F=parseInt(ie.slice(1),16);return[(F&16711680)>>16,(F&65280)>>8,F&255]}return ie.startsWith("rgb(")?ie.slice(4,-1).split(",").map(F=>parseInt(F)):ie.startsWith("rgba(")?ie.slice(5,-1).split(",").map(F=>parseInt(F)).slice(0,3):((0,r.warn)(`Not a valid color format: "${ie}"`),[0,0,0])}function y(ie){const F=document.createElement("span");F.style.visibility="hidden",document.body.append(F);for(const N of ie.keys()){F.style.color=N;const o=window.getComputedStyle(F).color;ie.set(N,g(o))}F.remove()}function U(ie){const{a:F,b:N,c:o,d:m,e:T,f:B}=ie.getTransform();return[F,N,o,m,T,B]}function Y(ie){const{a:F,b:N,c:o,d:m,e:T,f:B}=ie.getTransform().invertSelf();return[F,N,o,m,T,B]}function X(ie,F,N=!1,o=!0){if(F instanceof f){const{pageWidth:m,pageHeight:T}=F.rawDims,{style:B}=ie,$=`calc(var(--scale-factor) * ${m}px)`,G=`calc(var(--scale-factor) * ${T}px)`;!N||F.rotation%180===0?(B.width=$,B.height=G):(B.width=G,B.height=$)}o&&ie.setAttribute("data-main-rotation",F.rotation)}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var n=i(1);class r{constructor(){this.constructor===r&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(l){return"none"}addHCMFilter(l,w){return"none"}destroy(l=!1){}}t.BaseFilterFactory=r;class d{constructor(){this.constructor===d&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(l,w){if(l<=0||w<=0)throw new Error("Invalid canvas size");const R=this._createCanvas(l,w);return{canvas:R,context:R.getContext("2d")}}reset(l,w,R){if(!l.canvas)throw new Error("Canvas is not specified");if(w<=0||R<=0)throw new Error("Invalid canvas size");l.canvas.width=w,l.canvas.height=R}destroy(l){if(!l.canvas)throw new Error("Canvas is not specified");l.canvas.width=0,l.canvas.height=0,l.canvas=null,l.context=null}_createCanvas(l,w){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=d;class c{constructor({baseUrl:l=null,isCompressed:w=!0}){this.constructor===c&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=l,this.isCompressed=w}async fetch({name:l}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!l)throw new Error("CMap name must be specified.");const w=this.baseUrl+l+(this.isCompressed?".bcmap":""),R=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(w,R).catch(A=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${w}`)})}_fetchData(l,w){(0,n.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=c;class _{constructor({baseUrl:l=null}){this.constructor===_&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=l}async fetch({filename:l}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!l)throw new Error("Font filename must be specified.");const w=`${this.baseUrl}${l}`;return this._fetchData(w).catch(R=>{throw new Error(`Unable to load font data at: ${w}`)})}_fetchData(l){(0,n.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=_;class v{constructor(){this.constructor===v&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(l,w,R=!1){if(l<=0||w<=0)throw new Error("Invalid SVG dimensions");const A=this._createSVG("svg:svg");return A.setAttribute("version","1.1"),R||(A.setAttribute("width",`${l}px`),A.setAttribute("height",`${w}px`)),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("viewBox",`0 0 ${l} ${w}`),A}createElement(l){if(typeof l!="string")throw new Error("Invalid SVG element type");return this._createSVG(l)}_createSVG(l){(0,n.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=v},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var n=i(1);const r=3285377520,d=4294901760,c=65535;class _{constructor(a){this.h1=a?a&4294967295:r,this.h2=a?a&4294967295:r}update(a){let l,w;if(typeof a=="string"){l=new Uint8Array(a.length*2),w=0;for(let O=0,s=a.length;O<s;O++){const u=a.charCodeAt(O);u<=255?l[w++]=u:(l[w++]=u>>>8,l[w++]=u&255)}}else if((0,n.isArrayBuffer)(a))l=a.slice(),w=l.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const R=w>>2,A=w-R*4,f=new Uint32Array(l.buffer,0,R);let b=0,k=0,I=this.h1,L=this.h2;const S=3432918353,E=461845907,D=S&c,M=E&c;for(let O=0;O<R;O++)O&1?(b=f[O],b=b*S&d|b*D&c,b=b<<15|b>>>17,b=b*E&d|b*M&c,I^=b,I=I<<13|I>>>19,I=I*5+3864292196):(k=f[O],k=k*S&d|k*D&c,k=k<<15|k>>>17,k=k*E&d|k*M&c,L^=k,L=L<<13|L>>>19,L=L*5+3864292196);switch(b=0,A){case 3:b^=l[R*4+2]<<16;case 2:b^=l[R*4+1]<<8;case 1:b^=l[R*4],b=b*S&d|b*D&c,b=b<<15|b>>>17,b=b*E&d|b*M&c,R&1?I^=b:L^=b}this.h1=I,this.h2=L}hexdigest(){let a=this.h1,l=this.h2;return a^=l>>>1,a=a*3981806797&d|a*36045&c,l=l*4283543511&d|((l<<16|a>>>16)*2950163797&d)>>>16,a^=l>>>1,a=a*444984403&d|a*60499&c,l=l*3301882366&d|((l<<16|a>>>16)*3120437893&d)>>>16,a^=l>>>1,(a>>>0).toString(16).padStart(8,"0")+(l>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=_},(e,t,i)=>{var _;Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n=i(1),r=i(10);class d{constructor({ownerDocument:a=globalThis.document,styleElement:l=null}){oe(this,_,new Set);this._document=a,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(a){this.nativeFontFaces.add(a),this._document.fonts.add(a)}removeNativeFontFace(a){this.nativeFontFaces.delete(a),this._document.fonts.delete(a)}insertRule(a){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const l=this.styleElement.sheet;l.insertRule(a,l.cssRules.length)}clear(){for(const a of this.nativeFontFaces)this._document.fonts.delete(a);this.nativeFontFaces.clear(),P(this,_).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(a){if(!(!a||P(this,_).has(a.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:l,src:w,style:R}=a,A=new FontFace(l,w,R);this.addNativeFontFace(A);try{await A.load(),P(this,_).add(l)}catch{(0,n.warn)(`Cannot load system font: ${a.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(A)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(a){if(a.attached||a.missingFile&&!a.systemFontInfo)return;if(a.attached=!0,a.systemFontInfo){await this.loadSystemFont(a.systemFontInfo);return}if(this.isFontLoadingAPISupported){const w=a.createNativeFontFace();if(w){this.addNativeFontFace(w);try{await w.loaded}catch(R){throw(0,n.warn)(`Failed to load font '${w.family}': '${R}'.`),a.disableFontFace=!0,R}}return}const l=a.createFontFaceRule();if(l){if(this.insertRule(l),this.isSyncFontLoadingSupported)return;await new Promise(w=>{const R=this._queueLoadingCallback(w);this._prepareFontLoadEvent(a,R)})}}get isFontLoadingAPISupported(){var l;const a=!!((l=this._document)!=null&&l.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",a)}get isSyncFontLoadingSupported(){let a=!1;return(r.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(a=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",a)}_queueLoadingCallback(a){function l(){for((0,n.assert)(!R.done,"completeRequest() cannot be called twice."),R.done=!0;w.length>0&&w[0].done;){const A=w.shift();setTimeout(A.callback,0)}}const{loadingRequests:w}=this,R={done:!1,complete:l,callback:a};return w.push(R),R}get _loadTestFont(){const a=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",a)}_prepareFontLoadEvent(a,l){function w(y,U){return y.charCodeAt(U)<<24|y.charCodeAt(U+1)<<16|y.charCodeAt(U+2)<<8|y.charCodeAt(U+3)&255}function R(y,U,Y,X){const K=y.substring(0,U),ne=y.substring(U+Y);return K+X+ne}let A,f;const b=this._document.createElement("canvas");b.width=1,b.height=1;const k=b.getContext("2d");let I=0;function L(y,U){if(++I>30){(0,n.warn)("Load test font never loaded."),U();return}if(k.font="30px "+y,k.fillText(".",0,20),k.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(L.bind(null,y,U))}const S=`lt${Date.now()}${this.loadTestFontId++}`;let E=this._loadTestFont;E=R(E,976,S.length,S);const M=16,O=1482184792;let s=w(E,M);for(A=0,f=S.length-3;A<f;A+=4)s=s-O+w(S,A)|0;A<S.length&&(s=s-O+w(S+"XXX",A)|0),E=R(E,M,4,(0,n.string32)(s));const u=`url(data:font/opentype;base64,${btoa(E)});`,C=`@font-face {font-family:"${S}";src:${u}}`;this.insertRule(C);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const y of[a.loadedName,S]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=y,g.append(U)}this._document.body.append(g),L(S,()=>{g.remove(),l.complete()})}}_=new WeakMap,t.FontLoader=d;class c{constructor(a,{isEvalSupported:l=!0,disableFontFace:w=!1,ignoreErrors:R=!1,inspectFont:A=null}){this.compiledGlyphs=Object.create(null);for(const f in a)this[f]=a[f];this.isEvalSupported=l!==!1,this.disableFontFace=w===!0,this.ignoreErrors=R===!0,this._inspectFont=A}createNativeFontFace(){var l;if(!this.data||this.disableFontFace)return null;let a;if(!this.cssFontInfo)a=new FontFace(this.loadedName,this.data,{});else{const w={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(w.style=`oblique ${this.cssFontInfo.italicAngle}deg`),a=new FontFace(this.cssFontInfo.fontFamily,this.data,w)}return(l=this._inspectFont)==null||l.call(this,this),a}createFontFaceRule(){var R;if(!this.data||this.disableFontFace)return null;const a=(0,n.bytesToString)(this.data),l=`url(data:${this.mimetype};base64,${btoa(a)});`;let w;if(!this.cssFontInfo)w=`@font-face {font-family:"${this.loadedName}";src:${l}}`;else{let A=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(A+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),w=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${A}src:${l}}`}return(R=this._inspectFont)==null||R.call(this,this,l),w}getPathGenerator(a,l){if(this.compiledGlyphs[l]!==void 0)return this.compiledGlyphs[l];let w;try{w=a.get(this.loadedName+"_path_"+l)}catch(R){if(!this.ignoreErrors)throw R;return(0,n.warn)(`getPathGenerator - ignoring character: "${R}".`),this.compiledGlyphs[l]=function(A,f){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const R=[];for(const A of w){const f=A.args!==void 0?A.args.join(","):"";R.push("c.",A.cmd,"(",f,`);
`)}return this.compiledGlyphs[l]=new Function("c","size",R.join(""))}return this.compiledGlyphs[l]=function(R,A){for(const f of w)f.cmd==="scale"&&(f.args=[A,-A]),R[f.cmd].apply(R,f.args)}}}t.FontFaceObject=c},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=i},(e,t,i)=>{var re,Vt,Z,$t;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=i(1),r=i(6),d=i(12),c=i(13),_=i(10);const v=16,a=100,l=4096,w=15,R=10,A=1e3,f=16;function b(le,V){if(le._removeMirroring)throw new Error("Context is already forwarding operations.");le.__originalSave=le.save,le.__originalRestore=le.restore,le.__originalRotate=le.rotate,le.__originalScale=le.scale,le.__originalTranslate=le.translate,le.__originalTransform=le.transform,le.__originalSetTransform=le.setTransform,le.__originalResetTransform=le.resetTransform,le.__originalClip=le.clip,le.__originalMoveTo=le.moveTo,le.__originalLineTo=le.lineTo,le.__originalBezierCurveTo=le.bezierCurveTo,le.__originalRect=le.rect,le.__originalClosePath=le.closePath,le.__originalBeginPath=le.beginPath,le._removeMirroring=()=>{le.save=le.__originalSave,le.restore=le.__originalRestore,le.rotate=le.__originalRotate,le.scale=le.__originalScale,le.translate=le.__originalTranslate,le.transform=le.__originalTransform,le.setTransform=le.__originalSetTransform,le.resetTransform=le.__originalResetTransform,le.clip=le.__originalClip,le.moveTo=le.__originalMoveTo,le.lineTo=le.__originalLineTo,le.bezierCurveTo=le.__originalBezierCurveTo,le.rect=le.__originalRect,le.closePath=le.__originalClosePath,le.beginPath=le.__originalBeginPath,delete le._removeMirroring},le.save=function(){V.save(),this.__originalSave()},le.restore=function(){V.restore(),this.__originalRestore()},le.translate=function(z,ae){V.translate(z,ae),this.__originalTranslate(z,ae)},le.scale=function(z,ae){V.scale(z,ae),this.__originalScale(z,ae)},le.transform=function(z,ae,se,pe,ie,F){V.transform(z,ae,se,pe,ie,F),this.__originalTransform(z,ae,se,pe,ie,F)},le.setTransform=function(z,ae,se,pe,ie,F){V.setTransform(z,ae,se,pe,ie,F),this.__originalSetTransform(z,ae,se,pe,ie,F)},le.resetTransform=function(){V.resetTransform(),this.__originalResetTransform()},le.rotate=function(z){V.rotate(z),this.__originalRotate(z)},le.clip=function(z){V.clip(z),this.__originalClip(z)},le.moveTo=function(H,z){V.moveTo(H,z),this.__originalMoveTo(H,z)},le.lineTo=function(H,z){V.lineTo(H,z),this.__originalLineTo(H,z)},le.bezierCurveTo=function(H,z,ae,se,pe,ie){V.bezierCurveTo(H,z,ae,se,pe,ie),this.__originalBezierCurveTo(H,z,ae,se,pe,ie)},le.rect=function(H,z,ae,se){V.rect(H,z,ae,se),this.__originalRect(H,z,ae,se)},le.closePath=function(){V.closePath(),this.__originalClosePath()},le.beginPath=function(){V.beginPath(),this.__originalBeginPath()}}class k{constructor(V){this.canvasFactory=V,this.cache=Object.create(null)}getCanvas(V,H,z){let ae;return this.cache[V]!==void 0?(ae=this.cache[V],this.canvasFactory.reset(ae,H,z)):(ae=this.canvasFactory.create(H,z),this.cache[V]=ae),ae}delete(V){delete this.cache[V]}clear(){for(const V in this.cache){const H=this.cache[V];this.canvasFactory.destroy(H),delete this.cache[V]}}}function I(le,V,H,z,ae,se,pe,ie,F,N){const[o,m,T,B,$,G]=(0,r.getCurrentTransform)(le);if(m===0&&T===0){const q=pe*o+$,J=Math.round(q),fe=ie*B+G,ue=Math.round(fe),me=(pe+F)*o+$,ye=Math.abs(Math.round(me)-J)||1,xe=(ie+N)*B+G,Me=Math.abs(Math.round(xe)-ue)||1;return le.setTransform(Math.sign(o),0,0,Math.sign(B),J,ue),le.drawImage(V,H,z,ae,se,0,0,ye,Me),le.setTransform(o,m,T,B,$,G),[ye,Me]}if(o===0&&B===0){const q=ie*T+$,J=Math.round(q),fe=pe*m+G,ue=Math.round(fe),me=(ie+N)*T+$,ye=Math.abs(Math.round(me)-J)||1,xe=(pe+F)*m+G,Me=Math.abs(Math.round(xe)-ue)||1;return le.setTransform(0,Math.sign(m),Math.sign(T),0,J,ue),le.drawImage(V,H,z,ae,se,0,0,Me,ye),le.setTransform(o,m,T,B,$,G),[Me,ye]}le.drawImage(V,H,z,ae,se,pe,ie,F,N);const ce=Math.hypot(o,m),Q=Math.hypot(T,B);return[ce*F,Q*N]}function L(le){const{width:V,height:H}=le;if(V>A||H>A)return null;const z=1e3,ae=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),se=V+1;let pe=new Uint8Array(se*(H+1)),ie,F,N;const o=V+7&-8;let m=new Uint8Array(o*H),T=0;for(const Q of le.data){let q=128;for(;q>0;)m[T++]=Q&q?0:255,q>>=1}let B=0;for(T=0,m[T]!==0&&(pe[0]=1,++B),F=1;F<V;F++)m[T]!==m[T+1]&&(pe[F]=m[T]?2:1,++B),T++;for(m[T]!==0&&(pe[F]=2,++B),ie=1;ie<H;ie++){T=ie*o,N=ie*se,m[T-o]!==m[T]&&(pe[N]=m[T]?1:8,++B);let Q=(m[T]?4:0)+(m[T-o]?8:0);for(F=1;F<V;F++)Q=(Q>>2)+(m[T+1]?4:0)+(m[T-o+1]?8:0),ae[Q]&&(pe[N+F]=ae[Q],++B),T++;if(m[T-o]!==m[T]&&(pe[N+F]=m[T]?2:4,++B),B>z)return null}for(T=o*(H-1),N=ie*se,m[T]!==0&&(pe[N]=8,++B),F=1;F<V;F++)m[T]!==m[T+1]&&(pe[N+F]=m[T]?4:8,++B),T++;if(m[T]!==0&&(pe[N+F]=4,++B),B>z)return null;const $=new Int32Array([0,se,-1,0,-se,0,0,0,1]),G=new Path2D;for(ie=0;B&&ie<=H;ie++){let Q=ie*se;const q=Q+V;for(;Q<q&&!pe[Q];)Q++;if(Q===q)continue;G.moveTo(Q%se,ie);const J=Q;let fe=pe[Q];do{const ue=$[fe];do Q+=ue;while(!pe[Q]);const me=pe[Q];me!==5&&me!==10?(fe=me,pe[Q]=0):(fe=me&51*fe>>4,pe[Q]&=fe>>2|fe<<2),G.lineTo(Q%se,Q/se|0),pe[Q]||--B}while(J!==Q);--ie}return m=null,pe=null,function(Q){Q.save(),Q.scale(1/V,-1/H),Q.translate(0,-H),Q.fill(G),Q.beginPath(),Q.restore()}}class S{constructor(V,H){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,V,H])}clone(){const V=Object.create(this);return V.clipBox=this.clipBox.slice(),V}setCurrentPoint(V,H){this.x=V,this.y=H}updatePathMinMax(V,H,z){[H,z]=n.Util.applyTransform([H,z],V),this.minX=Math.min(this.minX,H),this.minY=Math.min(this.minY,z),this.maxX=Math.max(this.maxX,H),this.maxY=Math.max(this.maxY,z)}updateRectMinMax(V,H){const z=n.Util.applyTransform(H,V),ae=n.Util.applyTransform(H.slice(2),V);this.minX=Math.min(this.minX,z[0],ae[0]),this.minY=Math.min(this.minY,z[1],ae[1]),this.maxX=Math.max(this.maxX,z[0],ae[0]),this.maxY=Math.max(this.maxY,z[1],ae[1])}updateScalingPathMinMax(V,H){n.Util.scaleMinMax(V,H),this.minX=Math.min(this.minX,H[0]),this.maxX=Math.max(this.maxX,H[1]),this.minY=Math.min(this.minY,H[2]),this.maxY=Math.max(this.maxY,H[3])}updateCurvePathMinMax(V,H,z,ae,se,pe,ie,F,N,o){const m=n.Util.bezierBoundingBox(H,z,ae,se,pe,ie,F,N);if(o){o[0]=Math.min(o[0],m[0],m[2]),o[1]=Math.max(o[1],m[0],m[2]),o[2]=Math.min(o[2],m[1],m[3]),o[3]=Math.max(o[3],m[1],m[3]);return}this.updateRectMinMax(V,m)}getPathBoundingBox(V=d.PathType.FILL,H=null){const z=[this.minX,this.minY,this.maxX,this.maxY];if(V===d.PathType.STROKE){H||(0,n.unreachable)("Stroke bounding box must include transform.");const ae=n.Util.singularValueDecompose2dScale(H),se=ae[0]*this.lineWidth/2,pe=ae[1]*this.lineWidth/2;z[0]-=se,z[1]-=pe,z[2]+=se,z[3]+=pe}return z}updateClipFromPath(){const V=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(V||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(V){this.clipBox=V,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(V=d.PathType.FILL,H=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(V,H))}}function E(le,V){if(typeof ImageData<"u"&&V instanceof ImageData){le.putImageData(V,0,0);return}const H=V.height,z=V.width,ae=H%f,se=(H-ae)/f,pe=ae===0?se:se+1,ie=le.createImageData(z,f);let F=0,N;const o=V.data,m=ie.data;let T,B,$,G;if(V.kind===n.ImageKind.GRAYSCALE_1BPP){const ce=o.byteLength,Q=new Uint32Array(m.buffer,0,m.byteLength>>2),q=Q.length,J=z+7>>3,fe=4294967295,ue=n.FeatureTest.isLittleEndian?4278190080:255;for(T=0;T<pe;T++){for($=T<se?f:ae,N=0,B=0;B<$;B++){const me=ce-F;let ye=0;const xe=me>J?z:me*8-7,Me=xe&-8;let Ie=0,ge=0;for(;ye<Me;ye+=8)ge=o[F++],Q[N++]=ge&128?fe:ue,Q[N++]=ge&64?fe:ue,Q[N++]=ge&32?fe:ue,Q[N++]=ge&16?fe:ue,Q[N++]=ge&8?fe:ue,Q[N++]=ge&4?fe:ue,Q[N++]=ge&2?fe:ue,Q[N++]=ge&1?fe:ue;for(;ye<xe;ye++)Ie===0&&(ge=o[F++],Ie=128),Q[N++]=ge&Ie?fe:ue,Ie>>=1}for(;N<q;)Q[N++]=0;le.putImageData(ie,0,T*f)}}else if(V.kind===n.ImageKind.RGBA_32BPP){for(B=0,G=z*f*4,T=0;T<se;T++)m.set(o.subarray(F,F+G)),F+=G,le.putImageData(ie,0,B),B+=f;T<pe&&(G=z*ae*4,m.set(o.subarray(F,F+G)),le.putImageData(ie,0,B))}else if(V.kind===n.ImageKind.RGB_24BPP)for($=f,G=z*$,T=0;T<pe;T++){for(T>=se&&($=ae,G=z*$),N=0,B=G;B--;)m[N++]=o[F++],m[N++]=o[F++],m[N++]=o[F++],m[N++]=255;le.putImageData(ie,0,T*f)}else throw new Error(`bad image kind: ${V.kind}`)}function D(le,V){if(V.bitmap){le.drawImage(V.bitmap,0,0);return}const H=V.height,z=V.width,ae=H%f,se=(H-ae)/f,pe=ae===0?se:se+1,ie=le.createImageData(z,f);let F=0;const N=V.data,o=ie.data;for(let m=0;m<pe;m++){const T=m<se?f:ae;({srcPos:F}=(0,c.convertBlackAndWhiteToRGBA)({src:N,srcPos:F,dest:o,width:z,height:T,nonBlackColor:0})),le.putImageData(ie,0,m*f)}}function M(le,V){const H=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const z of H)le[z]!==void 0&&(V[z]=le[z]);le.setLineDash!==void 0&&(V.setLineDash(le.getLineDash()),V.lineDashOffset=le.lineDashOffset)}function O(le){le.strokeStyle=le.fillStyle="#000000",le.fillRule="nonzero",le.globalAlpha=1,le.lineWidth=1,le.lineCap="butt",le.lineJoin="miter",le.miterLimit=10,le.globalCompositeOperation="source-over",le.font="10px sans-serif",le.setLineDash!==void 0&&(le.setLineDash([]),le.lineDashOffset=0),_.isNodeJS||(le.filter="none")}function s(le,V,H,z){const ae=le.length;for(let se=3;se<ae;se+=4){const pe=le[se];if(pe===0)le[se-3]=V,le[se-2]=H,le[se-1]=z;else if(pe<255){const ie=255-pe;le[se-3]=le[se-3]*pe+V*ie>>8,le[se-2]=le[se-2]*pe+H*ie>>8,le[se-1]=le[se-1]*pe+z*ie>>8}}}function u(le,V,H){const z=le.length,ae=1/255;for(let se=3;se<z;se+=4){const pe=H?H[le[se]]:le[se];V[se]=V[se]*pe*ae|0}}function C(le,V,H){const z=le.length;for(let ae=3;ae<z;ae+=4){const se=le[ae-3]*77+le[ae-2]*152+le[ae-1]*28;V[ae]=H?V[ae]*H[se>>8]>>8:V[ae]*se>>16}}function g(le,V,H,z,ae,se,pe,ie,F,N,o){const m=!!se,T=m?se[0]:0,B=m?se[1]:0,$=m?se[2]:0;let G;ae==="Luminosity"?G=C:G=u;const Q=Math.min(z,Math.ceil(1048576/H));for(let q=0;q<z;q+=Q){const J=Math.min(Q,z-q),fe=le.getImageData(ie-N,q+(F-o),H,J),ue=V.getImageData(ie,q+F,H,J);m&&s(fe.data,T,B,$),G(fe.data,ue.data,pe),V.putImageData(ue,ie,q+F)}}function y(le,V,H,z){const ae=z[0],se=z[1],pe=z[2]-ae,ie=z[3]-se;pe===0||ie===0||(g(V.context,H,pe,ie,V.subtype,V.backdrop,V.transferMap,ae,se,V.offsetX,V.offsetY),le.save(),le.globalAlpha=1,le.globalCompositeOperation="source-over",le.setTransform(1,0,0,1,0,0),le.drawImage(H.canvas,0,0),le.restore())}function U(le,V){const H=n.Util.singularValueDecompose2dScale(le);H[0]=Math.fround(H[0]),H[1]=Math.fround(H[1]);const z=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return V!==void 0?V:H[0]<=z||H[1]<=z}const Y=["butt","round","square"],X=["miter","round","bevel"],K={},ne={},Ce=class{constructor(V,H,z,ae,se,{optionalContentConfig:pe,markedContentStack:ie=null},F,N){oe(this,re);oe(this,Z);this.ctx=V,this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=H,this.objs=z,this.canvasFactory=ae,this.filterFactory=se,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ie||[],this.optionalContentConfig=pe,this.cachedCanvases=new k(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=F,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=N,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(V,H=null){return typeof V=="string"?V.startsWith("g_")?this.commonObjs.get(V):this.objs.get(V):H}beginDrawing({transform:V,viewport:H,transparency:z=!1,background:ae=null}){const se=this.ctx.canvas.width,pe=this.ctx.canvas.height,ie=this.ctx.fillStyle;if(this.ctx.fillStyle=ae||"#ffffff",this.ctx.fillRect(0,0,se,pe),this.ctx.fillStyle=ie,z){const F=this.cachedCanvases.getCanvas("transparent",se,pe);this.compositeCtx=this.ctx,this.transparentCanvas=F.canvas,this.ctx=F.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),O(this.ctx),V&&(this.ctx.transform(...V),this.outputScaleX=V[0],this.outputScaleY=V[0]),this.ctx.transform(...H.transform),this.viewportScale=H.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx)}executeOperatorList(V,H,z,ae){const se=V.argsArray,pe=V.fnArray;let ie=H||0;const F=se.length;if(F===ie)return ie;const N=F-ie>R&&typeof z=="function",o=N?Date.now()+w:0;let m=0;const T=this.commonObjs,B=this.objs;let $;for(;;){if(ae!==void 0&&ie===ae.nextBreakPoint)return ae.breakIt(ie,z),ie;if($=pe[ie],$!==n.OPS.dependency)this[$].apply(this,se[ie]);else for(const G of se[ie]){const ce=G.startsWith("g_")?T:B;if(!ce.has(G))return ce.get(G,z),ie}if(ie++,ie===F)return ie;if(N&&++m>R){if(Date.now()>o)return z(),ie;m=0}}}endDrawing(){de(this,re,Vt).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const V of this._cachedBitmapsMap.values()){for(const H of V.values())typeof HTMLCanvasElement<"u"&&H instanceof HTMLCanvasElement&&(H.width=H.height=0);V.clear()}this._cachedBitmapsMap.clear(),de(this,Z,$t).call(this)}_scaleImage(V,H){const z=V.width,ae=V.height;let se=Math.max(Math.hypot(H[0],H[1]),1),pe=Math.max(Math.hypot(H[2],H[3]),1),ie=z,F=ae,N="prescale1",o,m;for(;se>2&&ie>1||pe>2&&F>1;){let T=ie,B=F;se>2&&ie>1&&(T=ie>=16384?Math.floor(ie/2)-1||1:Math.ceil(ie/2),se/=ie/T),pe>2&&F>1&&(B=F>=16384?Math.floor(F/2)-1||1:Math.ceil(F)/2,pe/=F/B),o=this.cachedCanvases.getCanvas(N,T,B),m=o.context,m.clearRect(0,0,T,B),m.drawImage(V,0,0,ie,F,0,0,T,B),V=o.canvas,ie=T,F=B,N=N==="prescale1"?"prescale2":"prescale1"}return{img:V,paintWidth:ie,paintHeight:F}}_createMaskCanvas(V){const H=this.ctx,{width:z,height:ae}=V,se=this.current.fillColor,pe=this.current.patternFill,ie=(0,r.getCurrentTransform)(H);let F,N,o,m;if((V.bitmap||V.data)&&V.count>1){const ye=V.bitmap||V.data.buffer;N=JSON.stringify(pe?ie:[ie.slice(0,4),se]),F=this._cachedBitmapsMap.get(ye),F||(F=new Map,this._cachedBitmapsMap.set(ye,F));const xe=F.get(N);if(xe&&!pe){const Me=Math.round(Math.min(ie[0],ie[2])+ie[4]),Ie=Math.round(Math.min(ie[1],ie[3])+ie[5]);return{canvas:xe,offsetX:Me,offsetY:Ie}}o=xe}o||(m=this.cachedCanvases.getCanvas("maskCanvas",z,ae),D(m.context,V));let T=n.Util.transform(ie,[1/z,0,0,-1/ae,0,0]);T=n.Util.transform(T,[1,0,0,1,0,-ae]);const B=n.Util.applyTransform([0,0],T),$=n.Util.applyTransform([z,ae],T),G=n.Util.normalizeRect([B[0],B[1],$[0],$[1]]),ce=Math.round(G[2]-G[0])||1,Q=Math.round(G[3]-G[1])||1,q=this.cachedCanvases.getCanvas("fillCanvas",ce,Q),J=q.context,fe=Math.min(B[0],$[0]),ue=Math.min(B[1],$[1]);J.translate(-fe,-ue),J.transform(...T),o||(o=this._scaleImage(m.canvas,(0,r.getCurrentTransformInverse)(J)),o=o.img,F&&pe&&F.set(N,o)),J.imageSmoothingEnabled=U((0,r.getCurrentTransform)(J),V.interpolate),I(J,o,0,0,o.width,o.height,0,0,z,ae),J.globalCompositeOperation="source-in";const me=n.Util.transform((0,r.getCurrentTransformInverse)(J),[1,0,0,1,-fe,-ue]);return J.fillStyle=pe?se.getPattern(H,this,me,d.PathType.FILL):se,J.fillRect(0,0,z,ae),F&&!pe&&(this.cachedCanvases.delete("fillCanvas"),F.set(N,q.canvas)),{canvas:q.canvas,offsetX:Math.round(fe),offsetY:Math.round(ue)}}setLineWidth(V){V!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=V,this.ctx.lineWidth=V}setLineCap(V){this.ctx.lineCap=Y[V]}setLineJoin(V){this.ctx.lineJoin=X[V]}setMiterLimit(V){this.ctx.miterLimit=V}setDash(V,H){const z=this.ctx;z.setLineDash!==void 0&&(z.setLineDash(V),z.lineDashOffset=H)}setRenderingIntent(V){}setFlatness(V){}setGState(V){for(const[H,z]of V)switch(H){case"LW":this.setLineWidth(z);break;case"LC":this.setLineCap(z);break;case"LJ":this.setLineJoin(z);break;case"ML":this.setMiterLimit(z);break;case"D":this.setDash(z[0],z[1]);break;case"RI":this.setRenderingIntent(z);break;case"FL":this.setFlatness(z);break;case"Font":this.setFont(z[0],z[1]);break;case"CA":this.current.strokeAlpha=z;break;case"ca":this.current.fillAlpha=z,this.ctx.globalAlpha=z;break;case"BM":this.ctx.globalCompositeOperation=z;break;case"SMask":this.current.activeSMask=z?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(z);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const V=this.inSMaskMode;this.current.activeSMask&&!V?this.beginSMaskMode():!this.current.activeSMask&&V&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const V=this.ctx.canvas.width,H=this.ctx.canvas.height,z="smaskGroupAt"+this.groupLevel,ae=this.cachedCanvases.getCanvas(z,V,H);this.suspendedCtx=this.ctx,this.ctx=ae.context;const se=this.ctx;se.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),M(this.suspendedCtx,se),b(se,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),M(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(V){if(!this.current.activeSMask)return;V?(V[0]=Math.floor(V[0]),V[1]=Math.floor(V[1]),V[2]=Math.ceil(V[2]),V[3]=Math.ceil(V[3])):V=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const H=this.current.activeSMask,z=this.suspendedCtx;y(z,H,this.ctx,V),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(M(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const V=this.current;this.stateStack.push(V),this.current=V.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),M(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(V,H,z,ae,se,pe){this.ctx.transform(V,H,z,ae,se,pe),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(V,H,z){const ae=this.ctx,se=this.current;let pe=se.x,ie=se.y,F,N;const o=(0,r.getCurrentTransform)(ae),m=o[0]===0&&o[3]===0||o[1]===0&&o[2]===0,T=m?z.slice(0):null;for(let B=0,$=0,G=V.length;B<G;B++)switch(V[B]|0){case n.OPS.rectangle:pe=H[$++],ie=H[$++];const ce=H[$++],Q=H[$++],q=pe+ce,J=ie+Q;ae.moveTo(pe,ie),ce===0||Q===0?ae.lineTo(q,J):(ae.lineTo(q,ie),ae.lineTo(q,J),ae.lineTo(pe,J)),m||se.updateRectMinMax(o,[pe,ie,q,J]),ae.closePath();break;case n.OPS.moveTo:pe=H[$++],ie=H[$++],ae.moveTo(pe,ie),m||se.updatePathMinMax(o,pe,ie);break;case n.OPS.lineTo:pe=H[$++],ie=H[$++],ae.lineTo(pe,ie),m||se.updatePathMinMax(o,pe,ie);break;case n.OPS.curveTo:F=pe,N=ie,pe=H[$+4],ie=H[$+5],ae.bezierCurveTo(H[$],H[$+1],H[$+2],H[$+3],pe,ie),se.updateCurvePathMinMax(o,F,N,H[$],H[$+1],H[$+2],H[$+3],pe,ie,T),$+=6;break;case n.OPS.curveTo2:F=pe,N=ie,ae.bezierCurveTo(pe,ie,H[$],H[$+1],H[$+2],H[$+3]),se.updateCurvePathMinMax(o,F,N,pe,ie,H[$],H[$+1],H[$+2],H[$+3],T),pe=H[$+2],ie=H[$+3],$+=4;break;case n.OPS.curveTo3:F=pe,N=ie,pe=H[$+2],ie=H[$+3],ae.bezierCurveTo(H[$],H[$+1],pe,ie,pe,ie),se.updateCurvePathMinMax(o,F,N,H[$],H[$+1],pe,ie,pe,ie,T),$+=4;break;case n.OPS.closePath:ae.closePath();break}m&&se.updateScalingPathMinMax(o,T),se.setCurrentPoint(pe,ie)}closePath(){this.ctx.closePath()}stroke(V=!0){const H=this.ctx,z=this.current.strokeColor;H.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof z=="object"&&(z==null?void 0:z.getPattern)?(H.save(),H.strokeStyle=z.getPattern(H,this,(0,r.getCurrentTransformInverse)(H),d.PathType.STROKE),this.rescaleAndStroke(!1),H.restore()):this.rescaleAndStroke(!0)),V&&this.consumePath(this.current.getClippedPathBoundingBox()),H.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(V=!0){const H=this.ctx,z=this.current.fillColor,ae=this.current.patternFill;let se=!1;ae&&(H.save(),H.fillStyle=z.getPattern(H,this,(0,r.getCurrentTransformInverse)(H),d.PathType.FILL),se=!0);const pe=this.current.getClippedPathBoundingBox();this.contentVisible&&pe!==null&&(this.pendingEOFill?(H.fill("evenodd"),this.pendingEOFill=!1):H.fill()),se&&H.restore(),V&&this.consumePath(pe)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=K}eoClip(){this.pendingClip=ne}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const V=this.pendingTextPaths,H=this.ctx;if(V===void 0){H.beginPath();return}H.save(),H.beginPath();for(const z of V)H.setTransform(...z.transform),H.translate(z.x,z.y),z.addToPath(H,z.fontSize);H.restore(),H.clip(),H.beginPath(),delete this.pendingTextPaths}setCharSpacing(V){this.current.charSpacing=V}setWordSpacing(V){this.current.wordSpacing=V}setHScale(V){this.current.textHScale=V/100}setLeading(V){this.current.leading=-V}setFont(V,H){var o;const z=this.commonObjs.get(V),ae=this.current;if(!z)throw new Error(`Can't find font for ${V}`);if(ae.fontMatrix=z.fontMatrix||n.FONT_IDENTITY_MATRIX,(ae.fontMatrix[0]===0||ae.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+V),H<0?(H=-H,ae.fontDirection=-1):ae.fontDirection=1,this.current.font=z,this.current.fontSize=H,z.isType3Font)return;const se=z.loadedName||"sans-serif",pe=((o=z.systemFontInfo)==null?void 0:o.css)||`"${se}", ${z.fallbackName}`;let ie="normal";z.black?ie="900":z.bold&&(ie="bold");const F=z.italic?"italic":"normal";let N=H;H<v?N=v:H>a&&(N=a),this.current.fontSizeScale=H/N,this.ctx.font=`${F} ${ie} ${N}px ${pe}`}setTextRenderingMode(V){this.current.textRenderingMode=V}setTextRise(V){this.current.textRise=V}moveText(V,H){this.current.x=this.current.lineX+=V,this.current.y=this.current.lineY+=H}setLeadingMoveText(V,H){this.setLeading(-H),this.moveText(V,H)}setTextMatrix(V,H,z,ae,se,pe){this.current.textMatrix=[V,H,z,ae,se,pe],this.current.textMatrixScale=Math.hypot(V,H),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(V,H,z,ae){const se=this.ctx,pe=this.current,ie=pe.font,F=pe.textRenderingMode,N=pe.fontSize/pe.fontSizeScale,o=F&n.TextRenderingMode.FILL_STROKE_MASK,m=!!(F&n.TextRenderingMode.ADD_TO_PATH_FLAG),T=pe.patternFill&&!ie.missingFile;let B;(ie.disableFontFace||m||T)&&(B=ie.getPathGenerator(this.commonObjs,V)),ie.disableFontFace||T?(se.save(),se.translate(H,z),se.beginPath(),B(se,N),ae&&se.setTransform(...ae),(o===n.TextRenderingMode.FILL||o===n.TextRenderingMode.FILL_STROKE)&&se.fill(),(o===n.TextRenderingMode.STROKE||o===n.TextRenderingMode.FILL_STROKE)&&se.stroke(),se.restore()):((o===n.TextRenderingMode.FILL||o===n.TextRenderingMode.FILL_STROKE)&&se.fillText(V,H,z),(o===n.TextRenderingMode.STROKE||o===n.TextRenderingMode.FILL_STROKE)&&se.strokeText(V,H,z)),m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(se),x:H,y:z,fontSize:N,addToPath:B})}get isFontSubpixelAAEnabled(){const{context:V}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);V.scale(1.5,1),V.fillText("I",0,10);const H=V.getImageData(0,0,10,10).data;let z=!1;for(let ae=3;ae<H.length;ae+=4)if(H[ae]>0&&H[ae]<255){z=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",z)}showText(V){const H=this.current,z=H.font;if(z.isType3Font)return this.showType3Text(V);const ae=H.fontSize;if(ae===0)return;const se=this.ctx,pe=H.fontSizeScale,ie=H.charSpacing,F=H.wordSpacing,N=H.fontDirection,o=H.textHScale*N,m=V.length,T=z.vertical,B=T?1:-1,$=z.defaultVMetrics,G=ae*H.fontMatrix[0],ce=H.textRenderingMode===n.TextRenderingMode.FILL&&!z.disableFontFace&&!H.patternFill;se.save(),se.transform(...H.textMatrix),se.translate(H.x,H.y+H.textRise),N>0?se.scale(o,-1):se.scale(o,1);let Q;if(H.patternFill){se.save();const me=H.fillColor.getPattern(se,this,(0,r.getCurrentTransformInverse)(se),d.PathType.FILL);Q=(0,r.getCurrentTransform)(se),se.restore(),se.fillStyle=me}let q=H.lineWidth;const J=H.textMatrixScale;if(J===0||q===0){const me=H.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(me===n.TextRenderingMode.STROKE||me===n.TextRenderingMode.FILL_STROKE)&&(q=this.getSinglePixelWidth())}else q/=J;if(pe!==1&&(se.scale(pe,pe),q/=pe),se.lineWidth=q,z.isInvalidPDFjsFont){const me=[];let ye=0;for(const xe of V)me.push(xe.unicode),ye+=xe.width;se.fillText(me.join(""),0,0),H.x+=ye*G*o,se.restore(),this.compose();return}let fe=0,ue;for(ue=0;ue<m;++ue){const me=V[ue];if(typeof me=="number"){fe+=B*me*ae/1e3;continue}let ye=!1;const xe=(me.isSpace?F:0)+ie,Me=me.fontChar,Ie=me.accent;let ge,Re,Ne=me.width;if(T){const j=me.vmetric||$,W=-(me.vmetric?j[1]:Ne*.5)*G,te=j[2]*G;Ne=j?-j[0]:Ne,ge=W/pe,Re=(fe+te)/pe}else ge=fe/pe,Re=0;if(z.remeasure&&Ne>0){const j=se.measureText(Me).width*1e3/ae*pe;if(Ne<j&&this.isFontSubpixelAAEnabled){const W=Ne/j;ye=!0,se.save(),se.scale(W,1),ge/=W}else Ne!==j&&(ge+=(Ne-j)/2e3*ae/pe)}if(this.contentVisible&&(me.isInFont||z.missingFile)){if(ce&&!Ie)se.fillText(Me,ge,Re);else if(this.paintChar(Me,ge,Re,Q),Ie){const j=ge+ae*Ie.offset.x/pe,W=Re-ae*Ie.offset.y/pe;this.paintChar(Ie.fontChar,j,W,Q)}}let je;T?je=Ne*G-xe*N:je=Ne*G+xe*N,fe+=je,ye&&se.restore()}T?H.y-=fe:H.x+=fe*o,se.restore(),this.compose()}showType3Text(V){const H=this.ctx,z=this.current,ae=z.font,se=z.fontSize,pe=z.fontDirection,ie=ae.vertical?1:-1,F=z.charSpacing,N=z.wordSpacing,o=z.textHScale*pe,m=z.fontMatrix||n.FONT_IDENTITY_MATRIX,T=V.length,B=z.textRenderingMode===n.TextRenderingMode.INVISIBLE;let $,G,ce,Q;if(!(B||se===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,H.save(),H.transform(...z.textMatrix),H.translate(z.x,z.y),H.scale(o,pe),$=0;$<T;++$){if(G=V[$],typeof G=="number"){Q=ie*G*se/1e3,this.ctx.translate(Q,0),z.x+=Q*o;continue}const q=(G.isSpace?N:0)+F,J=ae.charProcOperatorList[G.operatorListId];if(!J){(0,n.warn)(`Type3 character "${G.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=G,this.save(),H.scale(se,se),H.transform(...m),this.executeOperatorList(J),this.restore()),ce=n.Util.applyTransform([G.width,0],m)[0]*se+q,H.translate(ce,0),z.x+=ce*o}H.restore(),this.processingType3=null}}setCharWidth(V,H){}setCharWidthAndBounds(V,H,z,ae,se,pe){this.ctx.rect(z,ae,se-z,pe-ae),this.ctx.clip(),this.endPath()}getColorN_Pattern(V){let H;if(V[0]==="TilingPattern"){const z=V[1],ae=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),se={createCanvasGraphics:pe=>new Ce(pe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};H=new d.TilingPattern(V,z,this.ctx,se,ae)}else H=this._getPattern(V[1],V[2]);return H}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(V,H,z){const ae=n.Util.makeHexColor(V,H,z);this.ctx.strokeStyle=ae,this.current.strokeColor=ae}setFillRGBColor(V,H,z){const ae=n.Util.makeHexColor(V,H,z);this.ctx.fillStyle=ae,this.current.fillColor=ae,this.current.patternFill=!1}_getPattern(V,H=null){let z;return this.cachedPatterns.has(V)?z=this.cachedPatterns.get(V):(z=(0,d.getShadingPattern)(this.getObject(V)),this.cachedPatterns.set(V,z)),H&&(z.matrix=H),z}shadingFill(V){if(!this.contentVisible)return;const H=this.ctx;this.save();const z=this._getPattern(V);H.fillStyle=z.getPattern(H,this,(0,r.getCurrentTransformInverse)(H),d.PathType.SHADING);const ae=(0,r.getCurrentTransformInverse)(H);if(ae){const se=H.canvas,pe=se.width,ie=se.height,F=n.Util.applyTransform([0,0],ae),N=n.Util.applyTransform([0,ie],ae),o=n.Util.applyTransform([pe,0],ae),m=n.Util.applyTransform([pe,ie],ae),T=Math.min(F[0],N[0],o[0],m[0]),B=Math.min(F[1],N[1],o[1],m[1]),$=Math.max(F[0],N[0],o[0],m[0]),G=Math.max(F[1],N[1],o[1],m[1]);this.ctx.fillRect(T,B,$-T,G-B)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(V,H){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(V)&&V.length===6&&this.transform(...V),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),H)){const z=H[2]-H[0],ae=H[3]-H[1];this.ctx.rect(H[0],H[1],z,ae),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),H),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(V){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const H=this.ctx;V.isolated||(0,n.info)("TODO: Support non-isolated groups."),V.knockout&&(0,n.warn)("Knockout groups not supported.");const z=(0,r.getCurrentTransform)(H);if(V.matrix&&H.transform(...V.matrix),!V.bbox)throw new Error("Bounding box is required.");let ae=n.Util.getAxialAlignedBoundingBox(V.bbox,(0,r.getCurrentTransform)(H));const se=[0,0,H.canvas.width,H.canvas.height];ae=n.Util.intersect(ae,se)||[0,0,0,0];const pe=Math.floor(ae[0]),ie=Math.floor(ae[1]);let F=Math.max(Math.ceil(ae[2])-pe,1),N=Math.max(Math.ceil(ae[3])-ie,1),o=1,m=1;F>l&&(o=F/l,F=l),N>l&&(m=N/l,N=l),this.current.startNewPathAndClipBox([0,0,F,N]);let T="groupAt"+this.groupLevel;V.smask&&(T+="_smask_"+this.smaskCounter++%2);const B=this.cachedCanvases.getCanvas(T,F,N),$=B.context;$.scale(1/o,1/m),$.translate(-pe,-ie),$.transform(...z),V.smask?this.smaskStack.push({canvas:B.canvas,context:$,offsetX:pe,offsetY:ie,scaleX:o,scaleY:m,subtype:V.smask.subtype,backdrop:V.smask.backdrop,transferMap:V.smask.transferMap||null,startTransformInverse:null}):(H.setTransform(1,0,0,1,0,0),H.translate(pe,ie),H.scale(o,m),H.save()),M(H,$),this.ctx=$,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(H),this.groupLevel++}endGroup(V){if(!this.contentVisible)return;this.groupLevel--;const H=this.ctx,z=this.groupStack.pop();if(this.ctx=z,this.ctx.imageSmoothingEnabled=!1,V.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ae=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ae);const se=n.Util.getAxialAlignedBoundingBox([0,0,H.canvas.width,H.canvas.height],ae);this.ctx.drawImage(H.canvas,0,0),this.ctx.restore(),this.compose(se)}}beginAnnotation(V,H,z,ae,se){if(de(this,re,Vt).call(this),O(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(H)&&H.length===4){const pe=H[2]-H[0],ie=H[3]-H[1];if(se&&this.annotationCanvasMap){z=z.slice(),z[4]-=H[0],z[5]-=H[1],H=H.slice(),H[0]=H[1]=0,H[2]=pe,H[3]=ie;const[F,N]=n.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:o}=this,m=Math.ceil(pe*this.outputScaleX*o),T=Math.ceil(ie*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(m,T);const{canvas:B,context:$}=this.annotationCanvas;this.annotationCanvasMap.set(V,B),this.annotationCanvas.savedCtx=this.ctx,this.ctx=$,this.ctx.save(),this.ctx.setTransform(F,0,0,-N,0,ie*N),O(this.ctx)}else O(this.ctx),this.ctx.rect(H[0],H[1],pe,ie),this.ctx.clip(),this.endPath()}this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...z),this.transform(...ae)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),de(this,Z,$t).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(V){if(!this.contentVisible)return;const H=V.count;V=this.getObject(V.data,V),V.count=H;const z=this.ctx,ae=this.processingType3;if(ae&&(ae.compiled===void 0&&(ae.compiled=L(V)),ae.compiled)){ae.compiled(z);return}const se=this._createMaskCanvas(V),pe=se.canvas;z.save(),z.setTransform(1,0,0,1,0,0),z.drawImage(pe,se.offsetX,se.offsetY),z.restore(),this.compose()}paintImageMaskXObjectRepeat(V,H,z=0,ae=0,se,pe){if(!this.contentVisible)return;V=this.getObject(V.data,V);const ie=this.ctx;ie.save();const F=(0,r.getCurrentTransform)(ie);ie.transform(H,z,ae,se,0,0);const N=this._createMaskCanvas(V);ie.setTransform(1,0,0,1,N.offsetX-F[4],N.offsetY-F[5]);for(let o=0,m=pe.length;o<m;o+=2){const T=n.Util.transform(F,[H,z,ae,se,pe[o],pe[o+1]]),[B,$]=n.Util.applyTransform([0,0],T);ie.drawImage(N.canvas,B,$)}ie.restore(),this.compose()}paintImageMaskXObjectGroup(V){if(!this.contentVisible)return;const H=this.ctx,z=this.current.fillColor,ae=this.current.patternFill;for(const se of V){const{data:pe,width:ie,height:F,transform:N}=se,o=this.cachedCanvases.getCanvas("maskCanvas",ie,F),m=o.context;m.save();const T=this.getObject(pe,se);D(m,T),m.globalCompositeOperation="source-in",m.fillStyle=ae?z.getPattern(m,this,(0,r.getCurrentTransformInverse)(H),d.PathType.FILL):z,m.fillRect(0,0,ie,F),m.restore(),H.save(),H.transform(...N),H.scale(1,-1),I(H,o.canvas,0,0,ie,F,0,-1,1,1),H.restore()}this.compose()}paintImageXObject(V){if(!this.contentVisible)return;const H=this.getObject(V);if(!H){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(H)}paintImageXObjectRepeat(V,H,z,ae){if(!this.contentVisible)return;const se=this.getObject(V);if(!se){(0,n.warn)("Dependent image isn't ready yet");return}const pe=se.width,ie=se.height,F=[];for(let N=0,o=ae.length;N<o;N+=2)F.push({transform:[H,0,0,z,ae[N],ae[N+1]],x:0,y:0,w:pe,h:ie});this.paintInlineImageXObjectGroup(se,F)}applyTransferMapsToCanvas(V){return this.current.transferMaps!=="none"&&(V.filter=this.current.transferMaps,V.drawImage(V.canvas,0,0),V.filter="none"),V.canvas}applyTransferMapsToBitmap(V){if(this.current.transferMaps==="none")return V.bitmap;const{bitmap:H,width:z,height:ae}=V,se=this.cachedCanvases.getCanvas("inlineImage",z,ae),pe=se.context;return pe.filter=this.current.transferMaps,pe.drawImage(H,0,0),pe.filter="none",se.canvas}paintInlineImageXObject(V){if(!this.contentVisible)return;const H=V.width,z=V.height,ae=this.ctx;this.save(),_.isNodeJS||(ae.filter="none"),ae.scale(1/H,-1/z);let se;if(V.bitmap)se=this.applyTransferMapsToBitmap(V);else if(typeof HTMLElement=="function"&&V instanceof HTMLElement||!V.data)se=V;else{const F=this.cachedCanvases.getCanvas("inlineImage",H,z).context;E(F,V),se=this.applyTransferMapsToCanvas(F)}const pe=this._scaleImage(se,(0,r.getCurrentTransformInverse)(ae));ae.imageSmoothingEnabled=U((0,r.getCurrentTransform)(ae),V.interpolate),I(ae,pe.img,0,0,pe.paintWidth,pe.paintHeight,0,-z,H,z),this.compose(),this.restore()}paintInlineImageXObjectGroup(V,H){if(!this.contentVisible)return;const z=this.ctx;let ae;if(V.bitmap)ae=V.bitmap;else{const se=V.width,pe=V.height,F=this.cachedCanvases.getCanvas("inlineImage",se,pe).context;E(F,V),ae=this.applyTransferMapsToCanvas(F)}for(const se of H)z.save(),z.transform(...se.transform),z.scale(1,-1),I(z,ae,se.x,se.y,se.w,se.h,0,-1,1,1),z.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(V){}markPointProps(V,H){}beginMarkedContent(V){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(V,H){V==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(H)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(V){const H=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(V);const z=this.ctx;this.pendingClip&&(H||(this.pendingClip===ne?z.clip("evenodd"):z.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),z.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const V=(0,r.getCurrentTransform)(this.ctx);if(V[1]===0&&V[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(V[0]),Math.abs(V[3]));else{const H=Math.abs(V[0]*V[3]-V[2]*V[1]),z=Math.hypot(V[0],V[2]),ae=Math.hypot(V[1],V[3]);this._cachedGetSinglePixelWidth=Math.max(z,ae)/H}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:V}=this.current,{a:H,b:z,c:ae,d:se}=this.ctx.getTransform();let pe,ie;if(z===0&&ae===0){const F=Math.abs(H),N=Math.abs(se);if(F===N)if(V===0)pe=ie=1/F;else{const o=F*V;pe=ie=o<1?1/o:1}else if(V===0)pe=1/F,ie=1/N;else{const o=F*V,m=N*V;pe=o<1?1/o:1,ie=m<1?1/m:1}}else{const F=Math.abs(H*se-z*ae),N=Math.hypot(H,z),o=Math.hypot(ae,se);if(V===0)pe=o/F,ie=N/F;else{const m=V*F;pe=o>m?o/m:1,ie=N>m?N/m:1}}this._cachedScaleForStroking[0]=pe,this._cachedScaleForStroking[1]=ie}return this._cachedScaleForStroking}rescaleAndStroke(V){const{ctx:H}=this,{lineWidth:z}=this.current,[ae,se]=this.getScaleForStroking();if(H.lineWidth=z||1,ae===1&&se===1){H.stroke();return}const pe=H.getLineDash();if(V&&H.save(),H.scale(ae,se),pe.length>0){const ie=Math.max(ae,se);H.setLineDash(pe.map(F=>F/ie)),H.lineDashOffset/=ie}H.stroke(),V&&H.restore()}isContentVisible(){for(let V=this.markedContentStack.length-1;V>=0;V--)if(!this.markedContentStack[V].visible)return!1;return!0}};let ee=Ce;re=new WeakSet,Vt=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Z=new WeakSet,$t=function(){if(this.pageColors){const V=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(V!=="none"){const H=this.ctx.filter;this.ctx.filter=V,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=H}}},t.CanvasGraphics=ee;for(const le in n.OPS)ee.prototype[le]!==void 0&&(ee.prototype[n.OPS[le]]=ee.prototype[le])},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=A;var n=i(1),r=i(6);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=d;function c(I,L){if(!L)return;const S=L[2]-L[0],E=L[3]-L[1],D=new Path2D;D.rect(L[0],L[1],S,E),I.clip(D)}class _{constructor(){this.constructor===_&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class v extends _{constructor(L){super(),this._type=L[1],this._bbox=L[2],this._colorStops=L[3],this._p0=L[4],this._p1=L[5],this._r0=L[6],this._r1=L[7],this.matrix=null}_createGradient(L){let S;this._type==="axial"?S=L.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(S=L.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const E of this._colorStops)S.addColorStop(E[0],E[1]);return S}getPattern(L,S,E,D){let M;if(D===d.STROKE||D===d.FILL){const O=S.current.getClippedPathBoundingBox(D,(0,r.getCurrentTransform)(L))||[0,0,0,0],s=Math.ceil(O[2]-O[0])||1,u=Math.ceil(O[3]-O[1])||1,C=S.cachedCanvases.getCanvas("pattern",s,u,!0),g=C.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-O[0],-O[1]),E=n.Util.transform(E,[1,0,0,1,O[0],O[1]]),g.transform(...S.baseTransform),this.matrix&&g.transform(...this.matrix),c(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),M=L.createPattern(C.canvas,"no-repeat");const y=new DOMMatrix(E);M.setTransform(y)}else c(L,this._bbox),M=this._createGradient(L);return M}}function a(I,L,S,E,D,M,O,s){const u=L.coords,C=L.colors,g=I.data,y=I.width*4;let U;u[S+1]>u[E+1]&&(U=S,S=E,E=U,U=M,M=O,O=U),u[E+1]>u[D+1]&&(U=E,E=D,D=U,U=O,O=s,s=U),u[S+1]>u[E+1]&&(U=S,S=E,E=U,U=M,M=O,O=U);const Y=(u[S]+L.offsetX)*L.scaleX,X=(u[S+1]+L.offsetY)*L.scaleY,K=(u[E]+L.offsetX)*L.scaleX,ne=(u[E+1]+L.offsetY)*L.scaleY,ee=(u[D]+L.offsetX)*L.scaleX,re=(u[D+1]+L.offsetY)*L.scaleY;if(X>=re)return;const ve=C[M],Z=C[M+1],we=C[M+2],Ce=C[O],le=C[O+1],V=C[O+2],H=C[s],z=C[s+1],ae=C[s+2],se=Math.round(X),pe=Math.round(re);let ie,F,N,o,m,T,B,$;for(let G=se;G<=pe;G++){if(G<ne){let fe;G<X?fe=0:fe=(X-G)/(X-ne),ie=Y-(Y-K)*fe,F=ve-(ve-Ce)*fe,N=Z-(Z-le)*fe,o=we-(we-V)*fe}else{let fe;G>re?fe=1:ne===re?fe=0:fe=(ne-G)/(ne-re),ie=K-(K-ee)*fe,F=Ce-(Ce-H)*fe,N=le-(le-z)*fe,o=V-(V-ae)*fe}let ce;G<X?ce=0:G>re?ce=1:ce=(X-G)/(X-re),m=Y-(Y-ee)*ce,T=ve-(ve-H)*ce,B=Z-(Z-z)*ce,$=we-(we-ae)*ce;const Q=Math.round(Math.min(ie,m)),q=Math.round(Math.max(ie,m));let J=y*G+Q*4;for(let fe=Q;fe<=q;fe++)ce=(ie-fe)/(ie-m),ce<0?ce=0:ce>1&&(ce=1),g[J++]=F-(F-T)*ce|0,g[J++]=N-(N-B)*ce|0,g[J++]=o-(o-$)*ce|0,g[J++]=255}}function l(I,L,S){const E=L.coords,D=L.colors;let M,O;switch(L.type){case"lattice":const s=L.verticesPerRow,u=Math.floor(E.length/s)-1,C=s-1;for(M=0;M<u;M++){let g=M*s;for(let y=0;y<C;y++,g++)a(I,S,E[g],E[g+1],E[g+s],D[g],D[g+1],D[g+s]),a(I,S,E[g+s+1],E[g+1],E[g+s],D[g+s+1],D[g+1],D[g+s])}break;case"triangles":for(M=0,O=E.length;M<O;M+=3)a(I,S,E[M],E[M+1],E[M+2],D[M],D[M+1],D[M+2]);break;default:throw new Error("illegal figure")}}class w extends _{constructor(L){super(),this._coords=L[2],this._colors=L[3],this._figures=L[4],this._bounds=L[5],this._bbox=L[7],this._background=L[8],this.matrix=null}_createMeshCanvas(L,S,E){const s=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),C=Math.ceil(this._bounds[2])-s,g=Math.ceil(this._bounds[3])-u,y=Math.min(Math.ceil(Math.abs(C*L[0]*1.1)),3e3),U=Math.min(Math.ceil(Math.abs(g*L[1]*1.1)),3e3),Y=C/y,X=g/U,K={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-u,scaleX:1/Y,scaleY:1/X},ne=y+2*2,ee=U+2*2,re=E.getCanvas("mesh",ne,ee,!1),ve=re.context,Z=ve.createImageData(y,U);if(S){const Ce=Z.data;for(let le=0,V=Ce.length;le<V;le+=4)Ce[le]=S[0],Ce[le+1]=S[1],Ce[le+2]=S[2],Ce[le+3]=255}for(const Ce of this._figures)l(Z,Ce,K);return ve.putImageData(Z,2,2),{canvas:re.canvas,offsetX:s-2*Y,offsetY:u-2*X,scaleX:Y,scaleY:X}}getPattern(L,S,E,D){c(L,this._bbox);let M;if(D===d.SHADING)M=n.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(L));else if(M=n.Util.singularValueDecompose2dScale(S.baseTransform),this.matrix){const s=n.Util.singularValueDecompose2dScale(this.matrix);M=[M[0]*s[0],M[1]*s[1]]}const O=this._createMeshCanvas(M,D===d.SHADING?null:this._background,S.cachedCanvases);return D!==d.SHADING&&(L.setTransform(...S.baseTransform),this.matrix&&L.transform(...this.matrix)),L.translate(O.offsetX,O.offsetY),L.scale(O.scaleX,O.scaleY),L.createPattern(O.canvas,"no-repeat")}}class R extends _{getPattern(){return"hotpink"}}function A(I){switch(I[0]){case"RadialAxial":return new v(I);case"Mesh":return new w(I);case"Dummy":return new R}throw new Error(`Unknown IR type: ${I[0]}`)}const f={COLORED:1,UNCOLORED:2},k=class{constructor(L,S,E,D,M){this.operatorList=L[2],this.matrix=L[3]||[1,0,0,1,0,0],this.bbox=L[4],this.xstep=L[5],this.ystep=L[6],this.paintType=L[7],this.tilingType=L[8],this.color=S,this.ctx=E,this.canvasGraphicsFactory=D,this.baseTransform=M}createPatternCanvas(L){const S=this.operatorList,E=this.bbox,D=this.xstep,M=this.ystep,O=this.paintType,s=this.tilingType,u=this.color,C=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+s);const g=E[0],y=E[1],U=E[2],Y=E[3],X=n.Util.singularValueDecompose2dScale(this.matrix),K=n.Util.singularValueDecompose2dScale(this.baseTransform),ne=[X[0]*K[0],X[1]*K[1]],ee=this.getSizeAndScale(D,this.ctx.canvas.width,ne[0]),re=this.getSizeAndScale(M,this.ctx.canvas.height,ne[1]),ve=L.cachedCanvases.getCanvas("pattern",ee.size,re.size,!0),Z=ve.context,we=C.createCanvasGraphics(Z);we.groupLevel=L.groupLevel,this.setFillAndStrokeStyleToContext(we,O,u);let Ce=g,le=y,V=U,H=Y;return g<0&&(Ce=0,V+=Math.abs(g)),y<0&&(le=0,H+=Math.abs(y)),Z.translate(-(ee.scale*Ce),-(re.scale*le)),we.transform(ee.scale,0,0,re.scale,0,0),Z.save(),this.clipBbox(we,Ce,le,V,H),we.baseTransform=(0,r.getCurrentTransform)(we.ctx),we.executeOperatorList(S),we.endDrawing(),{canvas:ve.canvas,scaleX:ee.scale,scaleY:re.scale,offsetX:Ce,offsetY:le}}getSizeAndScale(L,S,E){L=Math.abs(L);const D=Math.max(k.MAX_PATTERN_SIZE,S);let M=Math.ceil(L*E);return M>=D?M=D:E=M/L,{scale:E,size:M}}clipBbox(L,S,E,D,M){const O=D-S,s=M-E;L.ctx.rect(S,E,O,s),L.current.updateRectMinMax((0,r.getCurrentTransform)(L.ctx),[S,E,D,M]),L.clip(),L.endPath()}setFillAndStrokeStyleToContext(L,S,E){const D=L.ctx,M=L.current;switch(S){case f.COLORED:const O=this.ctx;D.fillStyle=O.fillStyle,D.strokeStyle=O.strokeStyle,M.fillColor=O.fillStyle,M.strokeColor=O.strokeStyle;break;case f.UNCOLORED:const s=n.Util.makeHexColor(E[0],E[1],E[2]);D.fillStyle=s,D.strokeStyle=s,M.fillColor=s,M.strokeColor=s;break;default:throw new n.FormatError(`Unsupported paint type: ${S}`)}}getPattern(L,S,E,D){let M=E;D!==d.SHADING&&(M=n.Util.transform(M,S.baseTransform),this.matrix&&(M=n.Util.transform(M,this.matrix)));const O=this.createPatternCanvas(S);let s=new DOMMatrix(M);s=s.translate(O.offsetX,O.offsetY),s=s.scale(1/O.scaleX,1/O.scaleY);const u=L.createPattern(O.canvas,"repeat");return u.setTransform(s),u}};let b=k;Ke(b,"MAX_PATTERN_SIZE",3e3),t.TilingPattern=b},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=d,t.convertToRGBA=r,t.grayToRGBA=_;var n=i(1);function r(v){switch(v.kind){case n.ImageKind.GRAYSCALE_1BPP:return d(v);case n.ImageKind.RGB_24BPP:return c(v)}return null}function d({src:v,srcPos:a=0,dest:l,width:w,height:R,nonBlackColor:A=4294967295,inverseDecode:f=!1}){const b=n.FeatureTest.isLittleEndian?4278190080:255,[k,I]=f?[A,b]:[b,A],L=w>>3,S=w&7,E=v.length;l=new Uint32Array(l.buffer);let D=0;for(let M=0;M<R;M++){for(const s=a+L;a<s;a++){const u=a<E?v[a]:255;l[D++]=u&128?I:k,l[D++]=u&64?I:k,l[D++]=u&32?I:k,l[D++]=u&16?I:k,l[D++]=u&8?I:k,l[D++]=u&4?I:k,l[D++]=u&2?I:k,l[D++]=u&1?I:k}if(S===0)continue;const O=a<E?v[a++]:255;for(let s=0;s<S;s++)l[D++]=O&1<<7-s?I:k}return{srcPos:a,destPos:D}}function c({src:v,srcPos:a=0,dest:l,destPos:w=0,width:R,height:A}){let f=0;const b=v.length>>2,k=new Uint32Array(v.buffer,a,b);if(n.FeatureTest.isLittleEndian){for(;f<b-2;f+=3,w+=4){const I=k[f],L=k[f+1],S=k[f+2];l[w]=I|4278190080,l[w+1]=I>>>24|L<<8|4278190080,l[w+2]=L>>>16|S<<16|4278190080,l[w+3]=S>>>8|4278190080}for(let I=f*4,L=v.length;I<L;I+=3)l[w++]=v[I]|v[I+1]<<8|v[I+2]<<16|4278190080}else{for(;f<b-2;f+=3,w+=4){const I=k[f],L=k[f+1],S=k[f+2];l[w]=I|255,l[w+1]=I<<24|L>>>8|255,l[w+2]=L<<16|S>>>16|255,l[w+3]=S<<8|255}for(let I=f*4,L=v.length;I<L;I+=3)l[w++]=v[I]<<24|v[I+1]<<16|v[I+2]<<8|255}return{srcPos:a,destPos:w}}function _(v,a){if(n.FeatureTest.isLittleEndian)for(let l=0,w=v.length;l<w;l++)a[l]=v[l]*65793|4278190080;else for(let l=0,w=v.length;l<w;l++)a[l]=v[l]*16843008|255}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const i=Object.create(null);t.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,t,i)=>{var v,Rn,l,Fn,R,Et;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n=i(1);const r={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function c(f){switch(f instanceof Error||typeof f=="object"&&f!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),f.name){case"AbortException":return new n.AbortException(f.message);case"MissingPDFException":return new n.MissingPDFException(f.message);case"PasswordException":return new n.PasswordException(f.message,f.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(f.message,f.status);case"UnknownErrorException":return new n.UnknownErrorException(f.message,f.details);default:return new n.UnknownErrorException(f.message,f.toString())}}class _{constructor(b,k,I){oe(this,v);oe(this,l);oe(this,R);this.sourceName=b,this.targetName=k,this.comObj=I,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=L=>{const S=L.data;if(S.targetName!==this.sourceName)return;if(S.stream){de(this,l,Fn).call(this,S);return}if(S.callback){const D=S.callbackId,M=this.callbackCapabilities[D];if(!M)throw new Error(`Cannot resolve callback ${D}`);if(delete this.callbackCapabilities[D],S.callback===r.DATA)M.resolve(S.data);else if(S.callback===r.ERROR)M.reject(c(S.reason));else throw new Error("Unexpected callback case");return}const E=this.actionHandler[S.action];if(!E)throw new Error(`Unknown action from worker: ${S.action}`);if(S.callbackId){const D=this.sourceName,M=S.sourceName;new Promise(function(O){O(E(S.data))}).then(function(O){I.postMessage({sourceName:D,targetName:M,callback:r.DATA,callbackId:S.callbackId,data:O})},function(O){I.postMessage({sourceName:D,targetName:M,callback:r.ERROR,callbackId:S.callbackId,reason:c(O)})});return}if(S.streamId){de(this,v,Rn).call(this,S);return}E(S.data)},I.addEventListener("message",this._onComObjOnMessage)}on(b,k){const I=this.actionHandler;if(I[b])throw new Error(`There is already an actionName called "${b}"`);I[b]=k}send(b,k,I){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,data:k},I)}sendWithPromise(b,k,I){const L=this.callbackId++,S=new n.PromiseCapability;this.callbackCapabilities[L]=S;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,callbackId:L,data:k},I)}catch(E){S.reject(E)}return S.promise}sendWithStream(b,k,I,L){const S=this.streamId++,E=this.sourceName,D=this.targetName,M=this.comObj;return new ReadableStream({start:O=>{const s=new n.PromiseCapability;return this.streamControllers[S]={controller:O,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},M.postMessage({sourceName:E,targetName:D,action:b,streamId:S,data:k,desiredSize:O.desiredSize},L),s.promise},pull:O=>{const s=new n.PromiseCapability;return this.streamControllers[S].pullCall=s,M.postMessage({sourceName:E,targetName:D,stream:d.PULL,streamId:S,desiredSize:O.desiredSize}),s.promise},cancel:O=>{(0,n.assert)(O instanceof Error,"cancel must have a valid reason");const s=new n.PromiseCapability;return this.streamControllers[S].cancelCall=s,this.streamControllers[S].isClosed=!0,M.postMessage({sourceName:E,targetName:D,stream:d.CANCEL,streamId:S,reason:c(O)}),s.promise}},I)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}v=new WeakSet,Rn=function(b){const k=b.streamId,I=this.sourceName,L=b.sourceName,S=this.comObj,E=this,D=this.actionHandler[b.action],M={enqueue(O,s=1,u){if(this.isCancelled)return;const C=this.desiredSize;this.desiredSize-=s,C>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),S.postMessage({sourceName:I,targetName:L,stream:d.ENQUEUE,streamId:k,chunk:O},u)},close(){this.isCancelled||(this.isCancelled=!0,S.postMessage({sourceName:I,targetName:L,stream:d.CLOSE,streamId:k}),delete E.streamSinks[k])},error(O){(0,n.assert)(O instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,S.postMessage({sourceName:I,targetName:L,stream:d.ERROR,streamId:k,reason:c(O)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:b.desiredSize,ready:null};M.sinkCapability.resolve(),M.ready=M.sinkCapability.promise,this.streamSinks[k]=M,new Promise(function(O){O(D(b.data,M))}).then(function(){S.postMessage({sourceName:I,targetName:L,stream:d.START_COMPLETE,streamId:k,success:!0})},function(O){S.postMessage({sourceName:I,targetName:L,stream:d.START_COMPLETE,streamId:k,reason:c(O)})})},l=new WeakSet,Fn=function(b){const k=b.streamId,I=this.sourceName,L=b.sourceName,S=this.comObj,E=this.streamControllers[k],D=this.streamSinks[k];switch(b.stream){case d.START_COMPLETE:b.success?E.startCall.resolve():E.startCall.reject(c(b.reason));break;case d.PULL_COMPLETE:b.success?E.pullCall.resolve():E.pullCall.reject(c(b.reason));break;case d.PULL:if(!D){S.postMessage({sourceName:I,targetName:L,stream:d.PULL_COMPLETE,streamId:k,success:!0});break}D.desiredSize<=0&&b.desiredSize>0&&D.sinkCapability.resolve(),D.desiredSize=b.desiredSize,new Promise(function(M){var O;M((O=D.onPull)==null?void 0:O.call(D))}).then(function(){S.postMessage({sourceName:I,targetName:L,stream:d.PULL_COMPLETE,streamId:k,success:!0})},function(M){S.postMessage({sourceName:I,targetName:L,stream:d.PULL_COMPLETE,streamId:k,reason:c(M)})});break;case d.ENQUEUE:if((0,n.assert)(E,"enqueue should have stream controller"),E.isClosed)break;E.controller.enqueue(b.chunk);break;case d.CLOSE:if((0,n.assert)(E,"close should have stream controller"),E.isClosed)break;E.isClosed=!0,E.controller.close(),de(this,R,Et).call(this,E,k);break;case d.ERROR:(0,n.assert)(E,"error should have stream controller"),E.controller.error(c(b.reason)),de(this,R,Et).call(this,E,k);break;case d.CANCEL_COMPLETE:b.success?E.cancelCall.resolve():E.cancelCall.reject(c(b.reason)),de(this,R,Et).call(this,E,k);break;case d.CANCEL:if(!D)break;new Promise(function(M){var O;M((O=D.onCancel)==null?void 0:O.call(D,c(b.reason)))}).then(function(){S.postMessage({sourceName:I,targetName:L,stream:d.CANCEL_COMPLETE,streamId:k,success:!0})},function(M){S.postMessage({sourceName:I,targetName:L,stream:d.CANCEL_COMPLETE,streamId:k,reason:c(M)})}),D.sinkCapability.reject(c(b.reason)),D.isCancelled=!0,delete this.streamSinks[k];break;default:throw new Error("Unexpected stream case")}},R=new WeakSet,Et=async function(b,k){var I,L,S;await Promise.allSettled([(I=b.startCall)==null?void 0:I.promise,(L=b.pullCall)==null?void 0:L.promise,(S=b.cancelCall)==null?void 0:S.promise]),delete this.streamControllers[k]},t.MessageHandler=_},(e,t,i)=>{var d,c;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=i(1);class r{constructor({parsedData:v,rawData:a}){oe(this,d,void 0);oe(this,c,void 0);Ee(this,d,v),Ee(this,c,a)}getRaw(){return P(this,c)}get(v){var a;return(a=P(this,d).get(v))!=null?a:null}getAll(){return(0,n.objectFromMap)(P(this,d))}has(v){return P(this,d).has(v)}}d=new WeakMap,c=new WeakMap,t.Metadata=r},(e,t,i)=>{var v,a,l,w,R,A,jt;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var n=i(1),r=i(8);const d=Symbol("INTERNAL");class c{constructor(k,I){oe(this,v,!0);this.name=k,this.intent=I}get visible(){return P(this,v)}_setVisible(k,I){k!==d&&(0,n.unreachable)("Internal method `_setVisible` called."),Ee(this,v,I)}}v=new WeakMap;class _{constructor(k){oe(this,A);oe(this,a,null);oe(this,l,new Map);oe(this,w,null);oe(this,R,null);if(this.name=null,this.creator=null,k!==null){this.name=k.name,this.creator=k.creator,Ee(this,R,k.order);for(const I of k.groups)P(this,l).set(I.id,new c(I.name,I.intent));if(k.baseState==="OFF")for(const I of P(this,l).values())I._setVisible(d,!1);for(const I of k.on)P(this,l).get(I)._setVisible(d,!0);for(const I of k.off)P(this,l).get(I)._setVisible(d,!1);Ee(this,w,this.getHash())}}isVisible(k){if(P(this,l).size===0)return!0;if(!k)return(0,n.warn)("Optional content group not defined."),!0;if(k.type==="OCG")return P(this,l).has(k.id)?P(this,l).get(k.id).visible:((0,n.warn)(`Optional content group not found: ${k.id}`),!0);if(k.type==="OCMD"){if(k.expression)return de(this,A,jt).call(this,k.expression);if(!k.policy||k.policy==="AnyOn"){for(const I of k.ids){if(!P(this,l).has(I))return(0,n.warn)(`Optional content group not found: ${I}`),!0;if(P(this,l).get(I).visible)return!0}return!1}else if(k.policy==="AllOn"){for(const I of k.ids){if(!P(this,l).has(I))return(0,n.warn)(`Optional content group not found: ${I}`),!0;if(!P(this,l).get(I).visible)return!1}return!0}else if(k.policy==="AnyOff"){for(const I of k.ids){if(!P(this,l).has(I))return(0,n.warn)(`Optional content group not found: ${I}`),!0;if(!P(this,l).get(I).visible)return!0}return!1}else if(k.policy==="AllOff"){for(const I of k.ids){if(!P(this,l).has(I))return(0,n.warn)(`Optional content group not found: ${I}`),!0;if(P(this,l).get(I).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${k.policy}.`),!0}return(0,n.warn)(`Unknown group type ${k.type}.`),!0}setVisibility(k,I=!0){if(!P(this,l).has(k)){(0,n.warn)(`Optional content group not found: ${k}`);return}P(this,l).get(k)._setVisible(d,!!I),Ee(this,a,null)}get hasInitialVisibility(){return this.getHash()===P(this,w)}getOrder(){return P(this,l).size?P(this,R)?P(this,R).slice():[...P(this,l).keys()]:null}getGroups(){return P(this,l).size>0?(0,n.objectFromMap)(P(this,l)):null}getGroup(k){return P(this,l).get(k)||null}getHash(){if(P(this,a)!==null)return P(this,a);const k=new r.MurmurHash3_64;for(const[I,L]of P(this,l))k.update(`${I}:${L.visible}`);return Ee(this,a,k.hexdigest())}}a=new WeakMap,l=new WeakMap,w=new WeakMap,R=new WeakMap,A=new WeakSet,jt=function(k){const I=k.length;if(I<2)return!0;const L=k[0];for(let S=1;S<I;S++){const E=k[S];let D;if(Array.isArray(E))D=de(this,A,jt).call(this,E);else if(P(this,l).has(E))D=P(this,l).get(E).visible;else return(0,n.warn)(`Optional content group not found: ${E}`),!0;switch(L){case"And":if(!D)return!1;break;case"Or":if(D)return!0;break;case"Not":return!D;default:return!0}}return L==="And"},t.OptionalContentConfig=_},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n=i(1),r=i(6);class d{constructor({length:a,initialData:l,progressiveDone:w=!1,contentDispositionFilename:R=null,disableRange:A=!1,disableStream:f=!1},b){if((0,n.assert)(b,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=w,this._contentDispositionFilename=R,(l==null?void 0:l.length)>0){const k=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(k)}this._pdfDataRangeTransport=b,this._isStreamingSupported=!f,this._isRangeSupported=!A,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((k,I)=>{this._onReceiveData({begin:k,chunk:I})}),this._pdfDataRangeTransport.addProgressListener((k,I)=>{this._onProgress({loaded:k,total:I})}),this._pdfDataRangeTransport.addProgressiveReadListener(k=>{this._onReceiveData({chunk:k})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:a,chunk:l}){const w=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;if(a===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(w):this._queuedChunks.push(w);else{const R=this._rangeReaders.some(function(A){return A._begin!==a?!1:(A._enqueue(w),!0)});(0,n.assert)(R,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var a,l;return(l=(a=this._fullRequestReader)==null?void 0:a._loaded)!=null?l:0}_onProgress(a){var l,w,R,A;a.total===void 0?(w=(l=this._rangeReaders[0])==null?void 0:l.onProgress)==null||w.call(l,{loaded:a.loaded}):(A=(R=this._fullRequestReader)==null?void 0:R.onProgress)==null||A.call(R,{loaded:a.loaded,total:a.total})}_onProgressiveDone(){var a;(a=this._fullRequestReader)==null||a.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(a){const l=this._rangeReaders.indexOf(a);l>=0&&this._rangeReaders.splice(l,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const a=this._queuedChunks;return this._queuedChunks=null,new c(this,a,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(a,l){if(l<=this._progressiveDataLength)return null;const w=new _(this,a,l);return this._pdfDataRangeTransport.requestDataRange(a,l),this._rangeReaders.push(w),w}cancelAllRequests(a){var l;(l=this._fullRequestReader)==null||l.cancel(a);for(const w of this._rangeReaders.slice(0))w.cancel(a);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=d;class c{constructor(a,l,w=!1,R=null){this._stream=a,this._done=w||!1,this._filename=(0,r.isPdfFile)(R)?R:null,this._queuedChunks=l||[],this._loaded=0;for(const A of this._queuedChunks)this._loaded+=A.byteLength;this._requests=[],this._headersReady=Promise.resolve(),a._fullRequestReader=this,this.onProgress=null}_enqueue(a){this._done||(this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a),this._loaded+=a.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const a=new n.PromiseCapability;return this._requests.push(a),a.promise}cancel(a){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _{constructor(a,l,w){this._stream=a,this._begin=l,this._end=w,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(a){if(!this._done){if(this._requests.length===0)this._queuedChunk=a;else{this._requests.shift().resolve({value:a,done:!1});for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const l=this._queuedChunk;return this._queuedChunk=null,{value:l,done:!1}}if(this._done)return{value:void 0,done:!0};const a=new n.PromiseCapability;return this._requests.push(a),a.promise}cancel(a){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class i{static textContent(r){const d=[],c={items:d,styles:Object.create(null)};function _(v){var w;if(!v)return;let a=null;const l=v.name;if(l==="#text")a=v.value;else if(i.shouldBuildText(l))(w=v==null?void 0:v.attributes)!=null&&w.textContent?a=v.attributes.textContent:v.value&&(a=v.value);else return;if(a!==null&&d.push({str:a}),!!v.children)for(const R of v.children)_(R)}return _(r),c}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}t.XfaText=i},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var n=i(7);const r=function(a){return new Promise((l,w)=>{require$$5.readFile(a,(A,f)=>{if(A||!f){w(new Error(A));return}l(new Uint8Array(f))})})};class d extends n.BaseFilterFactory{}t.NodeFilterFactory=d;class c extends n.BaseCanvasFactory{_createCanvas(l,w){return require$$5.createCanvas(l,w)}}t.NodeCanvasFactory=c;class _ extends n.BaseCMapReaderFactory{_fetchData(l,w){return r(l).then(R=>({cMapData:R,compressionType:w}))}}t.NodeCMapReaderFactory=_;class v extends n.BaseStandardFontDataFactory{_fetchData(l){return r(l)}}t.NodeStandardFontDataFactory=v},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var n=i(1),r=i(22);const d=require$$5,c=require$$5,_=require$$5,v=require$$5,a=/^file:\/\/\/[a-zA-Z]:\//;function l(S){const E=v.parse(S);return E.protocol==="file:"||E.host?E:/^[a-z]:[/\\]/i.test(S)?v.parse(`file:///${S}`):(E.host||(E.protocol="file:"),E)}class w{constructor(E){this.source=E,this.url=l(E.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var E,D;return(D=(E=this._fullRequestReader)==null?void 0:E._loaded)!=null?D:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new I(this):new b(this),this._fullRequestReader}getRangeReader(E,D){if(D<=this._progressiveDataLength)return null;const M=this.isFsUrl?new L(this,E,D):new k(this,E,D);return this._rangeRequestReaders.push(M),M}cancelAllRequests(E){var D;(D=this._fullRequestReader)==null||D.cancel(E);for(const M of this._rangeRequestReaders.slice(0))M.cancel(E)}}t.PDFNodeStream=w;class R{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null;const D=E.source;this._contentLength=D.length,this._loaded=0,this._filename=null,this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var M;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const E=this._readableStream.read();return E===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=E.length,(M=this.onProgress)==null||M.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){if(!this._readableStream){this._error(E);return}this._readableStream.destroy(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",D=>{this._error(D)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const D=E.source;this._isStreamingSupported=!D.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var M;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const E=this._readableStream.read();return E===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=E.length,(M=this.onProgress)==null||M.call(this,{loaded:this._loaded}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){if(!this._readableStream){this._error(E);return}this._readableStream.destroy(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",D=>{this._error(D)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function f(S,E){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:E}}class b extends R{constructor(E){super(E);const D=M=>{if(M.statusCode===404){const C=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=C,this._headersCapability.reject(C);return}this._headersCapability.resolve(),this._setReadableStream(M);const O=C=>this._readableStream.headers[C.toLowerCase()],{allowRangeRequests:s,suggestedLength:u}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:E.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=u||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(O)};this._request=null,this._url.protocol==="http:"?this._request=c.request(f(this._url,E.httpHeaders),D):this._request=_.request(f(this._url,E.httpHeaders),D),this._request.on("error",M=>{this._storedError=M,this._headersCapability.reject(M)}),this._request.end()}}class k extends A{constructor(E,D,M){super(E),this._httpHeaders={};for(const s in E.httpHeaders){const u=E.httpHeaders[s];u!==void 0&&(this._httpHeaders[s]=u)}this._httpHeaders.Range=`bytes=${D}-${M-1}`;const O=s=>{if(s.statusCode===404){const u=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=u;return}this._setReadableStream(s)};this._request=null,this._url.protocol==="http:"?this._request=c.request(f(this._url,this._httpHeaders),O):this._request=_.request(f(this._url,this._httpHeaders),O),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class I extends R{constructor(E){super(E);let D=decodeURIComponent(this._url.path);a.test(this._url.href)&&(D=D.replace(/^\//,"")),d.lstat(D,(M,O)=>{if(M){M.code==="ENOENT"&&(M=new n.MissingPDFException(`Missing PDF "${D}".`)),this._storedError=M,this._headersCapability.reject(M);return}this._contentLength=O.size,this._setReadableStream(d.createReadStream(D)),this._headersCapability.resolve()})}}class L extends A{constructor(E,D,M){super(E);let O=decodeURIComponent(this._url.path);a.test(this._url.href)&&(O=O.replace(/^\//,"")),this._setReadableStream(d.createReadStream(O,{start:D,end:M-1}))}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=v,t.extractFilenameFromHeader=_,t.validateRangeRequestCapabilities=c,t.validateResponseStatus=a;var n=i(1),r=i(23),d=i(6);function c({getResponseHeader:l,isHttp:w,rangeChunkSize:R,disableRange:A}){const f={allowRangeRequests:!1,suggestedLength:void 0},b=parseInt(l("Content-Length"),10);return!Number.isInteger(b)||(f.suggestedLength=b,b<=2*R)||A||!w||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(f.allowRangeRequests=!0),f}function _(l){const w=l("Content-Disposition");if(w){let R=(0,r.getFilenameFromContentDispositionHeader)(w);if(R.includes("%"))try{R=decodeURIComponent(R)}catch{}if((0,d.isPdfFile)(R))return R}return null}function v(l,w){return l===404||l===0&&w.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+w+'".'):new n.UnexpectedResponseException(`Unexpected server response (${l}) while retrieving PDF "${w}".`,l)}function a(l){return l===200||l===206}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=r;var n=i(1);function r(d){let c=!0,_=v("filename\\*","i").exec(d);if(_){_=_[1];let b=R(_);return b=unescape(b),b=A(b),b=f(b),l(b)}if(_=w(d),_){const b=f(_);return l(b)}if(_=v("filename","i").exec(d),_){_=_[1];let b=R(_);return b=f(b),l(b)}function v(b,k){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',k)}function a(b,k){if(b){if(!/^[\x00-\xFF]+$/.test(k))return k;try{const I=new TextDecoder(b,{fatal:!0}),L=(0,n.stringToBytes)(k);k=I.decode(L),c=!1}catch{}}return k}function l(b){return c&&/[\x80-\xff]/.test(b)&&(b=a("utf-8",b),c&&(b=a("iso-8859-1",b))),b}function w(b){const k=[];let I;const L=v("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(I=L.exec(b))!==null;){let[,E,D,M]=I;if(E=parseInt(E,10),E in k){if(E===0)break;continue}k[E]=[D,M]}const S=[];for(let E=0;E<k.length&&E in k;++E){let[D,M]=k[E];M=R(M),D&&(M=unescape(M),E===0&&(M=A(M))),S.push(M)}return S.join("")}function R(b){if(b.startsWith('"')){const k=b.slice(1).split('\\"');for(let I=0;I<k.length;++I){const L=k[I].indexOf('"');L!==-1&&(k[I]=k[I].slice(0,L),k.length=I+1),k[I]=k[I].replaceAll(/\\(.)/g,"$1")}b=k.join('"')}return b}function A(b){const k=b.indexOf("'");if(k===-1)return b;const I=b.slice(0,k),S=b.slice(k+1).replace(/^[^']*'/,"");return a(I,S)}function f(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(k,I,L,S){if(L==="q"||L==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,D){return String.fromCharCode(parseInt(D,16))}),a(I,S);try{S=atob(S)}catch{}return a(I,S)})}return""}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var n=i(1),r=i(22);const d=200,c=206;function _(R){const A=R.response;return typeof A!="string"?A:(0,n.stringToBytes)(A).buffer}class v{constructor(A,f={}){this.url=A,this.isHttp=/^https?:/i.test(A),this.httpHeaders=this.isHttp&&f.httpHeaders||Object.create(null),this.withCredentials=f.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(A,f,b){const k={begin:A,end:f};for(const I in b)k[I]=b[I];return this.request(k)}requestFull(A){return this.request(A)}request(A){const f=new XMLHttpRequest,b=this.currXhrId++,k=this.pendingRequests[b]={xhr:f};f.open("GET",this.url),f.withCredentials=this.withCredentials;for(const I in this.httpHeaders){const L=this.httpHeaders[I];L!==void 0&&f.setRequestHeader(I,L)}return this.isHttp&&"begin"in A&&"end"in A?(f.setRequestHeader("Range",`bytes=${A.begin}-${A.end-1}`),k.expectedStatus=c):k.expectedStatus=d,f.responseType="arraybuffer",A.onError&&(f.onerror=function(I){A.onError(f.status)}),f.onreadystatechange=this.onStateChange.bind(this,b),f.onprogress=this.onProgress.bind(this,b),k.onHeadersReceived=A.onHeadersReceived,k.onDone=A.onDone,k.onError=A.onError,k.onProgress=A.onProgress,f.send(null),b}onProgress(A,f){var k;const b=this.pendingRequests[A];!b||(k=b.onProgress)==null||k.call(b,f)}onStateChange(A,f){var E,D,M;const b=this.pendingRequests[A];if(!b)return;const k=b.xhr;if(k.readyState>=2&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived),k.readyState!==4||!(A in this.pendingRequests))return;if(delete this.pendingRequests[A],k.status===0&&this.isHttp){(E=b.onError)==null||E.call(b,k.status);return}const I=k.status||d;if(!(I===d&&b.expectedStatus===c)&&I!==b.expectedStatus){(D=b.onError)==null||D.call(b,k.status);return}const S=_(k);if(I===c){const O=k.getResponseHeader("Content-Range"),s=/bytes (\d+)-(\d+)\/(\d+)/.exec(O);b.onDone({begin:parseInt(s[1],10),chunk:S})}else S?b.onDone({begin:0,chunk:S}):(M=b.onError)==null||M.call(b,k.status)}getRequestXhr(A){return this.pendingRequests[A].xhr}isPendingRequest(A){return A in this.pendingRequests}abortRequest(A){const f=this.pendingRequests[A].xhr;delete this.pendingRequests[A],f.abort()}}class a{constructor(A){this._source=A,this._manager=new v(A.url,{httpHeaders:A.httpHeaders,withCredentials:A.withCredentials}),this._rangeChunkSize=A.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(A){const f=this._rangeRequestReaders.indexOf(A);f>=0&&this._rangeRequestReaders.splice(f,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l(this._manager,this._source),this._fullRequestReader}getRangeReader(A,f){const b=new w(this._manager,A,f);return b.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(b),b}cancelAllRequests(A){var f;(f=this._fullRequestReader)==null||f.cancel(A);for(const b of this._rangeRequestReaders.slice(0))b.cancel(A)}}t.PDFNetworkStream=a;class l{constructor(A,f){this._manager=A;const b={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._fullRequestId=A.requestFull(b),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=f.disableRange||!1,this._contentLength=f.length,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const A=this._fullRequestId,f=this._manager.getRequestXhr(A),b=L=>f.getResponseHeader(L),{allowRangeRequests:k,suggestedLength:I}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});k&&(this._isRangeSupported=!0),this._contentLength=I||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(b),this._isRangeSupported&&this._manager.abortRequest(A),this._headersReceivedCapability.resolve()}_onDone(A){if(A&&(this._requests.length>0?this._requests.shift().resolve({value:A.chunk,done:!1}):this._cachedChunks.push(A.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(A){this._storedError=(0,r.createResponseStatusError)(A,this._url),this._headersReceivedCapability.reject(this._storedError);for(const f of this._requests)f.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(A){var f;(f=this.onProgress)==null||f.call(this,{loaded:A.loaded,total:A.lengthComputable?A.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const A=new n.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0,this._headersReceivedCapability.reject(A);for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class w{constructor(A,f,b){this._manager=A;const k={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._requestId=A.requestRange(f,b,k),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var A;(A=this.onClosed)==null||A.call(this,this)}_onDone(A){const f=A.chunk;this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunk=f,this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(A){this._storedError=(0,r.createResponseStatusError)(A,this._url);for(const f of this._requests)f.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(A){var f;this.isStreamingSupported||(f=this.onProgress)==null||f.call(this,{loaded:A.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const f=this._queuedChunk;return this._queuedChunk=null,{value:f,done:!1}}if(this._done)return{value:void 0,done:!0};const A=new n.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var n=i(1),r=i(22);function d(w,R,A){return{method:"GET",headers:w,signal:A.signal,mode:"cors",credentials:R?"include":"same-origin",redirect:"follow"}}function c(w){const R=new Headers;for(const A in w){const f=w[A];f!==void 0&&R.append(A,f)}return R}function _(w){return w instanceof Uint8Array?w.buffer:w instanceof ArrayBuffer?w:((0,n.warn)(`getArrayBuffer - unexpected data format: ${w}`),new Uint8Array(w).buffer)}class v{constructor(R){this.source=R,this.isHttp=/^https?:/i.test(R.url),this.httpHeaders=this.isHttp&&R.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var R,A;return(A=(R=this._fullRequestReader)==null?void 0:R._loaded)!=null?A:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}getRangeReader(R,A){if(A<=this._progressiveDataLength)return null;const f=new l(this,R,A);return this._rangeRequestReaders.push(f),f}cancelAllRequests(R){var A;(A=this._fullRequestReader)==null||A.cancel(R);for(const f of this._rangeRequestReaders.slice(0))f.cancel(R)}}t.PDFFetchStream=v;class a{constructor(R){this._stream=R,this._reader=null,this._loaded=0,this._filename=null;const A=R.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=new n.PromiseCapability,this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=c(this._stream.httpHeaders);const f=A.url;fetch(f,d(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,r.validateResponseStatus)(b.status))throw(0,r.createResponseStatusError)(b.status,f);this._reader=b.body.getReader(),this._headersCapability.resolve();const k=S=>b.headers.get(S),{allowRangeRequests:I,suggestedLength:L}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=I,this._contentLength=L||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(k),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var f;await this._headersCapability.promise;const{value:R,done:A}=await this._reader.read();return A?{value:R,done:A}:(this._loaded+=R.byteLength,(f=this.onProgress)==null||f.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_(R),done:!1})}cancel(R){var A;(A=this._reader)==null||A.cancel(R),this._abortController.abort()}}class l{constructor(R,A,f){this._stream=R,this._reader=null,this._loaded=0;const b=R.source;this._withCredentials=b.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!b.disableStream,this._abortController=new AbortController,this._headers=c(this._stream.httpHeaders),this._headers.append("Range",`bytes=${A}-${f-1}`);const k=b.url;fetch(k,d(this._headers,this._withCredentials,this._abortController)).then(I=>{if(!(0,r.validateResponseStatus)(I.status))throw(0,r.createResponseStatusError)(I.status,k);this._readCapability.resolve(),this._reader=I.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var f;await this._readCapability.promise;const{value:R,done:A}=await this._reader.read();return A?{value:R,done:A}:(this._loaded+=R.byteLength,(f=this.onProgress)==null||f.call(this,{loaded:this._loaded}),{value:_(R),done:!1})}cancel(R){var A;(A=this._reader)==null||A.cancel(R),this._abortController.abort()}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=b,t.updateTextLayer=k;var n=i(1),r=i(6);const d=1e5,c=30,_=.8,v=new Map;function a(I,L){let S;if(L&&n.FeatureTest.isOffscreenCanvasSupported)S=new OffscreenCanvas(I,I).getContext("2d",{alpha:!1});else{const E=document.createElement("canvas");E.width=E.height=I,S=E.getContext("2d",{alpha:!1})}return S}function l(I,L){const S=v.get(I);if(S)return S;const E=a(c,L);E.font=`${c}px ${I}`;const D=E.measureText("");let M=D.fontBoundingBoxAscent,O=Math.abs(D.fontBoundingBoxDescent);if(M){const u=M/(M+O);return v.set(I,u),E.canvas.width=E.canvas.height=0,u}E.strokeStyle="red",E.clearRect(0,0,c,c),E.strokeText("g",0,0);let s=E.getImageData(0,0,c,c).data;O=0;for(let u=s.length-1-3;u>=0;u-=4)if(s[u]>0){O=Math.ceil(u/4/c);break}E.clearRect(0,0,c,c),E.strokeText("A",0,c),s=E.getImageData(0,0,c,c).data,M=0;for(let u=0,C=s.length;u<C;u+=4)if(s[u]>0){M=c-Math.floor(u/4/c);break}if(E.canvas.width=E.canvas.height=0,M){const u=M/(M+O);return v.set(I,u),u}return v.set(I,_),_}function w(I,L,S){const E=document.createElement("span"),D={angle:0,canvasWidth:0,hasText:L.str!=="",hasEOL:L.hasEOL,fontSize:0};I._textDivs.push(E);const M=n.Util.transform(I._transform,L.transform);let O=Math.atan2(M[1],M[0]);const s=S[L.fontName];s.vertical&&(O+=Math.PI/2);const u=Math.hypot(M[2],M[3]),C=u*l(s.fontFamily,I._isOffscreenCanvasSupported);let g,y;O===0?(g=M[4],y=M[5]-C):(g=M[4]+C*Math.sin(O),y=M[5]-C*Math.cos(O));const U="calc(var(--scale-factor)*",Y=E.style;I._container===I._rootContainer?(Y.left=`${(100*g/I._pageWidth).toFixed(2)}%`,Y.top=`${(100*y/I._pageHeight).toFixed(2)}%`):(Y.left=`${U}${g.toFixed(2)}px)`,Y.top=`${U}${y.toFixed(2)}px)`),Y.fontSize=`${U}${u.toFixed(2)}px)`,Y.fontFamily=s.fontFamily,D.fontSize=u,E.setAttribute("role","presentation"),E.textContent=L.str,E.dir=L.dir,I._fontInspectorEnabled&&(E.dataset.fontName=L.fontName),O!==0&&(D.angle=O*(180/Math.PI));let X=!1;if(L.str.length>1)X=!0;else if(L.str!==" "&&L.transform[0]!==L.transform[3]){const K=Math.abs(L.transform[0]),ne=Math.abs(L.transform[3]);K!==ne&&Math.max(K,ne)/Math.min(K,ne)>1.5&&(X=!0)}X&&(D.canvasWidth=s.vertical?L.height:L.width),I._textDivProperties.set(E,D),I._isReadableStream&&I._layoutText(E)}function R(I){const{div:L,scale:S,properties:E,ctx:D,prevFontSize:M,prevFontFamily:O}=I,{style:s}=L;let u="";if(E.canvasWidth!==0&&E.hasText){const{fontFamily:C}=s,{canvasWidth:g,fontSize:y}=E;(M!==y||O!==C)&&(D.font=`${y*S}px ${C}`,I.prevFontSize=y,I.prevFontFamily=C);const{width:U}=D.measureText(L.textContent);U>0&&(u=`scaleX(${g*S/U})`)}E.angle!==0&&(u=`rotate(${E.angle}deg) ${u}`),u.length>0&&(s.transform=u)}function A(I){if(I._canceled)return;const L=I._textDivs,S=I._capability;if(L.length>d){S.resolve();return}if(!I._isReadableStream)for(const D of L)I._layoutText(D);S.resolve()}class f{constructor({textContentSource:L,container:S,viewport:E,textDivs:D,textDivProperties:M,textContentItemsStr:O,isOffscreenCanvasSupported:s}){var U;this._textContentSource=L,this._isReadableStream=L instanceof ReadableStream,this._container=this._rootContainer=S,this._textDivs=D||[],this._textContentItemsStr=O||[],this._isOffscreenCanvasSupported=s,this._fontInspectorEnabled=!!((U=globalThis.FontInspector)!=null&&U.enabled),this._reader=null,this._textDivProperties=M||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:E.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:a(0,s)};const{pageWidth:u,pageHeight:C,pageX:g,pageY:y}=E.rawDims;this._transform=[1,0,0,-1,-g,y+C],this._pageWidth=u,this._pageHeight=C,(0,r.setLayerDimensions)(S,E),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(L,S){for(const E of L){if(E.str===void 0){if(E.type==="beginMarkedContentProps"||E.type==="beginMarkedContent"){const D=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),E.id!==null&&this._container.setAttribute("id",`${E.id}`),D.append(this._container)}else E.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(E.str),w(this,E,S)}}_layoutText(L){const S=this._layoutTextParams.properties=this._textDivProperties.get(L);if(this._layoutTextParams.div=L,R(this._layoutTextParams),S.hasText&&this._container.append(L),S.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this._container.append(E)}}_render(){const L=new n.PromiseCapability;let S=Object.create(null);if(this._isReadableStream){const E=()=>{this._reader.read().then(({value:D,done:M})=>{if(M){L.resolve();return}Object.assign(S,D.styles),this._processItems(D.items,S),E()},L.reject)};this._reader=this._textContentSource.getReader(),E()}else if(this._textContentSource){const{items:E,styles:D}=this._textContentSource;this._processItems(E,D),L.resolve()}else throw new Error('No "textContentSource" parameter specified.');L.promise.then(()=>{S=null,A(this)},this._capability.reject)}}t.TextLayerRenderTask=f;function b(I){!I.textContentSource&&(I.textContent||I.textContentStream)&&((0,r.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),I.textContentSource=I.textContent||I.textContentStream);const{container:L,viewport:S}=I,E=getComputedStyle(L),D=E.getPropertyValue("visibility"),M=parseFloat(E.getPropertyValue("--scale-factor"));D==="visible"&&(!M||Math.abs(M-S.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const O=new f(I);return O._render(),O}function k({container:I,viewport:L,textDivs:S,textDivProperties:E,isOffscreenCanvasSupported:D,mustRotate:M=!0,mustRescale:O=!0}){if(M&&(0,r.setLayerDimensions)(I,{rotation:L.rotation}),O){const s=a(0,D),C={prevFontSize:null,prevFontFamily:null,div:null,scale:L.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:s};for(const g of S)C.properties=E.get(g),C.div=g,R(C)}}},(e,t,i)=>{var a,l,w,R,A,f,b,k,I,Ht,S,On,D,Ut,O,Wt;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var n=i(1),r=i(5),d=i(28),c=i(29),_=i(6);const u=class{constructor(g){oe(this,I);oe(this,S);oe(this,D);oe(this,O);oe(this,a,void 0);oe(this,l,!1);oe(this,w,this.pointerup.bind(this));oe(this,R,this.pointerdown.bind(this));oe(this,A,new Map);oe(this,f,!1);oe(this,b,!1);oe(this,k,void 0);u._initialized||(u._initialized=!0,d.FreeTextEditor.initialize(g.l10n),c.InkEditor.initialize(g.l10n)),g.uiManager.registerEditorTypes([d.FreeTextEditor,c.InkEditor]),Ee(this,k,g.uiManager),this.pageIndex=g.pageIndex,this.div=g.div,Ee(this,a,g.accessibilityManager),P(this,k).addLayer(this)}get isEmpty(){return P(this,A).size===0}updateToolbar(g){P(this,k).updateToolbar(g)}updateMode(g=P(this,k).getMode()){de(this,O,Wt).call(this),g===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),P(this,k).unselectAll(),g!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",g===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",g===n.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(g){if(!g&&P(this,k).getMode()!==n.AnnotationEditorType.INK)return;if(!g){for(const U of P(this,A).values())if(U.isEmpty()){U.setInBackground();return}}de(this,D,Ut).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(g){P(this,k).setEditingState(g)}addCommands(g){P(this,k).addCommands(g)}enable(){this.div.style.pointerEvents="auto";for(const g of P(this,A).values())g.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const g of P(this,A).values())g.disableEditing();de(this,O,Wt).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(g){P(this,k).getActive()!==g&&P(this,k).setActiveEditor(g)}enableClick(){this.div.addEventListener("pointerdown",P(this,R)),this.div.addEventListener("pointerup",P(this,w))}disableClick(){this.div.removeEventListener("pointerdown",P(this,R)),this.div.removeEventListener("pointerup",P(this,w))}attach(g){P(this,A).set(g.id,g)}detach(g){var y;P(this,A).delete(g.id),(y=P(this,a))==null||y.removePointerInTextLayer(g.contentDiv)}remove(g){P(this,k).removeEditor(g),this.detach(g),g.div.style.display="none",setTimeout(()=>{g.div.style.display="",g.div.remove(),g.isAttachedToDOM=!1,document.activeElement===document.body&&P(this,k).focusMainContainer()},0),P(this,b)||this.addInkEditorIfNeeded(!1)}add(g){if(de(this,I,Ht).call(this,g),P(this,k).addEditor(g),this.attach(g),!g.isAttachedToDOM){const y=g.render();this.div.append(y),g.isAttachedToDOM=!0}this.moveEditorInDOM(g),g.onceAdded(),P(this,k).addToAnnotationStorage(g)}moveEditorInDOM(g){var y;(y=P(this,a))==null||y.moveElementInDOM(this.div,g.div,g.contentDiv,!0)}addOrRebuild(g){g.needsToBeRebuilt()?g.rebuild():this.add(g)}addANewEditor(g){const y=()=>{this.addOrRebuild(g)},U=()=>{g.remove()};this.addCommands({cmd:y,undo:U,mustExec:!0})}addUndoableEditor(g){const y=()=>{this.addOrRebuild(g)},U=()=>{g.remove()};this.addCommands({cmd:y,undo:U,mustExec:!1})}getNextId(){return P(this,k).getId()}deserialize(g){switch(g.annotationType){case n.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(g,this,P(this,k));case n.AnnotationEditorType.INK:return c.InkEditor.deserialize(g,this,P(this,k))}return null}setSelected(g){P(this,k).setSelected(g)}toggleSelected(g){P(this,k).toggleSelected(g)}isSelected(g){return P(this,k).isSelected(g)}unselect(g){P(this,k).unselect(g)}pointerup(g){const{isMac:y}=n.FeatureTest.platform;if(!(g.button!==0||g.ctrlKey&&y)&&g.target===this.div&&!!P(this,f)){if(Ee(this,f,!1),!P(this,l)){Ee(this,l,!0);return}de(this,D,Ut).call(this,g)}}pointerdown(g){const{isMac:y}=n.FeatureTest.platform;if(g.button!==0||g.ctrlKey&&y||g.target!==this.div)return;Ee(this,f,!0);const U=P(this,k).getActive();Ee(this,l,!U||U.isEmpty())}drop(g){const y=g.dataTransfer.getData("text/plain"),U=P(this,k).getEditor(y);if(!U)return;g.preventDefault(),g.dataTransfer.dropEffect="move",de(this,I,Ht).call(this,U);const Y=this.div.getBoundingClientRect(),X=g.clientX-Y.x,K=g.clientY-Y.y;U.translate(X-U.startX,K-U.startY),this.moveEditorInDOM(U),U.div.focus()}dragover(g){g.preventDefault()}destroy(){var g,y;((g=P(this,k).getActive())==null?void 0:g.parent)===this&&P(this,k).setActiveEditor(null);for(const U of P(this,A).values())(y=P(this,a))==null||y.removePointerInTextLayer(U.contentDiv),U.setParent(null),U.isAttachedToDOM=!1,U.div.remove();this.div=null,P(this,A).clear(),P(this,k).removeLayer(this)}render({viewport:g}){this.viewport=g,(0,_.setLayerDimensions)(this.div,g),(0,r.bindEvents)(this,this.div,["dragover","drop"]);for(const y of P(this,k).getEditors(this.pageIndex))this.add(y);this.updateMode()}update({viewport:g}){P(this,k).commitOrRemove(),this.viewport=g,(0,_.setLayerDimensions)(this.div,{rotation:g.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:g,pageHeight:y}=this.viewport.rawDims;return[g,y]}};let v=u;a=new WeakMap,l=new WeakMap,w=new WeakMap,R=new WeakMap,A=new WeakMap,f=new WeakMap,b=new WeakMap,k=new WeakMap,I=new WeakSet,Ht=function(g){var y;g.parent!==this&&(this.attach(g),(y=g.parent)==null||y.detach(g),g.setParent(this),g.div&&g.isAttachedToDOM&&(g.div.remove(),this.div.append(g.div)))},S=new WeakSet,On=function(g){switch(P(this,k).getMode()){case n.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(g);case n.AnnotationEditorType.INK:return new c.InkEditor(g)}return null},D=new WeakSet,Ut=function(g){const y=this.getNextId(),U=de(this,S,On).call(this,{parent:this,id:y,x:g.offsetX,y:g.offsetY,uiManager:P(this,k)});return U&&this.add(U),U},O=new WeakSet,Wt=function(){Ee(this,b,!0);for(const g of P(this,A).values())g.isEmpty()&&g.remove();Ee(this,b,!1)},Ke(v,"_initialized",!1),t.AnnotationEditorLayer=v},(e,t,i)=>{var _,v,a,l,w,R,A,f,b,k,In,L,Ln,E,Dn,M,zt;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var n=i(1),r=i(5),d=i(4);const s=class extends d.AnnotationEditor{constructor(g){super({...g,name:"freeTextEditor"});oe(this,k);oe(this,L);oe(this,E);oe(this,M);oe(this,_,this.editorDivBlur.bind(this));oe(this,v,this.editorDivFocus.bind(this));oe(this,a,this.editorDivInput.bind(this));oe(this,l,this.editorDivKeydown.bind(this));oe(this,w,void 0);oe(this,R,"");oe(this,A,`${this.id}-editor`);oe(this,f,!1);oe(this,b,void 0);Ee(this,w,g.color||s._defaultColor||d.AnnotationEditor._defaultLineColor),Ee(this,b,g.fontSize||s._defaultFontSize)}static initialize(g){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(U=>[U,g.get(U)]));const y=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(y.getPropertyValue("--freetext-padding"))}static updateDefaultParams(g,y){switch(g){case n.AnnotationEditorParamsType.FREETEXT_SIZE:s._defaultFontSize=y;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:s._defaultColor=y;break}}updateParams(g,y){switch(g){case n.AnnotationEditorParamsType.FREETEXT_SIZE:de(this,k,In).call(this,y);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:de(this,L,Ln).call(this,y);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,s._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,s._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,P(this,b)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,P(this,w)]]}getInitialTranslation(){const g=this.parentScale;return[-s._internalPadding*g,-(s._internalPadding+P(this,b))*g]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",P(this,l)),this.editorDiv.addEventListener("focus",P(this,v)),this.editorDiv.addEventListener("blur",P(this,_)),this.editorDiv.addEventListener("input",P(this,a)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",P(this,A)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",P(this,l)),this.editorDiv.removeEventListener("focus",P(this,v)),this.editorDiv.removeEventListener("blur",P(this,_)),this.editorDiv.removeEventListener("input",P(this,a)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(g){super.focusin(g),g.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){!this.isInEditMode()||(super.commit(),P(this,f)||(Ee(this,f,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Ee(this,R,de(this,E,Dn).call(this).trimEnd()),de(this,M,zt).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(g){this.enableEditMode(),this.editorDiv.focus()}keydown(g){g.target===this.div&&g.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(g){s._keyboardManager.exec(this,g)}editorDivFocus(g){this.isEditing=!0}editorDivBlur(g){this.isEditing=!1}editorDivInput(g){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let g,y;this.width&&(g=this.x,y=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",P(this,A)),this.enableEditing(),s._l10nPromise.get("editor_free_text2_aria_label").then(Y=>{var X;return(X=this.editorDiv)==null?void 0:X.setAttribute("aria-label",Y)}),s._l10nPromise.get("free_text2_default_content").then(Y=>{var X;return(X=this.editorDiv)==null?void 0:X.setAttribute("default-content",Y)}),this.editorDiv.contentEditable=!0;const{style:U}=this.editorDiv;if(U.fontSize=`calc(${P(this,b)}px * var(--scale-factor))`,U.color=P(this,w),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,r.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Y,X]=this.parentDimensions;this.setAt(g*Y,y*X,this.width*Y,this.height*X);for(const K of P(this,R).split(`
`)){const ne=document.createElement("div");ne.append(K?document.createTextNode(K):document.createElement("br")),this.editorDiv.append(ne)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(g,y,U){const Y=super.deserialize(g,y,U);return Ee(Y,b,g.fontSize),Ee(Y,w,n.Util.makeHexColor(...g.color)),Ee(Y,R,g.value),Y}serialize(){if(this.isEmpty())return null;const g=s._internalPadding*this.parentScale,y=this.getRect(g,g),U=d.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:P(this,w));return{annotationType:n.AnnotationEditorType.FREETEXT,color:U,fontSize:P(this,b),value:P(this,R),pageIndex:this.pageIndex,rect:y,rotation:this.rotation}}};let c=s;_=new WeakMap,v=new WeakMap,a=new WeakMap,l=new WeakMap,w=new WeakMap,R=new WeakMap,A=new WeakMap,f=new WeakMap,b=new WeakMap,k=new WeakSet,In=function(g){const y=Y=>{this.editorDiv.style.fontSize=`calc(${Y}px * var(--scale-factor))`,this.translate(0,-(Y-P(this,b))*this.parentScale),Ee(this,b,Y),de(this,M,zt).call(this)},U=P(this,b);this.addCommands({cmd:()=>{y(g)},undo:()=>{y(U)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},L=new WeakSet,Ln=function(g){const y=P(this,w);this.addCommands({cmd:()=>{Ee(this,w,this.editorDiv.style.color=g)},undo:()=>{Ee(this,w,this.editorDiv.style.color=y)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},E=new WeakSet,Dn=function(){const g=this.editorDiv.getElementsByTagName("div");if(g.length===0)return this.editorDiv.innerText;const y=[];for(const U of g)y.push(U.innerText.replace(/\r\n?|\n/,""));return y.join(`
`)},M=new WeakSet,zt=function(){const[g,y]=this.parentDimensions;let U;if(this.isAttachedToDOM)U=this.div.getBoundingClientRect();else{const{currentLayer:Y,div:X}=this,K=X.style.display;X.style.display="hidden",Y.div.append(this.div),U=X.getBoundingClientRect(),X.remove(),X.style.display=K}this.width=U.width/g,this.height=U.height/y},Ke(c,"_freeTextDefaultContent",""),Ke(c,"_l10nPromise"),Ke(c,"_internalPadding",0),Ke(c,"_defaultColor",null),Ke(c,"_defaultFontSize",10),Ke(c,"_keyboardManager",new r.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.prototype.commitOrRemove]])),Ke(c,"_type","freetext"),t.FreeTextEditor=c},(e,t,i)=>{var v,a,l,w,R,A,f,b,k,I,L,S,E,D,M,O,s,Nn,C,Bn,y,Vn,Y,$n,K,qt,ee,jn,ve,Gt,we,Hn,le,Un,H,Wn,ae,zn,pe,qn,F,at,o,Xt,T,wt,$,Pt,ce,ft,q,Kt,fe,Ct,me,Gn,xe,Xn,Ie,Kn,Re,Yn,je,Yt,W,xt,be,pt,_e,Jt;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var n=i(1),r=i(4),d=i(5);const c=16,Ae=class extends r.AnnotationEditor{constructor(he){super({...he,name:"inkEditor"});oe(this,s);oe(this,C);oe(this,y);oe(this,Y);oe(this,K);oe(this,ee);oe(this,ve);oe(this,we);oe(this,le);oe(this,H);oe(this,ae);oe(this,pe);oe(this,F);oe(this,o);oe(this,T);oe(this,$);oe(this,ce);oe(this,q);oe(this,fe);oe(this,xe);oe(this,Ie);oe(this,Re);oe(this,je);oe(this,W);oe(this,be);oe(this,_e);oe(this,v,0);oe(this,a,0);oe(this,l,0);oe(this,w,this.canvasContextMenu.bind(this));oe(this,R,this.canvasPointermove.bind(this));oe(this,A,this.canvasPointerleave.bind(this));oe(this,f,this.canvasPointerup.bind(this));oe(this,b,this.canvasPointerdown.bind(this));oe(this,k,new Path2D);oe(this,I,!1);oe(this,L,!1);oe(this,S,!1);oe(this,E,null);oe(this,D,0);oe(this,M,0);oe(this,O,null);this.color=he.color||null,this.thickness=he.thickness||null,this.opacity=he.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(he){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(Pe=>[Pe,he.get(Pe)]))}static updateDefaultParams(he,Pe){switch(he){case n.AnnotationEditorParamsType.INK_THICKNESS:Ae._defaultThickness=Pe;break;case n.AnnotationEditorParamsType.INK_COLOR:Ae._defaultColor=Pe;break;case n.AnnotationEditorParamsType.INK_OPACITY:Ae._defaultOpacity=Pe/100;break}}updateParams(he,Pe){switch(he){case n.AnnotationEditorParamsType.INK_THICKNESS:de(this,s,Nn).call(this,Pe);break;case n.AnnotationEditorParamsType.INK_COLOR:de(this,C,Bn).call(this,Pe);break;case n.AnnotationEditorParamsType.INK_OPACITY:de(this,y,Vn).call(this,Pe);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,Ae._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,Ae._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ae._defaultOpacity*100)]]}get propertiesToUpdate(){var he;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ae._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||Ae._defaultColor||r.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((he=this.opacity)!=null?he:Ae._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(de(this,T,wt).call(this),de(this,$,Pt).call(this)),this.isAttachedToDOM||(this.parent.add(this),de(this,ce,ft).call(this)),de(this,be,pt).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,P(this,E).disconnect(),Ee(this,E,null),super.remove())}setParent(he){!this.parent&&he?this._uiManager.removeShouldRescale(this):this.parent&&he===null&&this._uiManager.addShouldRescale(this),super.setParent(he)}onScaleChanging(){const[he,Pe]=this.parentDimensions,Oe=this.width*he,ke=this.height*Pe;this.setDimensions(Oe,ke)}enableEditMode(){P(this,I)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",P(this,b)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",P(this,b)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){P(this,I)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ee(this,I,!0),this.div.classList.add("disabled"),de(this,be,pt).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(he){super.focusin(he),this.enableEditMode()}canvasPointerdown(he){he.button!==0||!this.isInEditMode()||P(this,I)||(this.setInForeground(),he.preventDefault(),he.type!=="mouse"&&this.div.focus(),de(this,ee,jn).call(this,he.offsetX,he.offsetY))}canvasContextMenu(he){he.preventDefault()}canvasPointermove(he){he.preventDefault(),de(this,ve,Gt).call(this,he.offsetX,he.offsetY)}canvasPointerup(he){he.preventDefault(),de(this,o,Xt).call(this,he)}canvasPointerleave(he){de(this,o,Xt).call(this,he)}render(){if(this.div)return this.div;let he,Pe;this.width&&(he=this.x,Pe=this.y),super.render(),Ae._l10nPromise.get("editor_ink2_aria_label").then($e=>{var De;return(De=this.div)==null?void 0:De.setAttribute("aria-label",$e)});const[Oe,ke,Fe,Ve]=de(this,Y,$n).call(this);if(this.setAt(Oe,ke,0,0),this.setDims(Fe,Ve),de(this,T,wt).call(this),this.width){const[$e,De]=this.parentDimensions;this.setAt(he*$e,Pe*De,this.width*$e,this.height*De),Ee(this,S,!0),de(this,ce,ft).call(this),this.setDims(this.width*$e,this.height*De),de(this,F,at).call(this),de(this,_e,Jt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return de(this,$,Pt).call(this),this.div}setDimensions(he,Pe){const Oe=Math.round(he),ke=Math.round(Pe);if(P(this,D)===Oe&&P(this,M)===ke)return;Ee(this,D,Oe),Ee(this,M,ke),this.canvas.style.visibility="hidden",P(this,v)&&Math.abs(P(this,v)-he/Pe)>.01&&(Pe=Math.ceil(he/P(this,v)),this.setDims(he,Pe));const[Fe,Ve]=this.parentDimensions;this.width=he/Fe,this.height=Pe/Ve,P(this,I)&&de(this,q,Kt).call(this,he,Pe),de(this,ce,ft).call(this),de(this,F,at).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(he,Pe,Oe){var ze,qe;const ke=super.deserialize(he,Pe,Oe);ke.thickness=he.thickness,ke.color=n.Util.makeHexColor(...he.color),ke.opacity=he.opacity;const[Fe,Ve]=ke.pageDimensions,$e=ke.width*Fe,De=ke.height*Ve,Ue=ke.parentScale,He=he.thickness/2;Ee(ke,v,$e/De),Ee(ke,I,!0),Ee(ke,D,Math.round($e)),Ee(ke,M,Math.round(De));for(const{bezier:Xe}of he.paths){const tt=[];ke.paths.push(tt);let et=Ue*(Xe[0]-He),Ge=Ue*(De-Xe[1]-He);for(let Qe=2,ct=Xe.length;Qe<ct;Qe+=6){const Ye=Ue*(Xe[Qe]-He),Je=Ue*(De-Xe[Qe+1]-He),Ze=Ue*(Xe[Qe+2]-He),rt=Ue*(De-Xe[Qe+3]-He),Sn=Ue*(Xe[Qe+4]-He),En=Ue*(De-Xe[Qe+5]-He);tt.push([[et,Ge],[Ye,Je],[Ze,rt],[Sn,En]]),et=Sn,Ge=En}const nt=de(this,me,Gn).call(this,tt);ke.bezierPath2D.push(nt)}const We=de(ze=ke,je,Yt).call(ze);return Ee(ke,l,Math.max(c,We[2]-We[0])),Ee(ke,a,Math.max(c,We[3]-We[1])),de(qe=ke,q,Kt).call(qe,$e,De),ke}serialize(){if(this.isEmpty())return null;const he=this.getRect(0,0),Pe=this.rotation%180===0?he[3]-he[1]:he[2]-he[0],Oe=r.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:Oe,thickness:this.thickness,opacity:this.opacity,paths:de(this,xe,Xn).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Pe),pageIndex:this.pageIndex,rect:he,rotation:this.rotation}}};let _=Ae;v=new WeakMap,a=new WeakMap,l=new WeakMap,w=new WeakMap,R=new WeakMap,A=new WeakMap,f=new WeakMap,b=new WeakMap,k=new WeakMap,I=new WeakMap,L=new WeakMap,S=new WeakMap,E=new WeakMap,D=new WeakMap,M=new WeakMap,O=new WeakMap,s=new WeakSet,Nn=function(he){const Pe=this.thickness;this.addCommands({cmd:()=>{this.thickness=he,de(this,be,pt).call(this)},undo:()=>{this.thickness=Pe,de(this,be,pt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},C=new WeakSet,Bn=function(he){const Pe=this.color;this.addCommands({cmd:()=>{this.color=he,de(this,F,at).call(this)},undo:()=>{this.color=Pe,de(this,F,at).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},y=new WeakSet,Vn=function(he){he/=100;const Pe=this.opacity;this.addCommands({cmd:()=>{this.opacity=he,de(this,F,at).call(this)},undo:()=>{this.opacity=Pe,de(this,F,at).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Y=new WeakSet,$n=function(){const{parentRotation:he,parentDimensions:[Pe,Oe]}=this;switch(he){case 90:return[0,Oe,Oe,Pe];case 180:return[Pe,Oe,Pe,Oe];case 270:return[Pe,0,Oe,Pe];default:return[0,0,Pe,Oe]}},K=new WeakSet,qt=function(){const{ctx:he,color:Pe,opacity:Oe,thickness:ke,parentScale:Fe,scaleFactor:Ve}=this;he.lineWidth=ke*Fe/Ve,he.lineCap="round",he.lineJoin="round",he.miterLimit=10,he.strokeStyle=`${Pe}${(0,d.opacityToHex)(Oe)}`},ee=new WeakSet,jn=function(he,Pe){var Oe;this.canvas.addEventListener("contextmenu",P(this,w)),this.canvas.addEventListener("pointerleave",P(this,A)),this.canvas.addEventListener("pointermove",P(this,R)),this.canvas.addEventListener("pointerup",P(this,f)),this.canvas.removeEventListener("pointerdown",P(this,b)),this.isEditing=!0,P(this,S)||(Ee(this,S,!0),de(this,ce,ft).call(this),this.thickness||(this.thickness=Ae._defaultThickness),this.color||(this.color=Ae._defaultColor||r.AnnotationEditor._defaultLineColor),(Oe=this.opacity)!=null||(this.opacity=Ae._defaultOpacity)),this.currentPath.push([he,Pe]),Ee(this,L,!1),de(this,K,qt).call(this),Ee(this,O,()=>{de(this,H,Wn).call(this),P(this,O)&&window.requestAnimationFrame(P(this,O))}),window.requestAnimationFrame(P(this,O))},ve=new WeakSet,Gt=function(he,Pe){const[Oe,ke]=this.currentPath.at(-1);if(this.currentPath.length>1&&he===Oe&&Pe===ke)return;const Fe=this.currentPath;let Ve=P(this,k);if(Fe.push([he,Pe]),Ee(this,L,!0),Fe.length<=2){Ve.moveTo(...Fe[0]),Ve.lineTo(he,Pe);return}Fe.length===3&&(Ee(this,k,Ve=new Path2D),Ve.moveTo(...Fe[0])),de(this,ae,zn).call(this,Ve,...Fe.at(-3),...Fe.at(-2),he,Pe)},we=new WeakSet,Hn=function(){if(this.currentPath.length===0)return;const he=this.currentPath.at(-1);P(this,k).lineTo(...he)},le=new WeakSet,Un=function(he,Pe){Ee(this,O,null),he=Math.min(Math.max(he,0),this.canvas.width),Pe=Math.min(Math.max(Pe,0),this.canvas.height),de(this,ve,Gt).call(this,he,Pe),de(this,we,Hn).call(this);let Oe;if(this.currentPath.length!==1)Oe=de(this,pe,qn).call(this);else{const De=[he,Pe];Oe=[[De,De.slice(),De.slice(),De]]}const ke=P(this,k),Fe=this.currentPath;this.currentPath=[],Ee(this,k,new Path2D);const Ve=()=>{this.allRawPaths.push(Fe),this.paths.push(Oe),this.bezierPath2D.push(ke),this.rebuild()},$e=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(de(this,T,wt).call(this),de(this,$,Pt).call(this)),de(this,be,pt).call(this))};this.addCommands({cmd:Ve,undo:$e,mustExec:!0})},H=new WeakSet,Wn=function(){if(!P(this,L))return;Ee(this,L,!1);const he=Math.ceil(this.thickness*this.parentScale),Pe=this.currentPath.slice(-3),Oe=Pe.map(Ve=>Ve[0]),ke=Pe.map(Ve=>Ve[1]);Math.min(...Oe)-he,Math.max(...Oe)+he,Math.min(...ke)-he,Math.max(...ke)+he;const{ctx:Fe}=this;Fe.save(),Fe.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ve of this.bezierPath2D)Fe.stroke(Ve);Fe.stroke(P(this,k)),Fe.restore()},ae=new WeakSet,zn=function(he,Pe,Oe,ke,Fe,Ve,$e){const De=(Pe+ke)/2,Ue=(Oe+Fe)/2,He=(ke+Ve)/2,We=(Fe+$e)/2;he.bezierCurveTo(De+2*(ke-De)/3,Ue+2*(Fe-Ue)/3,He+2*(ke-He)/3,We+2*(Fe-We)/3,He,We)},pe=new WeakSet,qn=function(){const he=this.currentPath;if(he.length<=2)return[[he[0],he[0],he.at(-1),he.at(-1)]];const Pe=[];let Oe,[ke,Fe]=he[0];for(Oe=1;Oe<he.length-2;Oe++){const[ze,qe]=he[Oe],[Xe,tt]=he[Oe+1],et=(ze+Xe)/2,Ge=(qe+tt)/2,nt=[ke+2*(ze-ke)/3,Fe+2*(qe-Fe)/3],Qe=[et+2*(ze-et)/3,Ge+2*(qe-Ge)/3];Pe.push([[ke,Fe],nt,Qe,[et,Ge]]),[ke,Fe]=[et,Ge]}const[Ve,$e]=he[Oe],[De,Ue]=he[Oe+1],He=[ke+2*(Ve-ke)/3,Fe+2*($e-Fe)/3],We=[De+2*(Ve-De)/3,Ue+2*($e-Ue)/3];return Pe.push([[ke,Fe],He,We,[De,Ue]]),Pe},F=new WeakSet,at=function(){if(this.isEmpty()){de(this,fe,Ct).call(this);return}de(this,K,qt).call(this);const{canvas:he,ctx:Pe}=this;Pe.setTransform(1,0,0,1,0,0),Pe.clearRect(0,0,he.width,he.height),de(this,fe,Ct).call(this);for(const Oe of this.bezierPath2D)Pe.stroke(Oe)},o=new WeakSet,Xt=function(he){this.canvas.removeEventListener("pointerleave",P(this,A)),this.canvas.removeEventListener("pointermove",P(this,R)),this.canvas.removeEventListener("pointerup",P(this,f)),this.canvas.addEventListener("pointerdown",P(this,b)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",P(this,w))},10),de(this,le,Un).call(this,he.offsetX,he.offsetY),this.addToAnnotationStorage(),this.setInBackground()},T=new WeakSet,wt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ae._l10nPromise.get("editor_ink_canvas_aria_label").then(he=>{var Pe;return(Pe=this.canvas)==null?void 0:Pe.setAttribute("aria-label",he)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},$=new WeakSet,Pt=function(){Ee(this,E,new ResizeObserver(he=>{const Pe=he[0].contentRect;Pe.width&&Pe.height&&this.setDimensions(Pe.width,Pe.height)})),P(this,E).observe(this.div)},ce=new WeakSet,ft=function(){if(!P(this,S))return;const[he,Pe]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*he),this.canvas.height=Math.ceil(this.height*Pe),de(this,fe,Ct).call(this)},q=new WeakSet,Kt=function(he,Pe){const Oe=de(this,W,xt).call(this),ke=(he-Oe)/P(this,l),Fe=(Pe-Oe)/P(this,a);this.scaleFactor=Math.min(ke,Fe)},fe=new WeakSet,Ct=function(){const he=de(this,W,xt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+he,this.translationY*this.scaleFactor+he)},me=new WeakSet,Gn=function(he){const Pe=new Path2D;for(let Oe=0,ke=he.length;Oe<ke;Oe++){const[Fe,Ve,$e,De]=he[Oe];Oe===0&&Pe.moveTo(...Fe),Pe.bezierCurveTo(Ve[0],Ve[1],$e[0],$e[1],De[0],De[1])}return Pe},xe=new WeakSet,Xn=function(he,Pe,Oe,ke){const Ve=[],$e=this.thickness/2;let De,Ue;for(const He of this.paths){De=[],Ue=[];for(let We=0,ze=He.length;We<ze;We++){const[qe,Xe,tt,et]=He[We],Ge=he*(qe[0]+Pe)+$e,nt=ke-he*(qe[1]+Oe)-$e,Qe=he*(Xe[0]+Pe)+$e,ct=ke-he*(Xe[1]+Oe)-$e,Ye=he*(tt[0]+Pe)+$e,Je=ke-he*(tt[1]+Oe)-$e,Ze=he*(et[0]+Pe)+$e,rt=ke-he*(et[1]+Oe)-$e;We===0&&(De.push(Ge,nt),Ue.push(Ge,nt)),De.push(Qe,ct,Ye,Je,Ze,rt),de(this,Ie,Kn).call(this,Ge,nt,Qe,ct,Ye,Je,Ze,rt,4,Ue)}Ve.push({bezier:De,points:Ue})}return Ve},Ie=new WeakSet,Kn=function(he,Pe,Oe,ke,Fe,Ve,$e,De,Ue,He){if(de(this,Re,Yn).call(this,he,Pe,Oe,ke,Fe,Ve,$e,De)){He.push($e,De);return}for(let We=1;We<Ue-1;We++){const ze=We/Ue,qe=1-ze;let Xe=ze*he+qe*Oe,tt=ze*Pe+qe*ke,et=ze*Oe+qe*Fe,Ge=ze*ke+qe*Ve;const nt=ze*Fe+qe*$e,Qe=ze*Ve+qe*De;Xe=ze*Xe+qe*et,tt=ze*tt+qe*Ge,et=ze*et+qe*nt,Ge=ze*Ge+qe*Qe,Xe=ze*Xe+qe*et,tt=ze*tt+qe*Ge,He.push(Xe,tt)}He.push($e,De)},Re=new WeakSet,Yn=function(he,Pe,Oe,ke,Fe,Ve,$e,De){const He=(3*Oe-2*he-$e)**2,We=(3*ke-2*Pe-De)**2,ze=(3*Fe-he-2*$e)**2,qe=(3*Ve-Pe-2*De)**2;return Math.max(He,ze)+Math.max(We,qe)<=10},je=new WeakSet,Yt=function(){let he=1/0,Pe=-1/0,Oe=1/0,ke=-1/0;for(const Fe of this.paths)for(const[Ve,$e,De,Ue]of Fe){const He=n.Util.bezierBoundingBox(...Ve,...$e,...De,...Ue);he=Math.min(he,He[0]),Oe=Math.min(Oe,He[1]),Pe=Math.max(Pe,He[2]),ke=Math.max(ke,He[3])}return[he,Oe,Pe,ke]},W=new WeakSet,xt=function(){return P(this,I)?Math.ceil(this.thickness*this.parentScale):0},be=new WeakSet,pt=function(he=!1){if(this.isEmpty())return;if(!P(this,I)){de(this,F,at).call(this);return}const Pe=de(this,je,Yt).call(this),Oe=de(this,W,xt).call(this);Ee(this,l,Math.max(c,Pe[2]-Pe[0])),Ee(this,a,Math.max(c,Pe[3]-Pe[1]));const ke=Math.ceil(Oe+P(this,l)*this.scaleFactor),Fe=Math.ceil(Oe+P(this,a)*this.scaleFactor),[Ve,$e]=this.parentDimensions;this.width=ke/Ve,this.height=Fe/$e,Ee(this,v,ke/Fe),de(this,_e,Jt).call(this);const De=this.translationX,Ue=this.translationY;this.translationX=-Pe[0],this.translationY=-Pe[1],de(this,ce,ft).call(this),de(this,F,at).call(this),Ee(this,D,ke),Ee(this,M,Fe),this.setDims(ke,Fe);const He=he?Oe/this.scaleFactor/2:0;this.translate(De-this.translationX-He,Ue-this.translationY-He)},_e=new WeakSet,Jt=function(){const{style:he}=this.div;P(this,v)>=1?(he.minHeight=`${c}px`,he.minWidth=`${Math.round(P(this,v)*c)}px`):(he.minWidth=`${c}px`,he.minHeight=`${Math.round(c/P(this,v))}px`)},oe(_,me),Ke(_,"_defaultColor",null),Ke(_,"_defaultOpacity",1),Ke(_,"_defaultThickness",1),Ke(_,"_l10nPromise"),Ke(_,"_type","ink"),t.InkEditor=_},(e,t,i)=>{var Ce,ut,V,Jn,ae,Zt,pe,Qt;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var n=i(1),r=i(6),d=i(3),c=i(31),_=i(32);const v=1e3,a=9,l=new WeakSet;function w(N){return{width:N[2]-N[0],height:N[3]-N[1]}}class R{static create(o){switch(o.data.annotationType){case n.AnnotationType.LINK:return new f(o);case n.AnnotationType.TEXT:return new b(o);case n.AnnotationType.WIDGET:switch(o.data.fieldType){case"Tx":return new I(o);case"Btn":return o.data.radioButton?new S(o):o.data.checkBox?new L(o):new E(o);case"Ch":return new D(o)}return new k(o);case n.AnnotationType.POPUP:return new M(o);case n.AnnotationType.FREETEXT:return new s(o);case n.AnnotationType.LINE:return new u(o);case n.AnnotationType.SQUARE:return new C(o);case n.AnnotationType.CIRCLE:return new g(o);case n.AnnotationType.POLYLINE:return new y(o);case n.AnnotationType.CARET:return new Y(o);case n.AnnotationType.INK:return new X(o);case n.AnnotationType.POLYGON:return new U(o);case n.AnnotationType.HIGHLIGHT:return new K(o);case n.AnnotationType.UNDERLINE:return new ne(o);case n.AnnotationType.SQUIGGLY:return new ee(o);case n.AnnotationType.STRIKEOUT:return new re(o);case n.AnnotationType.STAMP:return new ve(o);case n.AnnotationType.FILEATTACHMENT:return new Z(o);default:return new A(o)}}}class A{constructor(o,{isRenderable:m=!1,ignoreBorder:T=!1,createQuadrilaterals:B=!1}={}){this.isRenderable=m,this.data=o.data,this.layer=o.layer,this.page=o.page,this.viewport=o.viewport,this.linkService=o.linkService,this.downloadManager=o.downloadManager,this.imageResourcesPath=o.imageResourcesPath,this.renderForms=o.renderForms,this.svgFactory=o.svgFactory,this.annotationStorage=o.annotationStorage,this.enableScripting=o.enableScripting,this.hasJSActions=o.hasJSActions,this._fieldObjects=o.fieldObjects,m&&(this.container=this._createContainer(T)),B&&(this.quadrilaterals=this._createQuadrilaterals(T))}_createContainer(o=!1){const{data:m,page:T,viewport:B}=this,$=document.createElement("section");$.setAttribute("data-annotation-id",m.id),m.noRotate&&$.classList.add("norotate");const{pageWidth:G,pageHeight:ce,pageX:Q,pageY:q}=B.rawDims,{width:J,height:fe}=w(m.rect),ue=n.Util.normalizeRect([m.rect[0],T.view[3]-m.rect[1]+T.view[1],m.rect[2],T.view[3]-m.rect[3]+T.view[1]]);if(!o&&m.borderStyle.width>0){$.style.borderWidth=`${m.borderStyle.width}px`;const ye=m.borderStyle.horizontalCornerRadius,xe=m.borderStyle.verticalCornerRadius;if(ye>0||xe>0){const Ie=`calc(${ye}px * var(--scale-factor)) / calc(${xe}px * var(--scale-factor))`;$.style.borderRadius=Ie}else if(this instanceof S){const Ie=`calc(${J}px * var(--scale-factor)) / calc(${fe}px * var(--scale-factor))`;$.style.borderRadius=Ie}switch(m.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:$.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:$.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:$.style.borderBottomStyle="solid";break}const Me=m.borderColor||null;Me?$.style.borderColor=n.Util.makeHexColor(Me[0]|0,Me[1]|0,Me[2]|0):$.style.borderWidth=0}$.style.left=`${100*(ue[0]-Q)/G}%`,$.style.top=`${100*(ue[1]-q)/ce}%`;const{rotation:me}=m;return m.hasOwnCanvas||me===0?($.style.width=`${100*J/G}%`,$.style.height=`${100*fe/ce}%`):this.setRotation(me,$),$}setRotation(o,m=this.container){const{pageWidth:T,pageHeight:B}=this.viewport.rawDims,{width:$,height:G}=w(this.data.rect);let ce,Q;o%180===0?(ce=100*$/T,Q=100*G/B):(ce=100*G/T,Q=100*$/B),m.style.width=`${ce}%`,m.style.height=`${Q}%`,m.setAttribute("data-main-rotation",(360-o)%360)}get _commonActions(){const o=(m,T,B)=>{const $=B.detail[m];B.target.style[T]=c.ColorConverters[`${$[0]}_HTML`]($.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:m=>{const T=m.detail.display%2===1;this.container.style.visibility=T?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:T,print:m.detail.display===0||m.detail.display===3})},print:m=>{this.annotationStorage.setValue(this.data.id,{print:m.detail.print})},hidden:m=>{this.container.style.visibility=m.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:m.detail.hidden})},focus:m=>{setTimeout(()=>m.target.focus({preventScroll:!1}),0)},userName:m=>{m.target.title=m.detail.userName},readonly:m=>{m.detail.readonly?m.target.setAttribute("readonly",""):m.target.removeAttribute("readonly")},required:m=>{this._setRequired(m.target,m.detail.required)},bgColor:m=>{o("bgColor","backgroundColor",m)},fillColor:m=>{o("fillColor","backgroundColor",m)},fgColor:m=>{o("fgColor","color",m)},textColor:m=>{o("textColor","color",m)},borderColor:m=>{o("borderColor","borderColor",m)},strokeColor:m=>{o("strokeColor","borderColor",m)},rotation:m=>{const T=m.detail.rotation;this.setRotation(T),this.annotationStorage.setValue(this.data.id,{rotation:T})}})}_dispatchEventFromSandbox(o,m){const T=this._commonActions;for(const B of Object.keys(m.detail)){const $=o[B]||T[B];$==null||$(m)}}_setDefaultPropertiesFromJS(o){if(!this.enableScripting)return;const m=this.annotationStorage.getRawValue(this.data.id);if(!m)return;const T=this._commonActions;for(const[B,$]of Object.entries(m)){const G=T[B];if(G){const ce={detail:{[B]:$},target:o};G(ce),delete m[B]}}}_createQuadrilaterals(o=!1){if(!this.data.quadPoints)return null;const m=[],T=this.data.rect;for(const B of this.data.quadPoints)this.data.rect=[B[2].x,B[2].y,B[1].x,B[1].y],m.push(this._createContainer(o));return this.data.rect=T,m}_createPopup(o,m){let T=this.container;this.quadrilaterals&&(o||(o=this.quadrilaterals),T=this.quadrilaterals[0]),o||(o=document.createElement("div"),o.classList.add("popupTriggerArea"),T.append(o));const $=new O({container:T,trigger:o,color:m.color,titleObj:m.titleObj,modificationDate:m.modificationDate,contentsObj:m.contentsObj,richText:m.richText,hideWrapper:!0}).render();$.style.left="100%",T.append($)}_renderQuadrilaterals(o){for(const m of this.quadrilaterals)m.classList.add(o);return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(o,m=null){const T=[];if(this._fieldObjects){const B=this._fieldObjects[o];if(B)for(const{page:$,id:G,exportValues:ce}of B){if($===-1||G===m)continue;const Q=typeof ce=="string"?ce:null,q=document.querySelector(`[data-element-id="${G}"]`);if(q&&!l.has(q)){(0,n.warn)(`_getElementsByName - element not allowed: ${G}`);continue}T.push({id:G,exportValue:Q,domElement:q})}return T}for(const B of document.getElementsByName(o)){const{exportValue:$}=B,G=B.getAttribute("data-element-id");G!==m&&(!l.has(B)||T.push({id:G,exportValue:$,domElement:B}))}return T}}class f extends A{constructor(m,T=null){super(m,{isRenderable:!0,ignoreBorder:!!(T!=null&&T.ignoreBorder),createQuadrilaterals:!0});oe(this,Ce);oe(this,V);this.isTooltipOnly=m.data.isTooltipOnly}render(){const{data:m,linkService:T}=this,B=document.createElement("a");B.setAttribute("data-element-id",m.id);let $=!1;return m.url?(T.addLinkAttributes(B,m.url,m.newWindow),$=!0):m.action?(this._bindNamedAction(B,m.action),$=!0):m.attachment?(this._bindAttachment(B,m.attachment),$=!0):m.setOCGState?(de(this,V,Jn).call(this,B,m.setOCGState),$=!0):m.dest?(this._bindLink(B,m.dest),$=!0):(m.actions&&(m.actions.Action||m.actions["Mouse Up"]||m.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(B,m),$=!0),m.resetForm?(this._bindResetFormAction(B,m.resetForm),$=!0):this.isTooltipOnly&&!$&&(this._bindLink(B,""),$=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((G,ce)=>{const Q=ce===0?B:B.cloneNode();return G.append(Q),G}):(this.container.classList.add("linkAnnotation"),$&&this.container.append(B),this.container)}_bindLink(m,T){m.href=this.linkService.getDestinationHash(T),m.onclick=()=>(T&&this.linkService.goToDestination(T),!1),(T||T==="")&&de(this,Ce,ut).call(this)}_bindNamedAction(m,T){m.href=this.linkService.getAnchorUrl(""),m.onclick=()=>(this.linkService.executeNamedAction(T),!1),de(this,Ce,ut).call(this)}_bindAttachment(m,T){m.href=this.linkService.getAnchorUrl(""),m.onclick=()=>{var B;return(B=this.downloadManager)==null||B.openOrDownloadData(this.container,T.content,T.filename),!1},de(this,Ce,ut).call(this)}_bindJSAction(m,T){m.href=this.linkService.getAnchorUrl("");const B=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $ of Object.keys(T.actions)){const G=B.get($);!G||(m[G]=()=>{var ce;return(ce=this.linkService.eventBus)==null||ce.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T.id,name:$}}),!1})}m.onclick||(m.onclick=()=>!1),de(this,Ce,ut).call(this)}_bindResetFormAction(m,T){const B=m.onclick;if(B||(m.href=this.linkService.getAnchorUrl("")),de(this,Ce,ut).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),B||(m.onclick=()=>!1);return}m.onclick=()=>{var fe;B==null||B();const{fields:$,refs:G,include:ce}=T,Q=[];if($.length!==0||G.length!==0){const ue=new Set(G);for(const me of $){const ye=this._fieldObjects[me]||[];for(const{id:xe}of ye)ue.add(xe)}for(const me of Object.values(this._fieldObjects))for(const ye of me)ue.has(ye.id)===ce&&Q.push(ye)}else for(const ue of Object.values(this._fieldObjects))Q.push(...ue);const q=this.annotationStorage,J=[];for(const ue of Q){const{id:me}=ue;switch(J.push(me),ue.type){case"text":{const xe=ue.defaultValue||"";q.setValue(me,{value:xe});break}case"checkbox":case"radiobutton":{const xe=ue.defaultValue===ue.exportValues;q.setValue(me,{value:xe});break}case"combobox":case"listbox":{const xe=ue.defaultValue||"";q.setValue(me,{value:xe});break}default:continue}const ye=document.querySelector(`[data-element-id="${me}"]`);if(ye){if(!l.has(ye)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${me}`);continue}}else continue;ye.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((fe=this.linkService.eventBus)==null||fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:J,name:"ResetForm"}})),!1}}}Ce=new WeakSet,ut=function(){this.container.setAttribute("data-internal-link","")},V=new WeakSet,Jn=function(m,T){m.href=this.linkService.getAnchorUrl(""),m.onclick=()=>(this.linkService.executeSetOCGState(T),!1),de(this,Ce,ut).call(this)};class b extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m})}render(){this.container.classList.add("textAnnotation");const o=document.createElement("img");return o.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",o.alt="[{{type}} Annotation]",o.dataset.l10nId="text_annotation_type",o.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(o,this.data),this.container.append(o),this.container}}class k extends A{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(o){var m;this.data.hasOwnCanvas&&(((m=o.previousSibling)==null?void 0:m.nodeName)==="CANVAS"&&(o.previousSibling.hidden=!0),o.hidden=!1)}_getKeyModifier(o){const{isWin:m,isMac:T}=n.FeatureTest.platform;return m&&o.ctrlKey||T&&o.metaKey}_setEventListener(o,m,T,B){m.includes("mouse")?o.addEventListener(m,$=>{var G;(G=this.linkService.eventBus)==null||G.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:T,value:B($),shift:$.shiftKey,modifier:this._getKeyModifier($)}})}):o.addEventListener(m,$=>{var G;(G=this.linkService.eventBus)==null||G.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:T,value:B($)}})})}_setEventListeners(o,m,T){var B;for(const[$,G]of m)(G==="Action"||((B=this.data.actions)==null?void 0:B[G]))&&this._setEventListener(o,$,G,T)}_setBackgroundColor(o){const m=this.data.backgroundColor||null;o.style.backgroundColor=m===null?"transparent":n.Util.makeHexColor(m[0],m[1],m[2])}_setTextStyle(o){const m=["left","center","right"],{fontColor:T}=this.data.defaultAppearanceData,B=this.data.defaultAppearanceData.fontSize||a,$=o.style;let G;const ce=2,Q=q=>Math.round(10*q)/10;if(this.data.multiLine){const q=Math.abs(this.data.rect[3]-this.data.rect[1]-ce),J=Math.round(q/(n.LINE_FACTOR*B))||1,fe=q/J;G=Math.min(B,Q(fe/n.LINE_FACTOR))}else{const q=Math.abs(this.data.rect[3]-this.data.rect[1]-ce);G=Math.min(B,Q(q/n.LINE_FACTOR))}$.fontSize=`calc(${G}px * var(--scale-factor))`,$.color=n.Util.makeHexColor(T[0],T[1],T[2]),this.data.textAlignment!==null&&($.textAlign=m[this.data.textAlignment])}_setRequired(o,m){m?o.setAttribute("required",!0):o.removeAttribute("required"),o.setAttribute("aria-required",m)}}class I extends k{constructor(o){const m=o.renderForms||!o.data.hasAppearance&&!!o.data.fieldValue;super(o,{isRenderable:m})}setPropertyOnSiblings(o,m,T,B){const $=this.annotationStorage;for(const G of this._getElementsByName(o.name,o.id))G.domElement&&(G.domElement[m]=T),$.setValue(G.id,{[B]:T})}render(){var B,$;const o=this.annotationStorage,m=this.data.id;this.container.classList.add("textWidgetAnnotation");let T=null;if(this.renderForms){const G=o.getValue(m,{value:this.data.fieldValue});let ce=G.value||"";const Q=o.getValue(m,{charLimit:this.data.maxLen}).charLimit;Q&&ce.length>Q&&(ce=ce.slice(0,Q));let q=G.formattedValue||((B=this.data.textContent)==null?void 0:B.join(`
`))||null;q&&this.data.comb&&(q=q.replaceAll(/\s+/g,""));const J={userValue:ce,formattedValue:q,lastCommittedValue:null,commitKey:1};this.data.multiLine?(T=document.createElement("textarea"),T.textContent=q!=null?q:ce,this.data.doNotScroll&&(T.style.overflowY="hidden")):(T=document.createElement("input"),T.type="text",T.setAttribute("value",q!=null?q:ce),this.data.doNotScroll&&(T.style.overflowX="hidden")),this.data.hasOwnCanvas&&(T.hidden=!0),l.add(T),T.setAttribute("data-element-id",m),T.disabled=this.data.readOnly,T.name=this.data.fieldName,T.tabIndex=v,this._setRequired(T,this.data.required),Q&&(T.maxLength=Q),T.addEventListener("input",ue=>{o.setValue(m,{value:ue.target.value}),this.setPropertyOnSiblings(T,"value",ue.target.value,"value"),J.formattedValue=null}),T.addEventListener("resetform",ue=>{var ye;const me=(ye=this.data.defaultFieldValue)!=null?ye:"";T.value=J.userValue=me,J.formattedValue=null});let fe=ue=>{const{formattedValue:me}=J;me!=null&&(ue.target.value=me),ue.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){T.addEventListener("focus",me=>{const{target:ye}=me;J.userValue&&(ye.value=J.userValue),J.lastCommittedValue=ye.value,J.commitKey=1}),T.addEventListener("updatefromsandbox",me=>{this.showElementAndHideCanvas(me.target);const ye={value(xe){var Me;J.userValue=(Me=xe.detail.value)!=null?Me:"",o.setValue(m,{value:J.userValue.toString()}),xe.target.value=J.userValue},formattedValue(xe){const{formattedValue:Me}=xe.detail;J.formattedValue=Me,Me!=null&&xe.target!==document.activeElement&&(xe.target.value=Me),o.setValue(m,{formattedValue:Me})},selRange(xe){xe.target.setSelectionRange(...xe.detail.selRange)},charLimit:xe=>{var Re;const{charLimit:Me}=xe.detail,{target:Ie}=xe;if(Me===0){Ie.removeAttribute("maxLength");return}Ie.setAttribute("maxLength",Me);let ge=J.userValue;!ge||ge.length<=Me||(ge=ge.slice(0,Me),Ie.value=J.userValue=ge,o.setValue(m,{value:ge}),(Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:ge,willCommit:!0,commitKey:1,selStart:Ie.selectionStart,selEnd:Ie.selectionEnd}}))}};this._dispatchEventFromSandbox(ye,me)}),T.addEventListener("keydown",me=>{var Me;J.commitKey=1;let ye=-1;if(me.key==="Escape"?ye=0:me.key==="Enter"&&!this.data.multiLine?ye=2:me.key==="Tab"&&(J.commitKey=3),ye===-1)return;const{value:xe}=me.target;J.lastCommittedValue!==xe&&(J.lastCommittedValue=xe,J.userValue=xe,(Me=this.linkService.eventBus)==null||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:xe,willCommit:!0,commitKey:ye,selStart:me.target.selectionStart,selEnd:me.target.selectionEnd}}))});const ue=fe;fe=null,T.addEventListener("blur",me=>{var xe;if(!me.relatedTarget)return;const{value:ye}=me.target;J.userValue=ye,J.lastCommittedValue!==ye&&((xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:ye,willCommit:!0,commitKey:J.commitKey,selStart:me.target.selectionStart,selEnd:me.target.selectionEnd}})),ue(me)}),($=this.data.actions)!=null&&$.Keystroke&&T.addEventListener("beforeinput",me=>{var je;J.lastCommittedValue=null;const{data:ye,target:xe}=me,{value:Me,selectionStart:Ie,selectionEnd:ge}=xe;let Re=Ie,Ne=ge;switch(me.inputType){case"deleteWordBackward":{const j=Me.substring(0,Ie).match(/\w*[^\w]*$/);j&&(Re-=j[0].length);break}case"deleteWordForward":{const j=Me.substring(Ie).match(/^[^\w]*\w*/);j&&(Ne+=j[0].length);break}case"deleteContentBackward":Ie===ge&&(Re-=1);break;case"deleteContentForward":Ie===ge&&(Ne+=1);break}me.preventDefault(),(je=this.linkService.eventBus)==null||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:Me,change:ye||"",willCommit:!1,selStart:Re,selEnd:Ne}})}),this._setEventListeners(T,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],me=>me.target.value)}if(fe&&T.addEventListener("blur",fe),this.data.comb){const me=(this.data.rect[2]-this.data.rect[0])/Q;T.classList.add("comb"),T.style.letterSpacing=`calc(${me}px * var(--scale-factor) - 1ch)`}}else T=document.createElement("div"),T.textContent=this.data.fieldValue,T.style.verticalAlign="middle",T.style.display="table-cell";return this._setTextStyle(T),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.append(T),this.container}}class L extends k{constructor(o){super(o,{isRenderable:o.renderForms})}render(){const o=this.annotationStorage,m=this.data,T=m.id;let B=o.getValue(T,{value:m.exportValue===m.fieldValue}).value;typeof B=="string"&&(B=B!=="Off",o.setValue(T,{value:B})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const $=document.createElement("input");return l.add($),$.setAttribute("data-element-id",T),$.disabled=m.readOnly,this._setRequired($,this.data.required),$.type="checkbox",$.name=m.fieldName,B&&$.setAttribute("checked",!0),$.setAttribute("exportValue",m.exportValue),$.tabIndex=v,$.addEventListener("change",G=>{const{name:ce,checked:Q}=G.target;for(const q of this._getElementsByName(ce,T)){const J=Q&&q.exportValue===m.exportValue;q.domElement&&(q.domElement.checked=J),o.setValue(q.id,{value:J})}o.setValue(T,{value:Q})}),$.addEventListener("resetform",G=>{const ce=m.defaultFieldValue||"Off";G.target.checked=ce===m.exportValue}),this.enableScripting&&this.hasJSActions&&($.addEventListener("updatefromsandbox",G=>{const ce={value(Q){Q.target.checked=Q.detail.value!=="Off",o.setValue(T,{value:Q.target.checked})}};this._dispatchEventFromSandbox(ce,G)}),this._setEventListeners($,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],G=>G.target.checked)),this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}class S extends k{constructor(o){super(o,{isRenderable:o.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const o=this.annotationStorage,m=this.data,T=m.id;let B=o.getValue(T,{value:m.fieldValue===m.buttonValue}).value;typeof B=="string"&&(B=B!==m.buttonValue,o.setValue(T,{value:B}));const $=document.createElement("input");if(l.add($),$.setAttribute("data-element-id",T),$.disabled=m.readOnly,this._setRequired($,this.data.required),$.type="radio",$.name=m.fieldName,B&&$.setAttribute("checked",!0),$.tabIndex=v,$.addEventListener("change",G=>{const{name:ce,checked:Q}=G.target;for(const q of this._getElementsByName(ce,T))o.setValue(q.id,{value:!1});o.setValue(T,{value:Q})}),$.addEventListener("resetform",G=>{const ce=m.defaultFieldValue;G.target.checked=ce!=null&&ce===m.buttonValue}),this.enableScripting&&this.hasJSActions){const G=m.buttonValue;$.addEventListener("updatefromsandbox",ce=>{const Q={value:q=>{const J=G===q.detail.value;for(const fe of this._getElementsByName(q.target.name)){const ue=J&&fe.id===T;fe.domElement&&(fe.domElement.checked=ue),o.setValue(fe.id,{value:ue})}}};this._dispatchEventFromSandbox(Q,ce)}),this._setEventListeners($,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ce=>ce.target.checked)}return this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}class E extends f{constructor(o){super(o,{ignoreBorder:o.data.hasAppearance})}render(){const o=super.render();o.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(o.title=this.data.alternativeText);const m=o.lastChild;return this.enableScripting&&this.hasJSActions&&m&&(this._setDefaultPropertiesFromJS(m),m.addEventListener("updatefromsandbox",T=>{this._dispatchEventFromSandbox({},T)})),o}}class D extends k{constructor(o){super(o,{isRenderable:o.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const o=this.annotationStorage,m=this.data.id,T=o.getValue(m,{value:this.data.fieldValue}),B=document.createElement("select");l.add(B),B.setAttribute("data-element-id",m),B.disabled=this.data.readOnly,this._setRequired(B,this.data.required),B.name=this.data.fieldName,B.tabIndex=v;let $=this.data.combo&&this.data.options.length>0;this.data.combo||(B.size=this.data.options.length,this.data.multiSelect&&(B.multiple=!0)),B.addEventListener("resetform",J=>{const fe=this.data.defaultFieldValue;for(const ue of B.options)ue.selected=ue.value===fe});for(const J of this.data.options){const fe=document.createElement("option");fe.textContent=J.displayValue,fe.value=J.exportValue,T.value.includes(J.exportValue)&&(fe.setAttribute("selected",!0),$=!1),B.append(fe)}let G=null;if($){const J=document.createElement("option");J.value=" ",J.setAttribute("hidden",!0),J.setAttribute("selected",!0),B.prepend(J),G=()=>{J.remove(),B.removeEventListener("input",G),G=null},B.addEventListener("input",G)}const ce=J=>{const fe=J?"value":"textContent",{options:ue,multiple:me}=B;return me?Array.prototype.filter.call(ue,ye=>ye.selected).map(ye=>ye[fe]):ue.selectedIndex===-1?null:ue[ue.selectedIndex][fe]};let Q=ce(!1);const q=J=>{const fe=J.target.options;return Array.prototype.map.call(fe,ue=>({displayValue:ue.textContent,exportValue:ue.value}))};return this.enableScripting&&this.hasJSActions?(B.addEventListener("updatefromsandbox",J=>{const fe={value(ue){G==null||G();const me=ue.detail.value,ye=new Set(Array.isArray(me)?me:[me]);for(const xe of B.options)xe.selected=ye.has(xe.value);o.setValue(m,{value:ce(!0)}),Q=ce(!1)},multipleSelection(ue){B.multiple=!0},remove(ue){const me=B.options,ye=ue.detail.remove;me[ye].selected=!1,B.remove(ye),me.length>0&&Array.prototype.findIndex.call(me,Me=>Me.selected)===-1&&(me[0].selected=!0),o.setValue(m,{value:ce(!0),items:q(ue)}),Q=ce(!1)},clear(ue){for(;B.length!==0;)B.remove(0);o.setValue(m,{value:null,items:[]}),Q=ce(!1)},insert(ue){const{index:me,displayValue:ye,exportValue:xe}=ue.detail.insert,Me=B.children[me],Ie=document.createElement("option");Ie.textContent=ye,Ie.value=xe,Me?Me.before(Ie):B.append(Ie),o.setValue(m,{value:ce(!0),items:q(ue)}),Q=ce(!1)},items(ue){const{items:me}=ue.detail;for(;B.length!==0;)B.remove(0);for(const ye of me){const{displayValue:xe,exportValue:Me}=ye,Ie=document.createElement("option");Ie.textContent=xe,Ie.value=Me,B.append(Ie)}B.options.length>0&&(B.options[0].selected=!0),o.setValue(m,{value:ce(!0),items:q(ue)}),Q=ce(!1)},indices(ue){const me=new Set(ue.detail.indices);for(const ye of ue.target.options)ye.selected=me.has(ye.index);o.setValue(m,{value:ce(!0)}),Q=ce(!1)},editable(ue){ue.target.disabled=!ue.detail.editable}};this._dispatchEventFromSandbox(fe,J)}),B.addEventListener("input",J=>{var ue;const fe=ce(!0);o.setValue(m,{value:fe}),J.preventDefault(),(ue=this.linkService.eventBus)==null||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:Q,changeEx:fe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(B,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],J=>J.target.value)):B.addEventListener("input",function(J){o.setValue(m,{value:ce(!0)})}),this.data.combo&&this._setTextStyle(B),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}const z=class extends A{constructor(o){var B,$,G;const{data:m}=o,T=!z.IGNORE_TYPES.has(m.parentType)&&!!(((B=m.titleObj)==null?void 0:B.str)||(($=m.contentsObj)==null?void 0:$.str)||((G=m.richText)==null?void 0:G.str));super(o,{isRenderable:T})}render(){this.container.classList.add("popupAnnotation");const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(o.length===0)return this.container;const m=new O({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),T=this.page,B=n.Util.normalizeRect([this.data.parentRect[0],T.view[3]-this.data.parentRect[1]+T.view[1],this.data.parentRect[2],T.view[3]-this.data.parentRect[3]+T.view[1]]),$=B[0]+this.data.parentRect[2]-this.data.parentRect[0],G=B[1],{pageWidth:ce,pageHeight:Q,pageX:q,pageY:J}=this.viewport.rawDims;return this.container.style.left=`${100*($-q)/ce}%`,this.container.style.top=`${100*(G-J)/Q}%`,this.container.append(m.render()),this.container}};let M=z;Ke(M,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class O{constructor(o){this.container=o.container,this.trigger=o.trigger,this.color=o.color,this.titleObj=o.titleObj,this.modificationDate=o.modificationDate,this.contentsObj=o.contentsObj,this.richText=o.richText,this.hideWrapper=o.hideWrapper||!1,this.pinned=!1}render(){var ce,Q;const m=document.createElement("div");m.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?m:this.container,this.hideElement.hidden=!0;const T=document.createElement("div");T.classList.add("popup");const B=this.color;if(B){const q=.7*(255-B[0])+B[0],J=.7*(255-B[1])+B[1],fe=.7*(255-B[2])+B[2];T.style.backgroundColor=n.Util.makeHexColor(q|0,J|0,fe|0)}const $=document.createElement("h1");$.dir=this.titleObj.dir,$.textContent=this.titleObj.str,T.append($);const G=r.PDFDateString.toDateObject(this.modificationDate);if(G){const q=document.createElement("span");q.classList.add("popupDate"),q.textContent="{{date}}, {{time}}",q.dataset.l10nId="annotation_date_string",q.dataset.l10nArgs=JSON.stringify({date:G.toLocaleDateString(),time:G.toLocaleTimeString()}),T.append(q)}if(((ce=this.richText)==null?void 0:ce.str)&&(!((Q=this.contentsObj)!=null&&Q.str)||this.contentsObj.str===this.richText.str))_.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:T}),T.lastChild.classList.add("richText","popupContent");else{const q=this._formatContents(this.contentsObj);T.append(q)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const q of this.trigger)q.addEventListener("click",this._toggle.bind(this)),q.addEventListener("mouseover",this._show.bind(this,!1)),q.addEventListener("mouseout",this._hide.bind(this,!1));return T.addEventListener("click",this._hide.bind(this,!0)),m.append(T),m}_formatContents({str:o,dir:m}){const T=document.createElement("p");T.classList.add("popupContent"),T.dir=m;const B=o.split(/(?:\r\n?|\n)/);for(let $=0,G=B.length;$<G;++$){const ce=B[$];T.append(document.createTextNode(ce)),$<G-1&&T.append(document.createElement("br"))}return T}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(o=!1){o&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(o=!0){o&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class s extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0}),this.textContent=o.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const o=document.createElement("div");o.classList.add("annotationTextContent"),o.setAttribute("role","comment");for(const m of this.textContent){const T=document.createElement("span");T.textContent=m,o.append(T)}this.container.append(o)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class u extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const o=this.data,{width:m,height:T}=w(o.rect),B=this.svgFactory.create(m,T,!0),$=this.svgFactory.createElement("svg:line");return $.setAttribute("x1",o.rect[2]-o.lineCoordinates[0]),$.setAttribute("y1",o.rect[3]-o.lineCoordinates[1]),$.setAttribute("x2",o.rect[2]-o.lineCoordinates[2]),$.setAttribute("y2",o.rect[3]-o.lineCoordinates[3]),$.setAttribute("stroke-width",o.borderStyle.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),B.append($),this.container.append(B),this._createPopup($,o),this.container}}class C extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const o=this.data,{width:m,height:T}=w(o.rect),B=this.svgFactory.create(m,T,!0),$=o.borderStyle.width,G=this.svgFactory.createElement("svg:rect");return G.setAttribute("x",$/2),G.setAttribute("y",$/2),G.setAttribute("width",m-$),G.setAttribute("height",T-$),G.setAttribute("stroke-width",$||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),B.append(G),this.container.append(B),this._createPopup(G,o),this.container}}class g extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const o=this.data,{width:m,height:T}=w(o.rect),B=this.svgFactory.create(m,T,!0),$=o.borderStyle.width,G=this.svgFactory.createElement("svg:ellipse");return G.setAttribute("cx",m/2),G.setAttribute("cy",T/2),G.setAttribute("rx",m/2-$/2),G.setAttribute("ry",T/2-$/2),G.setAttribute("stroke-width",$||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),B.append(G),this.container.append(B),this._createPopup(G,o),this.container}}class y extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const o=this.data,{width:m,height:T}=w(o.rect),B=this.svgFactory.create(m,T,!0);let $=[];for(const ce of o.vertices){const Q=ce.x-o.rect[0],q=o.rect[3]-ce.y;$.push(Q+","+q)}$=$.join(" ");const G=this.svgFactory.createElement(this.svgElementName);return G.setAttribute("points",$),G.setAttribute("stroke-width",o.borderStyle.width||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),B.append(G),this.container.append(B),this._createPopup(G,o),this.container}}class U extends y{constructor(o){super(o),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Y extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const o=this.data,{width:m,height:T}=w(o.rect),B=this.svgFactory.create(m,T,!0);for(const $ of o.inkLists){let G=[];for(const Q of $){const q=Q.x-o.rect[0],J=o.rect[3]-Q.y;G.push(`${q},${J}`)}G=G.join(" ");const ce=this.svgFactory.createElement(this.svgElementName);ce.setAttribute("points",G),ce.setAttribute("stroke-width",o.borderStyle.width||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","transparent"),this._createPopup(ce,o),B.append(ce)}return this.container.append(B),this.container}}class K extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class ne extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class ee extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class re extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class ve extends A{constructor(o){var T,B,$;const m=!!(o.data.hasPopup||((T=o.data.titleObj)==null?void 0:T.str)||((B=o.data.contentsObj)==null?void 0:B.str)||(($=o.data.richText)==null?void 0:$.str));super(o,{isRenderable:m,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Z extends A{constructor(o){var B;super(o,{isRenderable:!0});const{filename:m,content:T}=this.data.file;this.filename=(0,r.getFilenameFromUrl)(m,!0),this.content=T,(B=this.linkService.eventBus)==null||B.dispatch("fileattachmentannotation",{source:this,filename:m,content:T})}render(){var m,T;this.container.classList.add("fileAttachmentAnnotation");let o;return this.data.hasAppearance?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),o.classList.add("popupTriggerArea"),o.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((m=this.data.titleObj)==null?void 0:m.str)||((T=this.data.contentsObj)==null?void 0:T.str)||this.data.richText)&&this._createPopup(o,this.data),this.container.append(o),this.container}_download(){var o;(o=this.downloadManager)==null||o.openOrDownloadData(this.container,this.content,this.filename)}}const F=class{static render(o){var Q,q;const{annotations:m,div:T,viewport:B,accessibilityManager:$}=o;(0,r.setLayerDimensions)(T,B);const G={data:null,layer:T,page:o.page,viewport:B,linkService:o.linkService,downloadManager:o.downloadManager,imageResourcesPath:o.imageResourcesPath||"",renderForms:o.renderForms!==!1,svgFactory:new r.DOMSVGFactory,annotationStorage:o.annotationStorage||new d.AnnotationStorage,enableScripting:o.enableScripting===!0,hasJSActions:o.hasJSActions,fieldObjects:o.fieldObjects};let ce=0;for(const J of m){if(J.noHTML)continue;if(J.annotationType!==n.AnnotationType.POPUP){const{width:me,height:ye}=w(J.rect);if(me<=0||ye<=0)continue}G.data=J;const fe=R.create(G);if(!fe.isRenderable)continue;const ue=fe.render();if(J.hidden&&(ue.style.visibility="hidden"),Array.isArray(ue))for(const me of ue)me.style.zIndex=ce++,de(Q=F,ae,Zt).call(Q,me,J.id,T,$);else ue.style.zIndex=ce++,fe instanceof M?T.prepend(ue):de(q=F,ae,Zt).call(q,ue,J.id,T,$)}de(this,pe,Qt).call(this,T,o.annotationCanvasMap)}static update(o){const{annotationCanvasMap:m,div:T,viewport:B}=o;(0,r.setLayerDimensions)(T,{rotation:B.rotation}),de(this,pe,Qt).call(this,T,m),T.hidden=!1}};let we=F;ae=new WeakSet,Zt=function(o,m,T,B){const $=o.firstChild||o;$.id=`${r.AnnotationPrefix}${m}`,T.append(o),B==null||B.moveElementInDOM(T,o,$,!1)},pe=new WeakSet,Qt=function(o,m){if(!!m){for(const[T,B]of m){const $=o.querySelector(`[data-annotation-id="${T}"]`);if(!$)continue;const{firstChild:G}=$;G?G.nodeName==="CANVAS"?G.replaceWith(B):G.before(B):$.append(B)}m.clear()}},oe(we,ae),oe(we,pe),t.AnnotationLayer=we},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function i(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}class n{static CMYK_G([d,c,_,v]){return["G",1-Math.min(1,.3*d+.59*_+.11*c+v)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_HTML([d]){const c=i(d);return`#${c}${c}${c}`}static RGB_G([d,c,_]){return["G",.3*d+.59*c+.11*_]}static RGB_HTML([d,c,_]){const v=i(d),a=i(c),l=i(_);return`#${v}${a}${l}`}static T_HTML(){return"#00000000"}static CMYK_RGB([d,c,_,v]){return["RGB",1-Math.min(1,d+v),1-Math.min(1,_+v),1-Math.min(1,c+v)]}static CMYK_HTML(d){const c=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(c)}static RGB_CMYK([d,c,_]){const v=1-d,a=1-c,l=1-_,w=Math.min(v,a,l);return["CMYK",v,a,l,w]}}t.ColorConverters=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var n=i(19);class r{static setupStorage(c,_,v,a,l){const w=a.getValue(_,{value:null});switch(v.name){case"textarea":if(w.value!==null&&(c.textContent=w.value),l==="print")break;c.addEventListener("input",R=>{a.setValue(_,{value:R.target.value})});break;case"input":if(v.attributes.type==="radio"||v.attributes.type==="checkbox"){if(w.value===v.attributes.xfaOn?c.setAttribute("checked",!0):w.value===v.attributes.xfaOff&&c.removeAttribute("checked"),l==="print")break;c.addEventListener("change",R=>{a.setValue(_,{value:R.target.checked?R.target.getAttribute("xfaOn"):R.target.getAttribute("xfaOff")})})}else{if(w.value!==null&&c.setAttribute("value",w.value),l==="print")break;c.addEventListener("input",R=>{a.setValue(_,{value:R.target.value})})}break;case"select":if(w.value!==null)for(const R of v.children)R.attributes.value===w.value&&(R.attributes.selected=!0);c.addEventListener("input",R=>{const A=R.target.options,f=A.selectedIndex===-1?"":A[A.selectedIndex].value;a.setValue(_,{value:f})});break}}static setAttributes({html:c,element:_,storage:v=null,intent:a,linkService:l}){const{attributes:w}=_,R=c instanceof HTMLAnchorElement;w.type==="radio"&&(w.name=`${w.name}-${a}`);for(const[A,f]of Object.entries(w))if(f!=null)switch(A){case"class":f.length&&c.setAttribute(A,f.join(" "));break;case"dataId":break;case"id":c.setAttribute("data-element-id",f);break;case"style":Object.assign(c.style,f);break;case"textContent":c.textContent=f;break;default:(!R||A!=="href"&&A!=="newWindow")&&c.setAttribute(A,f)}R&&l.addLinkAttributes(c,w.href,w.newWindow),v&&w.dataId&&this.setupStorage(c,w.dataId,_,v)}static render(c){var b;const _=c.annotationStorage,v=c.linkService,a=c.xfaHtml,l=c.intent||"display",w=document.createElement(a.name);a.attributes&&this.setAttributes({html:w,element:a,intent:l,linkService:v});const R=[[a,-1,w]],A=c.div;if(A.append(w),c.viewport){const k=`matrix(${c.viewport.transform.join(",")})`;A.style.transform=k}l!=="richText"&&A.setAttribute("class","xfaLayer xfaFont");const f=[];for(;R.length>0;){const[k,I,L]=R.at(-1);if(I+1===k.children.length){R.pop();continue}const S=k.children[++R.at(-1)[1]];if(S===null)continue;const{name:E}=S;if(E==="#text"){const M=document.createTextNode(S.value);f.push(M),L.append(M);continue}let D;if((b=S==null?void 0:S.attributes)!=null&&b.xmlns?D=document.createElementNS(S.attributes.xmlns,E):D=document.createElement(E),L.append(D),S.attributes&&this.setAttributes({html:D,element:S,storage:_,intent:l,linkService:v}),S.children&&S.children.length>0)R.push([S,-1,D]);else if(S.value){const M=document.createTextNode(S.value);n.XfaText.shouldBuildText(E)&&f.push(M),D.append(M)}}for(const k of A.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))k.setAttribute("readOnly",!0);return{textDivs:f}}static update(c){const _=`matrix(${c.viewport.transform.join(",")})`;c.div.style.transform=_,c.div.hidden=!1}}t.XfaLayer=r},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var n=i(6),r=i(1),d=i(10);let c=class{constructor(){(0,r.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=c;{let L=function(s){let u=[];const C=[];for(const g of s){if(g.fn==="save"){u.push({fnId:92,fn:"group",items:[]}),C.push(u),u=u.at(-1).items;continue}g.fn==="restore"?u=C.pop():u.push(g)}return u},S=function(s){if(Number.isInteger(s))return s.toString();const u=s.toFixed(10);let C=u.length-1;if(u[C]!=="0")return u;do C--;while(u[C]==="0");return u.substring(0,u[C]==="."?C:C+1)},E=function(s){if(s[4]===0&&s[5]===0){if(s[1]===0&&s[2]===0)return s[0]===1&&s[3]===1?"":`scale(${S(s[0])} ${S(s[3])})`;if(s[0]===s[3]&&s[1]===-s[2]){const u=Math.acos(s[0])*180/Math.PI;return`rotate(${S(u)})`}}else if(s[0]===1&&s[1]===0&&s[2]===0&&s[3]===1)return`translate(${S(s[4])} ${S(s[5])})`;return`matrix(${S(s[0])} ${S(s[1])} ${S(s[2])} ${S(s[3])} ${S(s[4])} ${S(s[5])})`};var _=L,v=S,a=E;const l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},w="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/1999/xlink",A=["butt","round","square"],f=["miter","round","bevel"],b=function(s,u="",C=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!C)return URL.createObjectURL(new Blob([s],{type:u}));const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${u};base64,`;for(let U=0,Y=s.length;U<Y;U+=3){const X=s[U]&255,K=s[U+1]&255,ne=s[U+2]&255,ee=X>>2,re=(X&3)<<4|K>>4,ve=U+1<Y?(K&15)<<2|ne>>6:64,Z=U+2<Y?ne&63:64;y+=g[ee]+g[re]+g[ve]+g[Z]}return y},k=function(){const s=new Uint8Array([137,80,78,71,13,10,26,10]),u=12,C=new Int32Array(256);for(let ne=0;ne<256;ne++){let ee=ne;for(let re=0;re<8;re++)ee&1?ee=3988292384^ee>>1&2147483647:ee=ee>>1&2147483647;C[ne]=ee}function g(ne,ee,re){let ve=-1;for(let Z=ee;Z<re;Z++){const we=(ve^ne[Z])&255,Ce=C[we];ve=ve>>>8^Ce}return ve^-1}function y(ne,ee,re,ve){let Z=ve;const we=ee.length;re[Z]=we>>24&255,re[Z+1]=we>>16&255,re[Z+2]=we>>8&255,re[Z+3]=we&255,Z+=4,re[Z]=ne.charCodeAt(0)&255,re[Z+1]=ne.charCodeAt(1)&255,re[Z+2]=ne.charCodeAt(2)&255,re[Z+3]=ne.charCodeAt(3)&255,Z+=4,re.set(ee,Z),Z+=ee.length;const Ce=g(re,ve+4,Z);re[Z]=Ce>>24&255,re[Z+1]=Ce>>16&255,re[Z+2]=Ce>>8&255,re[Z+3]=Ce&255}function U(ne,ee,re){let ve=1,Z=0;for(let we=ee;we<re;++we)ve=(ve+(ne[we]&255))%65521,Z=(Z+ve)%65521;return Z<<16|ve}function Y(ne){if(!d.isNodeJS)return X(ne);try{let ee;parseInt(process.versions.node)>=8?ee=ne:ee=Buffer.from(ne);const re=require$$5.deflateSync(ee,{level:9});return re instanceof Uint8Array?re:new Uint8Array(re)}catch(ee){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ee)}return X(ne)}function X(ne){let ee=ne.length;const re=65535,ve=Math.ceil(ee/re),Z=new Uint8Array(2+ee+ve*5+4);let we=0;Z[we++]=120,Z[we++]=156;let Ce=0;for(;ee>re;)Z[we++]=0,Z[we++]=255,Z[we++]=255,Z[we++]=0,Z[we++]=0,Z.set(ne.subarray(Ce,Ce+re),we),we+=re,Ce+=re,ee-=re;Z[we++]=1,Z[we++]=ee&255,Z[we++]=ee>>8&255,Z[we++]=~ee&65535&255,Z[we++]=(~ee&65535)>>8&255,Z.set(ne.subarray(Ce),we),we+=ne.length-Ce;const le=U(ne,0,ne.length);return Z[we++]=le>>24&255,Z[we++]=le>>16&255,Z[we++]=le>>8&255,Z[we++]=le&255,Z}function K(ne,ee,re,ve){const Z=ne.width,we=ne.height;let Ce,le,V;const H=ne.data;switch(ee){case r.ImageKind.GRAYSCALE_1BPP:le=0,Ce=1,V=Z+7>>3;break;case r.ImageKind.RGB_24BPP:le=2,Ce=8,V=Z*3;break;case r.ImageKind.RGBA_32BPP:le=6,Ce=8,V=Z*4;break;default:throw new Error("invalid format")}const z=new Uint8Array((1+V)*we);let ae=0,se=0;for(let m=0;m<we;++m)z[ae++]=0,z.set(H.subarray(se,se+V),ae),se+=V,ae+=V;if(ee===r.ImageKind.GRAYSCALE_1BPP&&ve){ae=0;for(let m=0;m<we;m++){ae++;for(let T=0;T<V;T++)z[ae++]^=255}}const pe=new Uint8Array([Z>>24&255,Z>>16&255,Z>>8&255,Z&255,we>>24&255,we>>16&255,we>>8&255,we&255,Ce,le,0,0,0]),ie=Y(z),F=s.length+u*3+pe.length+ie.length,N=new Uint8Array(F);let o=0;return N.set(s,o),o+=s.length,y("IHDR",pe,N,o),o+=u+pe.length,y("IDATA",ie,N,o),o+=u+ie.length,y("IEND",new Uint8Array(0),N,o),b(N,"image/png",re)}return function(ee,re,ve){const Z=ee.kind===void 0?r.ImageKind.GRAYSCALE_1BPP:ee.kind;return K(ee,Z,re,ve)}}();class I{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(u,C){this.x=u,this.y=C}}let D=0,M=0,O=0;t.SVGGraphics=c=class{constructor(s,u,C=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new I,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=s,this.objs=u,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!C,this._operatorIdMapping=[];for(const g in r.OPS)this._operatorIdMapping[r.OPS[g]]=g}getObject(s,u=null){return typeof s=="string"?s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s):u}save(){this.transformStack.push(this.transformMatrix);const s=this.current;this.extraStack.push(s),this.current=s.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(s){this.save(),this.executeOpTree(s),this.restore()}loadDependencies(s){const u=s.fnArray,C=s.argsArray;for(let g=0,y=u.length;g<y;g++)if(u[g]===r.OPS.dependency)for(const U of C[g]){const Y=U.startsWith("g_")?this.commonObjs:this.objs,X=new Promise(K=>{Y.get(U,K)});this.current.dependencies.push(X)}return Promise.all(this.current.dependencies)}transform(s,u,C,g,y,U){const Y=[s,u,C,g,y,U];this.transformMatrix=r.Util.transform(this.transformMatrix,Y),this.tgrp=null}getSVG(s,u){this.viewport=u;const C=this._initialize(u);return this.loadDependencies(s).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(s)),C))}convertOpList(s){const u=this._operatorIdMapping,C=s.argsArray,g=s.fnArray,y=[];for(let U=0,Y=g.length;U<Y;U++){const X=g[U];y.push({fnId:X,fn:u[X],args:C[U]})}return L(y)}executeOpTree(s){for(const u of s){const C=u.fn,g=u.fnId,y=u.args;switch(g|0){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(y);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case r.OPS.setFont:this.setFont(y);break;case r.OPS.showText:this.showText(y[0]);break;case r.OPS.showSpacedText:this.showText(y[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(y[0],y[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case r.OPS.setHScale:this.setHScale(y[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case r.OPS.setTextRise:this.setTextRise(y[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case r.OPS.setLineWidth:this.setLineWidth(y[0]);break;case r.OPS.setLineJoin:this.setLineJoin(y[0]);break;case r.OPS.setLineCap:this.setLineCap(y[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case r.OPS.setFillColorN:this.setFillColorN(y);break;case r.OPS.shadingFill:this.shadingFill(y[0]);break;case r.OPS.setDash:this.setDash(y[0],y[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case r.OPS.setFlatness:this.setFlatness(y[0]);break;case r.OPS.setGState:this.setGState(y[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case r.OPS.constructPath:this.constructPath(y[0],y[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(u.items);break;default:(0,r.warn)(`Unimplemented operator ${C}`);break}}}setWordSpacing(s){this.current.wordSpacing=s}setCharSpacing(s){this.current.charSpacing=s}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(s,u,C,g,y,U){const Y=this.current;Y.textMatrix=Y.lineMatrix=[s,u,C,g,y,U],Y.textMatrixScale=Math.hypot(s,u),Y.x=Y.lineX=0,Y.y=Y.lineY=0,Y.xcoords=[],Y.ycoords=[],Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.tspan.setAttributeNS(null,"font-family",Y.fontFamily),Y.tspan.setAttributeNS(null,"font-size",`${S(Y.fontSize)}px`),Y.tspan.setAttributeNS(null,"y",S(-Y.y)),Y.txtElement=this.svgFactory.createElement("svg:text"),Y.txtElement.append(Y.tspan)}beginText(){const s=this.current;s.x=s.lineX=0,s.y=s.lineY=0,s.textMatrix=r.IDENTITY_MATRIX,s.lineMatrix=r.IDENTITY_MATRIX,s.textMatrixScale=1,s.tspan=this.svgFactory.createElement("svg:tspan"),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtgrp=this.svgFactory.createElement("svg:g"),s.xcoords=[],s.ycoords=[]}moveText(s,u){const C=this.current;C.x=C.lineX+=s,C.y=C.lineY+=u,C.xcoords=[],C.ycoords=[],C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${S(C.fontSize)}px`),C.tspan.setAttributeNS(null,"y",S(-C.y))}showText(s){const u=this.current,C=u.font,g=u.fontSize;if(g===0)return;const y=u.fontSizeScale,U=u.charSpacing,Y=u.wordSpacing,X=u.fontDirection,K=u.textHScale*X,ne=C.vertical,ee=ne?1:-1,re=C.defaultVMetrics,ve=g*u.fontMatrix[0];let Z=0;for(const le of s){if(le===null){Z+=X*Y;continue}else if(typeof le=="number"){Z+=ee*le*g/1e3;continue}const V=(le.isSpace?Y:0)+U,H=le.fontChar;let z,ae,se=le.width;if(ne){let ie;const F=le.vmetric||re;ie=le.vmetric?F[1]:se*.5,ie=-ie*ve;const N=F[2]*ve;se=F?-F[0]:se,z=ie/y,ae=(Z+N)/y}else z=Z/y,ae=0;(le.isInFont||C.missingFile)&&(u.xcoords.push(u.x+z),ne&&u.ycoords.push(-u.y+ae),u.tspan.textContent+=H);let pe;ne?pe=se*ve-V*X:pe=se*ve+V*X,Z+=pe}u.tspan.setAttributeNS(null,"x",u.xcoords.map(S).join(" ")),ne?u.tspan.setAttributeNS(null,"y",u.ycoords.map(S).join(" ")):u.tspan.setAttributeNS(null,"y",S(-u.y)),ne?u.y-=Z:u.x+=Z*K,u.tspan.setAttributeNS(null,"font-family",u.fontFamily),u.tspan.setAttributeNS(null,"font-size",`${S(u.fontSize)}px`),u.fontStyle!==l.fontStyle&&u.tspan.setAttributeNS(null,"font-style",u.fontStyle),u.fontWeight!==l.fontWeight&&u.tspan.setAttributeNS(null,"font-weight",u.fontWeight);const we=u.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(we===r.TextRenderingMode.FILL||we===r.TextRenderingMode.FILL_STROKE?(u.fillColor!==l.fillColor&&u.tspan.setAttributeNS(null,"fill",u.fillColor),u.fillAlpha<1&&u.tspan.setAttributeNS(null,"fill-opacity",u.fillAlpha)):u.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?u.tspan.setAttributeNS(null,"fill","transparent"):u.tspan.setAttributeNS(null,"fill","none"),we===r.TextRenderingMode.STROKE||we===r.TextRenderingMode.FILL_STROKE){const le=1/(u.textMatrixScale||1);this._setStrokeAttributes(u.tspan,le)}let Ce=u.textMatrix;u.textRise!==0&&(Ce=Ce.slice(),Ce[5]+=u.textRise),u.txtElement.setAttributeNS(null,"transform",`${E(Ce)} scale(${S(K)}, -1)`),u.txtElement.setAttributeNS(w,"xml:space","preserve"),u.txtElement.append(u.tspan),u.txtgrp.append(u.txtElement),this._ensureTransformGroup().append(u.txtElement)}setLeadingMoveText(s,u){this.setLeading(-u),this.moveText(s,u)}addFontStyle(s){if(!s.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const u=b(s.data,s.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${s.loadedName}"; src: url(${u}); }
`}setFont(s){const u=this.current,C=this.commonObjs.get(s[0]);let g=s[1];u.font=C,this.embedFonts&&!C.missingFile&&!this.embeddedFonts[C.loadedName]&&(this.addFontStyle(C),this.embeddedFonts[C.loadedName]=C),u.fontMatrix=C.fontMatrix||r.FONT_IDENTITY_MATRIX;let y="normal";C.black?y="900":C.bold&&(y="bold");const U=C.italic?"italic":"normal";g<0?(g=-g,u.fontDirection=-1):u.fontDirection=1,u.fontSize=g,u.fontFamily=C.loadedName,u.fontWeight=y,u.fontStyle=U,u.tspan=this.svgFactory.createElement("svg:tspan"),u.tspan.setAttributeNS(null,"y",S(-u.y)),u.xcoords=[],u.ycoords=[]}endText(){var u;const s=this.current;s.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&((u=s.txtElement)==null?void 0:u.hasChildNodes())&&(s.element=s.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(s){s>0&&(this.current.lineWidth=s)}setLineCap(s){this.current.lineCap=A[s]}setLineJoin(s){this.current.lineJoin=f[s]}setMiterLimit(s){this.current.miterLimit=s}setStrokeAlpha(s){this.current.strokeAlpha=s}setStrokeRGBColor(s,u,C){this.current.strokeColor=r.Util.makeHexColor(s,u,C)}setFillAlpha(s){this.current.fillAlpha=s}setFillRGBColor(s,u,C){this.current.fillColor=r.Util.makeHexColor(s,u,C),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(s){this.current.strokeColor=this._makeColorN_Pattern(s)}setFillColorN(s){this.current.fillColor=this._makeColorN_Pattern(s)}shadingFill(s){const u=this.viewport.width,C=this.viewport.height,g=r.Util.inverseTransform(this.transformMatrix),y=r.Util.applyTransform([0,0],g),U=r.Util.applyTransform([0,C],g),Y=r.Util.applyTransform([u,0],g),X=r.Util.applyTransform([u,C],g),K=Math.min(y[0],U[0],Y[0],X[0]),ne=Math.min(y[1],U[1],Y[1],X[1]),ee=Math.max(y[0],U[0],Y[0],X[0]),re=Math.max(y[1],U[1],Y[1],X[1]),ve=this.svgFactory.createElement("svg:rect");ve.setAttributeNS(null,"x",K),ve.setAttributeNS(null,"y",ne),ve.setAttributeNS(null,"width",ee-K),ve.setAttributeNS(null,"height",re-ne),ve.setAttributeNS(null,"fill",this._makeShadingPattern(s)),this.current.fillAlpha<1&&ve.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ve)}_makeColorN_Pattern(s){return s[0]==="TilingPattern"?this._makeTilingPattern(s):this._makeShadingPattern(s)}_makeTilingPattern(s){const u=s[1],C=s[2],g=s[3]||r.IDENTITY_MATRIX,[y,U,Y,X]=s[4],K=s[5],ne=s[6],ee=s[7],re=`shading${O++}`,[ve,Z,we,Ce]=r.Util.normalizeRect([...r.Util.applyTransform([y,U],g),...r.Util.applyTransform([Y,X],g)]),[le,V]=r.Util.singularValueDecompose2dScale(g),H=K*le,z=ne*V,ae=this.svgFactory.createElement("svg:pattern");ae.setAttributeNS(null,"id",re),ae.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ae.setAttributeNS(null,"width",H),ae.setAttributeNS(null,"height",z),ae.setAttributeNS(null,"x",`${ve}`),ae.setAttributeNS(null,"y",`${Z}`);const se=this.svg,pe=this.transformMatrix,ie=this.current.fillColor,F=this.current.strokeColor,N=this.svgFactory.create(we-ve,Ce-Z);if(this.svg=N,this.transformMatrix=g,ee===2){const o=r.Util.makeHexColor(...u);this.current.fillColor=o,this.current.strokeColor=o}return this.executeOpTree(this.convertOpList(C)),this.svg=se,this.transformMatrix=pe,this.current.fillColor=ie,this.current.strokeColor=F,ae.append(N.childNodes[0]),this.defs.append(ae),`url(#${re})`}_makeShadingPattern(s){switch(typeof s=="string"&&(s=this.objs.get(s)),s[0]){case"RadialAxial":const u=`shading${O++}`,C=s[3];let g;switch(s[1]){case"axial":const y=s[4],U=s[5];g=this.svgFactory.createElement("svg:linearGradient"),g.setAttributeNS(null,"id",u),g.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),g.setAttributeNS(null,"x1",y[0]),g.setAttributeNS(null,"y1",y[1]),g.setAttributeNS(null,"x2",U[0]),g.setAttributeNS(null,"y2",U[1]);break;case"radial":const Y=s[4],X=s[5],K=s[6],ne=s[7];g=this.svgFactory.createElement("svg:radialGradient"),g.setAttributeNS(null,"id",u),g.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),g.setAttributeNS(null,"cx",X[0]),g.setAttributeNS(null,"cy",X[1]),g.setAttributeNS(null,"r",ne),g.setAttributeNS(null,"fx",Y[0]),g.setAttributeNS(null,"fy",Y[1]),g.setAttributeNS(null,"fr",K);break;default:throw new Error(`Unknown RadialAxial type: ${s[1]}`)}for(const y of C){const U=this.svgFactory.createElement("svg:stop");U.setAttributeNS(null,"offset",y[0]),U.setAttributeNS(null,"stop-color",y[1]),g.append(U)}return this.defs.append(g),`url(#${u})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${s[0]}`)}}setDash(s,u){this.current.dashArray=s,this.current.dashPhase=u}constructPath(s,u){const C=this.current;let g=C.x,y=C.y,U=[],Y=0;for(const X of s)switch(X|0){case r.OPS.rectangle:g=u[Y++],y=u[Y++];const K=u[Y++],ne=u[Y++],ee=g+K,re=y+ne;U.push("M",S(g),S(y),"L",S(ee),S(y),"L",S(ee),S(re),"L",S(g),S(re),"Z");break;case r.OPS.moveTo:g=u[Y++],y=u[Y++],U.push("M",S(g),S(y));break;case r.OPS.lineTo:g=u[Y++],y=u[Y++],U.push("L",S(g),S(y));break;case r.OPS.curveTo:g=u[Y+4],y=u[Y+5],U.push("C",S(u[Y]),S(u[Y+1]),S(u[Y+2]),S(u[Y+3]),S(g),S(y)),Y+=6;break;case r.OPS.curveTo2:U.push("C",S(g),S(y),S(u[Y]),S(u[Y+1]),S(u[Y+2]),S(u[Y+3])),g=u[Y+2],y=u[Y+3],Y+=4;break;case r.OPS.curveTo3:g=u[Y+2],y=u[Y+3],U.push("C",S(u[Y]),S(u[Y+1]),S(g),S(y),S(g),S(y)),Y+=4;break;case r.OPS.closePath:U.push("Z");break}U=U.join(" "),C.path&&s.length>0&&s[0]!==r.OPS.rectangle&&s[0]!==r.OPS.moveTo?U=C.path.getAttributeNS(null,"d")+U:(C.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(C.path)),C.path.setAttributeNS(null,"d",U),C.path.setAttributeNS(null,"fill","none"),C.element=C.path,C.setCurrentPoint(g,y)}endPath(){const s=this.current;if(s.path=null,!this.pendingClip)return;if(!s.element){this.pendingClip=null;return}const u=`clippath${D++}`,C=this.svgFactory.createElement("svg:clipPath");C.setAttributeNS(null,"id",u),C.setAttributeNS(null,"transform",E(this.transformMatrix));const g=s.element.cloneNode(!0);if(this.pendingClip==="evenodd"?g.setAttributeNS(null,"clip-rule","evenodd"):g.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,C.append(g),this.defs.append(C),s.activeClipUrl){s.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;C.setAttributeNS(null,"clip-path",s.activeClipUrl)}s.activeClipUrl=`url(#${u})`,this.tgrp=null}clip(s){this.pendingClip=s}closePath(){const s=this.current;if(s.path){const u=`${s.path.getAttributeNS(null,"d")}Z`;s.path.setAttributeNS(null,"d",u)}}setLeading(s){this.current.leading=-s}setTextRise(s){this.current.textRise=s}setTextRenderingMode(s){this.current.textRenderingMode=s}setHScale(s){this.current.textHScale=s/100}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(const[u,C]of s)switch(u){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C);break;case"CA":this.setStrokeAlpha(C);break;case"ca":this.setFillAlpha(C);break;default:(0,r.warn)(`Unimplemented graphic state operator ${u}`);break}}fill(){const s=this.current;s.element&&(s.element.setAttributeNS(null,"fill",s.fillColor),s.element.setAttributeNS(null,"fill-opacity",s.fillAlpha),this.endPath())}stroke(){const s=this.current;s.element&&(this._setStrokeAttributes(s.element),s.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(s,u=1){const C=this.current;let g=C.dashArray;u!==1&&g.length>0&&(g=g.map(function(y){return u*y})),s.setAttributeNS(null,"stroke",C.strokeColor),s.setAttributeNS(null,"stroke-opacity",C.strokeAlpha),s.setAttributeNS(null,"stroke-miterlimit",S(C.miterLimit)),s.setAttributeNS(null,"stroke-linecap",C.lineCap),s.setAttributeNS(null,"stroke-linejoin",C.lineJoin),s.setAttributeNS(null,"stroke-width",S(u*C.lineWidth)+"px"),s.setAttributeNS(null,"stroke-dasharray",g.map(S).join(" ")),s.setAttributeNS(null,"stroke-dashoffset",S(u*C.dashPhase)+"px")}eoFill(){var s;(s=this.current.element)==null||s.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var s;(s=this.current.element)==null||s.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width","1px"),s.setAttributeNS(null,"height","1px"),s.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(s)}paintImageXObject(s){const u=this.getObject(s);if(!u){(0,r.warn)(`Dependent image with object ID ${s} is not ready yet`);return}this.paintInlineImageXObject(u)}paintInlineImageXObject(s,u){const C=s.width,g=s.height,y=k(s,this.forceDataSchema,!!u),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",S(C)),U.setAttributeNS(null,"height",S(g)),this.current.element=U,this.clip("nonzero");const Y=this.svgFactory.createElement("svg:image");Y.setAttributeNS(R,"xlink:href",y),Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y",S(-g)),Y.setAttributeNS(null,"width",S(C)+"px"),Y.setAttributeNS(null,"height",S(g)+"px"),Y.setAttributeNS(null,"transform",`scale(${S(1/C)} ${S(-1/g)})`),u?u.append(Y):this._ensureTransformGroup().append(Y)}paintImageMaskXObject(s){const u=this.getObject(s.data,s);if(u.bitmap){(0,r.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const C=this.current,g=u.width,y=u.height,U=C.fillColor;C.maskId=`mask${M++}`;const Y=this.svgFactory.createElement("svg:mask");Y.setAttributeNS(null,"id",C.maskId);const X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x","0"),X.setAttributeNS(null,"y","0"),X.setAttributeNS(null,"width",S(g)),X.setAttributeNS(null,"height",S(y)),X.setAttributeNS(null,"fill",U),X.setAttributeNS(null,"mask",`url(#${C.maskId})`),this.defs.append(Y),this._ensureTransformGroup().append(X),this.paintInlineImageXObject(u,Y)}paintFormXObjectBegin(s,u){if(Array.isArray(s)&&s.length===6&&this.transform(s[0],s[1],s[2],s[3],s[4],s[5]),u){const C=u[2]-u[0],g=u[3]-u[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",u[0]),y.setAttributeNS(null,"y",u[1]),y.setAttributeNS(null,"width",S(C)),y.setAttributeNS(null,"height",S(g)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(s){const u=this.svgFactory.create(s.width,s.height),C=this.svgFactory.createElement("svg:defs");u.append(C),this.defs=C;const g=this.svgFactory.createElement("svg:g");return g.setAttributeNS(null,"transform",E(s.transform)),u.append(g),this.svg=g,u}_ensureClipGroup(){if(!this.current.clipGroup){const s=this.svgFactory.createElement("svg:g");s.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(s),this.current.clipGroup=s}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",E(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return d.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return c.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return _.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return v.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return a.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return l.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return r.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return r.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var t=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),r=__w_pdfjs_require__(26),d=__w_pdfjs_require__(27),c=__w_pdfjs_require__(5),_=__w_pdfjs_require__(30),v=__w_pdfjs_require__(14),a=__w_pdfjs_require__(33),l=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf)),pdf.exports}(function(e,t){(function(n,r){e.exports=r()})(globalThis,()=>(()=>{var i=[,(c,_,v)=>{var b,k,en,L,Zn;Object.defineProperty(_,"__esModule",{value:!0}),_.SimpleLinkService=_.PDFLinkService=_.LinkTarget=void 0;var a=v(2);const l="noopener noreferrer nofollow",w={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};_.LinkTarget=w;function R(D,{url:M,target:O,rel:s,enabled:u=!0}={}){if(!M||typeof M!="string")throw new Error('A valid "url" parameter must provided.');const C=(0,a.removeNullCharacters)(M);u?D.href=D.title=C:(D.href="",D.title=`Disabled: ${C}`,D.onclick=()=>!1);let g="";switch(O){case w.NONE:break;case w.SELF:g="_self";break;case w.BLANK:g="_blank";break;case w.PARENT:g="_parent";break;case w.TOP:g="_top";break}D.target=g,D.rel=typeof s=="string"?s:l}const E=class{constructor({eventBus:M,externalLinkTarget:O=null,externalLinkRel:s=null,ignoreDestinationZoom:u=!1}={}){oe(this,k);oe(this,b,new Map);this.eventBus=M,this.externalLinkTarget=O,this.externalLinkRel=s,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=u,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(M,O=null){this.baseUrl=O,this.pdfDocument=M,P(this,b).clear()}setViewer(M){this.pdfViewer=M}setHistory(M){this.pdfHistory=M}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(M){this.pdfViewer.currentPageNumber=M}get rotation(){return this.pdfViewer.pagesRotation}set rotation(M){this.pdfViewer.pagesRotation=M}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(M){if(!this.pdfDocument)return;let O,s;if(typeof M=="string"?(O=M,s=await this.pdfDocument.getDestination(M)):(O=null,s=await M),!Array.isArray(s)){console.error(`PDFLinkService.goToDestination: "${s}" is not a valid destination array, for dest="${M}".`);return}de(this,k,en).call(this,M,O,s)}goToPage(M){if(!this.pdfDocument)return;const O=typeof M=="string"&&this.pdfViewer.pageLabelToPageNumber(M)||M|0;if(!(Number.isInteger(O)&&O>0&&O<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${M}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(O)),this.pdfViewer.scrollPageIntoView({pageNumber:O})}addLinkAttributes(M,O,s=!1){R(M,{url:O,target:s?w.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(M){if(typeof M=="string"){if(M.length>0)return this.getAnchorUrl("#"+escape(M))}else if(Array.isArray(M)){const O=JSON.stringify(M);if(O.length>0)return this.getAnchorUrl("#"+escape(O))}return this.getAnchorUrl("")}getAnchorUrl(M){return this.baseUrl?this.baseUrl+M:M}setHash(M){var u;if(!this.pdfDocument)return;let O,s;if(M.includes("=")){const C=(0,a.parseQueryString)(M);if(C.has("search")){const g=C.get("search").replaceAll('"',""),y=C.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:y?g:g.match(/\S+/g)})}if(C.has("page")&&(O=C.get("page")|0||1),C.has("zoom")){const g=C.get("zoom").split(","),y=g[0],U=parseFloat(y);y.includes("Fit")?y==="Fit"||y==="FitB"?s=[null,{name:y}]:y==="FitH"||y==="FitBH"||y==="FitV"||y==="FitBV"?s=[null,{name:y},g.length>1?g[1]|0:null]:y==="FitR"?g.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):s=[null,{name:y},g[1]|0,g[2]|0,g[3]|0,g[4]|0]:console.error(`PDFLinkService.setHash: "${y}" is not a valid zoom value.`):s=[null,{name:"XYZ"},g.length>1?g[1]|0:null,g.length>2?g[2]|0:null,U?U/100:y]}s?this.pdfViewer.scrollPageIntoView({pageNumber:O||this.page,destArray:s,allowNegativeOffset:!0}):O&&(this.page=O),C.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:C.get("pagemode")}),C.has("nameddest")&&this.goToDestination(C.get("nameddest"))}else{s=unescape(M);try{s=JSON.parse(s),Array.isArray(s)||(s=s.toString())}catch{}if(typeof s=="string"||de(u=E,L,Zn).call(u,s)){this.goToDestination(s);return}console.error(`PDFLinkService.setHash: "${unescape(M)}" is not a valid destination.`)}}executeNamedAction(M){var O,s;switch(M){case"GoBack":(O=this.pdfHistory)==null||O.back();break;case"GoForward":(s=this.pdfHistory)==null||s.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:M})}async executeSetOCGState(M){const O=this.pdfDocument,s=await this.pdfViewer.optionalContentConfigPromise;if(O!==this.pdfDocument)return;let u;for(const C of M.state){switch(C){case"ON":case"OFF":case"Toggle":u=C;continue}switch(u){case"ON":s.setVisibility(C,!0);break;case"OFF":s.setVisibility(C,!1);break;case"Toggle":const g=s.getGroup(C);g&&s.setVisibility(C,!g.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(s)}cachePageRef(M,O){if(!O)return;const s=O.gen===0?`${O.num}R`:`${O.num}R${O.gen}`;P(this,b).set(s,M)}_cachedPageNumber(M){if(!M)return null;const O=M.gen===0?`${M.num}R`:`${M.num}R${M.gen}`;return P(this,b).get(O)||null}};let A=E;b=new WeakMap,k=new WeakSet,en=function(M,O=null,s){const u=s[0];let C;if(typeof u=="object"&&u!==null){if(C=this._cachedPageNumber(u),!C){this.pdfDocument.getPageIndex(u).then(g=>{this.cachePageRef(g+1,u),de(this,k,en).call(this,M,O,s)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${u}" is not a valid page reference, for dest="${M}".`)});return}}else if(Number.isInteger(u))C=u+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${u}" is not a valid destination reference, for dest="${M}".`);return}if(!C||C<1||C>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${C}" is not a valid page number, for dest="${M}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:O,explicitDest:s,pageNumber:C})),this.pdfViewer.scrollPageIntoView({pageNumber:C,destArray:s,ignoreDestinationZoom:this._ignoreDestinationZoom})},L=new WeakSet,Zn=function(M){if(!Array.isArray(M))return!1;const O=M.length;if(O<2)return!1;const s=M[0];if(!(typeof s=="object"&&Number.isInteger(s.num)&&Number.isInteger(s.gen))&&!(Number.isInteger(s)&&s>=0))return!1;const u=M[1];if(!(typeof u=="object"&&typeof u.name=="string"))return!1;let C=!0;switch(u.name){case"XYZ":if(O!==5)return!1;break;case"Fit":case"FitB":return O===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(O!==3)return!1;break;case"FitR":if(O!==6)return!1;C=!1;break;default:return!1}for(let g=2;g<O;g++){const y=M[g];if(!(typeof y=="number"||C&&y===null))return!1}return!0},oe(A,L),_.PDFLinkService=A;class f{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(M){}get rotation(){return 0}set rotation(M){}get isInPresentationMode(){return!1}async goToDestination(M){}goToPage(M){}addLinkAttributes(M,O,s=!1){R(M,{url:O,enabled:this.externalLinkEnabled})}getDestinationHash(M){return"#"}getAnchorUrl(M){return"#"}setHash(M){}executeNamedAction(M){}executeSetOCGState(M){}cachePageRef(M,O){}}_.SimpleLinkService=f},(c,_)=>{var B,$,G,ce,Q;Object.defineProperty(_,"__esModule",{value:!0}),_.animationStarted=_.VERTICAL_PADDING=_.UNKNOWN_SCALE=_.TextLayerMode=_.SpreadMode=_.SidebarView=_.ScrollMode=_.SCROLLBAR_PADDING=_.RenderingStates=_.ProgressBar=_.PresentationModeState=_.OutputScale=_.MIN_SCALE=_.MAX_SCALE=_.MAX_AUTO_SCALE=_.DEFAULT_SCALE_VALUE=_.DEFAULT_SCALE_DELTA=_.DEFAULT_SCALE=_.CursorTool=_.AutoPrintRegExp=void 0,_.apiPageLayoutToViewerModes=N,_.apiPageModeToSidebarView=o,_.approximateFraction=K,_.backtrackBeforeAllVisibleElements=re,_.binarySearchFirstItem=X,_.docStyle=void 0,_.getActiveOrFocusedElement=F,_.getPageSizeInches=ee,_.getVisibleElements=ve,_.isPortraitOrientation=z,_.isValidRotation=le,_.isValidScrollMode=V,_.isValidSpreadMode=H,_.noContextMenuHandler=Z,_.normalizeWheelEventDelta=Ce,_.normalizeWheelEventDirection=we,_.parseQueryString=y,_.removeNullCharacters=Y,_.roundToDivide=ne,_.scrollIntoView=C,_.toggleCheckedBtn=m,_.toggleExpandedBtn=T,_.watchScroll=g;const v="auto";_.DEFAULT_SCALE_VALUE=v;const a=1;_.DEFAULT_SCALE=a;const l=1.1;_.DEFAULT_SCALE_DELTA=l;const w=.1;_.MIN_SCALE=w;const R=10;_.MAX_SCALE=R;const A=0;_.UNKNOWN_SCALE=A;const f=1.25;_.MAX_AUTO_SCALE=f;const b=40;_.SCROLLBAR_PADDING=b;const k=5;_.VERTICAL_PADDING=k;const I={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};_.RenderingStates=I;const L={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};_.PresentationModeState=L;const S={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};_.SidebarView=S;const E={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};_.TextLayerMode=E;const D={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};_.ScrollMode=D;const M={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};_.SpreadMode=M;const O={SELECT:0,HAND:1,ZOOM:2};_.CursorTool=O;const s=/\bprint\s*\(/;_.AutoPrintRegExp=s;class u{constructor(){const J=window.devicePixelRatio||1;this.sx=J,this.sy=J}get scaled(){return this.sx!==1||this.sy!==1}}_.OutputScale=u;function C(q,J,fe=!1){let ue=q.offsetParent;if(!ue){console.error("offsetParent is not set -- cannot scroll");return}let me=q.offsetTop+q.clientTop,ye=q.offsetLeft+q.clientLeft;for(;ue.clientHeight===ue.scrollHeight&&ue.clientWidth===ue.scrollWidth||fe&&(ue.classList.contains("markedContent")||getComputedStyle(ue).overflow==="hidden");)if(me+=ue.offsetTop,ye+=ue.offsetLeft,ue=ue.offsetParent,!ue)return;J&&(J.top!==void 0&&(me+=J.top),J.left!==void 0&&(ye+=J.left,ue.scrollLeft=ye)),ue.scrollTop=me}function g(q,J){const fe=function(ye){me||(me=window.requestAnimationFrame(function(){me=null;const Me=q.scrollLeft,Ie=ue.lastX;Me!==Ie&&(ue.right=Me>Ie),ue.lastX=Me;const ge=q.scrollTop,Re=ue.lastY;ge!==Re&&(ue.down=ge>Re),ue.lastY=ge,J(ue)}))},ue={right:!0,down:!0,lastX:q.scrollLeft,lastY:q.scrollTop,_eventHandler:fe};let me=null;return q.addEventListener("scroll",fe,!0),ue}function y(q){const J=new Map;for(const[fe,ue]of new URLSearchParams(q))J.set(fe.toLowerCase(),ue);return J}const U=/[\x01-\x1F]/g;function Y(q,J=!1){return typeof q!="string"?(console.error("The argument must be a string."),q):(J&&(q=q.replaceAll(U," ")),q.replaceAll("\0",""))}function X(q,J,fe=0){let ue=fe,me=q.length-1;if(me<0||!J(q[me]))return q.length;if(J(q[ue]))return ue;for(;ue<me;){const ye=ue+me>>1,xe=q[ye];J(xe)?me=ye:ue=ye+1}return ue}function K(q){if(Math.floor(q)===q)return[q,1];const J=1/q,fe=8;if(J>fe)return[1,fe];if(Math.floor(J)===J)return[1,J];const ue=q>1?J:q;let me=0,ye=1,xe=1,Me=1;for(;;){const ge=me+xe,Re=ye+Me;if(Re>fe)break;ue<=ge/Re?(xe=ge,Me=Re):(me=ge,ye=Re)}let Ie;return ue-me/ye<xe/Me-ue?Ie=ue===q?[me,ye]:[ye,me]:Ie=ue===q?[xe,Me]:[Me,xe],Ie}function ne(q,J){const fe=q%J;return fe===0?q:Math.round(q-fe+J)}function ee({view:q,userUnit:J,rotate:fe}){const[ue,me,ye,xe]=q,Me=fe%180!==0,Ie=(ye-ue)/72*J,ge=(xe-me)/72*J;return{width:Me?ge:Ie,height:Me?Ie:ge}}function re(q,J,fe){if(q<2)return q;let ue=J[q].div,me=ue.offsetTop+ue.clientTop;me>=fe&&(ue=J[q-1].div,me=ue.offsetTop+ue.clientTop);for(let ye=q-2;ye>=0&&(ue=J[ye].div,!(ue.offsetTop+ue.clientTop+ue.clientHeight<=me));--ye)q=ye;return q}function ve({scrollEl:q,views:J,sortByVisibility:fe=!1,horizontal:ue=!1,rtl:me=!1}){const ye=q.scrollTop,xe=ye+q.clientHeight,Me=q.scrollLeft,Ie=Me+q.clientWidth;function ge(_e){const Se=_e.div;return Se.offsetTop+Se.clientTop+Se.clientHeight>ye}function Re(_e){const Se=_e.div,Ae=Se.offsetLeft+Se.clientLeft,Le=Ae+Se.clientWidth;return me?Ae<Ie:Le>Me}const Ne=[],je=new Set,j=J.length;let W=X(J,ue?Re:ge);W>0&&W<j&&!ue&&(W=re(W,J,ye));let te=ue?Ie:-1;for(let _e=W;_e<j;_e++){const Se=J[_e],Ae=Se.div,Le=Ae.offsetLeft+Ae.clientLeft,Be=Ae.offsetTop+Ae.clientTop,he=Ae.clientWidth,Pe=Ae.clientHeight,Oe=Le+he,ke=Be+Pe;if(te===-1)ke>=xe&&(te=ke);else if((ue?Le:Be)>te)break;if(ke<=ye||Be>=xe||Oe<=Me||Le>=Ie)continue;const Fe=Math.max(0,ye-Be)+Math.max(0,ke-xe),Ve=Math.max(0,Me-Le)+Math.max(0,Oe-Ie),$e=(Pe-Fe)/Pe,De=(he-Ve)/he,Ue=$e*De*100|0;Ne.push({id:Se.id,x:Le,y:Be,view:Se,percent:Ue,widthPercent:De*100|0}),je.add(Se.id)}const be=Ne[0],Te=Ne.at(-1);return fe&&Ne.sort(function(_e,Se){const Ae=_e.percent-Se.percent;return Math.abs(Ae)>.001?-Ae:_e.id-Se.id}),{first:be,last:Te,views:Ne,ids:je}}function Z(q){q.preventDefault()}function we(q){let J=Math.hypot(q.deltaX,q.deltaY);const fe=Math.atan2(q.deltaY,q.deltaX);return-.25*Math.PI<fe&&fe<.75*Math.PI&&(J=-J),J}function Ce(q){const J=q.deltaMode;let fe=we(q);const ue=30,me=30;return J===WheelEvent.DOM_DELTA_PIXEL?fe/=ue*me:J===WheelEvent.DOM_DELTA_LINE&&(fe/=me),fe}function le(q){return Number.isInteger(q)&&q%90===0}function V(q){return Number.isInteger(q)&&Object.values(D).includes(q)&&q!==D.UNKNOWN}function H(q){return Number.isInteger(q)&&Object.values(M).includes(q)&&q!==M.UNKNOWN}function z(q){return q.width<=q.height}const ae=new Promise(function(q){window.requestAnimationFrame(q)});_.animationStarted=ae;const se=document.documentElement.style;_.docStyle=se;function pe(q,J,fe){return Math.min(Math.max(q,J),fe)}class ie{constructor(J){oe(this,B,null);oe(this,$,null);oe(this,G,0);oe(this,ce,null);oe(this,Q,!0);Ee(this,B,J.classList),Ee(this,ce,J.style)}get percent(){return P(this,G)}set percent(J){if(Ee(this,G,pe(J,0,100)),isNaN(J)){P(this,B).add("indeterminate");return}P(this,B).remove("indeterminate"),P(this,ce).setProperty("--progressBar-percent",`${P(this,G)}%`)}setWidth(J){if(!J)return;const ue=J.parentNode.offsetWidth-J.offsetWidth;ue>0&&P(this,ce).setProperty("--progressBar-end-offset",`${ue}px`)}setDisableAutoFetch(J=5e3){isNaN(P(this,G))||(P(this,$)&&clearTimeout(P(this,$)),this.show(),Ee(this,$,setTimeout(()=>{Ee(this,$,null),this.hide()},J)))}hide(){!P(this,Q)||(Ee(this,Q,!1),P(this,B).add("hidden"))}show(){P(this,Q)||(Ee(this,Q,!0),P(this,B).remove("hidden"))}}B=new WeakMap,$=new WeakMap,G=new WeakMap,ce=new WeakMap,Q=new WeakMap,_.ProgressBar=ie;function F(){let q=document,J=q.activeElement||q.querySelector(":focus");for(;J!=null&&J.shadowRoot;)q=J.shadowRoot,J=q.activeElement||q.querySelector(":focus");return J}function N(q){let J=D.VERTICAL,fe=M.NONE;switch(q){case"SinglePage":J=D.PAGE;break;case"OneColumn":break;case"TwoPageLeft":J=D.PAGE;case"TwoColumnLeft":fe=M.ODD;break;case"TwoPageRight":J=D.PAGE;case"TwoColumnRight":fe=M.EVEN;break}return{scrollMode:J,spreadMode:fe}}function o(q){switch(q){case"UseNone":return S.NONE;case"UseThumbs":return S.THUMBS;case"UseOutlines":return S.OUTLINE;case"UseAttachments":return S.ATTACHMENTS;case"UseOC":return S.LAYERS}return S.NONE}function m(q,J,fe=null){q.classList.toggle("toggled",J),q.setAttribute("aria-checked",J),fe==null||fe.classList.toggle("hidden",!J)}function T(q,J,fe=null){q.classList.toggle("toggled",J),q.setAttribute("aria-expanded",J),fe==null||fe.classList.toggle("hidden",!J)}},(c,_,v)=>{var A,f,b,tn;Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationLayerBuilder=void 0;var a=v(4),l=v(5),w=v(2);class R{constructor({pageDiv:L,pdfPage:S,linkService:E,downloadManager:D,annotationStorage:M=null,imageResourcesPath:O="",renderForms:s=!0,l10n:u=l.NullL10n,enableScripting:C=!1,hasJSActionsPromise:g=null,fieldObjectsPromise:y=null,annotationCanvasMap:U=null,accessibilityManager:Y=null}){oe(this,b);oe(this,A,0);oe(this,f,null);this.pageDiv=L,this.pdfPage=S,this.linkService=E,this.downloadManager=D,this.imageResourcesPath=O,this.renderForms=s,this.l10n=u,this.annotationStorage=M,this.enableScripting=C,this._hasJSActionsPromise=g||Promise.resolve(!1),this._fieldObjectsPromise=y||Promise.resolve(null),this._annotationCanvasMap=U,this._accessibilityManager=Y,this.div=null,this._cancelled=!1,this._eventBus=E.eventBus}async render(L,S="display"){var O;if(this.div){if(this._cancelled||P(this,A)===0)return;a.AnnotationLayer.update({viewport:L.clone({dontFlip:!0}),div:this.div,annotationCanvasMap:this._annotationCanvasMap});return}const[E,D,M]=await Promise.all([this.pdfPage.getAnnotations({intent:S}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(!this._cancelled){if(Ee(this,A,E.length),this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),P(this,A)===0){this.hide();return}a.AnnotationLayer.render({viewport:L.clone({dontFlip:!0}),div:this.div,annotations:E,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:D,fieldObjects:M,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}),this.l10n.translate(this.div),this.linkService.isInPresentationMode&&de(this,b,tn).call(this,w.PresentationModeState.FULLSCREEN),P(this,f)||(Ee(this,f,s=>{de(this,b,tn).call(this,s.state)}),(O=this._eventBus)==null||O._on("presentationmodechanged",P(this,f)))}}cancel(){var L;this._cancelled=!0,P(this,f)&&((L=this._eventBus)==null||L._off("presentationmodechanged",P(this,f)),Ee(this,f,null))}hide(){!this.div||(this.div.hidden=!0)}}A=new WeakMap,f=new WeakMap,b=new WeakSet,tn=function(L){if(!this.div)return;let S=!1;switch(L){case w.PresentationModeState.FULLSCREEN:S=!0;break;case w.PresentationModeState.NORMAL:break;default:return}for(const E of this.div.childNodes)E.hasAttribute("data-internal-link")||(E.inert=S)},_.AnnotationLayerBuilder=R},c=>{let _;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?_=window["pdfjs-dist/build/pdf"]:_=requirePdf(),c.exports=_},(c,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NullL10n=void 0,_.fixupLangCode=w,_.getL10nFallback=a;const v={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};v.print_progress_percent="{{progress}}%";function a(f,b){switch(f){case"find_match_count":f=`find_match_count[${b.total===1?"one":"other"}]`;break;case"find_match_count_limit":f=`find_match_count_limit[${b.limit===1?"one":"other"}]`;break}return v[f]||""}const l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function w(f){return l[f==null?void 0:f.toLowerCase()]||f}function R(f,b){return b?f.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(k,I)=>I in b?b[I]:"{{"+I+"}}"):f}const A={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(f,b=null,k=a(f,b)){return R(k,b)},async translate(f){}};_.NullL10n=A},(c,_,v)=>{var R;Object.defineProperty(_,"__esModule",{value:!0}),_.DownloadManager=void 0;var a=v(4);function l(A,f){const b=document.createElement("a");if(!b.click)throw new Error('DownloadManager: "a.click()" is not supported.');b.href=A,b.target="_parent","download"in b&&(b.download=f),(document.body||document.documentElement).append(b),b.click(),b.remove()}class w{constructor(){oe(this,R,new WeakMap)}downloadUrl(f,b,k){if(!(0,a.createValidAbsoluteUrl)(f,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${f}`);return}l(f+"#pdfjs.action=download",b)}downloadData(f,b,k){const I=URL.createObjectURL(new Blob([f],{type:k}));l(I,b)}openOrDownloadData(f,b,k){const L=(0,a.isPdfFile)(k)?"application/pdf":"";return this.downloadData(b,k,L),!1}download(f,b,k,I){const L=URL.createObjectURL(f);l(L,k)}}R=new WeakMap,_.DownloadManager=w},(c,_)=>{var R;Object.defineProperty(_,"__esModule",{value:!0}),_.WaitOnType=_.EventBus=_.AutomationEventBus=void 0,_.waitOnEventOrTimeout=a;const v={EVENT:"event",TIMEOUT:"timeout"};_.WaitOnType=v;function a({target:A,name:f,delay:b=0}){return new Promise(function(k,I){if(typeof A!="object"||!(f&&typeof f=="string")||!(Number.isInteger(b)&&b>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function L(M){A instanceof l?A._off(f,S):A.removeEventListener(f,S),D&&clearTimeout(D),k(M)}const S=L.bind(null,v.EVENT);A instanceof l?A._on(f,S):A.addEventListener(f,S);const E=L.bind(null,v.TIMEOUT),D=setTimeout(E,b)})}class l{constructor(){oe(this,R,Object.create(null))}on(f,b,k=null){this._on(f,b,{external:!0,once:k==null?void 0:k.once})}off(f,b,k=null){this._off(f,b,{external:!0,once:k==null?void 0:k.once})}dispatch(f,b){const k=P(this,R)[f];if(!k||k.length===0)return;let I;for(const{listener:L,external:S,once:E}of k.slice(0)){if(E&&this._off(f,L),S){(I||(I=[])).push(L);continue}L(b)}if(I){for(const L of I)L(b);I=null}}_on(f,b,k=null){var L;((L=P(this,R))[f]||(L[f]=[])).push({listener:b,external:(k==null?void 0:k.external)===!0,once:(k==null?void 0:k.once)===!0})}_off(f,b,k=null){const I=P(this,R)[f];if(!!I){for(let L=0,S=I.length;L<S;L++)if(I[L].listener===b){I.splice(L,1);return}}}}R=new WeakMap,_.EventBus=l;class w extends l{dispatch(f,b){throw new Error("Not implemented: AutomationEventBus.dispatch")}}_.AutomationEventBus=w},(c,_,v)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericL10n=void 0,v(9);var a=v(5);const l=document.webL10n;class w{constructor(A){this._lang=A,this._ready=new Promise((f,b)=>{l.setLanguage((0,a.fixupLangCode)(A),()=>{f(l)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(A,f=null,b=(0,a.getL10nFallback)(A,f)){return(await this._ready).get(A,f,b)}async translate(A){return(await this._ready).translate(A)}}_.GenericL10n=w},()=>{document.webL10n=function(c,_,v){var a={},l="",w="textContent",R="",A={},f="loading",b=!0;function k(){return _.querySelectorAll('link[type="application/l10n"]')}function I(){var X=_.querySelector('script[type="application/l10n"]');return X?JSON.parse(X.innerHTML):null}function L(X){return X?X.querySelectorAll("*[data-l10n-id]"):[]}function S(X){if(!X)return{};var K=X.getAttribute("data-l10n-id"),ne=X.getAttribute("data-l10n-args"),ee={};if(ne)try{ee=JSON.parse(ne)}catch{console.warn("could not parse arguments for #"+K)}return{id:K,args:ee}}function E(X,K,ne){K=K||function(ve){},ne=ne||function(){};var ee=new XMLHttpRequest;ee.open("GET",X,b),ee.overrideMimeType&&ee.overrideMimeType("text/plain; charset=utf-8"),ee.onreadystatechange=function(){ee.readyState==4&&(ee.status==200||ee.status===0?K(ee.responseText):ne())},ee.onerror=ne,ee.ontimeout=ne;try{ee.send(null)}catch{ne()}}function D(X,K,ne,ee){var re=X.replace(/[^\/]*$/,"")||"./";function ve(we){return we.lastIndexOf("\\")<0?we:we.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function Z(we,Ce){var le={},V=/^\s*|\s*$/,H=/^\s*#|^\s*$/,z=/^\s*\[(.*)\]\s*$/,ae=/^\s*@import\s+url\((.*)\)\s*$/i,se=/^([^=\s]*)\s*=\s*(.+)$/;function pe(F,N,o){var m=F.replace(V,"").split(/[\r\n]+/),T="*",B=K.split("-",1)[0],$=!1,G="";function ce(){for(;;){if(!m.length){o();return}var Q=m.shift();if(!H.test(Q)){if(N){if(G=z.exec(Q),G){T=G[1].toLowerCase(),$=T!=="*"&&T!==K&&T!==B;continue}else if($)continue;if(G=ae.exec(Q),G){ie(re+G[1],ce);return}}var q=Q.match(se);q&&q.length==3&&(le[q[1]]=ve(q[2]))}}}ce()}function ie(F,N){E(F,function(o){pe(o,!1,N)},function(){console.warn(F+" not found."),N()})}pe(we,!0,function(){Ce(le)})}E(X,function(we){l+=we,Z(we,function(Ce){for(var le in Ce){var V,H,z=le.lastIndexOf(".");z>0?(V=le.substring(0,z),H=le.substring(z+1)):(V=le,H=w),a[V]||(a[V]={}),a[V][H]=Ce[le]}ne&&ne()})},ee)}function M(X,K){X&&(X=X.toLowerCase()),K=K||function(){},O(),R=X;var ne=k(),ee=ne.length;if(ee===0){var re=I();if(re&&re.locales&&re.default_locale){if(console.log("using the embedded JSON directory, early way out"),a=re.locales[X],!a){var ve=re.default_locale.toLowerCase();for(var Z in re.locales)if(Z=Z.toLowerCase(),Z===X){a=re.locales[X];break}else Z===ve&&(a=re.locales[ve])}K()}else console.log("no resource to load, early way out");f="complete";return}var we=null,Ce=0;we=function(){Ce++,Ce>=ee&&(K(),f="complete")};function le(z){var ae=z.href;this.load=function(se,pe){D(ae,se,pe,function(){console.warn(ae+" not found."),console.warn('"'+se+'" resource not found'),R="",pe()})}}for(var V=0;V<ee;V++){var H=new le(ne[V]);H.load(X,we)}}function O(){a={},l="",R=""}function s(X){var K={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function ne(Z,we){return we.indexOf(Z)!==-1}function ee(Z,we,Ce){return we<=Z&&Z<=Ce}var re={0:function(Z){return"other"},1:function(Z){return ee(Z%100,3,10)?"few":Z===0?"zero":ee(Z%100,11,99)?"many":Z==2?"two":Z==1?"one":"other"},2:function(Z){return Z!==0&&Z%10===0?"many":Z==2?"two":Z==1?"one":"other"},3:function(Z){return Z==1?"one":"other"},4:function(Z){return ee(Z,0,1)?"one":"other"},5:function(Z){return ee(Z,0,2)&&Z!=2?"one":"other"},6:function(Z){return Z===0?"zero":Z%10==1&&Z%100!=11?"one":"other"},7:function(Z){return Z==2?"two":Z==1?"one":"other"},8:function(Z){return ee(Z,3,6)?"few":ee(Z,7,10)?"many":Z==2?"two":Z==1?"one":"other"},9:function(Z){return Z===0||Z!=1&&ee(Z%100,1,19)?"few":Z==1?"one":"other"},10:function(Z){return ee(Z%10,2,9)&&!ee(Z%100,11,19)?"few":Z%10==1&&!ee(Z%100,11,19)?"one":"other"},11:function(Z){return ee(Z%10,2,4)&&!ee(Z%100,12,14)?"few":Z%10===0||ee(Z%10,5,9)||ee(Z%100,11,14)?"many":Z%10==1&&Z%100!=11?"one":"other"},12:function(Z){return ee(Z,2,4)?"few":Z==1?"one":"other"},13:function(Z){return ee(Z%10,2,4)&&!ee(Z%100,12,14)?"few":Z!=1&&ee(Z%10,0,1)||ee(Z%10,5,9)||ee(Z%100,12,14)?"many":Z==1?"one":"other"},14:function(Z){return ee(Z%100,3,4)?"few":Z%100==2?"two":Z%100==1?"one":"other"},15:function(Z){return Z===0||ee(Z%100,2,10)?"few":ee(Z%100,11,19)?"many":Z==1?"one":"other"},16:function(Z){return Z%10==1&&Z!=11?"one":"other"},17:function(Z){return Z==3?"few":Z===0?"zero":Z==6?"many":Z==2?"two":Z==1?"one":"other"},18:function(Z){return Z===0?"zero":ee(Z,0,2)&&Z!==0&&Z!=2?"one":"other"},19:function(Z){return ee(Z,2,10)?"few":ee(Z,0,1)?"one":"other"},20:function(Z){return(ee(Z%10,3,4)||Z%10==9)&&!(ee(Z%100,10,19)||ee(Z%100,70,79)||ee(Z%100,90,99))?"few":Z%1e6===0&&Z!==0?"many":Z%10==2&&!ne(Z%100,[12,72,92])?"two":Z%10==1&&!ne(Z%100,[11,71,91])?"one":"other"},21:function(Z){return Z===0?"zero":Z==1?"one":"other"},22:function(Z){return ee(Z,0,1)||ee(Z,11,99)?"one":"other"},23:function(Z){return ee(Z%10,1,2)||Z%20===0?"one":"other"},24:function(Z){return ee(Z,3,10)||ee(Z,13,19)?"few":ne(Z,[2,12])?"two":ne(Z,[1,11])?"one":"other"}},ve=K[X.replace(/-.*$/,"")];return ve in re?re[ve]:(console.warn("plural form unknown for ["+X+"]"),function(){return"other"})}A.plural=function(X,K,ne,ee){var re=parseFloat(K);if(isNaN(re)||ee!=w)return X;A._pluralRules||(A._pluralRules=s(R));var ve="["+A._pluralRules(re)+"]";return re===0&&ne+"[zero]"in a?X=a[ne+"[zero]"][ee]:re==1&&ne+"[one]"in a?X=a[ne+"[one]"][ee]:re==2&&ne+"[two]"in a?X=a[ne+"[two]"][ee]:ne+ve in a?X=a[ne+ve][ee]:ne+"[other]"in a&&(X=a[ne+"[other]"][ee]),X};function u(X,K,ne){var ee=a[X];if(!ee){if(console.warn("#"+X+" is undefined."),!ne)return null;ee=ne}var re={};for(var ve in ee){var Z=ee[ve];Z=C(Z,K,X,ve),Z=g(Z,K,X),re[ve]=Z}return re}function C(X,K,ne,ee){var re=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,ve=re.exec(X);if(!ve||!ve.length)return X;var Z=ve[1],we=ve[2],Ce;if(K&&we in K?Ce=K[we]:we in a&&(Ce=a[we]),Z in A){var le=A[Z];X=le(X,Ce,ne,ee)}return X}function g(X,K,ne){var ee=/\{\{\s*(.+?)\s*\}\}/g;return X.replace(ee,function(re,ve){return K&&ve in K?K[ve]:ve in a?a[ve]:(console.log("argument {{"+ve+"}} for #"+ne+" is undefined."),re)})}function y(X){var K=S(X);if(!!K.id){var ne=u(K.id,K.args);if(!ne){console.warn("#"+K.id+" is undefined.");return}if(ne[w]){if(U(X)===0)X[w]=ne[w];else{for(var ee=X.childNodes,re=!1,ve=0,Z=ee.length;ve<Z;ve++)ee[ve].nodeType===3&&/\S/.test(ee[ve].nodeValue)&&(re?ee[ve].nodeValue="":(ee[ve].nodeValue=ne[w],re=!0));if(!re){var we=_.createTextNode(ne[w]);X.prepend(we)}}delete ne[w]}for(var Ce in ne)X[Ce]=ne[Ce]}}function U(X){if(X.children)return X.children.length;if(typeof X.childElementCount<"u")return X.childElementCount;for(var K=0,ne=0;ne<X.childNodes.length;ne++)K+=X.nodeType===1?1:0;return K}function Y(X){X=X||_.documentElement;for(var K=L(X),ne=K.length,ee=0;ee<ne;ee++)y(K[ee]);y(X)}return{get:function(X,K,ne){var ee=X.lastIndexOf("."),re=w;ee>0&&(re=X.substring(ee+1),X=X.substring(0,ee));var ve;ne&&(ve={},ve[re]=ne);var Z=u(X,K,ve);return Z&&re in Z?Z[re]:"{{"+X+"}}"},getData:function(){return a},getText:function(){return l},getLanguage:function(){return R},setLanguage:function(X,K){M(X,function(){K&&K()})},getDirection:function(){var X=["ar","he","fa","ps","ur"],K=R.split("-",1)[0];return X.indexOf(K)>=0?"rtl":"ltr"},translate:Y,getReadyState:function(){return f},ready:function(X){if(X)f=="complete"||f=="interactive"?c.setTimeout(function(){X()}):_.addEventListener&&_.addEventListener("localized",function K(){_.removeEventListener("localized",K),X()});else return}}}(window,document)},(c,_,v)=>{var K,ne,ee,re,Qn,Z,nn,Ce,sn,V,ei,z,ti,se,ni,ie,rn,N,ii,m,si,B,Tt,G,bt,Q,gt,J,ri,ue,an,ye,on,Me,kt,ge,ai,Ne,ln,j,cn,te,yt;Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFindController=_.FindState=void 0;var a=v(2),l=v(11),w=v(4);const R={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};_.FindState=R;const A=250,f=-50,b=-400,k={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},I=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let L;const S=/\p{M}+/gu,E=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,D=/([^\p{M}])\p{M}*$/u,M=/^\p{M}*([^\p{M}])/u,O=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,s=new Map,u="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",C=new Map;let g=null,y=null;function U(Te){const _e=[];let Se;for(;(Se=O.exec(Te))!==null;){let{index:De}=Se;for(const Ue of Se[0]){let He=s.get(Ue);He||(He=Ue.normalize("NFD").length,s.set(Ue,He)),_e.push([He,De++])}}let Ae;if(_e.length===0&&g)Ae=g;else if(_e.length>0&&y)Ae=y;else{const De=Object.keys(k).join(""),Ue=(0,l.getNormalizeWithNFKC)(),ze=`([${De}])|([${Ue}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;_e.length===0?Ae=g=new RegExp(ze+"|(\\u0000)","gum"):Ae=y=new RegExp(ze+`|(${u})`,"gum")}const Le=[];for(;(Se=S.exec(Te))!==null;)Le.push([Se[0].length,Se.index]);let Be=Te.normalize("NFD");const he=[[0,0]];let Pe=0,Oe=0,ke=0,Fe=0,Ve=0,$e=!1;return Be=Be.replace(Ae,(De,Ue,He,We,ze,qe,Xe,tt,et,Ge)=>{var nt,Qe,ct;if(Ge-=Fe,Ue){const Ye=k[Ue],Je=Ye.length;for(let Ze=1;Ze<Je;Ze++)he.push([Ge-ke+Ze,ke-Ze]);return ke-=Je-1,Ye}if(He){let Ye=C.get(He);Ye||(Ye=He.normalize("NFKC"),C.set(He,Ye));const Je=Ye.length;for(let Ze=1;Ze<Je;Ze++)he.push([Ge-ke+Ze,ke-Ze]);return ke-=Je-1,Ye}if(We)return $e=!0,Ge+Ve===((nt=Le[Pe])==null?void 0:nt[1])?++Pe:(he.push([Ge-1-ke+1,ke-1]),ke-=1,Fe+=1),he.push([Ge-ke+1,ke]),Fe+=1,Ve+=1,We.charAt(0);if(ze){const Ye=ze.endsWith(`
`),Je=Ye?ze.length-2:ze.length;$e=!0;let Ze=Je;Ge+Ve===((Qe=Le[Pe])==null?void 0:Qe[1])&&(Ze-=Le[Pe][0],++Pe);for(let rt=1;rt<=Ze;rt++)he.push([Ge-1-ke+rt,ke-rt]);return ke-=Ze,Fe+=Ze,Ye?(Ge+=Je-1,he.push([Ge-ke+1,1+ke]),ke+=1,Fe+=1,Ve+=1,ze.slice(0,Je)):ze}if(qe){const Ye=qe.length-2;return he.push([Ge-ke+Ye,1+ke]),ke+=1,Fe+=1,Ve+=1,qe.slice(0,-2)}if(Xe){const Ye=Xe.length-1;return he.push([Ge-ke+Ye,ke]),Fe+=1,Ve+=1,Xe.slice(0,-1)}if(tt)return he.push([Ge-ke+1,ke-1]),ke-=1,Fe+=1,Ve+=1," ";if(Ge+Ve===((ct=_e[Oe])==null?void 0:ct[1])){const Ye=_e[Oe][0]-1;++Oe;for(let Je=1;Je<=Ye;Je++)he.push([Ge-(ke-Je),ke-Je]);ke-=Ye,Fe+=Ye}return et}),he.push([Be.length,ke]),[Be,he,$e]}function Y(Te,_e,Se){if(!Te)return[_e,Se];const Ae=_e,Le=_e+Se-1;let Be=(0,a.binarySearchFirstItem)(Te,Fe=>Fe[0]>=Ae);Te[Be][0]>Ae&&--Be;let he=(0,a.binarySearchFirstItem)(Te,Fe=>Fe[0]>=Le,Be);Te[he][0]>Le&&--he;const Pe=Ae+Te[Be][1],ke=Le+Te[he][1]+1-Pe;return[Pe,ke]}class X{constructor({linkService:_e,eventBus:Se,updateMatchesCountOnProgress:Ae=!0}){oe(this,re);oe(this,Z);oe(this,Ce);oe(this,V);oe(this,z);oe(this,se);oe(this,ie);oe(this,N);oe(this,m);oe(this,B);oe(this,G);oe(this,Q);oe(this,J);oe(this,ue);oe(this,ye);oe(this,Me);oe(this,ge);oe(this,Ne);oe(this,j);oe(this,te);oe(this,K,null);oe(this,ne,!0);oe(this,ee,0);this._linkService=_e,this._eventBus=Se,Ee(this,ne,Ae),this.onIsPageVisible=null,de(this,Z,nn).call(this),Se._on("find",de(this,re,Qn).bind(this)),Se._on("findbarclose",de(this,ge,ai).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return P(this,K)}setDocument(_e){this._pdfDocument&&de(this,Z,nn).call(this),_e&&(this._pdfDocument=_e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:_e=null,selectedLeft:Se=0,pageIndex:Ae=-1,matchIndex:Le=-1}){if(!this._scrollMatches||!_e)return;if(Le===-1||Le!==this._selected.matchIdx)return;if(Ae===-1||Ae!==this._selected.pageIdx)return;this._scrollMatches=!1;const Be={top:f,left:Se+b};(0,a.scrollIntoView)(_e,Be,!0)}}K=new WeakMap,ne=new WeakMap,ee=new WeakMap,re=new WeakSet,Qn=function(_e){if(!_e)return;_e.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof _e.query=="string"&&(_e.query=_e.query.match(/\S+/g)));const Se=this._pdfDocument,{type:Ae}=_e;(P(this,K)===null||de(this,V,ei).call(this,_e))&&(this._dirtyMatch=!0),Ee(this,K,_e),Ae!=="highlightallchange"&&de(this,te,yt).call(this,R.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Se&&this._pdfDocument!==Se)return;de(this,m,si).call(this);const Le=!this._highlightMatches,Be=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Ae?this._dirtyMatch?de(this,Q,gt).call(this):Ae==="again"?(de(this,Q,gt).call(this),Le&&P(this,K).highlightAll&&de(this,G,bt).call(this)):Ae==="highlightallchange"?(Be?de(this,Q,gt).call(this):this._highlightMatches=!0,de(this,G,bt).call(this)):de(this,Q,gt).call(this):this._findTimeout=setTimeout(()=>{de(this,Q,gt).call(this),this._findTimeout=null},A)})},Z=new WeakSet,nn=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],Ee(this,ee,0),Ee(this,K,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new w.PromiseCapability},Ce=new WeakSet,sn=function(){const{query:_e}=P(this,K);return typeof _e=="string"?(_e!==this._rawQuery&&(this._rawQuery=_e,[this._normalizedQuery]=U(_e)),this._normalizedQuery):(_e||[]).filter(Se=>!!Se).map(Se=>U(Se)[0])},V=new WeakSet,ei=function(_e){var he,Pe;const Se=_e.query,Ae=P(this,K).query,Le=typeof Se;if(Le!==typeof Ae)return!0;if(Le==="string"){if(Se!==Ae)return!0}else if(JSON.stringify(Se)!==JSON.stringify(Ae))return!0;switch(_e.type){case"again":const Oe=this._selected.pageIdx+1,ke=this._linkService;return Oe>=1&&Oe<=ke.pagesCount&&Oe!==ke.page&&!((Pe=(he=this.onIsPageVisible)==null?void 0:he.call(this,Oe))==null||Pe);case"highlightallchange":return!1}return!0},z=new WeakSet,ti=function(_e,Se,Ae){let Le=_e.slice(0,Se).match(D);if(Le){const Be=_e.charCodeAt(Se),he=Le[1].charCodeAt(0);if((0,l.getCharacterType)(Be)===(0,l.getCharacterType)(he))return!1}if(Le=_e.slice(Se+Ae).match(M),Le){const Be=_e.charCodeAt(Se+Ae-1),he=Le[1].charCodeAt(0);if((0,l.getCharacterType)(Be)===(0,l.getCharacterType)(he))return!1}return!0},se=new WeakSet,ni=function(_e,Se,Ae,Le){const Be=this._pageMatches[Ae]=[],he=this._pageMatchesLength[Ae]=[];if(!_e)return;const Pe=this._pageDiffs[Ae];let Oe;for(;(Oe=_e.exec(Le))!==null;){if(Se&&!de(this,z,ti).call(this,Le,Oe.index,Oe[0].length))continue;const[ke,Fe]=Y(Pe,Oe.index,Oe[0].length);Fe&&(Be.push(ke),he.push(Fe))}},ie=new WeakSet,rn=function(_e,Se){const{matchDiacritics:Ae}=P(this,K);let Le=!1;_e=_e.replaceAll(E,(he,Pe,Oe,ke,Fe,Ve)=>Pe?`[ ]*\\${Pe}[ ]*`:Oe?`[ ]*${Oe}[ ]*`:ke?"[ ]+":Ae?Fe||Ve:Fe?I.has(Fe.charCodeAt(0))?Fe:"":Se?(Le=!0,`${Ve}\\p{M}*`):Ve);const Be="[ ]*";return _e.endsWith(Be)&&(_e=_e.slice(0,_e.length-Be.length)),Ae&&Se&&(L||(L=String.fromCharCode(...I)),Le=!0,_e=`${_e}(?=[${L}]|[^\\p{M}]|$)`),[Le,_e]},N=new WeakSet,ii=function(_e){let Se=P(this,Ce,sn);if(Se.length===0)return;const{caseSensitive:Ae,entireWord:Le}=P(this,K),Be=this._pageContents[_e],he=this._hasDiacritics[_e];let Pe=!1;typeof Se=="string"?[Pe,Se]=de(this,ie,rn).call(this,Se,he):Se=Se.sort().reverse().map(Fe=>{const[Ve,$e]=de(this,ie,rn).call(this,Fe,he);return Pe||(Pe=Ve),`(${$e})`}).join("|");const Oe=`g${Pe?"u":""}${Ae?"":"i"}`;Se=Se?new RegExp(Se,Oe):null,de(this,se,ni).call(this,Se,Le,_e,Be),P(this,K).highlightAll&&de(this,B,Tt).call(this,_e),this._resumePageIdx===_e&&(this._resumePageIdx=null,de(this,ue,an).call(this));const ke=this._pageMatches[_e].length;this._matchesCountTotal+=ke,P(this,ne)?ke>0&&de(this,j,cn).call(this):++mt(this,ee)._===this._linkService.pagesCount&&de(this,j,cn).call(this)},m=new WeakSet,si=function(){if(this._extractTextPromises.length>0)return;let _e=Promise.resolve();const Se={disableNormalization:!0};for(let Ae=0,Le=this._linkService.pagesCount;Ae<Le;Ae++){const Be=new w.PromiseCapability;this._extractTextPromises[Ae]=Be.promise,_e=_e.then(()=>this._pdfDocument.getPage(Ae+1).then(he=>he.getTextContent(Se)).then(he=>{const Pe=[];for(const Oe of he.items)Pe.push(Oe.str),Oe.hasEOL&&Pe.push(`
`);[this._pageContents[Ae],this._pageDiffs[Ae],this._hasDiacritics[Ae]]=U(Pe.join("")),Be.resolve()},he=>{console.error(`Unable to get text content for page ${Ae+1}`,he),this._pageContents[Ae]="",this._pageDiffs[Ae]=null,this._hasDiacritics[Ae]=!1,Be.resolve()}))}},B=new WeakSet,Tt=function(_e){this._scrollMatches&&this._selected.pageIdx===_e&&(this._linkService.page=_e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:_e})},G=new WeakSet,bt=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Q=new WeakSet,gt=function(){const _e=P(this,K).findPrevious,Se=this._linkService.page-1,Ae=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Se,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,Ee(this,ee,0),this._matchesCountTotal=0,de(this,G,bt).call(this);for(let he=0;he<Ae;he++)this._pendingFindMatches.has(he)||(this._pendingFindMatches.add(he),this._extractTextPromises[he].then(()=>{this._pendingFindMatches.delete(he),de(this,N,ii).call(this,he)}))}if(P(this,Ce,sn).length===0){de(this,te,yt).call(this,R.FOUND);return}if(this._resumePageIdx)return;const Be=this._offset;if(this._pagesToSearch=Ae,Be.matchIdx!==null){const he=this._pageMatches[Be.pageIdx].length;if(!_e&&Be.matchIdx+1<he||_e&&Be.matchIdx>0){Be.matchIdx=_e?Be.matchIdx-1:Be.matchIdx+1,de(this,Me,kt).call(this,!0);return}de(this,ye,on).call(this,_e)}de(this,ue,an).call(this)},J=new WeakSet,ri=function(_e){const Se=this._offset,Ae=_e.length,Le=P(this,K).findPrevious;return Ae?(Se.matchIdx=Le?Ae-1:0,de(this,Me,kt).call(this,!0),!0):(de(this,ye,on).call(this,Le),Se.wrapped&&(Se.matchIdx=null,this._pagesToSearch<0)?(de(this,Me,kt).call(this,!1),!0):!1)},ue=new WeakSet,an=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let _e=null;do{const Se=this._offset.pageIdx;if(_e=this._pageMatches[Se],!_e){this._resumePageIdx=Se;break}}while(!de(this,J,ri).call(this,_e))},ye=new WeakSet,on=function(_e){const Se=this._offset,Ae=this._linkService.pagesCount;Se.pageIdx=_e?Se.pageIdx-1:Se.pageIdx+1,Se.matchIdx=null,this._pagesToSearch--,(Se.pageIdx>=Ae||Se.pageIdx<0)&&(Se.pageIdx=_e?Ae-1:0,Se.wrapped=!0)},Me=new WeakSet,kt=function(_e=!1){let Se=R.NOT_FOUND;const Ae=this._offset.wrapped;if(this._offset.wrapped=!1,_e){const Le=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Se=Ae?R.WRAPPED:R.FOUND,Le!==-1&&Le!==this._selected.pageIdx&&de(this,B,Tt).call(this,Le)}de(this,te,yt).call(this,Se,P(this,K).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,de(this,B,Tt).call(this,this._selected.pageIdx))},ge=new WeakSet,ai=function(_e){const Se=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Se&&this._pdfDocument!==Se||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),de(this,te,yt).call(this,R.FOUND),this._highlightMatches=!1,de(this,G,bt).call(this))})},Ne=new WeakSet,ln=function(){var Be;const{pageIdx:_e,matchIdx:Se}=this._selected;let Ae=0,Le=this._matchesCountTotal;if(Se!==-1){for(let he=0;he<_e;he++)Ae+=((Be=this._pageMatches[he])==null?void 0:Be.length)||0;Ae+=Se+1}return(Ae<1||Ae>Le)&&(Ae=Le=0),{current:Ae,total:Le}},j=new WeakSet,cn=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:de(this,Ne,ln).call(this)})},te=new WeakSet,yt=function(_e,Se=!1){var Ae,Le;!P(this,ne)&&(P(this,ee)!==this._linkService.pagesCount||_e===R.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:_e,previous:Se,matchesCount:de(this,Ne,ln).call(this),rawQuery:(Le=(Ae=P(this,K))==null?void 0:Ae.query)!=null?Le:null})},_.PDFFindController=X},(c,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CharacterType=void 0,_.getCharacterType=S,_.getNormalizeWithNFKC=D;const v={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};_.CharacterType=v;function a(M){return M<11904}function l(M){return(M&65408)===0}function w(M){return M>=97&&M<=122||M>=65&&M<=90}function R(M){return M>=48&&M<=57}function A(M){return M===32||M===9||M===13||M===10}function f(M){return M>=13312&&M<=40959||M>=63744&&M<=64255}function b(M){return M>=12448&&M<=12543}function k(M){return M>=12352&&M<=12447}function I(M){return M>=65376&&M<=65439}function L(M){return(M&65408)===3584}function S(M){return a(M)?l(M)?A(M)?v.SPACE:w(M)||R(M)||M===95?v.ALPHA_LETTER:v.PUNCT:L(M)?v.THAI_LETTER:M===160?v.SPACE:v.ALPHA_LETTER:f(M)?v.HAN_LETTER:b(M)?v.KATAKANA_LETTER:k(M)?v.HIRAGANA_LETTER:I(M)?v.HALFWIDTH_KATAKANA_LETTER:v.ALPHA_LETTER}let E;function D(){return E||(E="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6"),E}},(c,_,v)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFHistory=void 0,_.isDestArraysEqual=I,_.isDestHashesEqual=k;var a=v(2),l=v(7);const w=1e3,R=50,A=1e3;function f(){return document.location.hash}class b{constructor({linkService:S,eventBus:E}){this.linkService=S,this.eventBus=E,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",D=>{this._isPagesLoaded=!!D.pagesCount},{once:!0})})}initialize({fingerprint:S,resetHistory:E=!1,updateUrl:D=!1}){if(!S||typeof S!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const M=this._fingerprint!==""&&this._fingerprint!==S;this._fingerprint=S,this._updateUrl=D===!0,this._initialized=!0,this._bindEvents();const O=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=f(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(O,!0)||E){const{hash:u,page:C,rotation:g}=this._parseCurrentHash(!0);if(!u||M||E){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:u,page:C,rotation:g},!0);return}const s=O.destination;this._updateInternalState(s,O.uid,!0),s.rotation!==void 0&&(this._initialRotation=s.rotation),s.dest?(this._initialBookmark=JSON.stringify(s.dest),this._destination.page=null):s.hash?this._initialBookmark=s.hash:s.page&&(this._initialBookmark=`page=${s.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:S=null,explicitDest:E,pageNumber:D}){if(!this._initialized)return;if(S&&typeof S!="string"){console.error(`PDFHistory.push: "${S}" is not a valid namedDest parameter.`);return}else if(Array.isArray(E)){if(!this._isValidPage(D)&&(D!==null||this._destination)){console.error(`PDFHistory.push: "${D}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${E}" is not a valid explicitDest parameter.`);return}const M=S||JSON.stringify(E);if(!M)return;let O=!1;if(this._destination&&(k(this._destination.hash,M)||I(this._destination.dest,E))){if(this._destination.page)return;O=!0}this._popStateInProgress&&!O||(this._pushOrReplaceState({dest:E,hash:M,page:D,rotation:this.linkService.rotation},O),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(S){var E;if(!!this._initialized){if(!this._isValidPage(S)){console.error(`PDFHistory.pushPage: "${S}" is not a valid page number.`);return}((E=this._destination)==null?void 0:E.page)!==S&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${S}`,page:S,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const S=window.history.state;this._isValidState(S)&&S.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const S=window.history.state;this._isValidState(S)&&S.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(S,E=!1){const D=E||!this._destination,M={fingerprint:this._fingerprint,uid:D?this._uid:this._uid+1,destination:S};this._updateInternalState(S,M.uid);let O;if(this._updateUrl&&(S==null?void 0:S.hash)){const s=document.location.href.split("#")[0];s.startsWith("file://")||(O=`${s}#${S.hash}`)}D?window.history.replaceState(M,"",O):window.history.pushState(M,"",O)}_tryPushCurrentPosition(S=!1){if(!this._position)return;let E=this._position;if(S&&(E=Object.assign(Object.create(null),this._position),E.temporary=!0),!this._destination){this._pushOrReplaceState(E);return}if(this._destination.temporary){this._pushOrReplaceState(E,!0);return}if(this._destination.hash===E.hash||!this._destination.page&&this._numPositionUpdates<=R)return;let D=!1;if(this._destination.page>=E.first&&this._destination.page<=E.page){if(this._destination.dest!==void 0||!this._destination.first)return;D=!0}this._pushOrReplaceState(E,D)}_isValidPage(S){return Number.isInteger(S)&&S>0&&S<=this.linkService.pagesCount}_isValidState(S,E=!1){if(!S)return!1;if(S.fingerprint!==this._fingerprint)if(E){if(typeof S.fingerprint!="string"||S.fingerprint.length!==this._fingerprint.length)return!1;const[D]=performance.getEntriesByType("navigation");if((D==null?void 0:D.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(S.uid)||S.uid<0||S.destination===null||typeof S.destination!="object")}_updateInternalState(S,E,D=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),D&&(S==null?void 0:S.temporary)&&delete S.temporary,this._destination=S,this._uid=E,this._maxUid=Math.max(this._maxUid,E),this._numPositionUpdates=0}_parseCurrentHash(S=!1){const E=unescape(f()).substring(1),D=(0,a.parseQueryString)(E),M=D.get("nameddest")||"";let O=D.get("page")|0;return(!this._isValidPage(O)||S&&M.length>0)&&(O=null),{hash:E,page:O,rotation:this.linkService.rotation}}_updateViewarea({location:S}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:S.pdfOpenParams.substring(1),page:this.linkService.page,first:S.pageNumber,rotation:S.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},A))}_popState({state:S}){const E=f(),D=this._currentHash!==E;if(this._currentHash=E,!S){this._uid++;const{hash:O,page:s,rotation:u}=this._parseCurrentHash();this._pushOrReplaceState({hash:O,page:s,rotation:u},!0);return}if(!this._isValidState(S))return;this._popStateInProgress=!0,D&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:w}).then(()=>{this._blockHashChange--}));const M=S.destination;this._updateInternalState(M,S.uid,!0),(0,a.isValidRotation)(M.rotation)&&(this.linkService.rotation=M.rotation),M.dest?this.linkService.goToDestination(M.dest):M.hash?this.linkService.setHash(M.hash):M.page&&(this.linkService.page=M.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}_.PDFHistory=b;function k(L,S){return typeof L!="string"||typeof S!="string"?!1:L===S||(0,a.parseQueryString)(L).get("nameddest")===S}function I(L,S){function E(D,M){if(typeof D!=typeof M||Array.isArray(D)||Array.isArray(M))return!1;if(D!==null&&typeof D=="object"&&M!==null){if(Object.keys(D).length!==Object.keys(M).length)return!1;for(const O in D)if(!E(D[O],M[O]))return!1;return!0}return D===M||Number.isNaN(D)&&Number.isNaN(M)}if(!(Array.isArray(L)&&Array.isArray(S))||L.length!==S.length)return!1;for(let D=0,M=L.length;D<M;D++)if(!E(L[D],S[D]))return!1;return!0}},(c,_,v)=>{var s,u,C,g,y,U,Y,X,K,ne,Mt,re,un,Z,dn,Ce,hn,V,fn,z,oi,se,li,ie,pn;Object.defineProperty(_,"__esModule",{value:!0}),_.PDFPageView=void 0;var a=v(4),l=v(2),w=v(14),R=v(3),A=v(15),f=v(5),b=v(1),k=v(16),I=v(17),L=v(18),S=v(19),E=v(20);const D=A.compatibilityParams.maxCanvasPixels||16777216,M=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new b.SimpleLinkService}});class O{constructor(o){oe(this,ne);oe(this,re);oe(this,Z);oe(this,Ce);oe(this,V);oe(this,z);oe(this,se);oe(this,ie);oe(this,s,a.AnnotationMode.ENABLE_FORMS);oe(this,u,null);oe(this,C,null);oe(this,g,null);oe(this,y,null);oe(this,U,l.RenderingStates.INITIAL);oe(this,Y,l.TextLayerMode.ENABLE);oe(this,X,{initialOptionalContent:!0,regularAnnotations:!0});oe(this,K,new WeakMap);var $,G,ce,Q;const m=o.container,T=o.defaultViewport;this.id=o.id,this.renderingId="page"+this.id,Ee(this,u,o.layerProperties||M),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=o.scale||l.DEFAULT_SCALE,this.viewport=T,this.pdfPageRotate=T.rotation,this._optionalContentConfigPromise=o.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,Ee(this,Y,($=o.textLayerMode)!=null?$:l.TextLayerMode.ENABLE),Ee(this,s,(G=o.annotationMode)!=null?G:a.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=o.imageResourcesPath||"",this.useOnlyCssZoom=o.useOnlyCssZoom||!1,this.isOffscreenCanvasSupported=(ce=o.isOffscreenCanvasSupported)!=null?ce:!0,this.maxCanvasPixels=o.maxCanvasPixels||D,this.pageColors=o.pageColors||null,this.eventBus=o.eventBus,this.renderingQueue=o.renderingQueue,this.l10n=o.l10n||f.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!((Q=this.renderingQueue)!=null&&Q.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const B=document.createElement("div");if(B.className="page",B.setAttribute("data-page-number",this.id),B.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(q=>{B.setAttribute("aria-label",q)}),this.div=B,de(this,ne,Mt).call(this),m==null||m.append(B),this._isStandalone){m==null||m.style.setProperty("--scale-factor",this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:q}=o;q&&q.then(J=>{q===this._optionalContentConfigPromise&&(P(this,X).initialOptionalContent=J.hasInitialVisibility)})}}get renderingState(){return P(this,U)}set renderingState(o){if(o!==P(this,U))switch(Ee(this,U,o),P(this,C)&&(clearTimeout(P(this,C)),Ee(this,C,null)),o){case l.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case l.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),Ee(this,C,setTimeout(()=>{this.div.classList.add("loading"),Ee(this,C,null)},0));break;case l.RenderingStates.INITIAL:case l.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(o){this.pdfPage=o,this.pdfPageRotate=o.rotate;const m=(this.rotation+this.pdfPageRotate)%360;this.viewport=o.getViewport({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:m}),de(this,ne,Mt).call(this),this.reset()}destroy(){var o;this.reset(),(o=this.pdfPage)==null||o.cleanup()}get _textHighlighter(){return(0,a.shadow)(this,"_textHighlighter",new L.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:P(this,u).call(this).findController}))}_resetZoomLayer(o=!1){if(!this.zoomLayer)return;const m=this.zoomLayer.firstChild;P(this,K).delete(m),m.width=0,m.height=0,o&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:o=!1,keepAnnotationLayer:m=!1,keepAnnotationEditorLayer:T=!1,keepXfaLayer:B=!1,keepTextLayer:$=!1}={}){var me,ye,xe,Me,Ie;this.cancelRendering({keepAnnotationLayer:m,keepAnnotationEditorLayer:T,keepXfaLayer:B,keepTextLayer:$}),this.renderingState=l.RenderingStates.INITIAL;const G=this.div,ce=G.childNodes,Q=o&&this.zoomLayer||null,q=m&&((me=this.annotationLayer)==null?void 0:me.div)||null,J=T&&((ye=this.annotationEditorLayer)==null?void 0:ye.div)||null,fe=B&&((xe=this.xfaLayer)==null?void 0:xe.div)||null,ue=$&&((Me=this.textLayer)==null?void 0:Me.div)||null;for(let ge=ce.length-1;ge>=0;ge--){const Re=ce[ge];switch(Re){case Q:case q:case J:case fe:case ue:continue}Re.remove()}G.removeAttribute("data-loaded"),q&&this.annotationLayer.hide(),J&&this.annotationEditorLayer.hide(),fe&&this.xfaLayer.hide(),ue&&this.textLayer.hide(),(Ie=this.structTreeLayer)==null||Ie.hide(),Q||(this.canvas&&(P(this,K).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:o=0,rotation:m=null,optionalContentConfigPromise:T=null,drawingDelay:B=-1}){var q;this.scale=o||this.scale,typeof m=="number"&&(this.rotation=m),T instanceof Promise&&(this._optionalContentConfigPromise=T,T.then(J=>{T===this._optionalContentConfigPromise&&(P(this,X).initialOptionalContent=J.hasInitialVisibility)}));const $=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:$}),de(this,ne,Mt).call(this),this._isStandalone&&((q=this.div.parentNode)==null||q.style.setProperty("--scale-factor",this.viewport.scale));let G=!1;if(this.canvas&&this.maxCanvasPixels>0){const{width:J,height:fe}=this.viewport,{sx:ue,sy:me}=this.outputScale;(Math.floor(J)*ue|0)*(Math.floor(fe)*me|0)>this.maxCanvasPixels&&(G=!0)}const ce=this.useOnlyCssZoom||this.hasRestrictedScaling&&G,Q=!ce&&B>=0&&B<1e3;if(this.canvas){if(Q||ce){Q&&this.renderingState!==l.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:B}),this.renderingState=l.RenderingStates.FINISHED),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!Q,hideTextLayer:Q}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:P(this,y)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:o=!1,keepAnnotationEditorLayer:m=!1,keepXfaLayer:T=!1,keepTextLayer:B=!1,cancelExtraDelay:$=0}={}){var G;this.renderTask&&(this.renderTask.cancel($),this.renderTask=null),this.resume=null,this.textLayer&&(!B||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!o||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!m||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!T||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(G=this._textHighlighter)==null||G.disable())}cssTransform({target:o,redrawAnnotationLayer:m=!1,redrawAnnotationEditorLayer:T=!1,redrawXfaLayer:B=!1,redrawTextLayer:$=!1,hideTextLayer:G=!1}){var Q;if(!o.hasAttribute("zooming")){o.setAttribute("zooming",!0);const{style:q}=o;q.width=q.height=""}const ce=P(this,K).get(o);if(this.viewport!==ce){const q=this.viewport.rotation-ce.rotation,J=Math.abs(q);let fe=1,ue=1;if(J===90||J===270){const{width:me,height:ye}=this.viewport;fe=ye/me,ue=me/ye}o.style.transform=`rotate(${q}deg) scale(${fe}, ${ue})`}m&&this.annotationLayer&&de(this,re,un).call(this),T&&this.annotationEditorLayer&&de(this,Z,dn).call(this),B&&this.xfaLayer&&de(this,Ce,hn).call(this),this.textLayer&&(G?(this.textLayer.hide(),(Q=this.structTreeLayer)==null||Q.hide()):$&&de(this,V,fn).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(o,m){return this.viewport.convertToPdfPoint(o,m)}async draw(){this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:o,l10n:m,pageColors:T,pdfPage:B,viewport:$}=this;if(!B)throw this.renderingState=l.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=l.RenderingStates.RUNNING;const G=document.createElement("div");if(G.classList.add("canvasWrapper"),o.append(G),!this.textLayer&&P(this,Y)!==l.TextLayerMode.DISABLE&&!B.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new I.TextAccessibilityManager),this.textLayer=new S.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:P(this,Y)===l.TextLayerMode.ENABLE_PERMISSIONS}),o.append(this.textLayer.div)),!this.annotationLayer&&P(this,s)!==a.AnnotationMode.DISABLE){const{annotationStorage:j,downloadManager:W,enableScripting:te,fieldObjectsPromise:be,hasJSActionsPromise:Te,linkService:_e}=P(this,u).call(this);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new R.AnnotationLayerBuilder({pageDiv:o,pdfPage:B,annotationStorage:j,imageResourcesPath:this.imageResourcesPath,renderForms:P(this,s)===a.AnnotationMode.ENABLE_FORMS,linkService:_e,downloadManager:W,l10n:m,enableScripting:te,hasJSActionsPromise:Te,fieldObjectsPromise:be,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}const ce=j=>{if(ue==null||ue(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=l.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,j()};return}j()},{width:Q,height:q}=$,J=document.createElement("canvas");J.setAttribute("role","presentation"),J.hidden=!0;const fe=!!((T==null?void 0:T.background)&&(T==null?void 0:T.foreground));let ue=j=>{(!fe||j)&&(J.hidden=!1,ue=null)};G.append(J),this.canvas=J;const me=J.getContext("2d",{alpha:!1}),ye=this.outputScale=new l.OutputScale;if(this.useOnlyCssZoom){const j=$.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});ye.sx*=j.width/Q,ye.sy*=j.height/q}if(this.maxCanvasPixels>0){const j=Q*q,W=Math.sqrt(this.maxCanvasPixels/j);ye.sx>W||ye.sy>W?(ye.sx=W,ye.sy=W,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const xe=(0,l.approximateFraction)(ye.sx),Me=(0,l.approximateFraction)(ye.sy);J.width=(0,l.roundToDivide)(Q*ye.sx,xe[0]),J.height=(0,l.roundToDivide)(q*ye.sy,Me[0]);const{style:Ie}=J;Ie.width=(0,l.roundToDivide)(Q,xe[1])+"px",Ie.height=(0,l.roundToDivide)(q,Me[1])+"px",P(this,K).set(J,$);const ge=ye.scaled?[ye.sx,0,0,ye.sy,0,0]:null,Re={canvasContext:me,transform:ge,viewport:$,annotationMode:P(this,s),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:T},Ne=this.renderTask=this.pdfPage.render(Re);Ne.onContinue=ce;const je=Ne.promise.then(async()=>{if(ue==null||ue(!0),await de(this,ie,pn).call(this,Ne),de(this,V,fn).call(this),this.annotationLayer&&await de(this,re,un).call(this),!this.annotationEditorLayer){const{annotationEditorUIManager:j}=P(this,u).call(this);if(!j)return;this.annotationEditorLayer=new w.AnnotationEditorLayerBuilder({uiManager:j,pageDiv:o,pdfPage:B,l10n:m,accessibilityManager:this._accessibilityManager})}de(this,Z,dn).call(this)},j=>(j instanceof a.RenderingCancelledException||ue==null||ue(!0),de(this,ie,pn).call(this,Ne,j)));if(B.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&o.append(this.xfaLayer.div);else{const{annotationStorage:j,linkService:W}=P(this,u).call(this);this.xfaLayer=new E.XfaLayerBuilder({pageDiv:o,pdfPage:B,annotationStorage:j,linkService:W})}de(this,Ce,hn).call(this)}return o.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),je}setPageLabel(o){this.pageLabel=typeof o=="string"?o:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:o,regularAnnotations:m}=P(this,X);return o&&m?this.canvas:null}}s=new WeakMap,u=new WeakMap,C=new WeakMap,g=new WeakMap,y=new WeakMap,U=new WeakMap,Y=new WeakMap,X=new WeakMap,K=new WeakMap,ne=new WeakSet,Mt=function(){const{viewport:o}=this;if(this.pdfPage){if(P(this,g)===o.rotation)return;Ee(this,g,o.rotation)}(0,a.setLayerDimensions)(this.div,o,!0,!1)},re=new WeakSet,un=async function(){let o=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(m){console.error(`#renderAnnotationLayer: "${m}".`),o=m}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:o})}},Z=new WeakSet,dn=async function(){let o=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(m){console.error(`#renderAnnotationEditorLayer: "${m}".`),o=m}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:o})}},Ce=new WeakSet,hn=async function(){let o=null;try{const m=await this.xfaLayer.render(this.viewport,"display");(m==null?void 0:m.textDivs)&&this._textHighlighter&&de(this,se,li).call(this,m.textDivs)}catch(m){console.error(`#renderXfaLayer: "${m}".`),o=m}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:o})}},V=new WeakSet,fn=async function(){const{pdfPage:o,textLayer:m,viewport:T}=this;if(!m)return;let B=null;try{if(!m.renderingDone){const $=o.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});m.setTextContentSource($)}await m.render(T)}catch($){if($ instanceof a.AbortException)return;console.error(`#renderTextLayer: "${$}".`),B=$}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:m.numTextDivs,error:B}),de(this,z,oi).call(this)},z=new WeakSet,oi=async function(){var T,B,$;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new k.StructTreeLayerBuilder);const o=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),m=(T=this.structTreeLayer)==null?void 0:T.render(o);m&&((B=this.canvas)==null||B.append(m)),($=this.structTreeLayer)==null||$.show()},se=new WeakSet,li=async function(o){const m=await this.pdfPage.getTextContent(),T=[];for(const B of m.items)T.push(B.str);this._textHighlighter.setTextMapping(o,T),this._textHighlighter.enable()},ie=new WeakSet,pn=async function(o,m=null){if(o===this.renderTask&&(this.renderTask=null),m instanceof a.RenderingCancelledException){Ee(this,y,null);return}if(Ee(this,y,m),this.renderingState=l.RenderingStates.FINISHED,this._resetZoomLayer(!0),P(this,X).regularAnnotations=!o.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:P(this,y)}),m)throw m},_.PDFPageView=O},(c,_,v)=>{var R;Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationEditorLayerBuilder=void 0;var a=v(4),l=v(5);class w{constructor(f){oe(this,R,void 0);this.pageDiv=f.pageDiv,this.pdfPage=f.pdfPage,this.accessibilityManager=f.accessibilityManager,this.l10n=f.l10n||l.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,Ee(this,R,f.uiManager)}async render(f,b="display"){if(b!=="display"||this._cancelled)return;const k=f.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:k}),this.show();return}const I=this.div=document.createElement("div");I.className="annotationEditorLayer",I.tabIndex=0,I.hidden=!0,this.pageDiv.append(I),this.annotationEditorLayer=new a.AnnotationEditorLayer({uiManager:P(this,R),div:I,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:k});const L={viewport:k,div:I,annotations:null,intent:b};this.annotationEditorLayer.render(L),this.show()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){!this.div||(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}R=new WeakMap,_.AnnotationEditorLayerBuilder=w},(c,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.compatibilityParams=_.OptionKind=_.AppOptions=void 0;const v=Object.create(null);_.compatibilityParams=v;{const A=navigator.userAgent||"",f=navigator.platform||"",b=navigator.maxTouchPoints||1,k=/Android/.test(A),I=/\b(iPad|iPhone|iPod)(?=;)/.test(A)||f==="MacIntel"&&b>1;(function(){(I||k)&&(v.maxCanvasPixels=5242880)})()}const a={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};_.OptionKind=a;const l={annotationEditorMode:{value:0,kind:a.VIEWER+a.PREFERENCE},annotationMode:{value:2,kind:a.VIEWER+a.PREFERENCE},cursorToolOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},defaultZoomDelay:{value:400,kind:a.VIEWER+a.PREFERENCE},defaultZoomValue:{value:"",kind:a.VIEWER+a.PREFERENCE},disableHistory:{value:!1,kind:a.VIEWER},disablePageLabels:{value:!1,kind:a.VIEWER+a.PREFERENCE},enableFloatingToolbar:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePermissions:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableScripting:{value:!0,kind:a.VIEWER+a.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:a.VIEWER},externalLinkTarget:{value:0,kind:a.VIEWER+a.PREFERENCE},historyUpdateUrl:{value:!1,kind:a.VIEWER+a.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},imageResourcesPath:{value:"./images/",kind:a.VIEWER},maxCanvasPixels:{value:16777216,kind:a.VIEWER},forcePageColors:{value:!1,kind:a.VIEWER+a.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:a.VIEWER+a.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:a.VIEWER+a.PREFERENCE},pdfBugEnabled:{value:!1,kind:a.VIEWER+a.PREFERENCE},printResolution:{value:150,kind:a.VIEWER},sidebarViewOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},scrollModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},spreadModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},textLayerMode:{value:1,kind:a.VIEWER+a.PREFERENCE},useOnlyCssZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},viewerCssTheme:{value:0,kind:a.VIEWER+a.PREFERENCE},viewOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},cMapPacked:{value:!0,kind:a.API},cMapUrl:{value:"../web/cmaps/",kind:a.API},disableAutoFetch:{value:!1,kind:a.API+a.PREFERENCE},disableFontFace:{value:!1,kind:a.API+a.PREFERENCE},disableRange:{value:!1,kind:a.API+a.PREFERENCE},disableStream:{value:!1,kind:a.API+a.PREFERENCE},docBaseUrl:{value:"",kind:a.API},enableXfa:{value:!0,kind:a.API+a.PREFERENCE},fontExtraProperties:{value:!1,kind:a.API},isEvalSupported:{value:!0,kind:a.API},isOffscreenCanvasSupported:{value:!0,kind:a.API},maxImageSize:{value:-1,kind:a.API},pdfBug:{value:!1,kind:a.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:a.API},verbosity:{value:1,kind:a.API},workerPort:{value:null,kind:a.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:a.WORKER}};l.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:a.VIEWER},l.disablePreferences={value:!1,kind:a.VIEWER},l.locale={value:navigator.language||"en-US",kind:a.VIEWER},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:a.VIEWER};const w=Object.create(null);class R{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(f){var I;const b=w[f];if(b!==void 0)return b;const k=l[f];if(k!==void 0)return(I=v[f])!=null?I:k.value}static getAll(f=null){var k;const b=Object.create(null);for(const I in l){const L=l[I];if(f){if((f&L.kind)===0)continue;if(f===a.PREFERENCE){const E=L.value,D=typeof E;if(D==="boolean"||D==="string"||D==="number"&&Number.isInteger(E)){b[I]=E;continue}throw new Error(`Invalid type for preference: ${I}`)}}const S=w[I];b[I]=S!==void 0?S:(k=v[I])!=null?k:L.value}return b}static set(f,b){w[f]=b}static setAll(f){for(const b in f)w[b]=f[b]}static remove(f){delete w[f]}}_.AppOptions=R,R._hasUserOptions=function(){return Object.keys(w).length>0}},(c,_)=>{var w,R,gn,f,mn;Object.defineProperty(_,"__esModule",{value:!0}),_.StructTreeLayerBuilder=void 0;const v={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},a=/^H(\d+)$/;class l{constructor(){oe(this,R);oe(this,f);oe(this,w,void 0)}get renderingDone(){return P(this,w)!==void 0}render(I){if(P(this,w)!==void 0)return P(this,w);const L=de(this,f,mn).call(this,I);return L==null||L.classList.add("structTree"),Ee(this,w,L)}hide(){P(this,w)&&!P(this,w).hidden&&(P(this,w).hidden=!0)}show(){var I;(I=P(this,w))!=null&&I.hidden&&(P(this,w).hidden=!1)}}w=new WeakMap,R=new WeakSet,gn=function(I,L){I.alt!==void 0&&L.setAttribute("aria-label",I.alt),I.id!==void 0&&L.setAttribute("aria-owns",I.id),I.lang!==void 0&&L.setAttribute("lang",I.lang)},f=new WeakSet,mn=function(I){if(!I)return null;const L=document.createElement("span");if("role"in I){const{role:S}=I,E=S.match(a);E?(L.setAttribute("role","heading"),L.setAttribute("aria-level",E[1])):v[S]&&L.setAttribute("role",v[S])}if(de(this,R,gn).call(this,I,L),I.children)if(I.children.length===1&&"id"in I.children[0])de(this,R,gn).call(this,I.children[0],L);else for(const S of I.children)L.append(de(this,f,mn).call(this,S));return L},_.StructTreeLayerBuilder=l},(c,_,v)=>{var w,R,A,f,b,Rt,I,_n;Object.defineProperty(_,"__esModule",{value:!0}),_.TextAccessibilityManager=void 0;var a=v(2);const S=class{constructor(){oe(this,I);oe(this,w,!1);oe(this,R,null);oe(this,A,new Map);oe(this,f,new Map)}setTextMapping(D){Ee(this,R,D)}enable(){if(P(this,w))throw new Error("TextAccessibilityManager is already enabled.");if(!P(this,R))throw new Error("Text divs and strings have not been set.");if(Ee(this,w,!0),Ee(this,R,P(this,R).slice()),P(this,R).sort(de(S,b,Rt)),P(this,A).size>0){const D=P(this,R);for(const[M,O]of P(this,A)){if(!document.getElementById(M)){P(this,A).delete(M);continue}de(this,I,_n).call(this,M,D[O])}}for(const[D,M]of P(this,f))this.addPointerInTextLayer(D,M);P(this,f).clear()}disable(){!P(this,w)||(P(this,f).clear(),Ee(this,R,null),Ee(this,w,!1))}removePointerInTextLayer(D){if(!P(this,w)){P(this,f).delete(D);return}const M=P(this,R);if(!M||M.length===0)return;const{id:O}=D,s=P(this,A).get(O);if(s===void 0)return;const u=M[s];P(this,A).delete(O);let C=u.getAttribute("aria-owns");C!=null&&C.includes(O)&&(C=C.split(" ").filter(g=>g!==O).join(" "),C?u.setAttribute("aria-owns",C):(u.removeAttribute("aria-owns"),u.setAttribute("role","presentation")))}addPointerInTextLayer(D,M){const{id:O}=D;if(!O)return;if(!P(this,w)){P(this,f).set(D,M);return}M&&this.removePointerInTextLayer(D);const s=P(this,R);if(!s||s.length===0)return;const u=(0,a.binarySearchFirstItem)(s,g=>{var y;return de(y=S,b,Rt).call(y,D,g)<0}),C=Math.max(0,u-1);de(this,I,_n).call(this,O,s[C]),P(this,A).set(O,C)}moveElementInDOM(D,M,O,s){if(this.addPointerInTextLayer(O,s),!D.hasChildNodes()){D.append(M);return}const u=Array.from(D.childNodes).filter(y=>y!==M);if(u.length===0)return;const C=O||M,g=(0,a.binarySearchFirstItem)(u,y=>{var U;return de(U=S,b,Rt).call(U,C,y)<0});g===0?u[0].before(M):u[g-1].after(M)}};let l=S;w=new WeakMap,R=new WeakMap,A=new WeakMap,f=new WeakMap,b=new WeakSet,Rt=function(D,M){const O=D.getBoundingClientRect(),s=M.getBoundingClientRect();if(O.width===0&&O.height===0)return 1;if(s.width===0&&s.height===0)return-1;const u=O.y,C=O.y+O.height,g=O.y+O.height/2,y=s.y,U=s.y+s.height,Y=s.y+s.height/2;if(g<=y&&Y>=C)return-1;if(Y<=u&&g>=U)return 1;const X=O.x+O.width/2,K=s.x+s.width/2;return X-K},I=new WeakSet,_n=function(D,M){const O=M.getAttribute("aria-owns");O!=null&&O.includes(D)||M.setAttribute("aria-owns",O?`${O} ${D}`:D),M.removeAttribute("role")},oe(l,b),_.TextAccessibilityManager=l},(c,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextHighlighter=void 0;class v{constructor({findController:l,eventBus:w,pageIndex:R}){this.findController=l,this.matches=[],this.eventBus=w,this.pageIdx=R,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,w){this.textDivs=l,this.textContentItemsStr=w}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||l.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(l,w){if(!l)return[];const{textContentItemsStr:R}=this;let A=0,f=0;const b=R.length-1,k=[];for(let I=0,L=l.length;I<L;I++){let S=l[I];for(;A!==b&&S>=f+R[A].length;)f+=R[A].length,A++;A===R.length&&console.error("Could not find a matching mapping");const E={begin:{divIdx:A,offset:S-f}};for(S+=w[I];A!==b&&S>f+R[A].length;)f+=R[A].length,A++;E.end={divIdx:A,offset:S-f},k.push(E)}return k}_renderMatches(l){if(l.length===0)return;const{findController:w,pageIdx:R}=this,{textContentItemsStr:A,textDivs:f}=this,b=R===w.selected.pageIdx,k=w.selected.matchIdx,I=w.state.highlightAll;let L=null;const S={divIdx:-1,offset:void 0};function E(C,g){const y=C.divIdx;return f[y].textContent="",D(y,0,C.offset,g)}function D(C,g,y,U){let Y=f[C];if(Y.nodeType===Node.TEXT_NODE){const ne=document.createElement("span");Y.before(ne),ne.append(Y),f[C]=ne,Y=ne}const X=A[C].substring(g,y),K=document.createTextNode(X);if(U){const ne=document.createElement("span");return ne.className=`${U} appended`,ne.append(K),Y.append(ne),U.includes("selected")?ne.offsetLeft:0}return Y.append(K),0}let M=k,O=M+1;if(I)M=0,O=l.length;else if(!b)return;let s=-1,u=-1;for(let C=M;C<O;C++){const g=l[C],y=g.begin;if(y.divIdx===s&&y.offset===u)continue;s=y.divIdx,u=y.offset;const U=g.end,Y=b&&C===k,X=Y?" selected":"";let K=0;if(!L||y.divIdx!==L.divIdx?(L!==null&&D(L.divIdx,L.offset,S.offset),E(y)):D(L.divIdx,L.offset,y.offset),y.divIdx===U.divIdx)K=D(y.divIdx,y.offset,U.offset,"highlight"+X);else{K=D(y.divIdx,y.offset,S.offset,"highlight begin"+X);for(let ne=y.divIdx+1,ee=U.divIdx;ne<ee;ne++)f[ne].className="highlight middle"+X;E(U,"highlight end"+X)}L=U,Y&&w.scrollMatchIntoView({element:f[y.divIdx],selectedLeft:K,pageIndex:R,matchIndex:k})}L&&D(L.divIdx,L.offset,S.offset)}_updateMatches(l=!1){if(!this.enabled&&!l)return;const{findController:w,matches:R,pageIdx:A}=this,{textContentItemsStr:f,textDivs:b}=this;let k=-1;for(const S of R){const E=Math.max(k,S.begin.divIdx);for(let D=E,M=S.end.divIdx;D<=M;D++){const O=b[D];O.textContent=f[D],O.className=""}k=S.end.divIdx+1}if(!(w!=null&&w.highlightMatches)||l)return;const I=w.pageMatches[A]||null,L=w.pageMatchesLength[A]||null;this.matches=this._convertMatches(I,L),this._renderMatches(this.matches)}}_.TextHighlighter=v},(c,_,v)=>{var R,A,f,b,k,ci,L,ui;Object.defineProperty(_,"__esModule",{value:!0}),_.TextLayerBuilder=void 0;var a=v(4),l=v(2);class w{constructor({highlighter:D=null,accessibilityManager:M=null,isOffscreenCanvasSupported:O=!0,enablePermissions:s=!1}){oe(this,k);oe(this,L);oe(this,R,!1);oe(this,A,0);oe(this,f,0);oe(this,b,null);this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=D,this.accessibilityManager=M,this.isOffscreenCanvasSupported=O,Ee(this,R,s===!0),this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}get numTextDivs(){return this.textDivs.length}async render(D){var s,u,C;if(!P(this,b))throw new Error('No "textContentSource" parameter specified.');const M=D.scale*(globalThis.devicePixelRatio||1),{rotation:O}=D;if(this.renderingDone){const g=O!==P(this,A),y=M!==P(this,f);(g||y)&&(this.hide(),(0,a.updateTextLayer)({container:this.div,viewport:D,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:y,mustRotate:g}),Ee(this,f,M),Ee(this,A,O)),this.show();return}this.cancel(),(s=this.highlighter)==null||s.setTextMapping(this.textDivs,this.textContentItemsStr),(u=this.accessibilityManager)==null||u.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,a.renderTextLayer)({textContentSource:P(this,b),container:this.div,viewport:D,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),await this.textLayerRenderTask.promise,de(this,k,ci).call(this),Ee(this,f,M),Ee(this,A,O),this.show(),(C=this.accessibilityManager)==null||C.enable()}hide(){var D;this.div.hidden||((D=this.highlighter)==null||D.disable(),this.div.hidden=!0)}show(){var D;this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,(D=this.highlighter)==null||D.enable())}cancel(){var D,M;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(D=this.highlighter)==null||D.disable(),(M=this.accessibilityManager)==null||M.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(D){this.cancel(),Ee(this,b,D)}}R=new WeakMap,A=new WeakMap,f=new WeakMap,b=new WeakMap,k=new WeakSet,ci=function(){this.renderingDone=!0;const D=document.createElement("div");D.className="endOfContent",this.div.append(D),de(this,L,ui).call(this)},L=new WeakSet,ui=function(){const{div:D}=this;D.addEventListener("mousedown",M=>{const O=D.querySelector(".endOfContent");if(!O)return;let s=M.target!==D;if(s&&(s=getComputedStyle(O).getPropertyValue("-moz-user-select")!=="none"),s){const u=D.getBoundingClientRect(),C=Math.max(0,(M.pageY-u.top)/u.height);O.style.top=(C*100).toFixed(2)+"%"}O.classList.add("active")}),D.addEventListener("mouseup",()=>{const M=D.querySelector(".endOfContent");!M||(M.style.top="",M.classList.remove("active"))}),D.addEventListener("copy",M=>{if(!P(this,R)){const O=document.getSelection();M.clipboardData.setData("text/plain",(0,l.removeNullCharacters)((0,a.normalizeUnicode)(O.toString())))}M.preventDefault(),M.stopPropagation()})},_.TextLayerBuilder=w},(c,_,v)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayerBuilder=void 0;var a=v(4);class l{constructor({pageDiv:R,pdfPage:A,annotationStorage:f=null,linkService:b,xfaHtml:k=null}){this.pageDiv=R,this.pdfPage=A,this.annotationStorage=f,this.linkService=b,this.xfaHtml=k,this.div=null,this._cancelled=!1}async render(R,A="display"){if(A==="print"){const k={viewport:R.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:A},I=document.createElement("div");return this.pageDiv.append(I),k.div=I,a.XfaLayer.render(k)}const f=await this.pdfPage.getXfa();if(this._cancelled||!f)return{textDivs:[]};const b={viewport:R.clone({dontFlip:!0}),div:this.div,xfaHtml:f,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:A};return this.div?a.XfaLayer.update(b):(this.div=document.createElement("div"),this.pageDiv.append(this.div),b.div=this.div,a.XfaLayer.render(b))}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}_.XfaLayerBuilder=l},(c,_,v)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFScriptingManager=void 0;var a=v(2),l=v(4);class w{constructor({eventBus:A,sandboxBundleSrc:f=null,scriptingFactory:b=null,docPropertiesLookup:k=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._ready=!1,this._eventBus=A,this._sandboxBundleSrc=f,this._scriptingFactory=b,this._docPropertiesLookup=k,this._scriptingFactory||window.addEventListener("updatefromsandbox",I=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:I.detail})})}setViewer(A){this._pdfViewer=A}async setDocument(A){var I;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=A,!A)return;const[f,b,k]=await Promise.all([A.getFieldObjects(),A.getCalculationOrderIds(),A.getJSActions()]);if(!f&&!k){await this._destroyScripting();return}if(A===this._pdfDocument){try{this._scripting=this._createScripting()}catch(L){console.error(`PDFScriptingManager.setDocument: "${L==null?void 0:L.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",L=>{(L==null?void 0:L.source)===window&&this._updateFromSandbox(L.detail)}),this._internalEvents.set("dispatcheventinsandbox",L=>{var S;(S=this._scripting)==null||S.dispatchEventInSandbox(L.detail)}),this._internalEvents.set("pagechanging",({pageNumber:L,previous:S})=>{L!==S&&(this._dispatchPageClose(S),this._dispatchPageOpen(L))}),this._internalEvents.set("pagerendered",({pageNumber:L})=>{!this._pageOpenPending.has(L)||L===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(L)}),this._internalEvents.set("pagesdestroy",async L=>{var S,E;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((S=this._scripting)==null?void 0:S.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(E=this._closeCapability)==null||E.resolve()});for(const[L,S]of this._internalEvents)this._eventBus._on(L,S);try{const L=await this._getDocProperties();if(A!==this._pdfDocument)return;await this._scripting.createSandbox({objects:f,calculationOrder:b,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...L,actions:k}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(L){console.error(`PDFScriptingManager.setDocument: "${L==null?void 0:L.message}".`),await this._destroyScripting();return}await((I=this._scripting)==null?void 0:I.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{A===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(A){var f;return(f=this._scripting)==null?void 0:f.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(A){var f;return(f=this._scripting)==null?void 0:f.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(A){var f;return(f=this._scripting)==null?void 0:f.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(A){var f;return(f=this._scripting)==null?void 0:f.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var A;return((A=this._destroyCapability)==null?void 0:A.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(A){var E;const f=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:b,siblings:k,command:I,value:L}=A;if(!b){switch(I){case"clear":console.clear();break;case"error":console.error(L);break;case"layout":{if(f)return;const D=(0,a.apiPageLayoutToViewerModes)(L);this._pdfViewer.spreadMode=D.spreadMode;break}case"page-num":this._pdfViewer.currentPageNumber=L+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(L);break;case"zoom":if(f)return;this._pdfViewer.currentScaleValue=L;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(f)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(f)return;this._pdfViewer.decreaseScale();break}return}if(f&&A.focus)return;delete A.id,delete A.siblings;const S=k?[b,...k]:[b];for(const D of S){const M=document.querySelector(`[data-element-id="${D}"]`);M?M.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:A})):(E=this._pdfDocument)==null||E.annotationStorage.setValue(D,A)}}async _dispatchPageOpen(A,f=!1){const b=this._pdfDocument,k=this._visitedPages;if(f&&(this._closeCapability=new l.PromiseCapability),!this._closeCapability)return;const I=this._pdfViewer.getPageView(A-1);if((I==null?void 0:I.renderingState)!==a.RenderingStates.FINISHED){this._pageOpenPending.add(A);return}this._pageOpenPending.delete(A);const L=(async()=>{var E,D;const S=await(k.has(A)?null:(E=I.pdfPage)==null?void 0:E.getJSActions());b===this._pdfDocument&&await((D=this._scripting)==null?void 0:D.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:A,actions:S}))})();k.set(A,L)}async _dispatchPageClose(A){var I;const f=this._pdfDocument,b=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(A))return;const k=b.get(A);!k||(b.set(A,null),await k,f===this._pdfDocument&&await((I=this._scripting)==null?void 0:I.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:A})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:A}=v(22);return A(this._pdfDocument)}_createScripting(){if(this._destroyCapability=new l.PromiseCapability,this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:A}=v(22);return new A(this._sandboxBundleSrc)}async _destroyScripting(){var A,f;if(!this._scripting){this._pdfDocument=null,(A=this._destroyCapability)==null||A.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(b=>{setTimeout(b,1e3)})]).catch(b=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[b,k]of this._internalEvents)this._eventBus._off(b,k);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,this._ready=!1,(f=this._destroyCapability)==null||f.resolve()}}_.PDFScriptingManager=w},(c,_,v)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericScripting=void 0,_.docPropertiesLookup=l;var a=v(4);async function l(R){const A="",f=A.split("#")[0];let{info:b,metadata:k,contentDispositionFilename:I,contentLength:L}=await R.getMetadata();if(!L){const{length:S}=await R.getDownloadInfo();L=S}return{...b,baseURL:f,filesize:L,filename:I||(0,a.getPdfFilenameFromUrl)(A),metadata:k==null?void 0:k.getRaw(),authors:k==null?void 0:k.get("dc:creator"),numPages:R.numPages,URL:A}}class w{constructor(A){this._ready=(0,a.loadScript)(A,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(A){(await this._ready).create(A)}async dispatchEventInSandbox(A){const f=await this._ready;setTimeout(()=>f.dispatchEvent(A),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}_.GenericScripting=w},(c,_,v)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFSinglePageViewer=void 0;var a=v(2),l=v(24);class w extends l.PDFViewer{_resetView(){super._resetView(),this._scrollMode=a.ScrollMode.PAGE,this._spreadMode=a.SpreadMode.NONE}set scrollMode(A){}_updateScrollMode(){}set spreadMode(A){}_updateSpreadMode(){}}_.PDFSinglePageViewer=w},(c,_,v)=>{var E,D,M,vn,s,u,C,g,y,U,Y,X,K,ne,ee,re,ve,Z,we,Ce,le,di,H,hi,ae,fi,pe,pi,F,At,o,Ft,T,gi,$,bn,ce,mi,q,ot,fe,yn,me,_i,xe,vi,Ie,An,Re,bi;Object.defineProperty(_,"__esModule",{value:!0}),_.PagesCountLimit=_.PDFViewer=_.PDFPageViewBuffer=void 0;var a=v(4),l=v(2),w=v(5),R=v(13),A=v(25),f=v(1);const b=10,k={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};_.PagesCountLimit=k;function I(je){return Object.values(a.AnnotationEditorType).includes(je)&&je!==a.AnnotationEditorType.DISABLE}class L{constructor(j){oe(this,M);oe(this,E,new Set);oe(this,D,0);Ee(this,D,j)}push(j){const W=P(this,E);W.has(j)&&W.delete(j),W.add(j),W.size>P(this,D)&&de(this,M,vn).call(this)}resize(j,W=null){Ee(this,D,j);const te=P(this,E);if(W){const be=te.size;let Te=1;for(const _e of te)if(W.has(_e.id)&&(te.delete(_e),te.add(_e)),++Te>be)break}for(;te.size>P(this,D);)de(this,M,vn).call(this)}has(j){return P(this,E).has(j)}[Symbol.iterator](){return P(this,E).keys()}}E=new WeakMap,D=new WeakMap,M=new WeakSet,vn=function(){const j=P(this,E).keys().next().value;j==null||j.destroy(),P(this,E).delete(j)},_.PDFPageViewBuffer=L;class S{constructor(j){oe(this,le);oe(this,H);oe(this,ae);oe(this,pe);oe(this,F);oe(this,o);oe(this,T);oe(this,$);oe(this,ce);oe(this,q);oe(this,fe);oe(this,me);oe(this,xe);oe(this,Ie);oe(this,Re);oe(this,s,null);oe(this,u,a.AnnotationEditorType.NONE);oe(this,C,null);oe(this,g,a.AnnotationMode.ENABLE_FORMS);oe(this,y,null);oe(this,U,null);oe(this,Y,!1);oe(this,X,!1);oe(this,K,null);oe(this,ne,!1);oe(this,ee,0);oe(this,re,new ResizeObserver(de(this,Re,bi).bind(this)));oe(this,ve,null);oe(this,Z,null);oe(this,we,null);oe(this,Ce,l.TextLayerMode.ENABLE);var te,be,Te,_e,Se,Ae;const W="3.7.107";if(a.version!==W)throw new Error(`The API version "${a.version}" does not match the Viewer version "${W}".`);if(this.container=j.container,this.viewer=j.viewer||j.container.firstElementChild,((te=this.container)==null?void 0:te.tagName)!=="DIV"||((be=this.viewer)==null?void 0:be.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");P(this,re).observe(this.container),this.eventBus=j.eventBus,this.linkService=j.linkService||new f.SimpleLinkService,this.downloadManager=j.downloadManager||null,this.findController=j.findController||null,this.findController&&(this.findController.onIsPageVisible=Le=>this._getVisiblePages().ids.has(Le)),this._scriptingManager=j.scriptingManager||null,Ee(this,Ce,(Te=j.textLayerMode)!=null?Te:l.TextLayerMode.ENABLE),Ee(this,g,(_e=j.annotationMode)!=null?_e:a.AnnotationMode.ENABLE_FORMS),Ee(this,u,(Se=j.annotationEditorMode)!=null?Se:a.AnnotationEditorType.NONE),this.imageResourcesPath=j.imageResourcesPath||"",this.enablePrintAutoRotate=j.enablePrintAutoRotate||!1,this.removePageBorders=j.removePageBorders||!1,this.useOnlyCssZoom=j.useOnlyCssZoom||!1,this.isOffscreenCanvasSupported=(Ae=j.isOffscreenCanvasSupported)!=null?Ae:!0,this.maxCanvasPixels=j.maxCanvasPixels,this.l10n=j.l10n||w.NullL10n,Ee(this,Y,j.enablePermissions||!1),this.pageColors=j.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("PDFViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!j.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new A.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=j.renderingQueue,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),de(this,Ie,An).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:Le,pdfPage:Be})=>{const he=this._pages[Le-1];P(this,s).has(he)||Be==null||Be.cleanup()})}get pagesCount(){return this._pages.length}getPageView(j){return this._pages[j]}getCachedPageViews(){return new Set(P(this,s))}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(j=>j==null?void 0:j.pdfPage)}get renderForms(){return P(this,g)===a.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(j){if(!Number.isInteger(j))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(j,!0)||console.error(`currentPageNumber: "${j}" is not a valid page.`)}_setCurrentPageNumber(j,W=!1){var be,Te;if(this._currentPageNumber===j)return W&&de(this,fe,yn).call(this),!0;if(!(0<j&&j<=this.pagesCount))return!1;const te=this._currentPageNumber;return this._currentPageNumber=j,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:j,pageLabel:(Te=(be=this._pageLabels)==null?void 0:be[j-1])!=null?Te:null,previous:te}),W&&de(this,fe,yn).call(this),!0}get currentPageLabel(){var j,W;return(W=(j=this._pageLabels)==null?void 0:j[this._currentPageNumber-1])!=null?W:null}set currentPageLabel(j){if(!this.pdfDocument)return;let W=j|0;if(this._pageLabels){const te=this._pageLabels.indexOf(j);te>=0&&(W=te+1)}this._setCurrentPageNumber(W,!0)||console.error(`currentPageLabel: "${j}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(j){if(isNaN(j))throw new Error("Invalid numeric scale.");!this.pdfDocument||de(this,q,ot).call(this,j,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(j){!this.pdfDocument||de(this,q,ot).call(this,j,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(j){if(!(0,l.isValidRotation)(j))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(j%=360,j<0&&(j+=360),this._pagesRotation===j))return;this._pagesRotation=j;const W=this._currentPageNumber;this.refresh(!0,{rotation:j}),this._currentScaleValue&&de(this,q,ot).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:j,pageNumber:W}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}async getAllText(){const j=[],W=[];for(let te=1,be=this.pdfDocument.numPages;te<=be;++te){if(P(this,ne))return null;W.length=0;const Te=await this.pdfDocument.getPage(te),{items:_e}=await Te.getTextContent();for(const Se of _e)Se.str&&W.push(Se.str),Se.hasEOL&&W.push(`
`);j.push((0,l.removeNullCharacters)(W.join("")))}return j.join(`
`)}setDocument(j){var _e,Se;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(_e=this.findController)==null||_e.setDocument(null),(Se=this._scriptingManager)==null||Se.setDocument(null),P(this,C)&&(P(this,C).destroy(),Ee(this,C,null))),this.pdfDocument=j,!j)return;const W=j.numPages,te=j.getPage(1),be=j.getOptionalContentConfig(),Te=P(this,Y)?j.getPermissions():Promise.resolve();if(W>k.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Ae=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Ae})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:W})},()=>{}),this._onBeforeDraw=Ae=>{const Le=this._pages[Ae.pageNumber-1];!Le||P(this,s).push(Le)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Ae=>{Ae.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Ae.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,P(this,Z)&&(document.removeEventListener("visibilitychange",P(this,Z)),Ee(this,Z,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([te,Te]).then(([Ae,Le])=>{if(j!==this.pdfDocument)return;this._firstPageCapability.resolve(Ae),this._optionalContentConfigPromise=be;const{annotationEditorMode:Be,annotationMode:he,textLayerMode:Pe}=de(this,H,hi).call(this,Le);if(Pe!==l.TextLayerMode.DISABLE){const De=Ee(this,K,document.createElement("div"));De.id="hiddenCopyElement",this.viewer.before(De)}if(Be!==a.AnnotationEditorType.DISABLE){const De=Be;j.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):I(De)?(Ee(this,C,new a.AnnotationEditorUIManager(this.container,this.eventBus,j==null?void 0:j.annotationStorage)),De!==a.AnnotationEditorType.NONE&&P(this,C).updateMode(De)):console.error(`Invalid AnnotationEditor mode: ${De}`)}const Oe=de(this,le,di).bind(this),ke=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,Fe=this.currentScale,Ve=Ae.getViewport({scale:Fe*a.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",Ve.scale);for(let De=1;De<=W;++De){const Ue=new R.PDFPageView({container:ke,eventBus:this.eventBus,id:De,scale:Fe,defaultViewport:Ve.clone(),optionalContentConfigPromise:be,renderingQueue:this.renderingQueue,textLayerMode:Pe,annotationMode:he,imageResourcesPath:this.imageResourcesPath,useOnlyCssZoom:this.useOnlyCssZoom,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:Oe});this._pages.push(Ue)}const $e=this._pages[0];$e&&($e.setPdfPage(Ae),this.linkService.cachePageRef(1,Ae.ref)),this._scrollMode===l.ScrollMode.PAGE?de(this,F,At).call(this):this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),de(this,ae,fi).call(this).then(async()=>{var Ue,He;if((Ue=this.findController)==null||Ue.setDocument(j),(He=this._scriptingManager)==null||He.setDocument(j),P(this,K)&&(Ee(this,U,de(this,pe,pi).bind(this,Pe)),document.addEventListener("copy",P(this,U))),P(this,C)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:P(this,u)}),j.loadingParams.disableAutoFetch||W>k.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let De=W-1;if(De<=0){this._pagesCapability.resolve();return}for(let We=2;We<=W;++We){const ze=j.getPage(We).then(qe=>{const Xe=this._pages[We-1];Xe.pdfPage||Xe.setPdfPage(qe),this.linkService.cachePageRef(We,qe.ref),--De===0&&this._pagesCapability.resolve()},qe=>{console.error(`Unable to get page ${We} to initialize viewer`,qe),--De===0&&this._pagesCapability.resolve()});We%k.PAUSE_EAGER_PAGE_INIT===0&&await ze}}),this.eventBus.dispatch("pagesinit",{source:this}),j.getMetadata().then(({info:De})=>{j===this.pdfDocument&&De.Language&&(this.viewer.lang=De.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Ae=>{console.error("Unable to initialize viewer",Ae),this._pagesCapability.reject(Ae)})}setPageLabels(j){var W,te;if(!!this.pdfDocument){j?Array.isArray(j)&&this.pdfDocument.numPages===j.length?this._pageLabels=j:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let be=0,Te=this._pages.length;be<Te;be++)this._pages[be].setPageLabel((te=(W=this._pageLabels)==null?void 0:W[be])!=null?te:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ee(this,s,new L(b)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new a.PromiseCapability,this._onePageRenderedCapability=new a.PromiseCapability,this._pagesCapability=new a.PromiseCapability,this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,Ee(this,ve,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),P(this,Z)&&(document.removeEventListener("visibilitychange",P(this,Z)),Ee(this,Z,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),P(this,K)&&(document.removeEventListener("copy",P(this,U)),Ee(this,U,null),P(this,K).remove(),Ee(this,K,null))}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(j){if(!this._pageLabels)return null;const W=this._pageLabels.indexOf(j);return W<0?null:W+1}scrollPageIntoView({pageNumber:j,destArray:W=null,allowNegativeOffset:te=!1,ignoreDestinationZoom:be=!1}){if(!this.pdfDocument)return;const Te=Number.isInteger(j)&&this._pages[j-1];if(!Te){console.error(`scrollPageIntoView: "${j}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!W){this._setCurrentPageNumber(j,!0);return}let _e=0,Se=0,Ae=0,Le=0,Be,he;const Pe=Te.rotation%180!==0,Oe=(Pe?Te.height:Te.width)/Te.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,ke=(Pe?Te.width:Te.height)/Te.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS;let Fe=0;switch(W[1].name){case"XYZ":_e=W[2],Se=W[3],Fe=W[4],_e=_e!==null?_e:0,Se=Se!==null?Se:ke;break;case"Fit":case"FitB":Fe="page-fit";break;case"FitH":case"FitBH":Se=W[2],Fe="page-width",Se===null&&this._location?(_e=this._location.left,Se=this._location.top):(typeof Se!="number"||Se<0)&&(Se=ke);break;case"FitV":case"FitBV":_e=W[2],Ae=Oe,Le=ke,Fe="page-height";break;case"FitR":_e=W[2],Se=W[3],Ae=W[4]-_e,Le=W[5]-Se;let Ue=l.SCROLLBAR_PADDING,He=l.VERTICAL_PADDING;this.removePageBorders&&(Ue=He=0),Be=(this.container.clientWidth-Ue)/Ae/a.PixelsPerInch.PDF_TO_CSS_UNITS,he=(this.container.clientHeight-He)/Le/a.PixelsPerInch.PDF_TO_CSS_UNITS,Fe=Math.min(Math.abs(Be),Math.abs(he));break;default:console.error(`scrollPageIntoView: "${W[1].name}" is not a valid destination type.`);return}if(be||(Fe&&Fe!==this._currentScale?this.currentScaleValue=Fe:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),Fe==="page-fit"&&!W[4]){de(this,o,Ft).call(this,Te);return}const Ve=[Te.viewport.convertToViewportPoint(_e,Se),Te.viewport.convertToViewportPoint(_e+Ae,Se+Le)];let $e=Math.min(Ve[0][0],Ve[1][0]),De=Math.min(Ve[0][1],Ve[1][1]);te||($e=Math.max($e,0),De=Math.max(De,0)),de(this,o,Ft).call(this,Te,{left:$e,top:De})}_updateLocation(j){const W=this._currentScale,te=this._currentScaleValue,be=parseFloat(te)===W?Math.round(W*1e4)/100:te,Te=j.id,_e=this._pages[Te-1],Se=this.container,Ae=_e.getPagePoint(Se.scrollLeft-j.x,Se.scrollTop-j.y),Le=Math.round(Ae[0]),Be=Math.round(Ae[1]);let he=`#page=${Te}`;this.isInPresentationMode||(he+=`&zoom=${be},${Le},${Be}`),this._location={pageNumber:Te,scale:be,top:Be,left:Le,rotation:this._pagesRotation,pdfOpenParams:he}}update(){const j=this._getVisiblePages(),W=j.views,te=W.length;if(te===0)return;const be=Math.max(b,2*te+1);P(this,s).resize(be,j.ids),this.renderingQueue.renderHighestPriority(j);const Te=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL),_e=this._currentPageNumber;let Se=!1;for(const Ae of W){if(Ae.percent<100)break;if(Ae.id===_e&&Te){Se=!0;break}}this._setCurrentPageNumber(Se?_e:W[0].id),this._updateLocation(j.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(j){return this.container.contains(j)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const j=this._scrollMode===l.ScrollMode.PAGE?P(this,ve).pages:this._pages,W=this._scrollMode===l.ScrollMode.HORIZONTAL,te=W&&this._isContainerRtl;return(0,l.getVisibleElements)({scrollEl:this.container,views:j,sortByVisibility:!0,horizontal:W,rtl:te})}cleanup(){for(const j of this._pages)j.renderingState!==l.RenderingStates.FINISHED&&j.reset()}_cancelRendering(){for(const j of this._pages)j.cancelRendering()}forceRendering(j){const W=j||this._getVisiblePages(),te=de(this,xe,vi).call(this,W),be=this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL,Te=this.renderingQueue.getHighestPriority(W,this._pages,te,be);return Te?(de(this,me,_i).call(this,Te).then(()=>{this.renderingQueue.renderView(Te)}),!0):!1}get hasEqualPageSizes(){const j=this._pages[0];for(let W=1,te=this._pages.length;W<te;++W){const be=this._pages[W];if(be.width!==j.width||be.height!==j.height)return!1}return!0}getPagesOverview(){let j;return this._pages.map(W=>{const te=W.pdfPage.getViewport({scale:1}),be=(0,l.isPortraitOrientation)(te);if(j===void 0)j=be;else if(this.enablePrintAutoRotate&&be!==j)return{width:te.height,height:te.width,rotation:(te.rotation-90)%360};return{width:te.width,height:te.height,rotation:te.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(j){if(!(j instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${j}`);!this.pdfDocument||!this._optionalContentConfigPromise||(this._optionalContentConfigPromise=j,this.refresh(!1,{optionalContentConfigPromise:j}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:j}))}get scrollMode(){return this._scrollMode}set scrollMode(j){if(this._scrollMode!==j){if(!(0,l.isValidScrollMode)(j))throw new Error(`Invalid scroll mode: ${j}`);this.pagesCount>k.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=j,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:j}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(j=null){const W=this._scrollMode,te=this.viewer;te.classList.toggle("scrollHorizontal",W===l.ScrollMode.HORIZONTAL),te.classList.toggle("scrollWrapped",W===l.ScrollMode.WRAPPED),!(!this.pdfDocument||!j)&&(W===l.ScrollMode.PAGE?de(this,F,At).call(this):this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&de(this,q,ot).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(j,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(j){if(this._spreadMode!==j){if(!(0,l.isValidSpreadMode)(j))throw new Error(`Invalid spread mode: ${j}`);this._spreadMode=j,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:j}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(j=null){if(!this.pdfDocument)return;const W=this.viewer,te=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)de(this,F,At).call(this);else if(W.textContent="",this._spreadMode===l.SpreadMode.NONE)for(const be of this._pages)W.append(be.div);else{const be=this._spreadMode-1;let Te=null;for(let _e=0,Se=te.length;_e<Se;++_e)Te===null?(Te=document.createElement("div"),Te.className="spread",W.append(Te)):_e%2===be&&(Te=Te.cloneNode(!1),W.append(Te)),Te.append(te[_e].div)}!j||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&de(this,q,ot).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(j,!0),this.update())}_getPageAdvance(j,W=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{const{views:te}=this._getVisiblePages(),be=new Map;for(const{id:Te,y:_e,percent:Se,widthPercent:Ae}of te){if(Se===0||Ae<100)continue;let Le=be.get(_e);Le||be.set(_e,Le||(Le=[])),Le.push(Te)}for(const Te of be.values()){const _e=Te.indexOf(j);if(_e===-1)continue;const Se=Te.length;if(Se===1)break;if(W)for(let Ae=_e-1,Le=0;Ae>=Le;Ae--){const Be=Te[Ae],he=Te[Ae+1]-1;if(Be<he)return j-he}else for(let Ae=_e+1,Le=Se;Ae<Le;Ae++){const Be=Te[Ae],he=Te[Ae-1]+1;if(Be>he)return he-j}if(W){const Ae=Te[0];if(Ae<j)return j-Ae+1}else{const Ae=Te[Se-1];if(Ae>j)return Ae-j+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;const te=this._spreadMode-1;if(W&&j%2!==te)break;if(!W&&j%2===te)break;const{views:be}=this._getVisiblePages(),Te=W?j-1:j+1;for(const{id:_e,percent:Se,widthPercent:Ae}of be)if(_e===Te){if(Se>0&&Ae===100)return 2;break}break}}return 1}nextPage(){const j=this._currentPageNumber,W=this.pagesCount;if(j>=W)return!1;const te=this._getPageAdvance(j,!1)||1;return this.currentPageNumber=Math.min(j+te,W),!0}previousPage(){const j=this._currentPageNumber;if(j<=1)return!1;const W=this._getPageAdvance(j,!0)||1;return this.currentPageNumber=Math.max(j-W,1),!0}increaseScale({drawingDelay:j,scaleFactor:W,steps:te}={}){if(!this.pdfDocument)return;let be=this._currentScale;if(W>1)be=Math.round(be*W*100)/100;else{te!=null||(te=1);do be=Math.ceil((be*l.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--te>0&&be<l.MAX_SCALE)}de(this,q,ot).call(this,Math.min(l.MAX_SCALE,be),{noScroll:!1,drawingDelay:j})}decreaseScale({drawingDelay:j,scaleFactor:W,steps:te}={}){if(!this.pdfDocument)return;let be=this._currentScale;if(W>0&&W<1)be=Math.round(be*W*100)/100;else{te!=null||(te=1);do be=Math.floor((be/l.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--te>0&&be>l.MIN_SCALE)}de(this,q,ot).call(this,Math.max(l.MIN_SCALE,be),{noScroll:!1,drawingDelay:j})}get containerTopLeft(){return P(this,y)||Ee(this,y,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return P(this,C)?P(this,u):a.AnnotationEditorType.DISABLE}set annotationEditorMode(j){if(!P(this,C))throw new Error("The AnnotationEditor is not enabled.");if(P(this,u)!==j){if(!I(j))throw new Error(`Invalid AnnotationEditor mode: ${j}`);!this.pdfDocument||(Ee(this,u,j),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:j}),P(this,C).updateMode(j))}}set annotationEditorParams({type:j,value:W}){if(!P(this,C))throw new Error("The AnnotationEditor is not enabled.");P(this,C).updateParams(j,W)}refresh(j=!1,W=Object.create(null)){if(!!this.pdfDocument){for(const te of this._pages)te.update(W);P(this,we)!==null&&(clearTimeout(P(this,we)),Ee(this,we,null)),j||this.update()}}}s=new WeakMap,u=new WeakMap,C=new WeakMap,g=new WeakMap,y=new WeakMap,U=new WeakMap,Y=new WeakMap,X=new WeakMap,K=new WeakMap,ne=new WeakMap,ee=new WeakMap,re=new WeakMap,ve=new WeakMap,Z=new WeakMap,we=new WeakMap,Ce=new WeakMap,le=new WeakSet,di=function(){const j=this;return{get annotationEditorUIManager(){return P(j,C)},get annotationStorage(){var W;return(W=j.pdfDocument)==null?void 0:W.annotationStorage},get downloadManager(){return j.downloadManager},get enableScripting(){return!!j._scriptingManager},get fieldObjectsPromise(){var W;return(W=j.pdfDocument)==null?void 0:W.getFieldObjects()},get findController(){return j.findController},get hasJSActionsPromise(){var W;return(W=j.pdfDocument)==null?void 0:W.hasJSActions()},get linkService(){return j.linkService}}},H=new WeakSet,hi=function(j){const W={annotationEditorMode:P(this,u),annotationMode:P(this,g),textLayerMode:P(this,Ce)};return j&&(!j.includes(a.PermissionFlag.COPY)&&P(this,Ce)===l.TextLayerMode.ENABLE&&(W.textLayerMode=l.TextLayerMode.ENABLE_PERMISSIONS),j.includes(a.PermissionFlag.MODIFY_CONTENTS)||(W.annotationEditorMode=a.AnnotationEditorType.DISABLE),!j.includes(a.PermissionFlag.MODIFY_ANNOTATIONS)&&!j.includes(a.PermissionFlag.FILL_INTERACTIVE_FORMS)&&P(this,g)===a.AnnotationMode.ENABLE_FORMS&&(W.annotationMode=a.AnnotationMode.ENABLE)),W},ae=new WeakSet,fi=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const j=new Promise(W=>{Ee(this,Z,()=>{document.visibilityState==="hidden"&&(W(),document.removeEventListener("visibilitychange",P(this,Z)),Ee(this,Z,null))}),document.addEventListener("visibilitychange",P(this,Z))});return Promise.race([this._onePageRenderedCapability.promise,j])},pe=new WeakSet,pi=function(j,W){const te=document.getSelection(),{focusNode:be,anchorNode:Te}=te;if(Te&&be&&te.containsNode(P(this,K))){if(P(this,X)||j===l.TextLayerMode.ENABLE_PERMISSIONS){W.preventDefault(),W.stopPropagation();return}Ee(this,X,!0);const _e=this.container.style.cursor;this.container.style.cursor="wait";const Se=Ae=>Ee(this,ne,Ae.key==="Escape");window.addEventListener("keydown",Se),this.getAllText().then(async Ae=>{Ae!==null&&await navigator.clipboard.writeText(Ae)}).catch(Ae=>{console.warn(`Something goes wrong when extracting the text: ${Ae.message}`)}).finally(()=>{Ee(this,X,!1),Ee(this,ne,!1),window.removeEventListener("keydown",Se),this.container.style.cursor=_e}),W.preventDefault(),W.stopPropagation()}},F=new WeakSet,At=function(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const j=this._currentPageNumber,W=P(this,ve),te=this.viewer;if(te.textContent="",W.pages.length=0,this._spreadMode===l.SpreadMode.NONE&&!this.isInPresentationMode){const be=this._pages[j-1];te.append(be.div),W.pages.push(be)}else{const be=new Set,Te=this._spreadMode-1;Te===-1?be.add(j-1):j%2!==Te?(be.add(j-1),be.add(j)):(be.add(j-2),be.add(j-1));const _e=document.createElement("div");if(_e.className="spread",this.isInPresentationMode){const Se=document.createElement("div");Se.className="dummyPage",_e.append(Se)}for(const Se of be){const Ae=this._pages[Se];!Ae||(_e.append(Ae.div),W.pages.push(Ae))}te.append(_e)}W.scrollDown=j>=W.previousPageNumber,W.previousPageNumber=j},o=new WeakSet,Ft=function(j,W=null){const{div:te,id:be}=j;if(this._currentPageNumber!==be&&this._setCurrentPageNumber(be),this._scrollMode===l.ScrollMode.PAGE&&(de(this,F,At).call(this),this.update()),!W&&!this.isInPresentationMode){const Te=te.offsetLeft+te.clientLeft,_e=Te+te.clientWidth,{scrollLeft:Se,clientWidth:Ae}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||Te<Se||_e>Se+Ae)&&(W={left:0,top:0})}(0,l.scrollIntoView)(te,W),!this._currentScaleValue&&this._location&&(this._location=null)},T=new WeakSet,gi=function(j){return j===this._currentScale||Math.abs(j-this._currentScale)<1e-15},$=new WeakSet,bn=function(j,W,{noScroll:te=!1,preset:be=!1,drawingDelay:Te=-1}){if(this._currentScaleValue=W.toString(),de(this,T,gi).call(this,j)){be&&this.eventBus.dispatch("scalechanging",{source:this,scale:j,presetValue:W});return}this.viewer.style.setProperty("--scale-factor",j*a.PixelsPerInch.PDF_TO_CSS_UNITS);const _e=Te>=0&&Te<1e3;if(this.refresh(!0,{scale:j,drawingDelay:_e?Te:-1}),_e&&Ee(this,we,setTimeout(()=>{Ee(this,we,null),this.refresh()},Te)),this._currentScale=j,!te){let Se=this._currentPageNumber,Ae;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Se=this._location.pageNumber,Ae=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Se,destArray:Ae,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:j,presetValue:be?W:void 0}),this.defaultRenderingQueue&&this.update()},ce=new WeakSet,mi=function(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1},q=new WeakSet,ot=function(j,W){let te=parseFloat(j);if(te>0)W.preset=!1,de(this,$,bn).call(this,te,j,W);else{const be=this._pages[this._currentPageNumber-1];if(!be)return;let Te=l.SCROLLBAR_PADDING,_e=l.VERTICAL_PADDING;this.isInPresentationMode?(Te=_e=4,this._spreadMode!==l.SpreadMode.NONE&&(Te*=2)):this.removePageBorders?Te=_e=0:this._scrollMode===l.ScrollMode.HORIZONTAL&&([Te,_e]=[_e,Te]);const Se=(this.container.clientWidth-Te)/be.width*be.scale/P(this,ce,mi),Ae=(this.container.clientHeight-_e)/be.height*be.scale;switch(j){case"page-actual":te=1;break;case"page-width":te=Se;break;case"page-height":te=Ae;break;case"page-fit":te=Math.min(Se,Ae);break;case"auto":const Le=(0,l.isPortraitOrientation)(be)?Se:Math.min(Ae,Se);te=Math.min(l.MAX_AUTO_SCALE,Le);break;default:console.error(`#setScale: "${j}" is an unknown zoom value.`);return}W.preset=!0,de(this,$,bn).call(this,te,j,W)}},fe=new WeakSet,yn=function(){const j=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&de(this,q,ot).call(this,this._currentScaleValue,{noScroll:!0}),de(this,o,Ft).call(this,j)},me=new WeakSet,_i=async function(j){var W,te;if(j.pdfPage)return j.pdfPage;try{const be=await this.pdfDocument.getPage(j.id);return j.pdfPage||j.setPdfPage(be),(te=(W=this.linkService)._cachedPageNumber)!=null&&te.call(W,be.ref)||this.linkService.cachePageRef(j.id,be.ref),be}catch(be){return console.error("Unable to get page for page view",be),null}},xe=new WeakSet,vi=function(j){var W,te;if(((W=j.first)==null?void 0:W.id)===1)return!0;if(((te=j.last)==null?void 0:te.id)===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return P(this,ve).scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Ie=new WeakSet,An=function(j=this.container.clientHeight){j!==P(this,ee)&&(Ee(this,ee,j),l.docStyle.setProperty("--viewer-container-height",`${j}px`))},Re=new WeakSet,bi=function(j){for(const W of j)if(W.target===this.container){de(this,Ie,An).call(this,Math.floor(W.borderBoxSize[0].blockSize)),Ee(this,y,null);break}},_.PDFViewer=S},(c,_,v)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFRenderingQueue=void 0;var a=v(4),l=v(2);const w=3e4;class R{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(f){this.pdfViewer=f}setThumbnailViewer(f){this.pdfThumbnailViewer=f}isHighestPriority(f){return this.highestPriorityPage===f.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(f){var b;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(f)&&(this.isThumbnailViewEnabled&&((b=this.pdfThumbnailViewer)==null?void 0:b.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),w)))}getHighestPriority(f,b,k,I=!1){const L=f.views,S=L.length;if(S===0)return null;for(let s=0;s<S;s++){const u=L[s].view;if(!this.isViewFinished(u))return u}const E=f.first.id,D=f.last.id;if(D-E+1>S){const s=f.ids;for(let u=1,C=D-E;u<C;u++){const g=k?E+u:D-u;if(s.has(g))continue;const y=b[g-1];if(!this.isViewFinished(y))return y}}let M=k?D:E-2,O=b[M];return O&&!this.isViewFinished(O)||I&&(M+=k?1:-1,O=b[M],O&&!this.isViewFinished(O))?O:null}isViewFinished(f){return f.renderingState===l.RenderingStates.FINISHED}renderView(f){switch(f.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=f.renderingId,f.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=f.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=f.renderingId,f.draw().finally(()=>{this.renderHighestPriority()}).catch(b=>{b instanceof a.RenderingCancelledException||console.error(`renderView: "${b}"`)});break}return!0}}_.PDFRenderingQueue=R}],n={};function r(c){var _=n[c];if(_!==void 0)return _.exports;var v=n[c]={exports:{}};return i[c](v,v.exports,r),v.exports}var d={};return(()=>{var c=d;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return a.AnnotationLayerBuilder}}),c.DefaultXfaLayerFactory=c.DefaultTextLayerFactory=c.DefaultStructTreeLayerFactory=c.DefaultAnnotationLayerFactory=void 0,Object.defineProperty(c,"DownloadManager",{enumerable:!0,get:function(){return l.DownloadManager}}),Object.defineProperty(c,"EventBus",{enumerable:!0,get:function(){return w.EventBus}}),Object.defineProperty(c,"GenericL10n",{enumerable:!0,get:function(){return R.GenericL10n}}),Object.defineProperty(c,"LinkTarget",{enumerable:!0,get:function(){return _.LinkTarget}}),Object.defineProperty(c,"NullL10n",{enumerable:!0,get:function(){return A.NullL10n}}),Object.defineProperty(c,"PDFFindController",{enumerable:!0,get:function(){return f.PDFFindController}}),Object.defineProperty(c,"PDFHistory",{enumerable:!0,get:function(){return b.PDFHistory}}),Object.defineProperty(c,"PDFLinkService",{enumerable:!0,get:function(){return _.PDFLinkService}}),Object.defineProperty(c,"PDFPageView",{enumerable:!0,get:function(){return k.PDFPageView}}),Object.defineProperty(c,"PDFScriptingManager",{enumerable:!0,get:function(){return I.PDFScriptingManager}}),Object.defineProperty(c,"PDFSinglePageViewer",{enumerable:!0,get:function(){return L.PDFSinglePageViewer}}),Object.defineProperty(c,"PDFViewer",{enumerable:!0,get:function(){return S.PDFViewer}}),Object.defineProperty(c,"ProgressBar",{enumerable:!0,get:function(){return v.ProgressBar}}),Object.defineProperty(c,"RenderingStates",{enumerable:!0,get:function(){return v.RenderingStates}}),Object.defineProperty(c,"ScrollMode",{enumerable:!0,get:function(){return v.ScrollMode}}),Object.defineProperty(c,"SimpleLinkService",{enumerable:!0,get:function(){return _.SimpleLinkService}}),Object.defineProperty(c,"SpreadMode",{enumerable:!0,get:function(){return v.SpreadMode}}),Object.defineProperty(c,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return E.StructTreeLayerBuilder}}),Object.defineProperty(c,"TextLayerBuilder",{enumerable:!0,get:function(){return D.TextLayerBuilder}}),Object.defineProperty(c,"XfaLayerBuilder",{enumerable:!0,get:function(){return M.XfaLayerBuilder}}),Object.defineProperty(c,"parseQueryString",{enumerable:!0,get:function(){return v.parseQueryString}});var _=r(1),v=r(2),a=r(3),l=r(6),w=r(7),R=r(8),A=r(5),f=r(10),b=r(12),k=r(13),I=r(21),L=r(23),S=r(24),E=r(16),D=r(19),M=r(20);class O{constructor(){throw new Error("The `DefaultAnnotationLayerFactory` has been removed, please use the `annotationMode` option when initializing the `PDFPageView`-instance to control AnnotationLayer rendering.")}}c.DefaultAnnotationLayerFactory=O;class s{constructor(){throw new Error("The `DefaultStructTreeLayerFactory` has been removed, this functionality is automatically enabled when the TextLayer is used.")}}c.DefaultStructTreeLayerFactory=s;class u{constructor(){throw new Error("The `DefaultTextLayerFactory` has been removed, please use the `textLayerMode` option when initializing the `PDFPageView`-instance to control TextLayer rendering.")}}c.DefaultTextLayerFactory=u;class C{constructor(){throw new Error("The `DefaultXfaLayerFactory` has been removed, please use the `enableXfa` option when calling the `getDocument`-function to control XfaLayer rendering.")}}c.DefaultXfaLayerFactory=C})(),d})())})(pdf_viewer);const _hoisted_1$d={class:"relative"},_hoisted_2$c=createBaseVNode("div",{id:"viewer",class:"pdfViewer"},null,-1),_hoisted_3$b=[_hoisted_2$c],_sfc_main$5=defineComponent({__name:"PDFDocument",props:{showSidebar:Boolean,pageScaleValue:{type:String,required:!0}},emits:["on-pdf-viewer-set"],setup(e,{emit:t}){const i=e,n=inject("pdf"),r=inject("eventBus"),d=inject("pdfLinkService"),c=inject("pdfFindController"),_=ref(null),v=ref(null);watch(()=>i.pageScaleValue,l=>{toRaw(v.value).currentScaleValue=l});const a=()=>{const l=toRaw(v.value).currentScaleValue;!l||(toRaw(v.value).refresh(),(l==="auto"||l==="page-fit"||l==="page-width")&&(toRaw(v.value).currentScaleValue=l),toRaw(v.value).update())};return onMounted(()=>{window.addEventListener("resize",a),v.value=new pdf_viewer.exports.PDFViewer({container:_.value,eventBus:r,linkService:d,findController:c}),toRaw(d).setViewer(toRaw(v.value)),r.on("pagesinit",()=>{setTimeout(()=>{toRaw(v.value).currentScaleValue="auto"},0)}),toRaw(v.value).setDocument(toRaw(n.value)),toRaw(d).setDocument(toRaw(n.value),null),t("on-pdf-viewer-set",toRaw(v.value))}),onBeforeUnmount(()=>window.removeEventListener("resize",a)),(l,w)=>{const R=__unplugin_components_0$2;return openBlock(),createElementBlock("section",{class:"overflow-hidden flex-1 bg-[#f1f5f9] grid transition-all duration-75 ease-in",style:normalizeStyle({"grid-template-columns":`${e.showSidebar?"8rem":"0rem"} 1fr`})},[(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[createVNode(R,{class:normalizeClass(["transition-all duration-75 ease-in-out",{opacity:+e.showSidebar}])},null,8,["class"])]),_:1})),createBaseVNode("div",_hoisted_1$d,[createBaseVNode("div",{id:"viewerContainer",ref_key:"containerRef",ref:_},_hoisted_3$b,512)])],4)}}}),PDFDocument_vue_vue_type_style_index_0_lang="",_hoisted_1$c={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$b=createBaseVNode("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),_hoisted_3$a=[_hoisted_2$b];function render$8(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$c,_hoisted_3$a)}const __unplugin_components_8={name:"carbon-download",render:render$8},_hoisted_1$b={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$a=createBaseVNode("path",{fill:"currentColor",d:"m29 27.586l-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9a9.01 9.01 0 0 1-9-9Z"},null,-1),_hoisted_3$9=[_hoisted_2$a];function render$7(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$b,_hoisted_3$9)}const __unplugin_components_7={name:"carbon-search",render:render$7},_hoisted_1$a={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$9=createBaseVNode("path",{fill:"currentColor",d:"M22 16h2V8h-8v2h6v6zM8 24h8v-2h-6v-6H8v8z"},null,-1),_hoisted_3$8=createBaseVNode("path",{fill:"currentColor",d:"M26 28H6a2.002 2.002 0 0 1-2-2V6a2.002 2.002 0 0 1 2-2h20a2.002 2.002 0 0 1 2 2v20a2.002 2.002 0 0 1-2 2ZM6 6v20h20.001L26 6Z"},null,-1),_hoisted_4$4=[_hoisted_2$9,_hoisted_3$8];function render$6(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$a,_hoisted_4$4)}const __unplugin_components_6={name:"carbon-fit-to-screen",render:render$6},_hoisted_1$9={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$8=createBaseVNode("path",{fill:"currentColor",d:"m22 11l-1.41 1.41L23.17 15H8.83l2.58-2.59L10 11l-5 5l5 5l1.41-1.41L8.83 17h14.34l-2.58 2.59L22 21l5-5l-5-5z"},null,-1),_hoisted_3$7=createBaseVNode("path",{fill:"currentColor",d:"M28 30H4a2.002 2.002 0 0 1-2-2V4a2.002 2.002 0 0 1 2-2h24a2.002 2.002 0 0 1 2 2v24a2.002 2.002 0 0 1-2 2ZM4 4v24h24V4Z"},null,-1),_hoisted_4$3=[_hoisted_2$8,_hoisted_3$7];function render$5(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$9,_hoisted_4$3)}const __unplugin_components_5={name:"carbon-fit-to-width",render:render$5},_hoisted_1$8={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$7=createBaseVNode("path",{fill:"currentColor",d:"M18 12h-4V8h-2v4H8v2h4v4h2v-4h4v-2z"},null,-1),_hoisted_3$6=createBaseVNode("path",{fill:"currentColor",d:"M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"},null,-1),_hoisted_4$2=[_hoisted_2$7,_hoisted_3$6];function render$4(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$8,_hoisted_4$2)}const __unplugin_components_4={name:"carbon-zoom-in",render:render$4},_hoisted_1$7={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$6=createBaseVNode("path",{fill:"currentColor",d:"M8 12h10v2H8z"},null,-1),_hoisted_3$5=createBaseVNode("path",{fill:"currentColor",d:"M21.448 20A10.856 10.856 0 0 0 24 13a11 11 0 1 0-11 11a10.856 10.856 0 0 0 7-2.552L27.586 29L29 27.586ZM13 22a9 9 0 1 1 9-9a9.01 9.01 0 0 1-9 9Z"},null,-1),_hoisted_4$1=[_hoisted_2$6,_hoisted_3$5];function render$3(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$7,_hoisted_4$1)}const __unplugin_components_3={name:"carbon-zoom-out",render:render$3},_hoisted_1$6={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$5=createBaseVNode("path",{fill:"currentColor",d:"M16 22L6 12l1.4-1.4l8.6 8.6l8.6-8.6L26 12z"},null,-1),_hoisted_3$4=[_hoisted_2$5];function render$2(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$6,_hoisted_3$4)}const __unplugin_components_2={name:"carbon-chevron-down",render:render$2},_hoisted_1$5={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_hoisted_2$4=createBaseVNode("path",{fill:"currentColor",d:"m16 10l10 10l-1.4 1.4l-8.6-8.6l-8.6 8.6L6 20z"},null,-1),_hoisted_3$3=[_hoisted_2$4];function render$1(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$5,_hoisted_3$3)}const __unplugin_components_1={name:"carbon-chevron-up",render:render$1},_hoisted_1$4={viewBox:"0 0 48 48",width:"1.2em",height:"1.2em"},_hoisted_2$3=createBaseVNode("path",{fill:"currentColor",d:"M10.25 7A6.25 6.25 0 0 0 4 13.25v21.5A6.25 6.25 0 0 0 10.25 41h27.5A6.25 6.25 0 0 0 44 34.75v-21.5A6.25 6.25 0 0 0 37.75 7h-27.5ZM6.5 13.25a3.75 3.75 0 0 1 3.75-3.75h5.5v29h-5.5a3.75 3.75 0 0 1-3.75-3.75v-21.5ZM18.25 38.5v-29h19.5a3.75 3.75 0 0 1 3.75 3.75v21.5a3.75 3.75 0 0 1-3.75 3.75h-19.5Z"},null,-1),_hoisted_3$2=[_hoisted_2$3];function render(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$4,_hoisted_3$2)}const __unplugin_components_0$1={name:"fluent-panel-left48-regular",render},_withScopeId=e=>(pushScopeId("data-v-f2fb2166"),e=e(),popScopeId(),e),_hoisted_1$3={class:"relative flex items-center justify-between shadow-md gap-1 p-1 z-40"},_hoisted_2$2={class:"flex md:w-1/3 items-center gap-x-2"},_hoisted_3$1={class:"flex items-center"},_hoisted_4=["disabled"],_hoisted_5=["disabled"],_hoisted_6={class:"flex items-center ml-2"},_hoisted_7=["value","max","onChange"],_hoisted_8={class:"text-gray-600 font-thin ml-2 text-sm whitespace-nowrap"},_hoisted_9={class:"flex items-center ml-2 gap-1"},_hoisted_10=["disabled"],_hoisted_11=["disabled"],_hoisted_12={class:"md:w-1/3 hidden lg:flex justify-center"},_hoisted_13=["title"],_hoisted_14={class:"flex md:w-1/3 items-center justify-end gap-x-2"},_hoisted_15=["onClick"],_hoisted_16=["href"],_hoisted_17={class:"bg-white p-1 px-2 z-40 shadow-xl rounded absolute top-full border right-0"},_hoisted_18={class:"flex flex-col space-y-1 py-1"},_hoisted_19={class:"space-x-2 flex items-center"},_hoisted_20={class:"flex flex-row gap-1"},_hoisted_21={class:"relative w-full"},_hoisted_22=["onKeyup"],_hoisted_23={key:0,class:"absolute inset-y-0 right-2 my-1 text-xs text-gray-500"},_hoisted_24={key:0,class:"bg-green-100 w-full h-full flex items-center rounded px-2 text-green-400"},_hoisted_25={key:1,class:"bg-red-100 w-full h-full flex items-center rounded px-2 text-red-400"},_hoisted_26=_withScopeId(()=>createBaseVNode("span",null,"Phrase not found",-1)),_hoisted_27=[_hoisted_26],_hoisted_28={key:2,class:"bg-amber-100 w-full h-full flex items-center rounded px-2 text-amber-500"},MIN_SCALE=.1,MAX_SCALE=10,_sfc_main$4=defineComponent({__name:"PDFNavbar",props:{title:{type:String,required:!0},numPages:{type:Number,required:!0,default:1},showSidebar:Boolean,pageScaleValue:{type:String,required:!0,validator:e=>["page-width","page-fit"].includes(e)},pageZoom:{type:Number,required:!0,default:1,validator:e=>e>=.1&&e<=10}},emits:["on-zoom-in","on-zoom-out","on-page-prev","on-page-next","on-page-change","on-toggle-sidebar","on-page-scale-change"],setup(e,{emit:t}){const i=e,n=inject("pdfLinkService"),r=inject("eventBus"),d={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},c=ref(1),_=ref(!1),v=ref(""),a=ref(0),l=ref(0),w=ref(0),R=ref(!0),A=ref(!1),f=ref(!1),b=ref(!1),k=computed(()=>({type:"",query:v.value,caseSensitive:A.value,entireWord:b.value,highlightAll:R.value,findPrevious:!1,matchDiacritics:f.value})),I=ref(null),L=(g,y=!1)=>{r.dispatch("find",{...k.value,type:g,findPrevious:y})},S=g=>{L("again",g.shiftKey)},E=()=>{L("again",!0)},D=()=>{L("again")},M=async()=>{_.value=!_.value,_.value?(await nextTick(),I.value.focus()):r.dispatch("find",{...k.value,query:""})},O=()=>{r.dispatch("find",k.value)},s=g=>{const y=c.value,U=+g.target.value,Y=U<1||U>i.numPages?y:U;c.value=Y,g.target.value=Y,n.goToPage(Y)};watch([R,A,f,b],()=>{O()});function u(g){const y=g.target,U=y.tagName;return y.isContentEditable||U==="INPUT"||U==="SELECT"||U==="TEXTAREA"}const C=g=>{(g.key==="Escape"&&_.value||g.key.toLowerCase()==="f"&&(g.metaKey||g.ctrlKey)||!u(g)&&g.key==="/"&&!_.value)&&(g.preventDefault(),M())};return onMounted(()=>{window.addEventListener("keydown",C),r.on("pagechanging",({pageNumber:g})=>c.value=g),r.on("updatefindmatchescount",({matchesCount:g})=>{const{current:y,total:U}=g;l.value=y,a.value=U}),r.on("updatefindcontrolstate",({matchesCount:g,state:y})=>{const{current:U,total:Y}=g;l.value=U,a.value=Y,w.value=y})}),onBeforeUnmount(()=>{window.removeEventListener("keydown",C)}),(g,y)=>{const U=__unplugin_components_0$1,Y=__unplugin_components_1,X=__unplugin_components_2,K=__unplugin_components_3,ne=__unplugin_components_4,ee=__unplugin_components_5,re=__unplugin_components_6,ve=__unplugin_components_7,Z=__unplugin_components_8;return openBlock(),createElementBlock("nav",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("button",{class:normalizeClass(["p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",{"bg-sky-100":e.showSidebar}]),onClick:y[0]||(y[0]=we=>g.$emit("on-toggle-sidebar"))},[createVNode(U,{class:"w-5 h-5"})],2),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 enabled:active:scale-90 text-gray-500 disabled:opacity-75 disabled:cursor-default",disabled:c.value===1,onClick:y[1]||(y[1]=we=>g.$emit("on-page-prev"))},[createVNode(Y,{class:"w-5 h-5"})],8,_hoisted_4),createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 enabled:active:scale-90 text-gray-500 disabled:opacity-75 disabled:cursor-default",disabled:c.value===e.numPages,onClick:y[2]||(y[2]=we=>g.$emit("on-page-next"))},[createVNode(X,{class:"w-5 h-5"})],8,_hoisted_5),createBaseVNode("div",_hoisted_6,[createBaseVNode("input",{value:c.value,type:"number",min:"1",max:e.numPages,class:"text-gray-600 appearance-none m-0 w-14 text-sm text-center border-2 rounded",onFocus:y[3]||(y[3]=we=>we.target.select()),onChange:withModifiers(s,["prevent","stop"])},null,40,_hoisted_7),createBaseVNode("span",_hoisted_8,"of "+toDisplayString(e.numPages),1)])]),createBaseVNode("div",_hoisted_9,[createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 enabled:active:scale-90 text-gray-500 disabled:opacity-75 disabled:cursor-default",disabled:e.pageZoom===MIN_SCALE,onClick:y[4]||(y[4]=we=>t("on-zoom-out"))},[createVNode(K)],8,_hoisted_10),createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 enabled:active:scale-90 text-gray-500 disabled:opacity-75 disabled:cursor-default",disabled:e.pageZoom===MAX_SCALE,onClick:y[5]||(y[5]=we=>t("on-zoom-in"))},[createVNode(ne)],8,_hoisted_11),e.pageScaleValue==="page-fit"?(openBlock(),createElementBlock("button",{key:0,class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",onClick:y[6]||(y[6]=we=>g.$emit("on-page-scale-change","page-width"))},[createVNode(ee)])):(openBlock(),createElementBlock("button",{key:1,class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",onClick:y[7]||(y[7]=we=>g.$emit("on-page-scale-change","page-fit"))},[createVNode(re)]))])]),createBaseVNode("div",_hoisted_12,[createBaseVNode("p",{class:"text-center font-medium text-gray-700 text-md truncate",title:e.title},toDisplayString(e.title),9,_hoisted_13)]),createBaseVNode("div",_hoisted_14,[createBaseVNode("button",{class:normalizeClass(["relative p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",{"bg-sky-100":_.value}]),onClick:withModifiers(M,["stop","prevent"])},[createVNode(ve)],10,_hoisted_15),createBaseVNode("a",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",href:e.title,download:""},[createVNode(Z)],8,_hoisted_16)]),withDirectives(createBaseVNode("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[createBaseVNode("div",_hoisted_19,[createBaseVNode("button",{class:normalizeClass(["text-xs bg-gray-50 p-1 px-2 rounded text-gray-600 select-none transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90",{"bg-sky-100 hover:bg-sky-100":R.value}]),onClick:y[8]||(y[8]=we=>R.value=!R.value)}," Highlight All ",2),createBaseVNode("button",{class:normalizeClass(["text-xs bg-gray-50 p-1 px-2 rounded text-gray-600 select-none transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90",{"bg-sky-100 hover:bg-sky-100":A.value}]),onClick:y[9]||(y[9]=we=>A.value=!A.value)}," Match Case ",2),createBaseVNode("button",{class:normalizeClass(["text-xs bg-gray-50 p-1 px-2 rounded text-gray-600 select-none transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90",{"bg-sky-100 hover:bg-sky-100":f.value}]),onClick:y[10]||(y[10]=we=>f.value=!f.value)}," Match Diacritics ",2),createBaseVNode("button",{class:normalizeClass(["text-xs bg-gray-50 p-1 px-2 rounded text-gray-600 select-none transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90",{"bg-sky-100 hover:bg-sky-100":b.value}]),onClick:y[11]||(y[11]=we=>b.value=!b.value)}," Whole Words ",2)]),createBaseVNode("div",_hoisted_20,[createBaseVNode("div",_hoisted_21,[withDirectives(createBaseVNode("input",{id:"search",ref_key:"searchInput",ref:I,"onUpdate:modelValue":y[12]||(y[12]=we=>v.value=we),type:"text",class:"w-full border-2 border-sky-500 focus:outline-none rounded px-1",placeholder:"Find in document...",onInput:O,onKeyup:withKeys(S,["enter"])},null,40,_hoisted_22),[[vModelText,v.value]]),v.value?(openBlock(),createElementBlock("div",_hoisted_23,[w.value===d.FOUND||w.value===d.WRAPPED?(openBlock(),createElementBlock("div",_hoisted_24,[createBaseVNode("span",null,toDisplayString(l.value)+" of "+toDisplayString(a.value),1)])):w.value===d.NOT_FOUND?(openBlock(),createElementBlock("div",_hoisted_25,_hoisted_27)):w.value===d.PENDING?(openBlock(),createElementBlock("div",_hoisted_28," Loading ")):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",onClick:E},[createVNode(Y,{class:"w-5 h-5"})]),createBaseVNode("button",{class:"p-1 rounded transition-all duration-75 ease-in hover:bg-gray-200 active:scale-90 text-gray-500",onClick:D},[createVNode(X,{class:"w-5 h-5"})])])])],512),[[vShow,_.value]])])}}}),PDFNavbar_vue_vue_type_style_index_0_scoped_f2fb2166_lang="",__unplugin_components_0=_export_sfc(_sfc_main$4,[["__scopeId","data-v-f2fb2166"]]);var pdfExports=requirePdf();const _hoisted_1$2={id:"pdf-document",class:"relative flex flex-col h-screen"},_hoisted_2$1={key:1,class:"font-thin text-2xl text-center text-gray-800 h-40 m-auto"},_sfc_main$3=defineComponent({__name:"PDFViewer",props:{url:{type:String,required:!0}},setup(e){const t=e;pdfExports.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfExports.version}/build/pdf.worker.min.js`;const i=ref("page-width"),n=ref(1),r=ref(null),d=ref(!0),c=ref(null),_=A=>{c.value=A},v=A=>{i.value=A},a=new pdf_viewer.exports.EventBus,l=new pdf_viewer.exports.PDFLinkService({eventBus:a}),w=new pdf_viewer.exports.PDFFindController({eventBus:a,linkService:l});provide("pdf",r),provide("eventBus",a),provide("pdfLinkService",l),provide("pdfFindController",w),onMounted(async()=>{const f=await pdfExports.getDocument({url:t.url,cMapUrl:`https://unpkg.com/pdfjs-dist@${pdfExports.version}/cmaps/`,cMapPacked:!0,enableXfa:!0}).promise;r.value=f,a.on("scalechanging",({scale:b})=>{n.value=b})});const R=()=>d.value=!d.value;return(A,f)=>{var I;const b=__unplugin_components_0,k=_sfc_main$5;return openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(b,{title:unref(pdfExports.getFilenameFromUrl)(e.url),"num-pages":(I=r.value)==null?void 0:I.numPages,"show-sidebar":d.value,"page-scale-value":i.value,"page-zoom":n.value,onOnToggleSidebar:R,onOnPagePrev:f[0]||(f[0]=L=>{var S;return(S=toRaw(c.value))==null?void 0:S.previousPage()}),onOnPageNext:f[1]||(f[1]=L=>{var S;return(S=toRaw(c.value))==null?void 0:S.nextPage()}),onOnZoomIn:f[2]||(f[2]=L=>{var S;return(S=toRaw(c.value))==null?void 0:S.increaseScale()}),onOnZoomOut:f[3]||(f[3]=L=>{var S;return(S=toRaw(c.value))==null?void 0:S.decreaseScale()}),onOnPageScaleChange:v},null,8,["title","num-pages","show-sidebar","page-scale-value","page-zoom"]),r.value?(openBlock(),createBlock(k,{key:0,"show-sidebar":d.value,"page-scale-value":i.value,onOnPdfViewerSet:_},null,8,["show-sidebar","page-scale-value"])):(openBlock(),createElementBlock("div",_hoisted_2$1," Loading... "))])}}}),_hoisted_1$1={key:1,class:"content"},_sfc_main$2=defineComponent({__name:"PDFComponent",props:{url:{type:String,required:!0},loading:Boolean},setup(e){const t=ref(window.innerWidth),i=ref(window.innerHeight),n=()=>{t.value=window.innerWidth,i.value=window.innerHeight};return onMounted(()=>{window.addEventListener("resize",n)}),onBeforeUnmount(()=>{window.removeEventListener("resize",n)}),(r,d)=>(openBlock(),createElementBlock(Fragment,null,[!e.loading&&e.url.length?(openBlock(),createBlock(_sfc_main$3,{key:0,url:e.url},null,8,["url"])):createCommentVNode("",!0),e.url.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1$1,"No media found"))],64))}}),_sfc_main$1=defineComponent({__name:"FloatingWindow",props:["setIsOpen","loading","isBlackTheme","url","top","right","type","typeOfContent","width","height"],setup(e){const t=e,i=ref(null),n=ref(null),r=ref(null),d=ref(null);return onMounted(()=>{if(t.typeOfContent.includes("video")&&!t.width&&!t.height){const c=document.createElement("video");c.addEventListener("loadedmetadata",()=>{r.value=c.videoWidth,d.value=c.videoHeight+100}),c.src=t.url}else if(t.typeOfContent.includes("image")&&!t.width&&!t.height){const c=new Image;c.onload=()=>{i.value=c.naturalWidth,n.value=c.naturalHeight},c.src=t.url}}),(c,_)=>{const v=__unplugin_components_0$3;return openBlock(),createElementBlock("div",null,[e.typeOfContent.includes("video")&&d.value&&r.value||e.typeOfContent.includes("video")&&e.width&&e.height?(openBlock(),createBlock(VideoComponent,{key:0,"set-is-open":e.setIsOpen,"is-black-theme":e.isBlackTheme,url:e.url,top:e.top,right:e.right,type:e.type,width:e.width,height:e.height,"video-width":r.value,"video-height":d.value},null,8,["set-is-open","is-black-theme","url","top","right","type","width","height","video-width","video-height"])):e.typeOfContent.includes("image")?(openBlock(),createBlock(_sfc_main$7,{key:1,"set-is-open":e.setIsOpen,loading:e.loading,url:e.url,top:e.top,right:e.right,width:e.width,height:e.height,"img-width":i.value,"img-height":n.value},null,8,["set-is-open","loading","url","top","right","width","height","img-width","img-height"])):e.typeOfContent.includes("pdf")?(openBlock(),createBlock(_sfc_main$2,{key:2,url:e.url,loading:e.loading},null,8,["url","loading"])):e.typeOfContent.includes("audio")&&!e.loading&&e.url.length?(openBlock(),createBlock(v,{key:3,url:e.url},null,8,["url"])):createCommentVNode("",!0)])}}}),App_vue_vue_type_style_index_0_scoped_66738084_lang="",_hoisted_1={class:"full-screen"},_hoisted_2={key:0,class:"content"},_hoisted_3={key:1},initialWidth=null,initialHeight=null,_sfc_main={__name:"App",props:{msg:{type:String,default:""}},setup(e){const t=ref(!1),i=ref(!0),n=ref("image"),r=ref("image/png"),d=ref("");return onMounted(async()=>{await dl.init(),dl.on("ready",async()=>{const _=(await dl.items.get()).metadata.system.modalities.find(v=>v.type==="preview");if(_){if(_.refType==="url")d.value=_.ref;else{const v=await dl.items.stream(_.stream);d.value=v}r.value=_.mimetype?_.mimetype:r.value,n.value=r.value}i.value=!1})}),(c,_)=>(openBlock(),createElementBlock("div",_hoisted_1,[i.value?(openBlock(),createElementBlock("div",_hoisted_2,"Content is loading...")):(openBlock(),createElementBlock("div",_hoisted_3,[createVNode(_sfc_main$1,{loading:i.value,"type-of-content":n.value,"set-is-open":v=>t.value=v,width:initialWidth,height:initialHeight,url:d.value,type:r.value},null,8,["loading","type-of-content","set-is-open","url","type"])]))]))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-66738084"]]);createApp(App).mount("#app");
